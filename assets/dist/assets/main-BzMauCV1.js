var Kfe=Object.defineProperty;var Gfe=(c,o,r)=>o in c?Kfe(c,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):c[o]=r;var vt=(c,o,r)=>Gfe(c,typeof o!="symbol"?o+"":o,r);var Ru="top",Lh="bottom",Bh="right",Lu="left",NP="auto",nE=[Ru,Lh,Bh,Lu],Fk="start",US="end",aQ="clippingParents",Ej="viewport",TS="popper",lQ="reference",SV=nE.reduce(function(c,o){return c.concat([o+"-"+Fk,o+"-"+US])},[]),Aj=[].concat(nE,[NP]).reduce(function(c,o){return c.concat([o,o+"-"+Fk,o+"-"+US])},[]),cQ="beforeRead",dQ="read",uQ="afterRead",fQ="beforeMain",hQ="main",pQ="afterMain",mQ="beforeWrite",gQ="write",bQ="afterWrite",yQ=[cQ,dQ,uQ,fQ,hQ,pQ,mQ,gQ,bQ];function Mb(c){return c?(c.nodeName||"").toLowerCase():null}function Ph(c){if(c==null)return window;if(c.toString()!=="[object Window]"){var o=c.ownerDocument;return o&&o.defaultView||window}return c}function Hk(c){var o=Ph(c).Element;return c instanceof o||c instanceof Element}function Ip(c){var o=Ph(c).HTMLElement;return c instanceof o||c instanceof HTMLElement}function Tj(c){if(typeof ShadowRoot>"u")return!1;var o=Ph(c).ShadowRoot;return c instanceof o||c instanceof ShadowRoot}function Yfe(c){var o=c.state;Object.keys(o.elements).forEach(function(r){var a=o.styles[r]||{},d=o.attributes[r]||{},h=o.elements[r];!Ip(h)||!Mb(h)||(Object.assign(h.style,a),Object.keys(d).forEach(function(g){var x=d[g];x===!1?h.removeAttribute(g):h.setAttribute(g,x===!0?"":x)}))})}function Xfe(c){var o=c.state,r={popper:{position:o.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(o.elements.popper.style,r.popper),o.styles=r,o.elements.arrow&&Object.assign(o.elements.arrow.style,r.arrow),function(){Object.keys(o.elements).forEach(function(a){var d=o.elements[a],h=o.attributes[a]||{},g=Object.keys(o.styles.hasOwnProperty(a)?o.styles[a]:r[a]),x=g.reduce(function(k,z){return k[z]="",k},{});!Ip(d)||!Mb(d)||(Object.assign(d.style,x),Object.keys(h).forEach(function(k){d.removeAttribute(k)}))})}}const Oj={name:"applyStyles",enabled:!0,phase:"write",fn:Yfe,effect:Xfe,requires:["computeStyles"]};function Ob(c){return c.split("-")[0]}var Bk=Math.max,oP=Math.min,WS=Math.round;function EV(){var c=navigator.userAgentData;return c!=null&&c.brands&&Array.isArray(c.brands)?c.brands.map(function(o){return o.brand+"/"+o.version}).join(" "):navigator.userAgent}function xQ(){return!/^((?!chrome|android).)*safari/i.test(EV())}function ZS(c,o,r){o===void 0&&(o=!1),r===void 0&&(r=!1);var a=c.getBoundingClientRect(),d=1,h=1;o&&Ip(c)&&(d=c.offsetWidth>0&&WS(a.width)/c.offsetWidth||1,h=c.offsetHeight>0&&WS(a.height)/c.offsetHeight||1);var g=Hk(c)?Ph(c):window,x=g.visualViewport,k=!xQ()&&r,z=(a.left+(k&&x?x.offsetLeft:0))/d,D=(a.top+(k&&x?x.offsetTop:0))/h,$=a.width/d,K=a.height/h;return{width:$,height:K,top:D,right:z+$,bottom:D+K,left:z,x:z,y:D}}function zj(c){var o=ZS(c),r=c.offsetWidth,a=c.offsetHeight;return Math.abs(o.width-r)<=1&&(r=o.width),Math.abs(o.height-a)<=1&&(a=o.height),{x:c.offsetLeft,y:c.offsetTop,width:r,height:a}}function vQ(c,o){var r=o.getRootNode&&o.getRootNode();if(c.contains(o))return!0;if(r&&Tj(r)){var a=o;do{if(a&&c.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Zy(c){return Ph(c).getComputedStyle(c)}function Qfe(c){return["table","td","th"].indexOf(Mb(c))>=0}function kv(c){return((Hk(c)?c.ownerDocument:c.document)||window.document).documentElement}function RP(c){return Mb(c)==="html"?c:c.assignedSlot||c.parentNode||(Tj(c)?c.host:null)||kv(c)}function nG(c){return!Ip(c)||Zy(c).position==="fixed"?null:c.offsetParent}function Jfe(c){var o=/firefox/i.test(EV()),r=/Trident/i.test(EV());if(r&&Ip(c)){var a=Zy(c);if(a.position==="fixed")return null}var d=RP(c);for(Tj(d)&&(d=d.host);Ip(d)&&["html","body"].indexOf(Mb(d))<0;){var h=Zy(d);if(h.transform!=="none"||h.perspective!=="none"||h.contain==="paint"||["transform","perspective"].indexOf(h.willChange)!==-1||o&&h.willChange==="filter"||o&&h.filter&&h.filter!=="none")return d;d=d.parentNode}return null}function GO(c){for(var o=Ph(c),r=nG(c);r&&Qfe(r)&&Zy(r).position==="static";)r=nG(r);return r&&(Mb(r)==="html"||Mb(r)==="body"&&Zy(r).position==="static")?o:r||Jfe(c)||o}function Dj(c){return["top","bottom"].indexOf(c)>=0?"x":"y"}function _O(c,o,r){return Bk(c,oP(o,r))}function ehe(c,o,r){var a=_O(c,o,r);return a>r?r:a}function wQ(){return{top:0,right:0,bottom:0,left:0}}function kQ(c){return Object.assign({},wQ(),c)}function _Q(c,o){return o.reduce(function(r,a){return r[a]=c,r},{})}var the=function(o,r){return o=typeof o=="function"?o(Object.assign({},r.rects,{placement:r.placement})):o,kQ(typeof o!="number"?o:_Q(o,nE))};function ohe(c){var o,r=c.state,a=c.name,d=c.options,h=r.elements.arrow,g=r.modifiersData.popperOffsets,x=Ob(r.placement),k=Dj(x),z=[Lu,Bh].indexOf(x)>=0,D=z?"height":"width";if(!(!h||!g)){var $=the(d.padding,r),K=zj(h),Y=k==="y"?Ru:Lu,ie=k==="y"?Lh:Bh,ve=r.rects.reference[D]+r.rects.reference[k]-g[k]-r.rects.popper[D],Ne=g[k]-r.rects.reference[k],ye=GO(h),Je=ye?k==="y"?ye.clientHeight||0:ye.clientWidth||0:0,He=ve/2-Ne/2,ge=$[Y],Ie=Je-K[D]-$[ie],he=Je/2-K[D]/2+He,Ve=_O(ge,he,Ie),bo=k;r.modifiersData[a]=(o={},o[bo]=Ve,o.centerOffset=Ve-he,o)}}function nhe(c){var o=c.state,r=c.options,a=r.element,d=a===void 0?"[data-popper-arrow]":a;d!=null&&(typeof d=="string"&&(d=o.elements.popper.querySelector(d),!d)||vQ(o.elements.popper,d)&&(o.elements.arrow=d))}const CQ={name:"arrow",enabled:!0,phase:"main",fn:ohe,effect:nhe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qS(c){return c.split("-")[1]}var she={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rhe(c,o){var r=c.x,a=c.y,d=o.devicePixelRatio||1;return{x:WS(r*d)/d||0,y:WS(a*d)/d||0}}function sG(c){var o,r=c.popper,a=c.popperRect,d=c.placement,h=c.variation,g=c.offsets,x=c.position,k=c.gpuAcceleration,z=c.adaptive,D=c.roundOffsets,$=c.isFixed,K=g.x,Y=K===void 0?0:K,ie=g.y,ve=ie===void 0?0:ie,Ne=typeof D=="function"?D({x:Y,y:ve}):{x:Y,y:ve};Y=Ne.x,ve=Ne.y;var ye=g.hasOwnProperty("x"),Je=g.hasOwnProperty("y"),He=Lu,ge=Ru,Ie=window;if(z){var he=GO(r),Ve="clientHeight",bo="clientWidth";if(he===Ph(r)&&(he=kv(r),Zy(he).position!=="static"&&x==="absolute"&&(Ve="scrollHeight",bo="scrollWidth")),he=he,d===Ru||(d===Lu||d===Bh)&&h===US){ge=Lh;var lo=$&&he===Ie&&Ie.visualViewport?Ie.visualViewport.height:he[Ve];ve-=lo-a.height,ve*=k?1:-1}if(d===Lu||(d===Ru||d===Lh)&&h===US){He=Bh;var Kt=$&&he===Ie&&Ie.visualViewport?Ie.visualViewport.width:he[bo];Y-=Kt-a.width,Y*=k?1:-1}}var Me=Object.assign({position:x},z&&she),yt=D===!0?rhe({x:Y,y:ve},Ph(r)):{x:Y,y:ve};if(Y=yt.x,ve=yt.y,k){var I;return Object.assign({},Me,(I={},I[ge]=Je?"0":"",I[He]=ye?"0":"",I.transform=(Ie.devicePixelRatio||1)<=1?"translate("+Y+"px, "+ve+"px)":"translate3d("+Y+"px, "+ve+"px, 0)",I))}return Object.assign({},Me,(o={},o[ge]=Je?ve+"px":"",o[He]=ye?Y+"px":"",o.transform="",o))}function ihe(c){var o=c.state,r=c.options,a=r.gpuAcceleration,d=a===void 0?!0:a,h=r.adaptive,g=h===void 0?!0:h,x=r.roundOffsets,k=x===void 0?!0:x,z={placement:Ob(o.placement),variation:qS(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:d,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,sG(Object.assign({},z,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:g,roundOffsets:k})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,sG(Object.assign({},z,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:k})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})}const Mj={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ihe,data:{}};var cB={passive:!0};function ahe(c){var o=c.state,r=c.instance,a=c.options,d=a.scroll,h=d===void 0?!0:d,g=a.resize,x=g===void 0?!0:g,k=Ph(o.elements.popper),z=[].concat(o.scrollParents.reference,o.scrollParents.popper);return h&&z.forEach(function(D){D.addEventListener("scroll",r.update,cB)}),x&&k.addEventListener("resize",r.update,cB),function(){h&&z.forEach(function(D){D.removeEventListener("scroll",r.update,cB)}),x&&k.removeEventListener("resize",r.update,cB)}}const Nj={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ahe,data:{}};var lhe={left:"right",right:"left",bottom:"top",top:"bottom"};function HB(c){return c.replace(/left|right|bottom|top/g,function(o){return lhe[o]})}var che={start:"end",end:"start"};function rG(c){return c.replace(/start|end/g,function(o){return che[o]})}function Rj(c){var o=Ph(c),r=o.pageXOffset,a=o.pageYOffset;return{scrollLeft:r,scrollTop:a}}function Lj(c){return ZS(kv(c)).left+Rj(c).scrollLeft}function dhe(c,o){var r=Ph(c),a=kv(c),d=r.visualViewport,h=a.clientWidth,g=a.clientHeight,x=0,k=0;if(d){h=d.width,g=d.height;var z=xQ();(z||!z&&o==="fixed")&&(x=d.offsetLeft,k=d.offsetTop)}return{width:h,height:g,x:x+Lj(c),y:k}}function uhe(c){var o,r=kv(c),a=Rj(c),d=(o=c.ownerDocument)==null?void 0:o.body,h=Bk(r.scrollWidth,r.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),g=Bk(r.scrollHeight,r.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),x=-a.scrollLeft+Lj(c),k=-a.scrollTop;return Zy(d||r).direction==="rtl"&&(x+=Bk(r.clientWidth,d?d.clientWidth:0)-h),{width:h,height:g,x,y:k}}function Bj(c){var o=Zy(c),r=o.overflow,a=o.overflowX,d=o.overflowY;return/auto|scroll|overlay|hidden/.test(r+d+a)}function SQ(c){return["html","body","#document"].indexOf(Mb(c))>=0?c.ownerDocument.body:Ip(c)&&Bj(c)?c:SQ(RP(c))}function CO(c,o){var r;o===void 0&&(o=[]);var a=SQ(c),d=a===((r=c.ownerDocument)==null?void 0:r.body),h=Ph(a),g=d?[h].concat(h.visualViewport||[],Bj(a)?a:[]):a,x=o.concat(g);return d?x:x.concat(CO(RP(g)))}function AV(c){return Object.assign({},c,{left:c.x,top:c.y,right:c.x+c.width,bottom:c.y+c.height})}function fhe(c,o){var r=ZS(c,!1,o==="fixed");return r.top=r.top+c.clientTop,r.left=r.left+c.clientLeft,r.bottom=r.top+c.clientHeight,r.right=r.left+c.clientWidth,r.width=c.clientWidth,r.height=c.clientHeight,r.x=r.left,r.y=r.top,r}function iG(c,o,r){return o===Ej?AV(dhe(c,r)):Hk(o)?fhe(o,r):AV(uhe(kv(c)))}function hhe(c){var o=CO(RP(c)),r=["absolute","fixed"].indexOf(Zy(c).position)>=0,a=r&&Ip(c)?GO(c):c;return Hk(a)?o.filter(function(d){return Hk(d)&&vQ(d,a)&&Mb(d)!=="body"}):[]}function phe(c,o,r,a){var d=o==="clippingParents"?hhe(c):[].concat(o),h=[].concat(d,[r]),g=h[0],x=h.reduce(function(k,z){var D=iG(c,z,a);return k.top=Bk(D.top,k.top),k.right=oP(D.right,k.right),k.bottom=oP(D.bottom,k.bottom),k.left=Bk(D.left,k.left),k},iG(c,g,a));return x.width=x.right-x.left,x.height=x.bottom-x.top,x.x=x.left,x.y=x.top,x}function EQ(c){var o=c.reference,r=c.element,a=c.placement,d=a?Ob(a):null,h=a?qS(a):null,g=o.x+o.width/2-r.width/2,x=o.y+o.height/2-r.height/2,k;switch(d){case Ru:k={x:g,y:o.y-r.height};break;case Lh:k={x:g,y:o.y+o.height};break;case Bh:k={x:o.x+o.width,y:x};break;case Lu:k={x:o.x-r.width,y:x};break;default:k={x:o.x,y:o.y}}var z=d?Dj(d):null;if(z!=null){var D=z==="y"?"height":"width";switch(h){case Fk:k[z]=k[z]-(o[D]/2-r[D]/2);break;case US:k[z]=k[z]+(o[D]/2-r[D]/2);break}}return k}function KS(c,o){o===void 0&&(o={});var r=o,a=r.placement,d=a===void 0?c.placement:a,h=r.strategy,g=h===void 0?c.strategy:h,x=r.boundary,k=x===void 0?aQ:x,z=r.rootBoundary,D=z===void 0?Ej:z,$=r.elementContext,K=$===void 0?TS:$,Y=r.altBoundary,ie=Y===void 0?!1:Y,ve=r.padding,Ne=ve===void 0?0:ve,ye=kQ(typeof Ne!="number"?Ne:_Q(Ne,nE)),Je=K===TS?lQ:TS,He=c.rects.popper,ge=c.elements[ie?Je:K],Ie=phe(Hk(ge)?ge:ge.contextElement||kv(c.elements.popper),k,D,g),he=ZS(c.elements.reference),Ve=EQ({reference:he,element:He,placement:d}),bo=AV(Object.assign({},He,Ve)),lo=K===TS?bo:he,Kt={top:Ie.top-lo.top+ye.top,bottom:lo.bottom-Ie.bottom+ye.bottom,left:Ie.left-lo.left+ye.left,right:lo.right-Ie.right+ye.right},Me=c.modifiersData.offset;if(K===TS&&Me){var yt=Me[d];Object.keys(Kt).forEach(function(I){var Mt=[Bh,Lh].indexOf(I)>=0?1:-1,Ft=[Ru,Lh].indexOf(I)>=0?"y":"x";Kt[I]+=yt[Ft]*Mt})}return Kt}function mhe(c,o){o===void 0&&(o={});var r=o,a=r.placement,d=r.boundary,h=r.rootBoundary,g=r.padding,x=r.flipVariations,k=r.allowedAutoPlacements,z=k===void 0?Aj:k,D=qS(a),$=D?x?SV:SV.filter(function(ie){return qS(ie)===D}):nE,K=$.filter(function(ie){return z.indexOf(ie)>=0});K.length===0&&(K=$);var Y=K.reduce(function(ie,ve){return ie[ve]=KS(c,{placement:ve,boundary:d,rootBoundary:h,padding:g})[Ob(ve)],ie},{});return Object.keys(Y).sort(function(ie,ve){return Y[ie]-Y[ve]})}function ghe(c){if(Ob(c)===NP)return[];var o=HB(c);return[rG(c),o,rG(o)]}function bhe(c){var o=c.state,r=c.options,a=c.name;if(!o.modifiersData[a]._skip){for(var d=r.mainAxis,h=d===void 0?!0:d,g=r.altAxis,x=g===void 0?!0:g,k=r.fallbackPlacements,z=r.padding,D=r.boundary,$=r.rootBoundary,K=r.altBoundary,Y=r.flipVariations,ie=Y===void 0?!0:Y,ve=r.allowedAutoPlacements,Ne=o.options.placement,ye=Ob(Ne),Je=ye===Ne,He=k||(Je||!ie?[HB(Ne)]:ghe(Ne)),ge=[Ne].concat(He).reduce(function(yo,to){return yo.concat(Ob(to)===NP?mhe(o,{placement:to,boundary:D,rootBoundary:$,padding:z,flipVariations:ie,allowedAutoPlacements:ve}):to)},[]),Ie=o.rects.reference,he=o.rects.popper,Ve=new Map,bo=!0,lo=ge[0],Kt=0;Kt<ge.length;Kt++){var Me=ge[Kt],yt=Ob(Me),I=qS(Me)===Fk,Mt=[Ru,Lh].indexOf(yt)>=0,Ft=Mt?"width":"height",zo=KS(o,{placement:Me,boundary:D,rootBoundary:$,altBoundary:K,padding:z}),En=Mt?I?Bh:Lu:I?Lh:Ru;Ie[Ft]>he[Ft]&&(En=HB(En));var ft=HB(En),To=[];if(h&&To.push(zo[yt]<=0),x&&To.push(zo[En]<=0,zo[ft]<=0),To.every(function(yo){return yo})){lo=Me,bo=!1;break}Ve.set(Me,To)}if(bo)for(var zs=ie?3:1,Tt=function(to){var _o=ge.find(function(fo){var G=Ve.get(fo);if(G)return G.slice(0,to).every(function(ir){return ir})});if(_o)return lo=_o,"break"},Le=zs;Le>0;Le--){var Ge=Tt(Le);if(Ge==="break")break}o.placement!==lo&&(o.modifiersData[a]._skip=!0,o.placement=lo,o.reset=!0)}}const AQ={name:"flip",enabled:!0,phase:"main",fn:bhe,requiresIfExists:["offset"],data:{_skip:!1}};function aG(c,o,r){return r===void 0&&(r={x:0,y:0}),{top:c.top-o.height-r.y,right:c.right-o.width+r.x,bottom:c.bottom-o.height+r.y,left:c.left-o.width-r.x}}function lG(c){return[Ru,Bh,Lh,Lu].some(function(o){return c[o]>=0})}function yhe(c){var o=c.state,r=c.name,a=o.rects.reference,d=o.rects.popper,h=o.modifiersData.preventOverflow,g=KS(o,{elementContext:"reference"}),x=KS(o,{altBoundary:!0}),k=aG(g,a),z=aG(x,d,h),D=lG(k),$=lG(z);o.modifiersData[r]={referenceClippingOffsets:k,popperEscapeOffsets:z,isReferenceHidden:D,hasPopperEscaped:$},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":D,"data-popper-escaped":$})}const TQ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:yhe};function xhe(c,o,r){var a=Ob(c),d=[Lu,Ru].indexOf(a)>=0?-1:1,h=typeof r=="function"?r(Object.assign({},o,{placement:c})):r,g=h[0],x=h[1];return g=g||0,x=(x||0)*d,[Lu,Bh].indexOf(a)>=0?{x,y:g}:{x:g,y:x}}function vhe(c){var o=c.state,r=c.options,a=c.name,d=r.offset,h=d===void 0?[0,0]:d,g=Aj.reduce(function(D,$){return D[$]=xhe($,o.rects,h),D},{}),x=g[o.placement],k=x.x,z=x.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=k,o.modifiersData.popperOffsets.y+=z),o.modifiersData[a]=g}const OQ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vhe};function whe(c){var o=c.state,r=c.name;o.modifiersData[r]=EQ({reference:o.rects.reference,element:o.rects.popper,placement:o.placement})}const Pj={name:"popperOffsets",enabled:!0,phase:"read",fn:whe,data:{}};function khe(c){return c==="x"?"y":"x"}function _he(c){var o=c.state,r=c.options,a=c.name,d=r.mainAxis,h=d===void 0?!0:d,g=r.altAxis,x=g===void 0?!1:g,k=r.boundary,z=r.rootBoundary,D=r.altBoundary,$=r.padding,K=r.tether,Y=K===void 0?!0:K,ie=r.tetherOffset,ve=ie===void 0?0:ie,Ne=KS(o,{boundary:k,rootBoundary:z,padding:$,altBoundary:D}),ye=Ob(o.placement),Je=qS(o.placement),He=!Je,ge=Dj(ye),Ie=khe(ge),he=o.modifiersData.popperOffsets,Ve=o.rects.reference,bo=o.rects.popper,lo=typeof ve=="function"?ve(Object.assign({},o.rects,{placement:o.placement})):ve,Kt=typeof lo=="number"?{mainAxis:lo,altAxis:lo}:Object.assign({mainAxis:0,altAxis:0},lo),Me=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,yt={x:0,y:0};if(he){if(h){var I,Mt=ge==="y"?Ru:Lu,Ft=ge==="y"?Lh:Bh,zo=ge==="y"?"height":"width",En=he[ge],ft=En+Ne[Mt],To=En-Ne[Ft],zs=Y?-bo[zo]/2:0,Tt=Je===Fk?Ve[zo]:bo[zo],Le=Je===Fk?-bo[zo]:-Ve[zo],Ge=o.elements.arrow,yo=Y&&Ge?zj(Ge):{width:0,height:0},to=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:wQ(),_o=to[Mt],fo=to[Ft],G=_O(0,Ve[zo],yo[zo]),ir=He?Ve[zo]/2-zs-G-_o-Kt.mainAxis:Tt-G-_o-Kt.mainAxis,Vn=He?-Ve[zo]/2+zs+G+fo+Kt.mainAxis:Le+G+fo+Kt.mainAxis,Zo=o.elements.arrow&&GO(o.elements.arrow),yr=Zo?ge==="y"?Zo.clientTop||0:Zo.clientLeft||0:0,Jr=(I=Me==null?void 0:Me[ge])!=null?I:0,Qo=En+ir-Jr-yr,Rn=En+Vn-Jr,Do=_O(Y?oP(ft,Qo):ft,En,Y?Bk(To,Rn):To);he[ge]=Do,yt[ge]=Do-En}if(x){var tt,es=ge==="x"?Ru:Lu,ze=ge==="x"?Lh:Bh,we=he[Ie],mt=Ie==="y"?"height":"width",Yt=we+Ne[es],Dt=we-Ne[ze],bn=[Ru,Lu].indexOf(ye)!==-1,Wo=(tt=Me==null?void 0:Me[Ie])!=null?tt:0,Xn=bn?Yt:we-Ve[mt]-bo[mt]-Wo+Kt.altAxis,Gi=bn?we+Ve[mt]+bo[mt]-Wo-Kt.altAxis:Dt,Rr=Y&&bn?ehe(Xn,we,Gi):_O(Y?Xn:Yt,we,Y?Gi:Dt);he[Ie]=Rr,yt[Ie]=Rr-we}o.modifiersData[a]=yt}}const zQ={name:"preventOverflow",enabled:!0,phase:"main",fn:_he,requiresIfExists:["offset"]};function Che(c){return{scrollLeft:c.scrollLeft,scrollTop:c.scrollTop}}function She(c){return c===Ph(c)||!Ip(c)?Rj(c):Che(c)}function Ehe(c){var o=c.getBoundingClientRect(),r=WS(o.width)/c.offsetWidth||1,a=WS(o.height)/c.offsetHeight||1;return r!==1||a!==1}function Ahe(c,o,r){r===void 0&&(r=!1);var a=Ip(o),d=Ip(o)&&Ehe(o),h=kv(o),g=ZS(c,d,r),x={scrollLeft:0,scrollTop:0},k={x:0,y:0};return(a||!a&&!r)&&((Mb(o)!=="body"||Bj(h))&&(x=She(o)),Ip(o)?(k=ZS(o,!0),k.x+=o.clientLeft,k.y+=o.clientTop):h&&(k.x=Lj(h))),{x:g.left+x.scrollLeft-k.x,y:g.top+x.scrollTop-k.y,width:g.width,height:g.height}}function The(c){var o=new Map,r=new Set,a=[];c.forEach(function(h){o.set(h.name,h)});function d(h){r.add(h.name);var g=[].concat(h.requires||[],h.requiresIfExists||[]);g.forEach(function(x){if(!r.has(x)){var k=o.get(x);k&&d(k)}}),a.push(h)}return c.forEach(function(h){r.has(h.name)||d(h)}),a}function Ohe(c){var o=The(c);return yQ.reduce(function(r,a){return r.concat(o.filter(function(d){return d.phase===a}))},[])}function zhe(c){var o;return function(){return o||(o=new Promise(function(r){Promise.resolve().then(function(){o=void 0,r(c())})})),o}}function Dhe(c){var o=c.reduce(function(r,a){var d=r[a.name];return r[a.name]=d?Object.assign({},d,a,{options:Object.assign({},d.options,a.options),data:Object.assign({},d.data,a.data)}):a,r},{});return Object.keys(o).map(function(r){return o[r]})}var cG={placement:"bottom",modifiers:[],strategy:"absolute"};function dG(){for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];return!o.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function LP(c){c===void 0&&(c={});var o=c,r=o.defaultModifiers,a=r===void 0?[]:r,d=o.defaultOptions,h=d===void 0?cG:d;return function(x,k,z){z===void 0&&(z=h);var D={placement:"bottom",orderedModifiers:[],options:Object.assign({},cG,h),modifiersData:{},elements:{reference:x,popper:k},attributes:{},styles:{}},$=[],K=!1,Y={state:D,setOptions:function(ye){var Je=typeof ye=="function"?ye(D.options):ye;ve(),D.options=Object.assign({},h,D.options,Je),D.scrollParents={reference:Hk(x)?CO(x):x.contextElement?CO(x.contextElement):[],popper:CO(k)};var He=Ohe(Dhe([].concat(a,D.options.modifiers)));return D.orderedModifiers=He.filter(function(ge){return ge.enabled}),ie(),Y.update()},forceUpdate:function(){if(!K){var ye=D.elements,Je=ye.reference,He=ye.popper;if(dG(Je,He)){D.rects={reference:Ahe(Je,GO(He),D.options.strategy==="fixed"),popper:zj(He)},D.reset=!1,D.placement=D.options.placement,D.orderedModifiers.forEach(function(Kt){return D.modifiersData[Kt.name]=Object.assign({},Kt.data)});for(var ge=0;ge<D.orderedModifiers.length;ge++){if(D.reset===!0){D.reset=!1,ge=-1;continue}var Ie=D.orderedModifiers[ge],he=Ie.fn,Ve=Ie.options,bo=Ve===void 0?{}:Ve,lo=Ie.name;typeof he=="function"&&(D=he({state:D,options:bo,name:lo,instance:Y})||D)}}}},update:zhe(function(){return new Promise(function(Ne){Y.forceUpdate(),Ne(D)})}),destroy:function(){ve(),K=!0}};if(!dG(x,k))return Y;Y.setOptions(z).then(function(Ne){!K&&z.onFirstUpdate&&z.onFirstUpdate(Ne)});function ie(){D.orderedModifiers.forEach(function(Ne){var ye=Ne.name,Je=Ne.options,He=Je===void 0?{}:Je,ge=Ne.effect;if(typeof ge=="function"){var Ie=ge({state:D,name:ye,instance:Y,options:He}),he=function(){};$.push(Ie||he)}})}function ve(){$.forEach(function(Ne){return Ne()}),$=[]}return Y}}var Mhe=LP(),Nhe=[Nj,Pj,Mj,Oj],Rhe=LP({defaultModifiers:Nhe}),Lhe=[Nj,Pj,Mj,Oj,OQ,AQ,zQ,CQ,TQ],Ij=LP({defaultModifiers:Lhe});const DQ=Object.freeze(Object.defineProperty({__proto__:null,afterMain:pQ,afterRead:uQ,afterWrite:bQ,applyStyles:Oj,arrow:CQ,auto:NP,basePlacements:nE,beforeMain:fQ,beforeRead:cQ,beforeWrite:mQ,bottom:Lh,clippingParents:aQ,computeStyles:Mj,createPopper:Ij,createPopperBase:Mhe,createPopperLite:Rhe,detectOverflow:KS,end:US,eventListeners:Nj,flip:AQ,hide:TQ,left:Lu,main:hQ,modifierPhases:yQ,offset:OQ,placements:Aj,popper:TS,popperGenerator:LP,popperOffsets:Pj,preventOverflow:zQ,read:dQ,reference:lQ,right:Bh,start:Fk,top:Ru,variationPlacements:SV,viewport:Ej,write:gQ},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const nv=new Map,P9={set(c,o,r){nv.has(c)||nv.set(c,new Map);const a=nv.get(c);if(!a.has(o)&&a.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(a.keys())[0]}.`);return}a.set(o,r)},get(c,o){return nv.has(c)&&nv.get(c).get(o)||null},remove(c,o){if(!nv.has(c))return;const r=nv.get(c);r.delete(o),r.size===0&&nv.delete(c)}},Bhe=1e6,Phe=1e3,TV="transitionend",MQ=c=>(c&&window.CSS&&window.CSS.escape&&(c=c.replace(/#([^\s"#']+)/g,(o,r)=>`#${CSS.escape(r)}`)),c),Ihe=c=>c==null?`${c}`:Object.prototype.toString.call(c).match(/\s([a-z]+)/i)[1].toLowerCase(),Fhe=c=>{do c+=Math.floor(Math.random()*Bhe);while(document.getElementById(c));return c},Hhe=c=>{if(!c)return 0;let{transitionDuration:o,transitionDelay:r}=window.getComputedStyle(c);const a=Number.parseFloat(o),d=Number.parseFloat(r);return!a&&!d?0:(o=o.split(",")[0],r=r.split(",")[0],(Number.parseFloat(o)+Number.parseFloat(r))*Phe)},NQ=c=>{c.dispatchEvent(new Event(TV))},jy=c=>!c||typeof c!="object"?!1:(typeof c.jquery<"u"&&(c=c[0]),typeof c.nodeType<"u"),hv=c=>jy(c)?c.jquery?c[0]:c:typeof c=="string"&&c.length>0?document.querySelector(MQ(c)):null,sE=c=>{if(!jy(c)||c.getClientRects().length===0)return!1;const o=getComputedStyle(c).getPropertyValue("visibility")==="visible",r=c.closest("details:not([open])");if(!r)return o;if(r!==c){const a=c.closest("summary");if(a&&a.parentNode!==r||a===null)return!1}return o},pv=c=>!c||c.nodeType!==Node.ELEMENT_NODE||c.classList.contains("disabled")?!0:typeof c.disabled<"u"?c.disabled:c.hasAttribute("disabled")&&c.getAttribute("disabled")!=="false",RQ=c=>{if(!document.documentElement.attachShadow)return null;if(typeof c.getRootNode=="function"){const o=c.getRootNode();return o instanceof ShadowRoot?o:null}return c instanceof ShadowRoot?c:c.parentNode?RQ(c.parentNode):null},nP=()=>{},YO=c=>{c.offsetHeight},LQ=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,I9=[],$he=c=>{document.readyState==="loading"?(I9.length||document.addEventListener("DOMContentLoaded",()=>{for(const o of I9)o()}),I9.push(c)):c()},$p=()=>document.documentElement.dir==="rtl",Up=c=>{$he(()=>{const o=LQ();if(o){const r=c.NAME,a=o.fn[r];o.fn[r]=c.jQueryInterface,o.fn[r].Constructor=c,o.fn[r].noConflict=()=>(o.fn[r]=a,c.jQueryInterface)}})},Ff=(c,o=[],r=c)=>typeof c=="function"?c(...o):r,BQ=(c,o,r=!0)=>{if(!r){Ff(c);return}const d=Hhe(o)+5;let h=!1;const g=({target:x})=>{x===o&&(h=!0,o.removeEventListener(TV,g),Ff(c))};o.addEventListener(TV,g),setTimeout(()=>{h||NQ(o)},d)},Fj=(c,o,r,a)=>{const d=c.length;let h=c.indexOf(o);return h===-1?!r&&a?c[d-1]:c[0]:(h+=r?1:-1,a&&(h=(h+d)%d),c[Math.max(0,Math.min(h,d-1))])},Vhe=/[^.]*(?=\..*)\.|.*/,jhe=/\..*/,Uhe=/::\d+$/,F9={};let uG=1;const PQ={mouseenter:"mouseover",mouseleave:"mouseout"},Whe=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function IQ(c,o){return o&&`${o}::${uG++}`||c.uidEvent||uG++}function FQ(c){const o=IQ(c);return c.uidEvent=o,F9[o]=F9[o]||{},F9[o]}function Zhe(c,o){return function r(a){return Hj(a,{delegateTarget:c}),r.oneOff&&no.off(c,a.type,o),o.apply(c,[a])}}function qhe(c,o,r){return function a(d){const h=c.querySelectorAll(o);for(let{target:g}=d;g&&g!==this;g=g.parentNode)for(const x of h)if(x===g)return Hj(d,{delegateTarget:g}),a.oneOff&&no.off(c,d.type,o,r),r.apply(g,[d])}}function HQ(c,o,r=null){return Object.values(c).find(a=>a.callable===o&&a.delegationSelector===r)}function $Q(c,o,r){const a=typeof o=="string",d=a?r:o||r;let h=VQ(c);return Whe.has(h)||(h=c),[a,d,h]}function fG(c,o,r,a,d){if(typeof o!="string"||!c)return;let[h,g,x]=$Q(o,r,a);o in PQ&&(g=(ie=>function(ve){if(!ve.relatedTarget||ve.relatedTarget!==ve.delegateTarget&&!ve.delegateTarget.contains(ve.relatedTarget))return ie.call(this,ve)})(g));const k=FQ(c),z=k[x]||(k[x]={}),D=HQ(z,g,h?r:null);if(D){D.oneOff=D.oneOff&&d;return}const $=IQ(g,o.replace(Vhe,"")),K=h?qhe(c,r,g):Zhe(c,g);K.delegationSelector=h?r:null,K.callable=g,K.oneOff=d,K.uidEvent=$,z[$]=K,c.addEventListener(x,K,h)}function OV(c,o,r,a,d){const h=HQ(o[r],a,d);h&&(c.removeEventListener(r,h,!!d),delete o[r][h.uidEvent])}function Khe(c,o,r,a){const d=o[r]||{};for(const[h,g]of Object.entries(d))h.includes(a)&&OV(c,o,r,g.callable,g.delegationSelector)}function VQ(c){return c=c.replace(jhe,""),PQ[c]||c}const no={on(c,o,r,a){fG(c,o,r,a,!1)},one(c,o,r,a){fG(c,o,r,a,!0)},off(c,o,r,a){if(typeof o!="string"||!c)return;const[d,h,g]=$Q(o,r,a),x=g!==o,k=FQ(c),z=k[g]||{},D=o.startsWith(".");if(typeof h<"u"){if(!Object.keys(z).length)return;OV(c,k,g,h,d?r:null);return}if(D)for(const $ of Object.keys(k))Khe(c,k,$,o.slice(1));for(const[$,K]of Object.entries(z)){const Y=$.replace(Uhe,"");(!x||o.includes(Y))&&OV(c,k,g,K.callable,K.delegationSelector)}},trigger(c,o,r){if(typeof o!="string"||!c)return null;const a=LQ(),d=VQ(o),h=o!==d;let g=null,x=!0,k=!0,z=!1;h&&a&&(g=a.Event(o,r),a(c).trigger(g),x=!g.isPropagationStopped(),k=!g.isImmediatePropagationStopped(),z=g.isDefaultPrevented());const D=Hj(new Event(o,{bubbles:x,cancelable:!0}),r);return z&&D.preventDefault(),k&&c.dispatchEvent(D),D.defaultPrevented&&g&&g.preventDefault(),D}};function Hj(c,o={}){for(const[r,a]of Object.entries(o))try{c[r]=a}catch{Object.defineProperty(c,r,{configurable:!0,get(){return a}})}return c}function hG(c){if(c==="true")return!0;if(c==="false")return!1;if(c===Number(c).toString())return Number(c);if(c===""||c==="null")return null;if(typeof c!="string")return c;try{return JSON.parse(decodeURIComponent(c))}catch{return c}}function H9(c){return c.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}const Uy={setDataAttribute(c,o,r){c.setAttribute(`data-bs-${H9(o)}`,r)},removeDataAttribute(c,o){c.removeAttribute(`data-bs-${H9(o)}`)},getDataAttributes(c){if(!c)return{};const o={},r=Object.keys(c.dataset).filter(a=>a.startsWith("bs")&&!a.startsWith("bsConfig"));for(const a of r){let d=a.replace(/^bs/,"");d=d.charAt(0).toLowerCase()+d.slice(1,d.length),o[d]=hG(c.dataset[a])}return o},getDataAttribute(c,o){return hG(c.getAttribute(`data-bs-${H9(o)}`))}};class XO{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(o){return o=this._mergeConfigObj(o),o=this._configAfterMerge(o),this._typeCheckConfig(o),o}_configAfterMerge(o){return o}_mergeConfigObj(o,r){const a=jy(r)?Uy.getDataAttribute(r,"config"):{};return{...this.constructor.Default,...typeof a=="object"?a:{},...jy(r)?Uy.getDataAttributes(r):{},...typeof o=="object"?o:{}}}_typeCheckConfig(o,r=this.constructor.DefaultType){for(const[a,d]of Object.entries(r)){const h=o[a],g=jy(h)?"element":Ihe(h);if(!new RegExp(d).test(g))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${a}" provided type "${g}" but expected type "${d}".`)}}}const Ghe="5.3.3";class lg extends XO{constructor(o,r){super(),o=hv(o),o&&(this._element=o,this._config=this._getConfig(r),P9.set(this._element,this.constructor.DATA_KEY,this))}dispose(){P9.remove(this._element,this.constructor.DATA_KEY),no.off(this._element,this.constructor.EVENT_KEY);for(const o of Object.getOwnPropertyNames(this))this[o]=null}_queueCallback(o,r,a=!0){BQ(o,r,a)}_getConfig(o){return o=this._mergeConfigObj(o,this._element),o=this._configAfterMerge(o),this._typeCheckConfig(o),o}static getInstance(o){return P9.get(hv(o),this.DATA_KEY)}static getOrCreateInstance(o,r={}){return this.getInstance(o)||new this(o,typeof r=="object"?r:null)}static get VERSION(){return Ghe}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(o){return`${o}${this.EVENT_KEY}`}}const $9=c=>{let o=c.getAttribute("data-bs-target");if(!o||o==="#"){let r=c.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),o=r&&r!=="#"?r.trim():null}return o?o.split(",").map(r=>MQ(r)).join(","):null},zn={find(c,o=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(o,c))},findOne(c,o=document.documentElement){return Element.prototype.querySelector.call(o,c)},children(c,o){return[].concat(...c.children).filter(r=>r.matches(o))},parents(c,o){const r=[];let a=c.parentNode.closest(o);for(;a;)r.push(a),a=a.parentNode.closest(o);return r},prev(c,o){let r=c.previousElementSibling;for(;r;){if(r.matches(o))return[r];r=r.previousElementSibling}return[]},next(c,o){let r=c.nextElementSibling;for(;r;){if(r.matches(o))return[r];r=r.nextElementSibling}return[]},focusableChildren(c){const o=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(r=>`${r}:not([tabindex^="-"])`).join(",");return this.find(o,c).filter(r=>!pv(r)&&sE(r))},getSelectorFromElement(c){const o=$9(c);return o&&zn.findOne(o)?o:null},getElementFromSelector(c){const o=$9(c);return o?zn.findOne(o):null},getMultipleElementsFromSelector(c){const o=$9(c);return o?zn.find(o):[]}},BP=(c,o="hide")=>{const r=`click.dismiss${c.EVENT_KEY}`,a=c.NAME;no.on(document,r,`[data-bs-dismiss="${a}"]`,function(d){if(["A","AREA"].includes(this.tagName)&&d.preventDefault(),pv(this))return;const h=zn.getElementFromSelector(this)||this.closest(`.${a}`);c.getOrCreateInstance(h)[o]()})},Yhe="alert",Xhe="bs.alert",jQ=`.${Xhe}`,Qhe=`close${jQ}`,Jhe=`closed${jQ}`,epe="fade",tpe="show";class PP extends lg{static get NAME(){return Yhe}close(){if(no.trigger(this._element,Qhe).defaultPrevented)return;this._element.classList.remove(tpe);const r=this._element.classList.contains(epe);this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),no.trigger(this._element,Jhe),this.dispose()}static jQueryInterface(o){return this.each(function(){const r=PP.getOrCreateInstance(this);if(typeof o=="string"){if(r[o]===void 0||o.startsWith("_")||o==="constructor")throw new TypeError(`No method named "${o}"`);r[o](this)}})}}BP(PP,"close");Up(PP);const ope="button",npe="bs.button",spe=`.${npe}`,rpe=".data-api",ipe="active",pG='[data-bs-toggle="button"]',ape=`click${spe}${rpe}`;class IP extends lg{static get NAME(){return ope}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ipe))}static jQueryInterface(o){return this.each(function(){const r=IP.getOrCreateInstance(this);o==="toggle"&&r[o]()})}}no.on(document,ape,pG,c=>{c.preventDefault();const o=c.target.closest(pG);IP.getOrCreateInstance(o).toggle()});Up(IP);const lpe="swipe",rE=".bs.swipe",cpe=`touchstart${rE}`,dpe=`touchmove${rE}`,upe=`touchend${rE}`,fpe=`pointerdown${rE}`,hpe=`pointerup${rE}`,ppe="touch",mpe="pen",gpe="pointer-event",bpe=40,ype={endCallback:null,leftCallback:null,rightCallback:null},xpe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class sP extends XO{constructor(o,r){super(),this._element=o,!(!o||!sP.isSupported())&&(this._config=this._getConfig(r),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ype}static get DefaultType(){return xpe}static get NAME(){return lpe}dispose(){no.off(this._element,rE)}_start(o){if(!this._supportPointerEvents){this._deltaX=o.touches[0].clientX;return}this._eventIsPointerPenTouch(o)&&(this._deltaX=o.clientX)}_end(o){this._eventIsPointerPenTouch(o)&&(this._deltaX=o.clientX-this._deltaX),this._handleSwipe(),Ff(this._config.endCallback)}_move(o){this._deltaX=o.touches&&o.touches.length>1?0:o.touches[0].clientX-this._deltaX}_handleSwipe(){const o=Math.abs(this._deltaX);if(o<=bpe)return;const r=o/this._deltaX;this._deltaX=0,r&&Ff(r>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(no.on(this._element,fpe,o=>this._start(o)),no.on(this._element,hpe,o=>this._end(o)),this._element.classList.add(gpe)):(no.on(this._element,cpe,o=>this._start(o)),no.on(this._element,dpe,o=>this._move(o)),no.on(this._element,upe,o=>this._end(o)))}_eventIsPointerPenTouch(o){return this._supportPointerEvents&&(o.pointerType===mpe||o.pointerType===ppe)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const vpe="carousel",wpe="bs.carousel",_v=`.${wpe}`,UQ=".data-api",kpe="ArrowLeft",_pe="ArrowRight",Cpe=500,uO="next",SS="prev",OS="left",$B="right",Spe=`slide${_v}`,V9=`slid${_v}`,Epe=`keydown${_v}`,Ape=`mouseenter${_v}`,Tpe=`mouseleave${_v}`,Ope=`dragstart${_v}`,zpe=`load${_v}${UQ}`,Dpe=`click${_v}${UQ}`,WQ="carousel",dB="active",Mpe="slide",Npe="carousel-item-end",Rpe="carousel-item-start",Lpe="carousel-item-next",Bpe="carousel-item-prev",ZQ=".active",qQ=".carousel-item",Ppe=ZQ+qQ,Ipe=".carousel-item img",Fpe=".carousel-indicators",Hpe="[data-bs-slide], [data-bs-slide-to]",$pe='[data-bs-ride="carousel"]',Vpe={[kpe]:$B,[_pe]:OS},jpe={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Upe={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class QO extends lg{constructor(o,r){super(o,r),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=zn.findOne(Fpe,this._element),this._addEventListeners(),this._config.ride===WQ&&this.cycle()}static get Default(){return jpe}static get DefaultType(){return Upe}static get NAME(){return vpe}next(){this._slide(uO)}nextWhenVisible(){!document.hidden&&sE(this._element)&&this.next()}prev(){this._slide(SS)}pause(){this._isSliding&&NQ(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){no.one(this._element,V9,()=>this.cycle());return}this.cycle()}}to(o){const r=this._getItems();if(o>r.length-1||o<0)return;if(this._isSliding){no.one(this._element,V9,()=>this.to(o));return}const a=this._getItemIndex(this._getActive());if(a===o)return;const d=o>a?uO:SS;this._slide(d,r[o])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(o){return o.defaultInterval=o.interval,o}_addEventListeners(){this._config.keyboard&&no.on(this._element,Epe,o=>this._keydown(o)),this._config.pause==="hover"&&(no.on(this._element,Ape,()=>this.pause()),no.on(this._element,Tpe,()=>this._maybeEnableCycle())),this._config.touch&&sP.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const a of zn.find(Ipe,this._element))no.on(a,Ope,d=>d.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(OS)),rightCallback:()=>this._slide(this._directionToOrder($B)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Cpe+this._config.interval))}};this._swipeHelper=new sP(this._element,r)}_keydown(o){if(/input|textarea/i.test(o.target.tagName))return;const r=Vpe[o.key];r&&(o.preventDefault(),this._slide(this._directionToOrder(r)))}_getItemIndex(o){return this._getItems().indexOf(o)}_setActiveIndicatorElement(o){if(!this._indicatorsElement)return;const r=zn.findOne(ZQ,this._indicatorsElement);r.classList.remove(dB),r.removeAttribute("aria-current");const a=zn.findOne(`[data-bs-slide-to="${o}"]`,this._indicatorsElement);a&&(a.classList.add(dB),a.setAttribute("aria-current","true"))}_updateInterval(){const o=this._activeElement||this._getActive();if(!o)return;const r=Number.parseInt(o.getAttribute("data-bs-interval"),10);this._config.interval=r||this._config.defaultInterval}_slide(o,r=null){if(this._isSliding)return;const a=this._getActive(),d=o===uO,h=r||Fj(this._getItems(),a,d,this._config.wrap);if(h===a)return;const g=this._getItemIndex(h),x=Y=>no.trigger(this._element,Y,{relatedTarget:h,direction:this._orderToDirection(o),from:this._getItemIndex(a),to:g});if(x(Spe).defaultPrevented||!a||!h)return;const z=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(g),this._activeElement=h;const D=d?Rpe:Npe,$=d?Lpe:Bpe;h.classList.add($),YO(h),a.classList.add(D),h.classList.add(D);const K=()=>{h.classList.remove(D,$),h.classList.add(dB),a.classList.remove(dB,$,D),this._isSliding=!1,x(V9)};this._queueCallback(K,a,this._isAnimated()),z&&this.cycle()}_isAnimated(){return this._element.classList.contains(Mpe)}_getActive(){return zn.findOne(Ppe,this._element)}_getItems(){return zn.find(qQ,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(o){return $p()?o===OS?SS:uO:o===OS?uO:SS}_orderToDirection(o){return $p()?o===SS?OS:$B:o===SS?$B:OS}static jQueryInterface(o){return this.each(function(){const r=QO.getOrCreateInstance(this,o);if(typeof o=="number"){r.to(o);return}if(typeof o=="string"){if(r[o]===void 0||o.startsWith("_")||o==="constructor")throw new TypeError(`No method named "${o}"`);r[o]()}})}}no.on(document,Dpe,Hpe,function(c){const o=zn.getElementFromSelector(this);if(!o||!o.classList.contains(WQ))return;c.preventDefault();const r=QO.getOrCreateInstance(o),a=this.getAttribute("data-bs-slide-to");if(a){r.to(a),r._maybeEnableCycle();return}if(Uy.getDataAttribute(this,"slide")==="next"){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()});no.on(window,zpe,()=>{const c=zn.find($pe);for(const o of c)QO.getOrCreateInstance(o)});Up(QO);const Wpe="collapse",Zpe="bs.collapse",JO=`.${Zpe}`,qpe=".data-api",Kpe=`show${JO}`,Gpe=`shown${JO}`,Ype=`hide${JO}`,Xpe=`hidden${JO}`,Qpe=`click${JO}${qpe}`,j9="show",NS="collapse",uB="collapsing",Jpe="collapsed",eme=`:scope .${NS} .${NS}`,tme="collapse-horizontal",ome="width",nme="height",sme=".collapse.show, .collapse.collapsing",zV='[data-bs-toggle="collapse"]',rme={parent:null,toggle:!0},ime={parent:"(null|element)",toggle:"boolean"};class MO extends lg{constructor(o,r){super(o,r),this._isTransitioning=!1,this._triggerArray=[];const a=zn.find(zV);for(const d of a){const h=zn.getSelectorFromElement(d),g=zn.find(h).filter(x=>x===this._element);h!==null&&g.length&&this._triggerArray.push(d)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return rme}static get DefaultType(){return ime}static get NAME(){return Wpe}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let o=[];if(this._config.parent&&(o=this._getFirstLevelChildren(sme).filter(x=>x!==this._element).map(x=>MO.getOrCreateInstance(x,{toggle:!1}))),o.length&&o[0]._isTransitioning||no.trigger(this._element,Kpe).defaultPrevented)return;for(const x of o)x.hide();const a=this._getDimension();this._element.classList.remove(NS),this._element.classList.add(uB),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const d=()=>{this._isTransitioning=!1,this._element.classList.remove(uB),this._element.classList.add(NS,j9),this._element.style[a]="",no.trigger(this._element,Gpe)},g=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(d,this._element,!0),this._element.style[a]=`${this._element[g]}px`}hide(){if(this._isTransitioning||!this._isShown()||no.trigger(this._element,Ype).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,YO(this._element),this._element.classList.add(uB),this._element.classList.remove(NS,j9);for(const d of this._triggerArray){const h=zn.getElementFromSelector(d);h&&!this._isShown(h)&&this._addAriaAndCollapsedClass([d],!1)}this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(uB),this._element.classList.add(NS),no.trigger(this._element,Xpe)};this._element.style[r]="",this._queueCallback(a,this._element,!0)}_isShown(o=this._element){return o.classList.contains(j9)}_configAfterMerge(o){return o.toggle=!!o.toggle,o.parent=hv(o.parent),o}_getDimension(){return this._element.classList.contains(tme)?ome:nme}_initializeChildren(){if(!this._config.parent)return;const o=this._getFirstLevelChildren(zV);for(const r of o){const a=zn.getElementFromSelector(r);a&&this._addAriaAndCollapsedClass([r],this._isShown(a))}}_getFirstLevelChildren(o){const r=zn.find(eme,this._config.parent);return zn.find(o,this._config.parent).filter(a=>!r.includes(a))}_addAriaAndCollapsedClass(o,r){if(o.length)for(const a of o)a.classList.toggle(Jpe,!r),a.setAttribute("aria-expanded",r)}static jQueryInterface(o){const r={};return typeof o=="string"&&/show|hide/.test(o)&&(r.toggle=!1),this.each(function(){const a=MO.getOrCreateInstance(this,r);if(typeof o=="string"){if(typeof a[o]>"u")throw new TypeError(`No method named "${o}"`);a[o]()}})}}no.on(document,Qpe,zV,function(c){(c.target.tagName==="A"||c.delegateTarget&&c.delegateTarget.tagName==="A")&&c.preventDefault();for(const o of zn.getMultipleElementsFromSelector(this))MO.getOrCreateInstance(o,{toggle:!1}).toggle()});Up(MO);const mG="dropdown",ame="bs.dropdown",Zk=`.${ame}`,$j=".data-api",lme="Escape",gG="Tab",cme="ArrowUp",bG="ArrowDown",dme=2,ume=`hide${Zk}`,fme=`hidden${Zk}`,hme=`show${Zk}`,pme=`shown${Zk}`,KQ=`click${Zk}${$j}`,GQ=`keydown${Zk}${$j}`,mme=`keyup${Zk}${$j}`,zS="show",gme="dropup",bme="dropend",yme="dropstart",xme="dropup-center",vme="dropdown-center",Mk='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',wme=`${Mk}.${zS}`,VB=".dropdown-menu",kme=".navbar",_me=".navbar-nav",Cme=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Sme=$p()?"top-end":"top-start",Eme=$p()?"top-start":"top-end",Ame=$p()?"bottom-end":"bottom-start",Tme=$p()?"bottom-start":"bottom-end",Ome=$p()?"left-start":"right-start",zme=$p()?"right-start":"left-start",Dme="top",Mme="bottom",Nme={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Rme={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class zb extends lg{constructor(o,r){super(o,r),this._popper=null,this._parent=this._element.parentNode,this._menu=zn.next(this._element,VB)[0]||zn.prev(this._element,VB)[0]||zn.findOne(VB,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Nme}static get DefaultType(){return Rme}static get NAME(){return mG}toggle(){return this._isShown()?this.hide():this.show()}show(){if(pv(this._element)||this._isShown())return;const o={relatedTarget:this._element};if(!no.trigger(this._element,hme,o).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(_me))for(const a of[].concat(...document.body.children))no.on(a,"mouseover",nP);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(zS),this._element.classList.add(zS),no.trigger(this._element,pme,o)}}hide(){if(pv(this._element)||!this._isShown())return;const o={relatedTarget:this._element};this._completeHide(o)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(o){if(!no.trigger(this._element,ume,o).defaultPrevented){if("ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))no.off(a,"mouseover",nP);this._popper&&this._popper.destroy(),this._menu.classList.remove(zS),this._element.classList.remove(zS),this._element.setAttribute("aria-expanded","false"),Uy.removeDataAttribute(this._menu,"popper"),no.trigger(this._element,fme,o)}}_getConfig(o){if(o=super._getConfig(o),typeof o.reference=="object"&&!jy(o.reference)&&typeof o.reference.getBoundingClientRect!="function")throw new TypeError(`${mG.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return o}_createPopper(){if(typeof DQ>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let o=this._element;this._config.reference==="parent"?o=this._parent:jy(this._config.reference)?o=hv(this._config.reference):typeof this._config.reference=="object"&&(o=this._config.reference);const r=this._getPopperConfig();this._popper=Ij(o,this._menu,r)}_isShown(){return this._menu.classList.contains(zS)}_getPlacement(){const o=this._parent;if(o.classList.contains(bme))return Ome;if(o.classList.contains(yme))return zme;if(o.classList.contains(xme))return Dme;if(o.classList.contains(vme))return Mme;const r=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return o.classList.contains(gme)?r?Eme:Sme:r?Tme:Ame}_detectNavbar(){return this._element.closest(kme)!==null}_getOffset(){const{offset:o}=this._config;return typeof o=="string"?o.split(",").map(r=>Number.parseInt(r,10)):typeof o=="function"?r=>o(r,this._element):o}_getPopperConfig(){const o={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Uy.setDataAttribute(this._menu,"popper","static"),o.modifiers=[{name:"applyStyles",enabled:!1}]),{...o,...Ff(this._config.popperConfig,[o])}}_selectMenuItem({key:o,target:r}){const a=zn.find(Cme,this._menu).filter(d=>sE(d));a.length&&Fj(a,r,o===bG,!a.includes(r)).focus()}static jQueryInterface(o){return this.each(function(){const r=zb.getOrCreateInstance(this,o);if(typeof o=="string"){if(typeof r[o]>"u")throw new TypeError(`No method named "${o}"`);r[o]()}})}static clearMenus(o){if(o.button===dme||o.type==="keyup"&&o.key!==gG)return;const r=zn.find(wme);for(const a of r){const d=zb.getInstance(a);if(!d||d._config.autoClose===!1)continue;const h=o.composedPath(),g=h.includes(d._menu);if(h.includes(d._element)||d._config.autoClose==="inside"&&!g||d._config.autoClose==="outside"&&g||d._menu.contains(o.target)&&(o.type==="keyup"&&o.key===gG||/input|select|option|textarea|form/i.test(o.target.tagName)))continue;const x={relatedTarget:d._element};o.type==="click"&&(x.clickEvent=o),d._completeHide(x)}}static dataApiKeydownHandler(o){const r=/input|textarea/i.test(o.target.tagName),a=o.key===lme,d=[cme,bG].includes(o.key);if(!d&&!a||r&&!a)return;o.preventDefault();const h=this.matches(Mk)?this:zn.prev(this,Mk)[0]||zn.next(this,Mk)[0]||zn.findOne(Mk,o.delegateTarget.parentNode),g=zb.getOrCreateInstance(h);if(d){o.stopPropagation(),g.show(),g._selectMenuItem(o);return}g._isShown()&&(o.stopPropagation(),g.hide(),h.focus())}}no.on(document,GQ,Mk,zb.dataApiKeydownHandler);no.on(document,GQ,VB,zb.dataApiKeydownHandler);no.on(document,KQ,zb.clearMenus);no.on(document,mme,zb.clearMenus);no.on(document,KQ,Mk,function(c){c.preventDefault(),zb.getOrCreateInstance(this).toggle()});Up(zb);const YQ="backdrop",Lme="fade",yG="show",xG=`mousedown.bs.${YQ}`,Bme={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Pme={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class XQ extends XO{constructor(o){super(),this._config=this._getConfig(o),this._isAppended=!1,this._element=null}static get Default(){return Bme}static get DefaultType(){return Pme}static get NAME(){return YQ}show(o){if(!this._config.isVisible){Ff(o);return}this._append();const r=this._getElement();this._config.isAnimated&&YO(r),r.classList.add(yG),this._emulateAnimation(()=>{Ff(o)})}hide(o){if(!this._config.isVisible){Ff(o);return}this._getElement().classList.remove(yG),this._emulateAnimation(()=>{this.dispose(),Ff(o)})}dispose(){this._isAppended&&(no.off(this._element,xG),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const o=document.createElement("div");o.className=this._config.className,this._config.isAnimated&&o.classList.add(Lme),this._element=o}return this._element}_configAfterMerge(o){return o.rootElement=hv(o.rootElement),o}_append(){if(this._isAppended)return;const o=this._getElement();this._config.rootElement.append(o),no.on(o,xG,()=>{Ff(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(o){BQ(o,this._getElement(),this._config.isAnimated)}}const Ime="focustrap",Fme="bs.focustrap",rP=`.${Fme}`,Hme=`focusin${rP}`,$me=`keydown.tab${rP}`,Vme="Tab",jme="forward",vG="backward",Ume={autofocus:!0,trapElement:null},Wme={autofocus:"boolean",trapElement:"element"};class QQ extends XO{constructor(o){super(),this._config=this._getConfig(o),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ume}static get DefaultType(){return Wme}static get NAME(){return Ime}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),no.off(document,rP),no.on(document,Hme,o=>this._handleFocusin(o)),no.on(document,$me,o=>this._handleKeydown(o)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,no.off(document,rP))}_handleFocusin(o){const{trapElement:r}=this._config;if(o.target===document||o.target===r||r.contains(o.target))return;const a=zn.focusableChildren(r);a.length===0?r.focus():this._lastTabNavDirection===vG?a[a.length-1].focus():a[0].focus()}_handleKeydown(o){o.key===Vme&&(this._lastTabNavDirection=o.shiftKey?vG:jme)}}const wG=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",kG=".sticky-top",fB="padding-right",_G="margin-right";class DV{constructor(){this._element=document.body}getWidth(){const o=document.documentElement.clientWidth;return Math.abs(window.innerWidth-o)}hide(){const o=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,fB,r=>r+o),this._setElementAttributes(wG,fB,r=>r+o),this._setElementAttributes(kG,_G,r=>r-o)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,fB),this._resetElementAttributes(wG,fB),this._resetElementAttributes(kG,_G)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(o,r,a){const d=this.getWidth(),h=g=>{if(g!==this._element&&window.innerWidth>g.clientWidth+d)return;this._saveInitialAttribute(g,r);const x=window.getComputedStyle(g).getPropertyValue(r);g.style.setProperty(r,`${a(Number.parseFloat(x))}px`)};this._applyManipulationCallback(o,h)}_saveInitialAttribute(o,r){const a=o.style.getPropertyValue(r);a&&Uy.setDataAttribute(o,r,a)}_resetElementAttributes(o,r){const a=d=>{const h=Uy.getDataAttribute(d,r);if(h===null){d.style.removeProperty(r);return}Uy.removeDataAttribute(d,r),d.style.setProperty(r,h)};this._applyManipulationCallback(o,a)}_applyManipulationCallback(o,r){if(jy(o)){r(o);return}for(const a of zn.find(o,this._element))r(a)}}const Zme="modal",qme="bs.modal",Vp=`.${qme}`,Kme=".data-api",Gme="Escape",Yme=`hide${Vp}`,Xme=`hidePrevented${Vp}`,JQ=`hidden${Vp}`,eJ=`show${Vp}`,Qme=`shown${Vp}`,Jme=`resize${Vp}`,ege=`click.dismiss${Vp}`,tge=`mousedown.dismiss${Vp}`,oge=`keydown.dismiss${Vp}`,nge=`click${Vp}${Kme}`,CG="modal-open",sge="fade",SG="show",U9="modal-static",rge=".modal.show",ige=".modal-dialog",age=".modal-body",lge='[data-bs-toggle="modal"]',cge={backdrop:!0,focus:!0,keyboard:!0},dge={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class mv extends lg{constructor(o,r){super(o,r),this._dialog=zn.findOne(ige,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new DV,this._addEventListeners()}static get Default(){return cge}static get DefaultType(){return dge}static get NAME(){return Zme}toggle(o){return this._isShown?this.hide():this.show(o)}show(o){this._isShown||this._isTransitioning||no.trigger(this._element,eJ,{relatedTarget:o}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CG),this._adjustDialog(),this._backdrop.show(()=>this._showElement(o)))}hide(){!this._isShown||this._isTransitioning||no.trigger(this._element,Yme).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(SG),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){no.off(window,Vp),no.off(this._dialog,Vp),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new XQ({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new QQ({trapElement:this._element})}_showElement(o){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const r=zn.findOne(age,this._dialog);r&&(r.scrollTop=0),YO(this._element),this._element.classList.add(SG);const a=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,no.trigger(this._element,Qme,{relatedTarget:o})};this._queueCallback(a,this._dialog,this._isAnimated())}_addEventListeners(){no.on(this._element,oge,o=>{if(o.key===Gme){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),no.on(window,Jme,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),no.on(this._element,tge,o=>{no.one(this._element,ege,r=>{if(!(this._element!==o.target||this._element!==r.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CG),this._resetAdjustments(),this._scrollBar.reset(),no.trigger(this._element,JQ)})}_isAnimated(){return this._element.classList.contains(sge)}_triggerBackdropTransition(){if(no.trigger(this._element,Xme).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,a=this._element.style.overflowY;a==="hidden"||this._element.classList.contains(U9)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(U9),this._queueCallback(()=>{this._element.classList.remove(U9),this._queueCallback(()=>{this._element.style.overflowY=a},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const o=this._element.scrollHeight>document.documentElement.clientHeight,r=this._scrollBar.getWidth(),a=r>0;if(a&&!o){const d=$p()?"paddingLeft":"paddingRight";this._element.style[d]=`${r}px`}if(!a&&o){const d=$p()?"paddingRight":"paddingLeft";this._element.style[d]=`${r}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(o,r){return this.each(function(){const a=mv.getOrCreateInstance(this,o);if(typeof o=="string"){if(typeof a[o]>"u")throw new TypeError(`No method named "${o}"`);a[o](r)}})}}no.on(document,nge,lge,function(c){const o=zn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&c.preventDefault(),no.one(o,eJ,d=>{d.defaultPrevented||no.one(o,JQ,()=>{sE(this)&&this.focus()})});const r=zn.findOne(rge);r&&mv.getInstance(r).hide(),mv.getOrCreateInstance(o).toggle(this)});BP(mv);Up(mv);const uge="offcanvas",fge="bs.offcanvas",Yy=`.${fge}`,tJ=".data-api",hge=`load${Yy}${tJ}`,pge="Escape",EG="show",AG="showing",TG="hiding",mge="offcanvas-backdrop",oJ=".offcanvas.show",gge=`show${Yy}`,bge=`shown${Yy}`,yge=`hide${Yy}`,OG=`hidePrevented${Yy}`,nJ=`hidden${Yy}`,xge=`resize${Yy}`,vge=`click${Yy}${tJ}`,wge=`keydown.dismiss${Yy}`,kge='[data-bs-toggle="offcanvas"]',_ge={backdrop:!0,keyboard:!0,scroll:!1},Cge={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class gv extends lg{constructor(o,r){super(o,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return _ge}static get DefaultType(){return Cge}static get NAME(){return uge}toggle(o){return this._isShown?this.hide():this.show(o)}show(o){if(this._isShown||no.trigger(this._element,gge,{relatedTarget:o}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new DV().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(AG);const a=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(EG),this._element.classList.remove(AG),no.trigger(this._element,bge,{relatedTarget:o})};this._queueCallback(a,this._element,!0)}hide(){if(!this._isShown||no.trigger(this._element,yge).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(TG),this._backdrop.hide();const r=()=>{this._element.classList.remove(EG,TG),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new DV().reset(),no.trigger(this._element,nJ)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const o=()=>{if(this._config.backdrop==="static"){no.trigger(this._element,OG);return}this.hide()},r=!!this._config.backdrop;return new XQ({className:mge,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?o:null})}_initializeFocusTrap(){return new QQ({trapElement:this._element})}_addEventListeners(){no.on(this._element,wge,o=>{if(o.key===pge){if(this._config.keyboard){this.hide();return}no.trigger(this._element,OG)}})}static jQueryInterface(o){return this.each(function(){const r=gv.getOrCreateInstance(this,o);if(typeof o=="string"){if(r[o]===void 0||o.startsWith("_")||o==="constructor")throw new TypeError(`No method named "${o}"`);r[o](this)}})}}no.on(document,vge,kge,function(c){const o=zn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&c.preventDefault(),pv(this))return;no.one(o,nJ,()=>{sE(this)&&this.focus()});const r=zn.findOne(oJ);r&&r!==o&&gv.getInstance(r).hide(),gv.getOrCreateInstance(o).toggle(this)});no.on(window,hge,()=>{for(const c of zn.find(oJ))gv.getOrCreateInstance(c).show()});no.on(window,xge,()=>{for(const c of zn.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(c).position!=="fixed"&&gv.getOrCreateInstance(c).hide()});BP(gv);Up(gv);const Sge=/^aria-[\w-]*$/i,sJ={"*":["class","dir","id","lang","role",Sge],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ege=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Age=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Tge=(c,o)=>{const r=c.nodeName.toLowerCase();return o.includes(r)?Ege.has(r)?!!Age.test(c.nodeValue):!0:o.filter(a=>a instanceof RegExp).some(a=>a.test(r))};function Oge(c,o,r){if(!c.length)return c;if(r&&typeof r=="function")return r(c);const d=new window.DOMParser().parseFromString(c,"text/html"),h=[].concat(...d.body.querySelectorAll("*"));for(const g of h){const x=g.nodeName.toLowerCase();if(!Object.keys(o).includes(x)){g.remove();continue}const k=[].concat(...g.attributes),z=[].concat(o["*"]||[],o[x]||[]);for(const D of k)Tge(D,z)||g.removeAttribute(D.nodeName)}return d.body.innerHTML}const zge="TemplateFactory",Dge={allowList:sJ,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Mge={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Nge={entry:"(string|element|function|null)",selector:"(string|element)"};class Rge extends XO{constructor(o){super(),this._config=this._getConfig(o)}static get Default(){return Dge}static get DefaultType(){return Mge}static get NAME(){return zge}getContent(){return Object.values(this._config.content).map(o=>this._resolvePossibleFunction(o)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(o){return this._checkContent(o),this._config.content={...this._config.content,...o},this}toHtml(){const o=document.createElement("div");o.innerHTML=this._maybeSanitize(this._config.template);for(const[d,h]of Object.entries(this._config.content))this._setContent(o,h,d);const r=o.children[0],a=this._resolvePossibleFunction(this._config.extraClass);return a&&r.classList.add(...a.split(" ")),r}_typeCheckConfig(o){super._typeCheckConfig(o),this._checkContent(o.content)}_checkContent(o){for(const[r,a]of Object.entries(o))super._typeCheckConfig({selector:r,entry:a},Nge)}_setContent(o,r,a){const d=zn.findOne(a,o);if(d){if(r=this._resolvePossibleFunction(r),!r){d.remove();return}if(jy(r)){this._putElementInTemplate(hv(r),d);return}if(this._config.html){d.innerHTML=this._maybeSanitize(r);return}d.textContent=r}}_maybeSanitize(o){return this._config.sanitize?Oge(o,this._config.allowList,this._config.sanitizeFn):o}_resolvePossibleFunction(o){return Ff(o,[this])}_putElementInTemplate(o,r){if(this._config.html){r.innerHTML="",r.append(o);return}r.textContent=o.textContent}}const Lge="tooltip",Bge=new Set(["sanitize","allowList","sanitizeFn"]),W9="fade",Pge="modal",hB="show",Ige=".tooltip-inner",zG=`.${Pge}`,DG="hide.bs.modal",fO="hover",Z9="focus",Fge="click",Hge="manual",$ge="hide",Vge="hidden",jge="show",Uge="shown",Wge="inserted",Zge="click",qge="focusin",Kge="focusout",Gge="mouseenter",Yge="mouseleave",Xge={AUTO:"auto",TOP:"top",RIGHT:$p()?"left":"right",BOTTOM:"bottom",LEFT:$p()?"right":"left"},Qge={allowList:sJ,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Jge={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class qk extends lg{constructor(o,r){if(typeof DQ>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(o,r),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Qge}static get DefaultType(){return Jge}static get NAME(){return Lge}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),no.off(this._element.closest(zG),DG,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const o=no.trigger(this._element,this.constructor.eventName(jge)),a=(RQ(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(o.defaultPrevented||!a)return;this._disposePopper();const d=this._getTipElement();this._element.setAttribute("aria-describedby",d.getAttribute("id"));const{container:h}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(h.append(d),no.trigger(this._element,this.constructor.eventName(Wge))),this._popper=this._createPopper(d),d.classList.add(hB),"ontouchstart"in document.documentElement)for(const x of[].concat(...document.body.children))no.on(x,"mouseover",nP);const g=()=>{no.trigger(this._element,this.constructor.eventName(Uge)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(g,this.tip,this._isAnimated())}hide(){if(!this._isShown()||no.trigger(this._element,this.constructor.eventName($ge)).defaultPrevented)return;if(this._getTipElement().classList.remove(hB),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))no.off(d,"mouseover",nP);this._activeTrigger[Fge]=!1,this._activeTrigger[Z9]=!1,this._activeTrigger[fO]=!1,this._isHovered=null;const a=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),no.trigger(this._element,this.constructor.eventName(Vge)))};this._queueCallback(a,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(o){const r=this._getTemplateFactory(o).toHtml();if(!r)return null;r.classList.remove(W9,hB),r.classList.add(`bs-${this.constructor.NAME}-auto`);const a=Fhe(this.constructor.NAME).toString();return r.setAttribute("id",a),this._isAnimated()&&r.classList.add(W9),r}setContent(o){this._newContent=o,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(o){return this._templateFactory?this._templateFactory.changeContent(o):this._templateFactory=new Rge({...this._config,content:o,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Ige]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(o){return this.constructor.getOrCreateInstance(o.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(W9)}_isShown(){return this.tip&&this.tip.classList.contains(hB)}_createPopper(o){const r=Ff(this._config.placement,[this,o,this._element]),a=Xge[r.toUpperCase()];return Ij(this._element,o,this._getPopperConfig(a))}_getOffset(){const{offset:o}=this._config;return typeof o=="string"?o.split(",").map(r=>Number.parseInt(r,10)):typeof o=="function"?r=>o(r,this._element):o}_resolvePossibleFunction(o){return Ff(o,[this._element])}_getPopperConfig(o){const r={placement:o,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:a=>{this._getTipElement().setAttribute("data-popper-placement",a.state.placement)}}]};return{...r,...Ff(this._config.popperConfig,[r])}}_setListeners(){const o=this._config.trigger.split(" ");for(const r of o)if(r==="click")no.on(this._element,this.constructor.eventName(Zge),this._config.selector,a=>{this._initializeOnDelegatedTarget(a).toggle()});else if(r!==Hge){const a=r===fO?this.constructor.eventName(Gge):this.constructor.eventName(qge),d=r===fO?this.constructor.eventName(Yge):this.constructor.eventName(Kge);no.on(this._element,a,this._config.selector,h=>{const g=this._initializeOnDelegatedTarget(h);g._activeTrigger[h.type==="focusin"?Z9:fO]=!0,g._enter()}),no.on(this._element,d,this._config.selector,h=>{const g=this._initializeOnDelegatedTarget(h);g._activeTrigger[h.type==="focusout"?Z9:fO]=g._element.contains(h.relatedTarget),g._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},no.on(this._element.closest(zG),DG,this._hideModalHandler)}_fixTitle(){const o=this._element.getAttribute("title");o&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",o),this._element.setAttribute("data-bs-original-title",o),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(o,r){clearTimeout(this._timeout),this._timeout=setTimeout(o,r)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(o){const r=Uy.getDataAttributes(this._element);for(const a of Object.keys(r))Bge.has(a)&&delete r[a];return o={...r,...typeof o=="object"&&o?o:{}},o=this._mergeConfigObj(o),o=this._configAfterMerge(o),this._typeCheckConfig(o),o}_configAfterMerge(o){return o.container=o.container===!1?document.body:hv(o.container),typeof o.delay=="number"&&(o.delay={show:o.delay,hide:o.delay}),typeof o.title=="number"&&(o.title=o.title.toString()),typeof o.content=="number"&&(o.content=o.content.toString()),o}_getDelegateConfig(){const o={};for(const[r,a]of Object.entries(this._config))this.constructor.Default[r]!==a&&(o[r]=a);return o.selector=!1,o.trigger="manual",o}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(o){return this.each(function(){const r=qk.getOrCreateInstance(this,o);if(typeof o=="string"){if(typeof r[o]>"u")throw new TypeError(`No method named "${o}"`);r[o]()}})}}Up(qk);const ebe="popover",tbe=".popover-header",obe=".popover-body",nbe={...qk.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},sbe={...qk.DefaultType,content:"(null|string|element|function)"};class Vj extends qk{static get Default(){return nbe}static get DefaultType(){return sbe}static get NAME(){return ebe}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[tbe]:this._getTitle(),[obe]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(o){return this.each(function(){const r=Vj.getOrCreateInstance(this,o);if(typeof o=="string"){if(typeof r[o]>"u")throw new TypeError(`No method named "${o}"`);r[o]()}})}}Up(Vj);const rbe="scrollspy",ibe="bs.scrollspy",jj=`.${ibe}`,abe=".data-api",lbe=`activate${jj}`,MG=`click${jj}`,cbe=`load${jj}${abe}`,dbe="dropdown-item",ES="active",ube='[data-bs-spy="scroll"]',q9="[href]",fbe=".nav, .list-group",NG=".nav-link",hbe=".nav-item",pbe=".list-group-item",mbe=`${NG}, ${hbe} > ${NG}, ${pbe}`,gbe=".dropdown",bbe=".dropdown-toggle",ybe={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},xbe={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class FP extends lg{constructor(o,r){super(o,r),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ybe}static get DefaultType(){return xbe}static get NAME(){return rbe}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const o of this._observableSections.values())this._observer.observe(o)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(o){return o.target=hv(o.target)||document.body,o.rootMargin=o.offset?`${o.offset}px 0px -30%`:o.rootMargin,typeof o.threshold=="string"&&(o.threshold=o.threshold.split(",").map(r=>Number.parseFloat(r))),o}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(no.off(this._config.target,MG),no.on(this._config.target,MG,q9,o=>{const r=this._observableSections.get(o.target.hash);if(r){o.preventDefault();const a=this._rootElement||window,d=r.offsetTop-this._element.offsetTop;if(a.scrollTo){a.scrollTo({top:d,behavior:"smooth"});return}a.scrollTop=d}}))}_getNewObserver(){const o={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(r=>this._observerCallback(r),o)}_observerCallback(o){const r=g=>this._targetLinks.get(`#${g.target.id}`),a=g=>{this._previousScrollData.visibleEntryTop=g.target.offsetTop,this._process(r(g))},d=(this._rootElement||document.documentElement).scrollTop,h=d>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=d;for(const g of o){if(!g.isIntersecting){this._activeTarget=null,this._clearActiveClass(r(g));continue}const x=g.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(h&&x){if(a(g),!d)return;continue}!h&&!x&&a(g)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const o=zn.find(q9,this._config.target);for(const r of o){if(!r.hash||pv(r))continue;const a=zn.findOne(decodeURI(r.hash),this._element);sE(a)&&(this._targetLinks.set(decodeURI(r.hash),r),this._observableSections.set(r.hash,a))}}_process(o){this._activeTarget!==o&&(this._clearActiveClass(this._config.target),this._activeTarget=o,o.classList.add(ES),this._activateParents(o),no.trigger(this._element,lbe,{relatedTarget:o}))}_activateParents(o){if(o.classList.contains(dbe)){zn.findOne(bbe,o.closest(gbe)).classList.add(ES);return}for(const r of zn.parents(o,fbe))for(const a of zn.prev(r,mbe))a.classList.add(ES)}_clearActiveClass(o){o.classList.remove(ES);const r=zn.find(`${q9}.${ES}`,o);for(const a of r)a.classList.remove(ES)}static jQueryInterface(o){return this.each(function(){const r=FP.getOrCreateInstance(this,o);if(typeof o=="string"){if(r[o]===void 0||o.startsWith("_")||o==="constructor")throw new TypeError(`No method named "${o}"`);r[o]()}})}}no.on(window,cbe,()=>{for(const c of zn.find(ube))FP.getOrCreateInstance(c)});Up(FP);const vbe="tab",wbe="bs.tab",Kk=`.${wbe}`,kbe=`hide${Kk}`,_be=`hidden${Kk}`,Cbe=`show${Kk}`,Sbe=`shown${Kk}`,Ebe=`click${Kk}`,Abe=`keydown${Kk}`,Tbe=`load${Kk}`,Obe="ArrowLeft",RG="ArrowRight",zbe="ArrowUp",LG="ArrowDown",K9="Home",BG="End",Nk="active",PG="fade",G9="show",Dbe="dropdown",rJ=".dropdown-toggle",Mbe=".dropdown-menu",Y9=`:not(${rJ})`,Nbe='.list-group, .nav, [role="tablist"]',Rbe=".nav-item, .list-group-item",Lbe=`.nav-link${Y9}, .list-group-item${Y9}, [role="tab"]${Y9}`,iJ='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',X9=`${Lbe}, ${iJ}`,Bbe=`.${Nk}[data-bs-toggle="tab"], .${Nk}[data-bs-toggle="pill"], .${Nk}[data-bs-toggle="list"]`;class GS extends lg{constructor(o){super(o),this._parent=this._element.closest(Nbe),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),no.on(this._element,Abe,r=>this._keydown(r)))}static get NAME(){return vbe}show(){const o=this._element;if(this._elemIsActive(o))return;const r=this._getActiveElem(),a=r?no.trigger(r,kbe,{relatedTarget:o}):null;no.trigger(o,Cbe,{relatedTarget:r}).defaultPrevented||a&&a.defaultPrevented||(this._deactivate(r,o),this._activate(o,r))}_activate(o,r){if(!o)return;o.classList.add(Nk),this._activate(zn.getElementFromSelector(o));const a=()=>{if(o.getAttribute("role")!=="tab"){o.classList.add(G9);return}o.removeAttribute("tabindex"),o.setAttribute("aria-selected",!0),this._toggleDropDown(o,!0),no.trigger(o,Sbe,{relatedTarget:r})};this._queueCallback(a,o,o.classList.contains(PG))}_deactivate(o,r){if(!o)return;o.classList.remove(Nk),o.blur(),this._deactivate(zn.getElementFromSelector(o));const a=()=>{if(o.getAttribute("role")!=="tab"){o.classList.remove(G9);return}o.setAttribute("aria-selected",!1),o.setAttribute("tabindex","-1"),this._toggleDropDown(o,!1),no.trigger(o,_be,{relatedTarget:r})};this._queueCallback(a,o,o.classList.contains(PG))}_keydown(o){if(![Obe,RG,zbe,LG,K9,BG].includes(o.key))return;o.stopPropagation(),o.preventDefault();const r=this._getChildren().filter(d=>!pv(d));let a;if([K9,BG].includes(o.key))a=r[o.key===K9?0:r.length-1];else{const d=[RG,LG].includes(o.key);a=Fj(r,o.target,d,!0)}a&&(a.focus({preventScroll:!0}),GS.getOrCreateInstance(a).show())}_getChildren(){return zn.find(X9,this._parent)}_getActiveElem(){return this._getChildren().find(o=>this._elemIsActive(o))||null}_setInitialAttributes(o,r){this._setAttributeIfNotExists(o,"role","tablist");for(const a of r)this._setInitialAttributesOnChild(a)}_setInitialAttributesOnChild(o){o=this._getInnerElement(o);const r=this._elemIsActive(o),a=this._getOuterElement(o);o.setAttribute("aria-selected",r),a!==o&&this._setAttributeIfNotExists(a,"role","presentation"),r||o.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(o,"role","tab"),this._setInitialAttributesOnTargetPanel(o)}_setInitialAttributesOnTargetPanel(o){const r=zn.getElementFromSelector(o);r&&(this._setAttributeIfNotExists(r,"role","tabpanel"),o.id&&this._setAttributeIfNotExists(r,"aria-labelledby",`${o.id}`))}_toggleDropDown(o,r){const a=this._getOuterElement(o);if(!a.classList.contains(Dbe))return;const d=(h,g)=>{const x=zn.findOne(h,a);x&&x.classList.toggle(g,r)};d(rJ,Nk),d(Mbe,G9),a.setAttribute("aria-expanded",r)}_setAttributeIfNotExists(o,r,a){o.hasAttribute(r)||o.setAttribute(r,a)}_elemIsActive(o){return o.classList.contains(Nk)}_getInnerElement(o){return o.matches(X9)?o:zn.findOne(X9,o)}_getOuterElement(o){return o.closest(Rbe)||o}static jQueryInterface(o){return this.each(function(){const r=GS.getOrCreateInstance(this);if(typeof o=="string"){if(r[o]===void 0||o.startsWith("_")||o==="constructor")throw new TypeError(`No method named "${o}"`);r[o]()}})}}no.on(document,Ebe,iJ,function(c){["A","AREA"].includes(this.tagName)&&c.preventDefault(),!pv(this)&&GS.getOrCreateInstance(this).show()});no.on(window,Tbe,()=>{for(const c of zn.find(Bbe))GS.getOrCreateInstance(c)});Up(GS);const Pbe="toast",Ibe="bs.toast",Cv=`.${Ibe}`,Fbe=`mouseover${Cv}`,Hbe=`mouseout${Cv}`,$be=`focusin${Cv}`,Vbe=`focusout${Cv}`,jbe=`hide${Cv}`,Ube=`hidden${Cv}`,Wbe=`show${Cv}`,Zbe=`shown${Cv}`,qbe="fade",IG="hide",pB="show",mB="showing",Kbe={animation:"boolean",autohide:"boolean",delay:"number"},Gbe={animation:!0,autohide:!0,delay:5e3};class ez extends lg{constructor(o,r){super(o,r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Gbe}static get DefaultType(){return Kbe}static get NAME(){return Pbe}show(){if(no.trigger(this._element,Wbe).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(qbe);const r=()=>{this._element.classList.remove(mB),no.trigger(this._element,Zbe),this._maybeScheduleHide()};this._element.classList.remove(IG),YO(this._element),this._element.classList.add(pB,mB),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this.isShown()||no.trigger(this._element,jbe).defaultPrevented)return;const r=()=>{this._element.classList.add(IG),this._element.classList.remove(mB,pB),no.trigger(this._element,Ube)};this._element.classList.add(mB),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(pB),super.dispose()}isShown(){return this._element.classList.contains(pB)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(o,r){switch(o.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=r;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=r;break}}if(r){this._clearTimeout();return}const a=o.relatedTarget;this._element===a||this._element.contains(a)||this._maybeScheduleHide()}_setListeners(){no.on(this._element,Fbe,o=>this._onInteraction(o,!0)),no.on(this._element,Hbe,o=>this._onInteraction(o,!1)),no.on(this._element,$be,o=>this._onInteraction(o,!0)),no.on(this._element,Vbe,o=>this._onInteraction(o,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(o){return this.each(function(){const r=ez.getOrCreateInstance(this,o);if(typeof o=="string"){if(typeof r[o]>"u")throw new TypeError(`No method named "${o}"`);r[o](this)}})}}BP(ez);Up(ez);function Ybe(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var jB={exports:{}},Xbe=jB.exports,FG;function Qbe(){return FG||(FG=1,function(c,o){(function(r,a,d){c.exports={LiveForm:a(r),Nette:d(r)}})(typeof window<"u"?window:Xbe,function(r){var a={options:{showMessageClassOnParent:"form-group",messageParentClass:!1,controlErrorClass:"has-error",controlValidClass:"has-success",messageErrorClass:"help-block text-danger",enableHiddenMessageClass:"show-hidden-error",disableLiveValidationClass:"no-live-validation",disableShowValidClass:"no-show-valid",messageTag:"span",messageIdPostfix:"_message",messageErrorPrefix:'&nbsp;<i class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></i>&nbsp;',showAllErrors:!0,showValid:!1,wait:!1,focusScreenOffsetY:!1},forms:{}};return a.setOptions=function(d){for(var h in d)Object.prototype.hasOwnProperty.call(this.options,h)&&(this.options[h]=d[h])},typeof r.LiveFormOptions<"u"&&a.setOptions(r.LiveFormOptions),a.isSpecialKey=function(d){return d==20||d==16||d==9||d==27||d==17||d==91||d==19||d==18||d==93||d>=35&&d<=40||d==45||d>=33&&d<=34||d>=112&&d<=123||d>=144&&d<=145},a.setupHandlers=function(d){if(!this.hasClass(d,this.options.disableLiveValidationClass)&&!d.getAttribute("data-lfv-initialized")){d.setAttribute("data-lfv-initialized","true");var h=function(x){x=x||r.event,Nette.validateControl(x.target?x.target:x.srcElement)},g=this;d.addEventListener("change",h),d.addEventListener("blur",h),d.addEventListener("keydown",function(x){if(!g.isSpecialKey(x.which)&&(g.options.wait===!1||g.options.wait>=200)){g.removeClass(g.getGroupElement(this),g.options.controlErrorClass),g.removeClass(g.getGroupElement(this),g.options.controlValidClass);var k=g.getMessageElement(this);k.innerHTML="",k.className="",g.timeout&&clearTimeout(g.timeout)}}),d.addEventListener("keyup",function(x){g.options.wait!==!1&&(x=x||r.event,x.keyCode!==9&&(g.timeout&&clearTimeout(g.timeout),g.timeout=setTimeout(function(){h(x)},g.options.wait)))})}},a.processServerErrors=function(d){for(var h=this.getMessageElement(d),g=this.getMessageParent(d),x=[],k=g.getElementsByClassName(this.options.messageErrorClass),z=k.length-1;z>-1;z--)if(k[z]!=h){var D=k[z].parentNode;D==g&&(x.push(k[z].outerHTML),D.removeChild(k[z]))}x.length>0&&(h.innerHTML=x.join(""))},a.addError=function(d,h){if(!this.hasClass(d,this.options.disableLiveValidationClass)){var g=this.getGroupElement(d);this.setFormProperty(d.form,"hasError",!0),this.addClass(g,this.options.controlErrorClass),this.options.showValid&&this.removeClass(g,this.options.controlValidClass),h?h=this.options.messageErrorPrefix+h:h="&nbsp;";var x=this.getMessageElement(d);x.innerHTML=h,x.className=this.options.messageErrorClass}},a.removeError=function(d){if(!this.getFormProperty(d.form,"onLoadValidation")){var h=this.getGroupElement(d);this.removeClass(h,this.options.controlErrorClass);var g=d.getAttribute("data-lfv-message-id");if(g){var x=this.getMessageElement(d);x.innerHTML="",x.className=""}this.options.showValid&&(this.showValid(d)?this.addClass(h,this.options.controlValidClass):this.removeClass(h,this.options.controlValidClass))}},a.showValid=function(d){if(d.type){var h=d.type.toLowerCase();if(h=="checkbox"||h=="radio")return!1}var g=JSON.parse(d.getAttribute("data-nette-rules"));return!(g===null||g.length==0||Nette.getEffectiveValue(d)==""||this.hasClass(d,this.options.disableShowValidClass))},a.getGroupElement=function(d){if(this.options.showMessageClassOnParent===!1)return d;for(var h=d;!this.hasClass(h,this.options.showMessageClassOnParent);)if(h=h.parentNode,h===null)return d;return h},a.getMessageId=function(d){var h=d.id+this.options.messageIdPostfix;if(d.name&&(!d.id||!d.form.elements[d.name].tagName)){var g=d.name.match(/\[\]$/)?d.name.match(/(.*)\[\]$/)[1]:d.name;h=(d.form.id?d.form.id:"frm")+"-"+g+this.options.messageIdPostfix}for(var x=h,k=0;document.getElementById(x);)x=x+"_"+ ++k;return x},a.getMessageElement=function(d){d.name&&d.name.match(/\[\]$/)&&(d=d.form.elements[d.name].tagName?d:d.form.elements[d.name][0]);var h=d.getAttribute("data-lfv-message-id");h||(h=this.getMessageId(d),d.setAttribute("data-lfv-message-id",h));var g=document.getElementById(h);if(!g){g=document.createElement(this.options.messageTag),g.id=h,d.style.display=="none"&&!this.hasClass(d,this.options.enableHiddenMessageClass)&&(g.style.display="none");var x=this.getMessageParent(d);x===d.parentNode?x.insertBefore(g,d.nextSibling):x&&(typeof x.append=="function"?x.append(g):x.appendChild(g))}return g},a.getMessageParent=function(d){var h=d.parentNode,g=!1;if(this.options.messageParentClass!==!1){for(g=!0;!this.hasClass(h,this.options.messageParentClass);)if(h=h.parentNode,h===null){h=d.parentNode,g=!1;break}}if(d.type){var x=d.type.toLowerCase();(x=="checkbox"||x=="radio")&&h.tagName=="LABEL"&&(h=h.parentNode)}return!g&&d.name&&!d.form.elements[d.name].tagName&&(h=h.parentNode),h},a.addClass=function(d,h){d.className?this.hasClass(d,h)||(d.className+=" "+h):d.className=h},a.hasClass=function(d,h){return d.className?d.className.match(new RegExp("(\\s|^)"+h+"(\\s|$)")):!1},a.removeClass=function(d,h){if(this.hasClass(d,h)){var g=new RegExp("(\\s|^)"+h+"(\\s|$)"),x=d.className.match(g);d.className=d.className.replace(g,x[1]==" "&&x[2]==" "?" ":"")}},a.getFormProperty=function(d,h){return d==null||this.forms[d.id]==null?!1:this.forms[d.id][h]},a.setFormProperty=function(d,h,g){d!=null&&(this.forms[d.id]==null&&(this.forms[d.id]={}),this.forms[d.id][h]=g)},a},function(r){var a={},d={},h={};return a.version="3.0",a.onDocumentReady=function(g){document.readyState!=="loading"?g.call(this):document.addEventListener("DOMContentLoaded",g)},a.addEvent=function(g,x,k){g.addEventListener?g.addEventListener(x,k):x==="DOMContentLoaded"?g.attachEvent("onreadystatechange",function(){g.readyState==="complete"&&k.call(this)}):g.attachEvent("on"+x,getHandler(k))},a.getValue=function(g){var x;if(g)if(g.tagName)if(g.type==="radio"){var k=g.form.elements;for(x=0;x<k.length;x++)if(k[x].name===g.name&&k[x].checked)return k[x].value;return null}else{if(g.type==="file")return g.files||g.value;if(g.tagName.toLowerCase()==="select"){var z=g.selectedIndex,D=g.options,$=[];if(g.type==="select-one")return z<0?null:D[z].value;for(x=0;x<D.length;x++)D[x].selected&&$.push(D[x].value);return $}else if(g.name&&g.name.match(/\[\]$/)){for(k=g.form.elements[g.name].tagName?[g]:g.form.elements[g.name],$=[],x=0;x<k.length;x++){var K=k[x].value;(k[x].type==="checkbox"&&k[x].checked||k[x].type!=="checkbox"&&K!=="")&&$.push(K)}return $}else return g.type==="checkbox"?g.checked:g.tagName.toLowerCase()==="textarea"?g.value.replace("\r",""):g.value.replace("\r","").replace(/^\s+|\s+$/g,"")}else return g[0]?a.getValue(g[0]):null;else return null},a.getEffectiveValue=function(g,x){var k=a.getValue(g);if(g.getAttribute&&k===g.getAttribute("data-nette-empty-value")&&(k=""),x&&d[g.name]===void 0){d[g.name]=!0;var z={value:k};a.validateControl(g,null,!0,z),k=z.value,delete d[g.name]}return k},a.validateControl=function(g,x,k,z,D){g.name&&g.name.match(/\[\]$/)&&g.type.toLowerCase()=="checkbox"&&(g=g.form.elements[g.name].tagName?g:g.form.elements[g.name][0]),g=g.tagName?g:g[0],x=x||JSON.parse(g.getAttribute("data-nette-rules")||"[]"),z=z===void 0?{value:a.getEffectiveValue(g)}:z,D=D||!a.validateRule(g,":filled",null,z);for(var $=0,K=x.length;$<K;$++){var Y=x[$],ie=Y.op.match(/(~)?([^?]+)/),ve=Y.control?g.form.elements.namedItem(Y.control):g;if(Y.neg=ie[1],Y.op=ie[2],Y.condition=!!Y.rules,ve){if(D&&!Y.condition&&Y.op!==":filled")continue}else continue;ve=ve.tagName?ve:ve[0];var Ne=a.validateRule(ve,Y.op,Y.arg,g===ve?z:void 0);if(Ne!==null){if(Y.neg&&(Ne=!Ne),Y.condition&&Ne){if(!a.validateControl(g,Y.rules,k,z,Y.op===":blank"?!1:D))return!1}else if(!Y.condition&&!Ne){if(a.isDisabled(ve))continue;if(!k){var ye=Array.isArray(Y.arg)?Y.arg:[Y.arg],Je=Y.msg.replace(/%(value|\d+)/g,function(He,ge){return a.getValue(ge==="value"?ve:g.form.elements.namedItem(ye[ge].control))});a.addError(ve,Je)}return!1}}}return g.type==="number"&&!g.validity.valid?(k||a.addError(g,"Please enter a valid value."),!1):(k||LiveForm.removeError(g),!0)},a.validateForm=function(g,x){var k=g.form||g,z=!1;if(LiveForm.setFormProperty(k,"hasError",!1),k["nette-submittedBy"]&&k["nette-submittedBy"].getAttribute("formnovalidate")!==null){var D=JSON.parse(k["nette-submittedBy"].getAttribute("data-nette-validation-scope")||"[]");if(D.length)z=new RegExp("^("+D.join("-|")+"-)");else return!0}var $={},K,Y,ie=!0;for(K=0;K<k.elements.length;K++)if(Y=k.elements[K],!(Y.tagName&&!(Y.tagName.toLowerCase()in{input:1,select:1,textarea:1,button:1}))){if(Y.type==="radio"){if($[Y.name])continue;$[Y.name]=!0}if(!(z&&!Y.name.replace(/]\[|\[|]|$/g,"-").match(z)||a.isDisabled(Y))&&(ie=a.validateControl(Y)&&ie,!ie&&!LiveForm.options.showAllErrors))break}return ie},a.isDisabled=function(g){if(g.type==="radio"){for(var x=0,k=g.form.elements;x<k.length;x++)if(k[x].name===g.name&&!k[x].disabled)return!1;return!0}return g.disabled},a.addError=function(g,x){var k=LiveForm.hasClass(g,LiveForm.options.disableLiveValidationClass);k&&x&&!LiveForm.getFormProperty(g.form,"hasError")&&!LiveForm.getFormProperty(g.form,"onLoadValidation")&&alert(x),g.focus&&!LiveForm.getFormProperty(g.form,"hasError")&&(LiveForm.focusing||(LiveForm.focusing=!0,g.focus(),setTimeout(function(){LiveForm.focusing=!1;var z=LiveForm.options.focusScreenOffsetY;z!==!1&&g.getBoundingClientRect().top<z&&r.scrollBy(0,g.getBoundingClientRect().top-z)},10))),k||LiveForm.addError(g,x)},a.validateRule=function(g,x,k,z){z=z===void 0?{value:a.getEffectiveValue(g,!0)}:z,x.charAt(0)===":"&&(x=x.substr(1)),x=x.replace("::","_"),x=x.replace(/\\/g,"");for(var D=Array.isArray(k)?k.slice(0):[k],$=0,K=D.length;$<K;$++)if(D[$]&&D[$].control){var Y=g.form.elements.namedItem(D[$].control);D[$]=Y===g?z.value:a.getEffectiveValue(Y,!0)}return a.validators[x]?a.validators[x](g,Array.isArray(k)?D:D[0],z.value,z):null},a.validators={filled:function(g,x,k){return g.type==="number"&&g.validity.badInput?!0:k!==""&&k!==!1&&k!==null&&(!Array.isArray(k)||!!k.length)&&(!r.FileList||!(k instanceof r.FileList)||k.length)},blank:function(g,x,k){return!a.validators.filled(g,x,k)},valid:function(g){return a.validateControl(g,null,!0)},equal:function(g,x,k){if(x===void 0)return null;function z(ie){return typeof ie=="number"||typeof ie=="string"?""+ie:ie===!0?"1":""}k=Array.isArray(k)?k:[k],x=Array.isArray(x)?x:[x];e:for(var D=0,$=k.length;D<$;D++){for(var K=0,Y=x.length;K<Y;K++)if(z(k[D])===z(x[K]))continue e;return!1}return!0},notEqual:function(g,x,k){return x===void 0?null:!a.validators.equal(g,x,k)},minLength:function(g,x,k){if(g.type==="number"){if(g.validity.tooShort)return!1;if(g.validity.badInput)return null}return k.length>=x},maxLength:function(g,x,k){if(g.type==="number"){if(g.validity.tooLong)return!1;if(g.validity.badInput)return null}return k.length<=x},length:function(g,x,k){if(g.type==="number"){if(g.validity.tooShort||g.validity.tooLong)return!1;if(g.validity.badInput)return null}return x=Array.isArray(x)?x:[x,x],(x[0]===null||k.length>=x[0])&&(x[1]===null||k.length<=x[1])},email:function(g,x,k){return/^("([ !#-[\]-~]|\\[ -~])+"|[-a-z0-9!#$%&'*+/=?^_`{|}~]+(\.[-a-z0-9!#$%&'*+/=?^_`{|}~]+)*)@([0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)+[a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF])?$/i.test(k)},url:function(g,x,k,z){return/^[a-z\d+.-]+:/.test(k)||(k="http://"+k),/^https?:\/\/((([-_0-9a-z\u00C0-\u02FF\u0370-\u1EFF]+\.)*[0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)?[a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF])?|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[[0-9a-f:]{3,39}\])(:\d{1,5})?(\/\S*)?$/i.test(k)?(z.value=k,!0):!1},regexp:function(g,x,k){var z=typeof x=="string"?x.match(/^\/(.*)\/([imu]*)$/):!1;try{return z&&new RegExp(z[1],z[2].replace("u","")).test(k)}catch{}},pattern:function(g,x,k,z,D){if(typeof x!="string")return null;try{try{var $=new RegExp("^(?:"+x+")$",D?"ui":"u")}catch{$=new RegExp("^(?:"+x+")$",D?"i":"")}if(r.FileList&&k instanceof FileList){for(var K=0;K<k.length;K++)if(!$.test(k[K].name))return!1;return!0}return $.test(k)}catch{}},patternCaseInsensitive:function(g,x,k){return a.validators.pattern(g,x,k,null,!0)},numeric:function(g,x,k){return g.type==="number"&&g.validity.badInput?!1:/^[0-9]+$/.test(k)},integer:function(g,x,k){return g.type==="number"&&g.validity.badInput?!1:/^-?[0-9]+$/.test(k)},float:function(g,x,k,z){return g.type==="number"&&g.validity.badInput?!1:(k=k.replace(/ +/g,"").replace(/,/g,"."),/^-?[0-9]*\.?[0-9]+$/.test(k)?(z.value=k,!0):!1)},min:function(g,x,k){if(g.type==="number"){if(g.validity.rangeUnderflow)return!1;if(g.validity.badInput)return null}return x===null||parseFloat(k)>=x},max:function(g,x,k){if(g.type==="number"){if(g.validity.rangeOverflow)return!1;if(g.validity.badInput)return null}return x===null||parseFloat(k)<=x},range:function(g,x,k){if(g.type==="number"){if(g.validity.rangeUnderflow||g.validity.rangeOverflow)return!1;if(g.validity.badInput)return null}return Array.isArray(x)?(x[0]===null||parseFloat(k)>=x[0])&&(x[1]===null||parseFloat(k)<=x[1]):null},submitted:function(g){return g.form["nette-submittedBy"]===g},fileSize:function(g,x,k){if(r.FileList){for(var z=0;z<k.length;z++)if(k[z].size>x)return!1}return!0},image:function(g,x,k){if(r.FileList&&k instanceof r.FileList)for(var z=0;z<k.length;z++){var D=k[z].type;if(D&&D!=="image/gif"&&D!=="image/png"&&D!=="image/jpeg"&&D!=="image/webp")return!1}return!0},static:function(g,x){return x}},a.toggleForm=function(g,x){var k;for(h={},k=0;k<g.elements.length;k++)g.elements[k].tagName.toLowerCase()in{input:1,select:1,textarea:1,button:1}&&a.toggleControl(g.elements[k],null,null,!x);for(k in h)a.toggle(k,h[k],x)},a.toggleControl=function(g,x,k,z,D){x=x||JSON.parse(g.getAttribute("data-nette-rules")||"[]"),D=D===void 0?{value:a.getEffectiveValue(g)}:D;for(var $=!1,K=[],Y=function(){a.toggleForm(g.form,g)},ie,ve=0,Ne=x.length;ve<Ne;ve++){var ye=x[ve],Je=ye.op.match(/(~)?([^?]+)/),He=ye.control?g.form.elements.namedItem(ye.control):g;if(He){if(ie=k,k!==!1){if(ye.neg=Je[1],ye.op=Je[2],ie=a.validateRule(He,ye.op,ye.arg,g===He?D:void 0),ie===null)continue;ye.neg&&(ie=!ie),ye.rules||(k=ie)}if(ye.rules&&a.toggleControl(g,ye.rules,ie,z,D)||ye.toggle){if($=!0,z)for(var ge=He.tagName?He.name:He[0].name,Ie=He.tagName?He.form.elements:He,he=0;he<Ie.length;he++)Ie[he].name===ge&&K.indexOf(Ie[he])<0&&(Ie[he].addEventListener("change",Y),K.push(Ie[he]));for(var Ve in ye.toggle||[])Object.prototype.hasOwnProperty.call(ye.toggle,Ve)&&(h[Ve]=h[Ve]||(ye.toggle[Ve]?ie:!ie))}}}return $},a.toggle=function(g,x,k){/^\w[\w.:-]*$/.test(g)&&(g="#"+g);for(var z=document.querySelectorAll(g),D=0;D<z.length;D++)z[D].hidden=!x},a.initForm=function(g){if(a.toggleForm(g),!g.noValidate){g.noValidate=!0,LiveForm.forms[g.id]={hasError:!1,onLoadValidation:!1},g.addEventListener("submit",function(k){a.validateForm(g)||(k.stopPropagation(),k.preventDefault())});for(var x=0;x<g.elements.length;x++)LiveForm.setupHandlers(g.elements[x]),LiveForm.processServerErrors(g.elements[x])}},a.initOnLoad=function(){a.addEvent(document,"DOMContentLoaded",function(){a.init()})},a.init=function(){for(var g=0;g<document.forms.length;g++)for(var x=document.forms[g],k=0;k<x.elements.length;k++)if(x.elements[k].getAttribute("data-nette-rules")){a.initForm(x),LiveForm.hasClass(x,"validate-on-load")&&(LiveForm.setFormProperty(x,"onLoadValidation",!0),a.validateForm(x),LiveForm.setFormProperty(x,"onLoadValidation",!1));break}a.addEvent(document.body,"click",function(z){var D=z.target||z.srcElement;D.form&&D.type in{submit:1,image:1}&&(D.form["nette-submittedBy"]=D)})},a.isArray=function(g){return Object.prototype.toString.call(g)==="[object Array]"},a.inArray=function(g,x){if([].indexOf)return g.indexOf(x)>-1;for(var k=0;k<g.length;k++)if(g[k]===x)return!0;return!1},a.webalize=function(g){g=g.toLowerCase();var x="",k,z;for(k=0;k<g.length;k++)z=a.webalizeTable[g.charAt(k)],x+=z||g.charAt(k);return x.replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")},a.webalizeTable={:"a",:"a",:"c",:"d",:"e",:"e",:"i",:"l",:"n",:"o",:"o",:"r",:"s",:"t",:"u",:"u",:"y",:"z"},a})}(jB)),jB.exports}Qbe();const tz=c=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c()};class Jbe extends EventTarget{constructor(o){super(),this.naja=o,this.selector=".ajax",this.allowedOrigins=[window.location.origin],this.handler=this.handleUI.bind(this),o.addEventListener("init",this.initialize.bind(this))}initialize(){tz(()=>this.bindUI(window.document.body)),this.naja.snippetHandler.addEventListener("afterUpdate",o=>{const{snippet:r}=o.detail;this.bindUI(r)})}bindUI(o){const r=`a${this.selector}`,a=x=>{x.removeEventListener("click",this.handler),x.addEventListener("click",this.handler)};if(o.matches(r))return a(o);o.querySelectorAll(r).forEach(x=>a(x));const h=x=>{x.removeEventListener("submit",this.handler),x.addEventListener("submit",this.handler)};if(o instanceof HTMLFormElement)return h(o);o.querySelectorAll("form").forEach(x=>h(x))}handleUI(o){const r=o.currentTarget,a=this.naja.prepareOptions(),d=()=>{};if(o instanceof MouseEvent){if(o.altKey||o.ctrlKey||o.shiftKey||o.metaKey||o.button)return;this.clickElement(r,a,o).catch(d);return}const{submitter:h}=o;(this.selector===""||r.matches(this.selector)||h!=null&&h.matches(this.selector))&&this.submitForm(h??r,a,o).catch(d)}async clickElement(o,r={},a){if(o instanceof HTMLAnchorElement)return this.processInteraction(o,"GET",o.href,null,r,a);if((o instanceof HTMLInputElement||o instanceof HTMLButtonElement)&&o.form)return this.submitForm(o,r,a);throw new Error("Unsupported element in clickElement(): element must be an anchor or a submitter element attached to a form.")}async submitForm(o,r={},a){let d,h=null;if((o instanceof HTMLInputElement||o instanceof HTMLButtonElement)&&o.form)d=o.form,h=o;else if(o instanceof HTMLFormElement)d=o,h=a instanceof SubmitEvent?a.submitter:null;else throw new Error("Unsupported element in submitForm(): formOrSubmitter must be either a form or a submitter element attached to a form.");const g=((h==null?void 0:h.getAttribute("formmethod"))??d.getAttribute("method")??"GET").toUpperCase(),x=(h==null?void 0:h.getAttribute("formaction"))??d.getAttribute("action")??window.location.pathname+window.location.search,k=new FormData(d,h);return this.processInteraction(h??d,g,x,k,r,a)}async processInteraction(o,r,a,d=null,h={},g){if(!this.dispatchEvent(new CustomEvent("interaction",{cancelable:!0,detail:{element:o,originalEvent:g,options:h}})))return g==null||g.preventDefault(),{};if(!this.isUrlAllowed(`${a}`))throw new Error(`Cannot dispatch async request, URL is not allowed: ${a}`);return g==null||g.preventDefault(),this.naja.makeRequest(r,a,d,h)}isUrlAllowed(o){const r=new URL(o,location.href);return r.origin==="null"?!1:this.allowedOrigins.includes(r.origin)}}class e0e{constructor(o){this.naja=o,o.addEventListener("init",this.initialize.bind(this)),o.uiHandler.addEventListener("interaction",this.processForm.bind(this))}initialize(){tz(()=>this.initForms(window.document.body)),this.naja.snippetHandler.addEventListener("afterUpdate",o=>{const{snippet:r}=o.detail;this.initForms(r)})}initForms(o){const r=this.netteForms||window.Nette;if(!r)return;if(o instanceof HTMLFormElement){r.initForm(o);return}o.querySelectorAll("form").forEach(d=>r.initForm(d))}processForm(o){const{element:r,originalEvent:a}=o.detail,d=r instanceof HTMLFormElement,h=(r instanceof HTMLInputElement||r instanceof HTMLButtonElement)&&r.form;h&&(r.form["nette-submittedBy"]=r);const g=this.netteForms||window.Nette;(d||h)&&g&&!g.validateForm(r)&&(a==null||a.stopImmediatePropagation(),a==null||a.preventDefault(),o.preventDefault())}}class t0e extends EventTarget{constructor(o){super(),this.naja=o,o.uiHandler.addEventListener("interaction",r=>{var h,g;const{element:a,options:d}=r.detail;if(a.hasAttribute("data-naja-force-redirect")||(h=a.form)!=null&&h.hasAttribute("data-naja-force-redirect")){const x=a.getAttribute("data-naja-force-redirect")??((g=a.form)==null?void 0:g.getAttribute("data-naja-force-redirect"));d.forceRedirect=x!=="off"}}),o.addEventListener("success",r=>{const{payload:a,options:d}=r.detail;a.redirect&&(this.makeRedirect(a.redirect,d.forceRedirect??!1,d),r.stopImmediatePropagation())}),this.locationAdapter={assign:r=>window.location.assign(r)}}makeRedirect(o,r,a={}){o instanceof URL&&(o=o.href);let d=r||!this.naja.uiHandler.isUrlAllowed(o);this.dispatchEvent(new CustomEvent("redirect",{cancelable:!0,detail:{url:o,setUrl(g){o=g},isHardRedirect:d,setHardRedirect(g){d=!!g},options:a}}))&&(d?this.locationAdapter.assign(o):this.naja.makeRequest("GET",o,null,a))}}class UB extends EventTarget{constructor(o){super(),this.op={replace:{updateElement(r,a){r.innerHTML=a},updateIndex(r,a){return a}},prepend:{updateElement(r,a){r.insertAdjacentHTML("afterbegin",a)},updateIndex(r,a){return a+r}},append:{updateElement(r,a){r.insertAdjacentHTML("beforeend",a)},updateIndex(r,a){return r+a}}},o.addEventListener("success",r=>{const{options:a,payload:d}=r.detail;d.snippets&&this.updateSnippets(d.snippets,!1,a)})}static findSnippets(o,r=window.document){const a={};return r.querySelectorAll('[id^="snippet-"]').forEach(h=>{((o==null?void 0:o(h))??!0)&&(a[h.id]=h.innerHTML)}),a}async updateSnippets(o,r=!1,a={}){await Promise.all(Object.keys(o).map(async d=>{const h=document.getElementById(d);h&&await this.updateSnippet(h,o[d],r,a)}))}async updateSnippet(o,r,a,d){let h=this.op.replace;if((o.hasAttribute("data-naja-snippet-prepend")||o.hasAttribute("data-ajax-prepend"))&&!a?h=this.op.prepend:(o.hasAttribute("data-naja-snippet-append")||o.hasAttribute("data-ajax-append"))&&!a&&(h=this.op.append),!this.dispatchEvent(new CustomEvent("beforeUpdate",{cancelable:!0,detail:{snippet:o,content:r,fromCache:a,operation:h,changeOperation(k){h=k},options:d}})))return;this.dispatchEvent(new CustomEvent("pendingUpdate",{detail:{snippet:o,content:r,fromCache:a,operation:h,options:d}})),await(typeof h=="function"?h:h.updateElement)(o,r),this.dispatchEvent(new CustomEvent("afterUpdate",{detail:{snippet:o,content:r,fromCache:a,operation:h,options:d}}))}}const HG=Symbol();class SO extends EventTarget{constructor(o){super(),this.naja=o,this.initialized=!1,this.cursor=0,this.popStateHandler=this.handlePopState.bind(this),o.addEventListener("init",this.initialize.bind(this)),o.addEventListener("before",this.saveUrl.bind(this)),o.addEventListener("before",this.saveOriginalTitle.bind(this)),o.addEventListener("before",this.replaceInitialState.bind(this)),o.addEventListener("success",this.pushNewState.bind(this)),o.redirectHandler.addEventListener("redirect",this.saveRedirectedUrl.bind(this)),o.uiHandler.addEventListener("interaction",this.configureMode.bind(this)),this.historyAdapter={replaceState:(r,a,d)=>window.history.replaceState(r,a,d),pushState:(r,a,d)=>window.history.pushState(r,a,d)}}set uiCache(o){console.warn("Naja: HistoryHandler.uiCache is deprecated, use options.snippetCache instead."),this.naja.defaultOptions.snippetCache=o}handlePopState(o){const{state:r}=o;if((r==null?void 0:r.source)!=="naja")return;const a=r.cursor-this.cursor;this.cursor=r.cursor;const d=this.naja.prepareOptions();this.dispatchEvent(new CustomEvent("restoreState",{detail:{state:r,direction:a,options:d}}))}initialize(){window.addEventListener("popstate",this.popStateHandler)}saveOriginalTitle(o){const{options:r}=o.detail;r[HG]=window.document.title}saveUrl(o){const{url:r,options:a}=o.detail;a.href??(a.href=r)}saveRedirectedUrl(o){const{url:r,options:a}=o.detail;a.href=r}replaceInitialState(o){const{options:r}=o.detail;SO.normalizeMode(r.history)!==!1&&!this.initialized&&(tz(()=>this.historyAdapter.replaceState(this.buildState(window.location.href,"replace",this.cursor,r),window.document.title,window.location.href)),this.initialized=!0)}configureMode(o){var d,h;const{element:r,options:a}=o.detail;if(r.hasAttribute("data-naja-history")||(d=r.form)!=null&&d.hasAttribute("data-naja-history")){const g=r.getAttribute("data-naja-history")??((h=r.form)==null?void 0:h.getAttribute("data-naja-history"));a.history=SO.normalizeMode(g)}}static normalizeMode(o){return o==="off"||o===!1?!1:o==="replace"?"replace":!0}pushNewState(o){const{payload:r,options:a}=o.detail,d=SO.normalizeMode(a.history);if(d===!1)return;r.postGet&&r.url&&(a.href=r.url);const h=d==="replace"?"replaceState":"pushState",g=d==="replace"?this.cursor:++this.cursor,x=this.buildState(a.href,d,g,a),k=window.document.title;window.document.title=a[HG],this.historyAdapter[h](x,k,a.href),window.document.title=k}buildState(o,r,a,d){const h={source:"naja",cursor:a,href:o};return this.dispatchEvent(new CustomEvent("buildState",{detail:{state:h,operation:r==="replace"?"replaceState":"pushState",options:d}})),h}}class iv extends EventTarget{constructor(o){super(),this.naja=o,this.currentSnippets=new Map,this.storages={off:new o0e(o),history:new n0e,session:new s0e},o.addEventListener("init",this.initializeIndex.bind(this)),o.snippetHandler.addEventListener("pendingUpdate",this.updateIndex.bind(this)),o.uiHandler.addEventListener("interaction",this.configureCache.bind(this)),o.historyHandler.addEventListener("buildState",this.buildHistoryState.bind(this)),o.historyHandler.addEventListener("restoreState",this.restoreHistoryState.bind(this))}resolveStorage(o){let r;return o===!0||o===void 0?r="history":o===!1?r="off":r=o,this.storages[r]}static shouldCacheSnippet(o){return!o.hasAttribute("data-naja-history-nocache")&&!o.hasAttribute("data-history-nocache")&&(!o.hasAttribute("data-naja-snippet-cache")||o.getAttribute("data-naja-snippet-cache")!=="off")}initializeIndex(){tz(()=>{const o=UB.findSnippets(iv.shouldCacheSnippet);this.currentSnippets=new Map(Object.entries(o))})}updateIndex(o){const{snippet:r,content:a,operation:d}=o.detail;if(!iv.shouldCacheSnippet(r))return;const h=this.currentSnippets.get(r.id)??"",g=typeof d=="object"?d.updateIndex:()=>a;this.currentSnippets.set(r.id,g(h,a));const x=iv.parser.parseFromString(a,"text/html"),k=UB.findSnippets(iv.shouldCacheSnippet,x);for(const[z,D]of Object.entries(k))this.currentSnippets.set(z,D)}configureCache(o){var d,h,g,x;const{element:r,options:a}=o.detail;if(r&&(r.hasAttribute("data-naja-snippet-cache")||(d=r.form)!=null&&d.hasAttribute("data-naja-snippet-cache")||r.hasAttribute("data-naja-history-cache")||(h=r.form)!=null&&h.hasAttribute("data-naja-history-cache"))){const k=r.getAttribute("data-naja-snippet-cache")??((g=r.form)==null?void 0:g.getAttribute("data-naja-snippet-cache"))??r.getAttribute("data-naja-history-cache")??((x=r.form)==null?void 0:x.getAttribute("data-naja-history-cache"));a.snippetCache=k}}buildHistoryState(o){const{state:r,options:a}=o.detail;"historyUiCache"in a&&(console.warn("Naja: options.historyUiCache is deprecated, use options.snippetCache instead."),a.snippetCache=a.historyUiCache);const d=Object.keys(UB.findSnippets(iv.shouldCacheSnippet)),h=Object.fromEntries(Array.from(this.currentSnippets).filter(([x])=>d.includes(x)));if(!this.dispatchEvent(new CustomEvent("store",{cancelable:!0,detail:{snippets:h,state:r,options:a}})))return;const g=this.resolveStorage(a.snippetCache);r.snippets={storage:g.type,key:g.store(h)}}restoreHistoryState(o){const{state:r,options:a}=o.detail;if(r.snippets===void 0||(a.snippetCache=r.snippets.storage,!this.dispatchEvent(new CustomEvent("fetch",{cancelable:!0,detail:{state:r,options:a}}))))return;const h=this.resolveStorage(a.snippetCache).fetch(r.snippets.key,r,a);h!==null&&this.dispatchEvent(new CustomEvent("restore",{cancelable:!0,detail:{snippets:h,state:r,options:a}}))&&this.naja.snippetHandler.updateSnippets(h,!0,a)}}iv.parser=new DOMParser;class o0e{constructor(o){this.naja=o,this.type="off"}store(){return null}fetch(o,r,a){return this.naja.makeRequest("GET",r.href,null,{...a,history:!1,snippetCache:!1}),null}}class n0e{constructor(){this.type="history"}store(o){return o}fetch(o){return o}}class s0e{constructor(){this.type="session"}store(o){const r=Math.random().toString(36).substring(2,8);return window.sessionStorage.setItem(r,JSON.stringify(o)),r}fetch(o){const r=window.sessionStorage.getItem(o);return r===null?null:JSON.parse(r)}}class HP{constructor(o){this.naja=o,this.loadedScripts=new Set,o.addEventListener("init",this.initialize.bind(this))}initialize(){tz(()=>{document.querySelectorAll("script[data-naja-script-id]").forEach(o=>{const r=o.getAttribute("data-naja-script-id");r!==null&&r!==""&&this.loadedScripts.add(r)})}),this.naja.snippetHandler.addEventListener("afterUpdate",o=>{const{content:r}=o.detail;this.loadScripts(r)})}loadScripts(o){if(typeof o=="string"){this.loadScriptsInSnippet(o);return}Object.keys(o).forEach(r=>{const a=o[r];this.loadScriptsInSnippet(a)})}loadScriptsInSnippet(o){if(!/<script/i.test(o))return;HP.parser.parseFromString(o,"text/html").querySelectorAll("script").forEach(d=>{const h=d.getAttribute("data-naja-script-id");if(h!==null&&h!==""&&this.loadedScripts.has(h))return;const g=window.document.createElement("script");if(g.innerHTML=d.innerHTML,d.hasAttributes())for(const x of d.attributes)g.setAttribute(x.name,x.value);window.document.head.appendChild(g).parentNode.removeChild(g),h!==null&&h!==""&&this.loadedScripts.add(h)})}}HP.parser=new DOMParser;class r0e extends EventTarget{constructor(o,r,a,d,h,g,x){super(),this.VERSION=3,this.initialized=!1,this.extensions=[],this.defaultOptions={},this.uiHandler=new(o??Jbe)(this),this.redirectHandler=new(r??t0e)(this),this.snippetHandler=new(a??UB)(this),this.formsHandler=new(d??e0e)(this),this.historyHandler=new(h??SO)(this),this.snippetCache=new(g??iv)(this),this.scriptLoader=new(x??HP)(this)}registerExtension(o){this.initialized&&o.initialize(this),this.extensions.push(o)}initialize(o={}){if(this.initialized)throw new Error("Cannot initialize Naja, it is already initialized.");this.defaultOptions=this.prepareOptions(o),this.extensions.forEach(r=>r.initialize(this)),this.dispatchEvent(new CustomEvent("init",{detail:{defaultOptions:this.defaultOptions}})),this.initialized=!0}prepareOptions(o){return{...this.defaultOptions,...o,fetch:{...this.defaultOptions.fetch,...o==null?void 0:o.fetch}}}async makeRequest(o,r,a=null,d={}){typeof r=="string"&&(r=new URL(r,location.href)),d=this.prepareOptions(d);const h=new Headers(d.fetch.headers||{}),g=this.transformData(r,o,a),x=new AbortController,k=new Request(r.toString(),{credentials:"same-origin",...d.fetch,method:o,headers:h,body:g,signal:x.signal});if(k.headers.set("X-Requested-With","XMLHttpRequest"),k.headers.set("Accept","application/json"),!this.dispatchEvent(new CustomEvent("before",{cancelable:!0,detail:{request:k,method:o,url:r.toString(),data:a,options:d}})))return{};const z=window.fetch(k);this.dispatchEvent(new CustomEvent("start",{detail:{request:k,promise:z,abortController:x,options:d}}));let D,$;try{if(D=await z,!D.ok)throw new i0e(D);$=await D.json()}catch(K){if(K.name==="AbortError")return this.dispatchEvent(new CustomEvent("abort",{detail:{request:k,error:K,options:d}})),this.dispatchEvent(new CustomEvent("complete",{detail:{request:k,response:D,payload:void 0,error:K,options:d}})),{};throw this.dispatchEvent(new CustomEvent("error",{detail:{request:k,response:D,error:K,options:d}})),this.dispatchEvent(new CustomEvent("complete",{detail:{request:k,response:D,payload:void 0,error:K,options:d}})),K}return this.dispatchEvent(new CustomEvent("payload",{detail:{request:k,response:D,payload:$,options:d}})),this.dispatchEvent(new CustomEvent("success",{detail:{request:k,response:D,payload:$,options:d}})),this.dispatchEvent(new CustomEvent("complete",{detail:{request:k,response:D,payload:$,error:void 0,options:d}})),$}appendToQueryString(o,r,a){if(a!=null)if(Array.isArray(a)||Object.getPrototypeOf(a)===Object.prototype)for(const[d,h]of Object.entries(a))this.appendToQueryString(o,`${r}[${d}]`,h);else o.append(r,String(a))}transformData(o,r,a){const d=["GET","HEAD"].includes(r.toUpperCase());if(d&&a instanceof FormData){for(const[g,x]of a)x!=null&&o.searchParams.append(g,String(x));return null}if(a!==null&&Object.getPrototypeOf(a)===Object.prototype||Array.isArray(a)){const g=d?o.searchParams:new URLSearchParams;for(const[x,k]of Object.entries(a))this.appendToQueryString(g,x,k);return d?null:g}return a}}class i0e extends Error{constructor(o){const r=`HTTP ${o.status}: ${o.statusText}`;super(r),this.name=this.constructor.name,this.stack=new Error(r).stack,this.response=o}}class a0e{constructor(){this.abortControllers=new Set}initialize(o){o.uiHandler.addEventListener("interaction",this.checkAbortable.bind(this)),o.addEventListener("init",this.onInitialize.bind(this)),o.addEventListener("start",this.saveAbortController.bind(this)),o.addEventListener("complete",this.removeAbortController.bind(this))}onInitialize(){document.addEventListener("keydown",o=>{if(o.key==="Escape"&&!(o.ctrlKey||o.shiftKey||o.altKey||o.metaKey)){for(const r of this.abortControllers)r.abort();this.abortControllers.clear()}})}checkAbortable(o){var d,h;const{element:r,options:a}=o.detail;(r.hasAttribute("data-naja-abort")||(d=r.form)!=null&&d.hasAttribute("data-naja-abort"))&&(a.abort=(r.getAttribute("data-naja-abort")??((h=r.form)==null?void 0:h.getAttribute("data-naja-abort")))!=="off")}saveAbortController(o){const{abortController:r,options:a}=o.detail;a.abort!==!1&&(this.abortControllers.add(r),a.clearAbortExtension=()=>this.abortControllers.delete(r))}removeAbortController(o){const{options:r}=o.detail;r.abort!==!1&&r.clearAbortExtension&&r.clearAbortExtension()}}class l0e{constructor(){this.abortControllers=new Map}initialize(o){o.uiHandler.addEventListener("interaction",this.checkUniqueness.bind(this)),o.addEventListener("start",this.abortPreviousRequest.bind(this)),o.addEventListener("complete",this.clearRequest.bind(this))}checkUniqueness(o){var d,h;const{element:r,options:a}=o.detail;if(r.hasAttribute("data-naja-unique")??((d=r.form)==null?void 0:d.hasAttribute("data-naja-unique"))){const g=r.getAttribute("data-naja-unique")??((h=r.form)==null?void 0:h.getAttribute("data-naja-unique"));a.unique=g==="off"?!1:g??"default"}}abortPreviousRequest(o){var d;const{abortController:r,options:a}=o.detail;a.unique!==!1&&((d=this.abortControllers.get(a.unique??"default"))==null||d.abort(),this.abortControllers.set(a.unique??"default",r))}clearRequest(o){const{request:r,options:a}=o.detail;!r.signal.aborted&&a.unique!==!1&&this.abortControllers.delete(a.unique??"default")}}const Rh=new r0e;Rh.registerExtension(new a0e);Rh.registerExtension(new l0e);function aJ(){document.querySelectorAll("select[data-depends]").forEach(c=>{let o=c.form[c.dataset.depends];if(o.dataset.dependecyInitialized)return;let r=c.dataset.url,a=JSON.parse(c.dataset.items||"null");o.addEventListener("change",()=>{a&&$G(c,a[o.value]),r&&fetch(r.replace(encodeURIComponent("#"),encodeURIComponent(o.value))).then(d=>d.json()).then(d=>$G(c,d))}),o.dataset.dependecyInitialized="true"})}function $G(c,o){c.innerHTML="";for(let r in o){let a=document.createElement("option");a.setAttribute("value",r),a.innerText=o[r],c.appendChild(a)}}/*! multi.js 17-02-2021 */var lJ=function(){var c=function(a,d){var h=d.limit;if(h>-1){for(var g=0,x=0;x<a.options.length;x++)a.options[x].selected&&g++;if(g===h)for(this.disabled_limit=!0,typeof d.limit_reached=="function"&&d.limit_reached(),x=0;x<a.options.length;x++)(k=a.options[x]).selected||k.setAttribute("disabled",!0);else if(this.disabled_limit){for(x=0;x<a.options.length;x++){var k;(k=a.options[x]).getAttribute("data-origin-disabled")==="false"&&k.removeAttribute("disabled")}this.disabled_limit=!1}}},o=function(a,d,h){var g,x,k,z=a.options[d.target.getAttribute("multi-index")];z.disabled||(z.selected=!z.selected,c(a,h),g="change",x=a,(k=document.createEvent("HTMLEvents")).initEvent(g,!1,!0),x.dispatchEvent(k))},r=function(a,d){if(a.wrapper.selected.innerHTML="",a.wrapper.non_selected.innerHTML="",d.non_selected_header&&d.selected_header){var h=document.createElement("div"),g=document.createElement("div");h.className="header",g.className="header",h.innerText=d.non_selected_header,g.innerText=d.selected_header,a.wrapper.non_selected.appendChild(h),a.wrapper.selected.appendChild(g)}if(a.wrapper.search)var x=a.wrapper.search.value;for(var k=null,z=null,D=0;D<a.options.length;D++){var $=a.options[D],K=$.value,Y=$.textContent||$.innerText,ie=document.createElement("a");if(ie.tabIndex=0,ie.className="item",ie.innerText=Y,ie.setAttribute("role","button"),ie.setAttribute("data-value",K),ie.setAttribute("multi-index",D),$.disabled&&(ie.className+=" disabled"),$.selected){ie.className+=" selected";var ve=ie.cloneNode(!0);a.wrapper.selected.appendChild(ve)}if($.parentNode.nodeName=="OPTGROUP"&&$.parentNode!=z){if(z=$.parentNode,(k=document.createElement("div")).className="item-group",$.parentNode.label){var Ne=document.createElement("span");Ne.innerHTML=$.parentNode.label,Ne.className="group-label",k.appendChild(Ne)}a.wrapper.non_selected.appendChild(k)}$.parentNode==a&&(k=null,z=null),(!x||x&&Y.toLowerCase().indexOf(x.toLowerCase())>-1)&&(k!=null?k.appendChild(ie):a.wrapper.non_selected.appendChild(ie))}if(d.hide_empty_groups){var ye=document.getElementsByClassName("item-group");for(D=0;D<ye.length;D++)ye[D].childElementCount<2&&(ye[D].style.display="none")}};return function(a,d){if((d=d!==void 0?d:{}).enable_search=d.enable_search===void 0||d.enable_search,d.search_placeholder=d.search_placeholder!==void 0?d.search_placeholder:"Search...",d.non_selected_header=d.non_selected_header!==void 0?d.non_selected_header:null,d.selected_header=d.selected_header!==void 0?d.selected_header:null,d.limit=d.limit!==void 0?parseInt(d.limit):-1,isNaN(d.limit)&&(d.limit=-1),d.hide_empty_groups=d.hide_empty_groups!==void 0&&d.hide_empty_groups,a.dataset.multijs==null&&a.nodeName=="SELECT"&&a.multiple){a.style.display="none",a.setAttribute("data-multijs",!0);var h=document.createElement("div");if(h.className="multi-wrapper",d.enable_search){var g=document.createElement("input");g.className="search-input",g.type="text",g.setAttribute("placeholder",d.search_placeholder),g.setAttribute("title",d.search_placeholder),g.addEventListener("input",function(){r(a,d)}),h.appendChild(g),h.search=g}var x=document.createElement("div");x.className="non-selected-wrapper";var k=document.createElement("div");k.className="selected-wrapper",h.addEventListener("click",function($){$.target.getAttribute("multi-index")&&o(a,$,d)}),h.addEventListener("keypress",function($){var K=$.keyCode===32||$.keyCode===13;$.target.getAttribute("multi-index")&&K&&($.preventDefault(),o(a,$,d))}),h.appendChild(x),h.appendChild(k),h.non_selected=x,h.selected=k,a.wrapper=h,a.parentNode.insertBefore(h,a.nextSibling);for(var z=0;z<a.options.length;z++){var D=a.options[z];D.setAttribute("data-origin-disabled",D.disabled)}c(a,d),r(a,d),a.addEventListener("change",function(){r(a,d)})}}}();typeof jQuery<"u"&&function(c){c.fn.multi=function(o){return o=o!==void 0?o:{},this.each(function(){var r=c(this);lJ(r.get(0),o)})}}(jQuery);let MV=[],cJ=[];(()=>{let c="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(o=>o?parseInt(o,36):1);for(let o=0,r=0;o<c.length;o++)(o%2?cJ:MV).push(r=r+c[o])})();function c0e(c){if(c<768)return!1;for(let o=0,r=MV.length;;){let a=o+r>>1;if(c<MV[a])r=a;else if(c>=cJ[a])o=a+1;else return!0;if(o==r)return!1}}function VG(c){return c>=127462&&c<=127487}const jG=8205;function d0e(c,o,r=!0,a=!0){return(r?dJ:u0e)(c,o,a)}function dJ(c,o,r){if(o==c.length)return o;o&&uJ(c.charCodeAt(o))&&fJ(c.charCodeAt(o-1))&&o--;let a=Q9(c,o);for(o+=UG(a);o<c.length;){let d=Q9(c,o);if(a==jG||d==jG||r&&c0e(d))o+=UG(d),a=d;else if(VG(d)){let h=0,g=o-2;for(;g>=0&&VG(Q9(c,g));)h++,g-=2;if(h%2==0)break;o+=2}else break}return o}function u0e(c,o,r){for(;o>0;){let a=dJ(c,o-2,r);if(a<o)return a;o--}return 0}function Q9(c,o){let r=c.charCodeAt(o);if(!fJ(r)||o+1==c.length)return r;let a=c.charCodeAt(o+1);return uJ(a)?(r-55296<<10)+(a-56320)+65536:r}function uJ(c){return c>=56320&&c<57344}function fJ(c){return c>=55296&&c<56320}function UG(c){return c<65536?1:2}class br{lineAt(o){if(o<0||o>this.length)throw new RangeError(`Invalid position ${o} in document of length ${this.length}`);return this.lineInner(o,!1,1,0)}line(o){if(o<1||o>this.lines)throw new RangeError(`Invalid line number ${o} in ${this.lines}-line document`);return this.lineInner(o,!0,1,0)}replace(o,r,a){[o,r]=YS(this,o,r);let d=[];return this.decompose(0,o,d,2),a.length&&a.decompose(0,a.length,d,3),this.decompose(r,this.length,d,1),Cb.from(d,this.length-(r-o)+a.length)}append(o){return this.replace(this.length,this.length,o)}slice(o,r=this.length){[o,r]=YS(this,o,r);let a=[];return this.decompose(o,r,a,0),Cb.from(a,r-o)}eq(o){if(o==this)return!0;if(o.length!=this.length||o.lines!=this.lines)return!1;let r=this.scanIdentical(o,1),a=this.length-this.scanIdentical(o,-1),d=new EO(this),h=new EO(o);for(let g=r,x=r;;){if(d.next(g),h.next(g),g=0,d.lineBreak!=h.lineBreak||d.done!=h.done||d.value!=h.value)return!1;if(x+=d.value.length,d.done||x>=a)return!0}}iter(o=1){return new EO(this,o)}iterRange(o,r=this.length){return new hJ(this,o,r)}iterLines(o,r){let a;if(o==null)a=this.iter();else{r==null&&(r=this.lines+1);let d=this.line(o).from;a=this.iterRange(d,Math.max(d,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new pJ(a)}toString(){return this.sliceString(0)}toJSON(){let o=[];return this.flatten(o),o}constructor(){}static of(o){if(o.length==0)throw new RangeError("A document must have at least one line");return o.length==1&&!o[0]?br.empty:o.length<=32?new fl(o):Cb.from(fl.split(o,[]))}}class fl extends br{constructor(o,r=f0e(o)){super(),this.text=o,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(o,r,a,d){for(let h=0;;h++){let g=this.text[h],x=d+g.length;if((r?a:x)>=o)return new h0e(d,x,a,g);d=x+1,a++}}decompose(o,r,a,d){let h=o<=0&&r>=this.length?this:new fl(WG(this.text,o,r),Math.min(r,this.length)-Math.max(0,o));if(d&1){let g=a.pop(),x=WB(h.text,g.text.slice(),0,h.length);if(x.length<=32)a.push(new fl(x,g.length+h.length));else{let k=x.length>>1;a.push(new fl(x.slice(0,k)),new fl(x.slice(k)))}}else a.push(h)}replace(o,r,a){if(!(a instanceof fl))return super.replace(o,r,a);[o,r]=YS(this,o,r);let d=WB(this.text,WB(a.text,WG(this.text,0,o)),r),h=this.length+a.length-(r-o);return d.length<=32?new fl(d,h):Cb.from(fl.split(d,[]),h)}sliceString(o,r=this.length,a=`
`){[o,r]=YS(this,o,r);let d="";for(let h=0,g=0;h<=r&&g<this.text.length;g++){let x=this.text[g],k=h+x.length;h>o&&g&&(d+=a),o<k&&r>h&&(d+=x.slice(Math.max(0,o-h),r-h)),h=k+1}return d}flatten(o){for(let r of this.text)o.push(r)}scanIdentical(){return 0}static split(o,r){let a=[],d=-1;for(let h of o)a.push(h),d+=h.length+1,a.length==32&&(r.push(new fl(a,d)),a=[],d=-1);return d>-1&&r.push(new fl(a,d)),r}}class Cb extends br{constructor(o,r){super(),this.children=o,this.length=r,this.lines=0;for(let a of o)this.lines+=a.lines}lineInner(o,r,a,d){for(let h=0;;h++){let g=this.children[h],x=d+g.length,k=a+g.lines-1;if((r?k:x)>=o)return g.lineInner(o,r,a,d);d=x+1,a=k+1}}decompose(o,r,a,d){for(let h=0,g=0;g<=r&&h<this.children.length;h++){let x=this.children[h],k=g+x.length;if(o<=k&&r>=g){let z=d&((g<=o?1:0)|(k>=r?2:0));g>=o&&k<=r&&!z?a.push(x):x.decompose(o-g,r-g,a,z)}g=k+1}}replace(o,r,a){if([o,r]=YS(this,o,r),a.lines<this.lines)for(let d=0,h=0;d<this.children.length;d++){let g=this.children[d],x=h+g.length;if(o>=h&&r<=x){let k=g.replace(o-h,r-h,a),z=this.lines-g.lines+k.lines;if(k.lines<z>>4&&k.lines>z>>6){let D=this.children.slice();return D[d]=k,new Cb(D,this.length-(r-o)+a.length)}return super.replace(h,x,k)}h=x+1}return super.replace(o,r,a)}sliceString(o,r=this.length,a=`
`){[o,r]=YS(this,o,r);let d="";for(let h=0,g=0;h<this.children.length&&g<=r;h++){let x=this.children[h],k=g+x.length;g>o&&h&&(d+=a),o<k&&r>g&&(d+=x.sliceString(o-g,r-g,a)),g=k+1}return d}flatten(o){for(let r of this.children)r.flatten(o)}scanIdentical(o,r){if(!(o instanceof Cb))return 0;let a=0,[d,h,g,x]=r>0?[0,0,this.children.length,o.children.length]:[this.children.length-1,o.children.length-1,-1,-1];for(;;d+=r,h+=r){if(d==g||h==x)return a;let k=this.children[d],z=o.children[h];if(k!=z)return a+k.scanIdentical(z,r);a+=k.length+1}}static from(o,r=o.reduce((a,d)=>a+d.length+1,-1)){let a=0;for(let Y of o)a+=Y.lines;if(a<32){let Y=[];for(let ie of o)ie.flatten(Y);return new fl(Y,r)}let d=Math.max(32,a>>5),h=d<<1,g=d>>1,x=[],k=0,z=-1,D=[];function $(Y){let ie;if(Y.lines>h&&Y instanceof Cb)for(let ve of Y.children)$(ve);else Y.lines>g&&(k>g||!k)?(K(),x.push(Y)):Y instanceof fl&&k&&(ie=D[D.length-1])instanceof fl&&Y.lines+ie.lines<=32?(k+=Y.lines,z+=Y.length+1,D[D.length-1]=new fl(ie.text.concat(Y.text),ie.length+1+Y.length)):(k+Y.lines>d&&K(),k+=Y.lines,z+=Y.length+1,D.push(Y))}function K(){k!=0&&(x.push(D.length==1?D[0]:Cb.from(D,z)),z=-1,k=D.length=0)}for(let Y of o)$(Y);return K(),x.length==1?x[0]:new Cb(x,r)}}br.empty=new fl([""],0);function f0e(c){let o=-1;for(let r of c)o+=r.length+1;return o}function WB(c,o,r=0,a=1e9){for(let d=0,h=0,g=!0;h<c.length&&d<=a;h++){let x=c[h],k=d+x.length;k>=r&&(k>a&&(x=x.slice(0,a-d)),d<r&&(x=x.slice(r-d)),g?(o[o.length-1]+=x,g=!1):o.push(x)),d=k+1}return o}function WG(c,o,r){return WB(c,[""],o,r)}class EO{constructor(o,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[o],this.offsets=[r>0?1:(o instanceof fl?o.text.length:o.children.length)<<1]}nextInner(o,r){for(this.done=this.lineBreak=!1;;){let a=this.nodes.length-1,d=this.nodes[a],h=this.offsets[a],g=h>>1,x=d instanceof fl?d.text.length:d.children.length;if(g==(r>0?x:0)){if(a==0)return this.done=!0,this.value="",this;r>0&&this.offsets[a-1]++,this.nodes.pop(),this.offsets.pop()}else if((h&1)==(r>0?0:1)){if(this.offsets[a]+=r,o==0)return this.lineBreak=!0,this.value=`
`,this;o--}else if(d instanceof fl){let k=d.text[g+(r<0?-1:0)];if(this.offsets[a]+=r,k.length>Math.max(0,o))return this.value=o==0?k:r>0?k.slice(o):k.slice(0,k.length-o),this;o-=k.length}else{let k=d.children[g+(r<0?-1:0)];o>k.length?(o-=k.length,this.offsets[a]+=r):(r<0&&this.offsets[a]--,this.nodes.push(k),this.offsets.push(r>0?1:(k instanceof fl?k.text.length:k.children.length)<<1))}}}next(o=0){return o<0&&(this.nextInner(-o,-this.dir),o=this.value.length),this.nextInner(o,this.dir)}}class hJ{constructor(o,r,a){this.value="",this.done=!1,this.cursor=new EO(o,r>a?-1:1),this.pos=r>a?o.length:0,this.from=Math.min(r,a),this.to=Math.max(r,a)}nextInner(o,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;o+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let a=r<0?this.pos-this.from:this.to-this.pos;o>a&&(o=a),a-=o;let{value:d}=this.cursor.next(o);return this.pos+=(d.length+o)*r,this.value=d.length<=a?d:r<0?d.slice(d.length-a):d.slice(0,a),this.done=!this.value,this}next(o=0){return o<0?o=Math.max(o,this.from-this.pos):o>0&&(o=Math.min(o,this.to-this.pos)),this.nextInner(o,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class pJ{constructor(o){this.inner=o,this.afterBreak=!0,this.value="",this.done=!1}next(o=0){let{done:r,lineBreak:a,value:d}=this.inner.next(o);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):a?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=d,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(br.prototype[Symbol.iterator]=function(){return this.iter()},EO.prototype[Symbol.iterator]=hJ.prototype[Symbol.iterator]=pJ.prototype[Symbol.iterator]=function(){return this});class h0e{constructor(o,r,a,d){this.from=o,this.to=r,this.number=a,this.text=d}get length(){return this.to-this.from}}function YS(c,o,r){return o=Math.max(0,Math.min(c.length,o)),[o,Math.max(o,Math.min(c.length,r))]}function nd(c,o,r=!0,a=!0){return d0e(c,o,r,a)}function p0e(c){return c>=56320&&c<57344}function m0e(c){return c>=55296&&c<56320}function Bf(c,o){let r=c.charCodeAt(o);if(!m0e(r)||o+1==c.length)return r;let a=c.charCodeAt(o+1);return p0e(a)?(r-55296<<10)+(a-56320)+65536:r}function Uj(c){return c<=65535?String.fromCharCode(c):(c-=65536,String.fromCharCode((c>>10)+55296,(c&1023)+56320))}function Sb(c){return c<65536?1:2}const NV=/\r\n?|\n/;var Nu=function(c){return c[c.Simple=0]="Simple",c[c.TrackDel=1]="TrackDel",c[c.TrackBefore=2]="TrackBefore",c[c.TrackAfter=3]="TrackAfter",c}(Nu||(Nu={}));class Db{constructor(o){this.sections=o}get length(){let o=0;for(let r=0;r<this.sections.length;r+=2)o+=this.sections[r];return o}get newLength(){let o=0;for(let r=0;r<this.sections.length;r+=2){let a=this.sections[r+1];o+=a<0?this.sections[r]:a}return o}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(o){for(let r=0,a=0,d=0;r<this.sections.length;){let h=this.sections[r++],g=this.sections[r++];g<0?(o(a,d,h),d+=h):d+=g,a+=h}}iterChangedRanges(o,r=!1){RV(this,o,r)}get invertedDesc(){let o=[];for(let r=0;r<this.sections.length;){let a=this.sections[r++],d=this.sections[r++];d<0?o.push(a,d):o.push(d,a)}return new Db(o)}composeDesc(o){return this.empty?o:o.empty?this:mJ(this,o)}mapDesc(o,r=!1){return o.empty?this:LV(this,o,r)}mapPos(o,r=-1,a=Nu.Simple){let d=0,h=0;for(let g=0;g<this.sections.length;){let x=this.sections[g++],k=this.sections[g++],z=d+x;if(k<0){if(z>o)return h+(o-d);h+=x}else{if(a!=Nu.Simple&&z>=o&&(a==Nu.TrackDel&&d<o&&z>o||a==Nu.TrackBefore&&d<o||a==Nu.TrackAfter&&z>o))return null;if(z>o||z==o&&r<0&&!x)return o==d||r<0?h:h+k;h+=k}d=z}if(o>d)throw new RangeError(`Position ${o} is out of range for changeset of length ${d}`);return h}touchesRange(o,r=o){for(let a=0,d=0;a<this.sections.length&&d<=r;){let h=this.sections[a++],g=this.sections[a++],x=d+h;if(g>=0&&d<=r&&x>=o)return d<o&&x>r?"cover":!0;d=x}return!1}toString(){let o="";for(let r=0;r<this.sections.length;){let a=this.sections[r++],d=this.sections[r++];o+=(o?" ":"")+a+(d>=0?":"+d:"")}return o}toJSON(){return this.sections}static fromJSON(o){if(!Array.isArray(o)||o.length%2||o.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Db(o)}static create(o){return new Db(o)}}class Kl extends Db{constructor(o,r){super(o),this.inserted=r}apply(o){if(this.length!=o.length)throw new RangeError("Applying change set to a document with the wrong length");return RV(this,(r,a,d,h,g)=>o=o.replace(d,d+(a-r),g),!1),o}mapDesc(o,r=!1){return LV(this,o,r,!0)}invert(o){let r=this.sections.slice(),a=[];for(let d=0,h=0;d<r.length;d+=2){let g=r[d],x=r[d+1];if(x>=0){r[d]=x,r[d+1]=g;let k=d>>1;for(;a.length<k;)a.push(br.empty);a.push(g?o.slice(h,h+g):br.empty)}h+=g}return new Kl(r,a)}compose(o){return this.empty?o:o.empty?this:mJ(this,o,!0)}map(o,r=!1){return o.empty?this:LV(this,o,r,!0)}iterChanges(o,r=!1){RV(this,o,r)}get desc(){return Db.create(this.sections)}filter(o){let r=[],a=[],d=[],h=new NO(this);e:for(let g=0,x=0;;){let k=g==o.length?1e9:o[g++];for(;x<k||x==k&&h.len==0;){if(h.done)break e;let D=Math.min(h.len,k-x);Fd(d,D,-1);let $=h.ins==-1?-1:h.off==0?h.ins:0;Fd(r,D,$),$>0&&lv(a,r,h.text),h.forward(D),x+=D}let z=o[g++];for(;x<z;){if(h.done)break e;let D=Math.min(h.len,z-x);Fd(r,D,-1),Fd(d,D,h.ins==-1?-1:h.off==0?h.ins:0),h.forward(D),x+=D}}return{changes:new Kl(r,a),filtered:Db.create(d)}}toJSON(){let o=[];for(let r=0;r<this.sections.length;r+=2){let a=this.sections[r],d=this.sections[r+1];d<0?o.push(a):d==0?o.push([a]):o.push([a].concat(this.inserted[r>>1].toJSON()))}return o}static of(o,r,a){let d=[],h=[],g=0,x=null;function k(D=!1){if(!D&&!d.length)return;g<r&&Fd(d,r-g,-1);let $=new Kl(d,h);x=x?x.compose($.map(x)):$,d=[],h=[],g=0}function z(D){if(Array.isArray(D))for(let $ of D)z($);else if(D instanceof Kl){if(D.length!=r)throw new RangeError(`Mismatched change set length (got ${D.length}, expected ${r})`);k(),x=x?x.compose(D.map(x)):D}else{let{from:$,to:K=$,insert:Y}=D;if($>K||$<0||K>r)throw new RangeError(`Invalid change range ${$} to ${K} (in doc of length ${r})`);let ie=Y?typeof Y=="string"?br.of(Y.split(a||NV)):Y:br.empty,ve=ie.length;if($==K&&ve==0)return;$<g&&k(),$>g&&Fd(d,$-g,-1),Fd(d,K-$,ve),lv(h,d,ie),g=K}}return z(o),k(!x),x}static empty(o){return new Kl(o?[o,-1]:[],[])}static fromJSON(o){if(!Array.isArray(o))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],a=[];for(let d=0;d<o.length;d++){let h=o[d];if(typeof h=="number")r.push(h,-1);else{if(!Array.isArray(h)||typeof h[0]!="number"||h.some((g,x)=>x&&typeof g!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(h.length==1)r.push(h[0],0);else{for(;a.length<d;)a.push(br.empty);a[d]=br.of(h.slice(1)),r.push(h[0],a[d].length)}}}return new Kl(r,a)}static createSet(o,r){return new Kl(o,r)}}function Fd(c,o,r,a=!1){if(o==0&&r<=0)return;let d=c.length-2;d>=0&&r<=0&&r==c[d+1]?c[d]+=o:d>=0&&o==0&&c[d]==0?c[d+1]+=r:a?(c[d]+=o,c[d+1]+=r):c.push(o,r)}function lv(c,o,r){if(r.length==0)return;let a=o.length-2>>1;if(a<c.length)c[c.length-1]=c[c.length-1].append(r);else{for(;c.length<a;)c.push(br.empty);c.push(r)}}function RV(c,o,r){let a=c.inserted;for(let d=0,h=0,g=0;g<c.sections.length;){let x=c.sections[g++],k=c.sections[g++];if(k<0)d+=x,h+=x;else{let z=d,D=h,$=br.empty;for(;z+=x,D+=k,k&&a&&($=$.append(a[g-2>>1])),!(r||g==c.sections.length||c.sections[g+1]<0);)x=c.sections[g++],k=c.sections[g++];o(d,z,h,D,$),d=z,h=D}}}function LV(c,o,r,a=!1){let d=[],h=a?[]:null,g=new NO(c),x=new NO(o);for(let k=-1;;){if(g.done&&x.len||x.done&&g.len)throw new Error("Mismatched change set lengths");if(g.ins==-1&&x.ins==-1){let z=Math.min(g.len,x.len);Fd(d,z,-1),g.forward(z),x.forward(z)}else if(x.ins>=0&&(g.ins<0||k==g.i||g.off==0&&(x.len<g.len||x.len==g.len&&!r))){let z=x.len;for(Fd(d,x.ins,-1);z;){let D=Math.min(g.len,z);g.ins>=0&&k<g.i&&g.len<=D&&(Fd(d,0,g.ins),h&&lv(h,d,g.text),k=g.i),g.forward(D),z-=D}x.next()}else if(g.ins>=0){let z=0,D=g.len;for(;D;)if(x.ins==-1){let $=Math.min(D,x.len);z+=$,D-=$,x.forward($)}else if(x.ins==0&&x.len<D)D-=x.len,x.next();else break;Fd(d,z,k<g.i?g.ins:0),h&&k<g.i&&lv(h,d,g.text),k=g.i,g.forward(g.len-D)}else{if(g.done&&x.done)return h?Kl.createSet(d,h):Db.create(d);throw new Error("Mismatched change set lengths")}}}function mJ(c,o,r=!1){let a=[],d=r?[]:null,h=new NO(c),g=new NO(o);for(let x=!1;;){if(h.done&&g.done)return d?Kl.createSet(a,d):Db.create(a);if(h.ins==0)Fd(a,h.len,0,x),h.next();else if(g.len==0&&!g.done)Fd(a,0,g.ins,x),d&&lv(d,a,g.text),g.next();else{if(h.done||g.done)throw new Error("Mismatched change set lengths");{let k=Math.min(h.len2,g.len),z=a.length;if(h.ins==-1){let D=g.ins==-1?-1:g.off?0:g.ins;Fd(a,k,D,x),d&&D&&lv(d,a,g.text)}else g.ins==-1?(Fd(a,h.off?0:h.len,k,x),d&&lv(d,a,h.textBit(k))):(Fd(a,h.off?0:h.len,g.off?0:g.ins,x),d&&!g.off&&lv(d,a,g.text));x=(h.ins>k||g.ins>=0&&g.len>k)&&(x||a.length>z),h.forward2(k),g.forward(k)}}}}class NO{constructor(o){this.set=o,this.i=0,this.next()}next(){let{sections:o}=this.set;this.i<o.length?(this.len=o[this.i++],this.ins=o[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:o}=this.set,r=this.i-2>>1;return r>=o.length?br.empty:o[r]}textBit(o){let{inserted:r}=this.set,a=this.i-2>>1;return a>=r.length&&!o?br.empty:r[a].slice(this.off,o==null?void 0:this.off+o)}forward(o){o==this.len?this.next():(this.len-=o,this.off+=o)}forward2(o){this.ins==-1?this.forward(o):o==this.ins?this.next():(this.ins-=o,this.off+=o)}}class Rk{constructor(o,r,a){this.from=o,this.to=r,this.flags=a}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let o=this.flags&7;return o==7?null:o}get goalColumn(){let o=this.flags>>6;return o==16777215?void 0:o}map(o,r=-1){let a,d;return this.empty?a=d=o.mapPos(this.from,r):(a=o.mapPos(this.from,1),d=o.mapPos(this.to,-1)),a==this.from&&d==this.to?this:new Rk(a,d,this.flags)}extend(o,r=o){if(o<=this.anchor&&r>=this.anchor)return qt.range(o,r);let a=Math.abs(o-this.anchor)>Math.abs(r-this.anchor)?o:r;return qt.range(this.anchor,a)}eq(o,r=!1){return this.anchor==o.anchor&&this.head==o.head&&(!r||!this.empty||this.assoc==o.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(o){if(!o||typeof o.anchor!="number"||typeof o.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return qt.range(o.anchor,o.head)}static create(o,r,a){return new Rk(o,r,a)}}class qt{constructor(o,r){this.ranges=o,this.mainIndex=r}map(o,r=-1){return o.empty?this:qt.create(this.ranges.map(a=>a.map(o,r)),this.mainIndex)}eq(o,r=!1){if(this.ranges.length!=o.ranges.length||this.mainIndex!=o.mainIndex)return!1;for(let a=0;a<this.ranges.length;a++)if(!this.ranges[a].eq(o.ranges[a],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new qt([this.main],0)}addRange(o,r=!0){return qt.create([o].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(o,r=this.mainIndex){let a=this.ranges.slice();return a[r]=o,qt.create(a,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(o=>o.toJSON()),main:this.mainIndex}}static fromJSON(o){if(!o||!Array.isArray(o.ranges)||typeof o.main!="number"||o.main>=o.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new qt(o.ranges.map(r=>Rk.fromJSON(r)),o.main)}static single(o,r=o){return new qt([qt.range(o,r)],0)}static create(o,r=0){if(o.length==0)throw new RangeError("A selection needs at least one range");for(let a=0,d=0;d<o.length;d++){let h=o[d];if(h.empty?h.from<=a:h.from<a)return qt.normalized(o.slice(),r);a=h.to}return new qt(o,r)}static cursor(o,r=0,a,d){return Rk.create(o,o,(r==0?0:r<0?8:16)|(a==null?7:Math.min(6,a))|(d??16777215)<<6)}static range(o,r,a,d){let h=(a??16777215)<<6|(d==null?7:Math.min(6,d));return r<o?Rk.create(r,o,48|h):Rk.create(o,r,(r>o?8:0)|h)}static normalized(o,r=0){let a=o[r];o.sort((d,h)=>d.from-h.from),r=o.indexOf(a);for(let d=1;d<o.length;d++){let h=o[d],g=o[d-1];if(h.empty?h.from<=g.to:h.from<g.to){let x=g.from,k=Math.max(h.to,g.to);d<=r&&r--,o.splice(--d,2,h.anchor>h.head?qt.range(k,x):qt.range(x,k))}}return new qt(o,r)}}function gJ(c,o){for(let r of c.ranges)if(r.to>o)throw new RangeError("Selection points outside of document")}let Wj=0;class Yo{constructor(o,r,a,d,h){this.combine=o,this.compareInput=r,this.compare=a,this.isStatic=d,this.id=Wj++,this.default=o([]),this.extensions=typeof h=="function"?h(this):h}get reader(){return this}static define(o={}){return new Yo(o.combine||(r=>r),o.compareInput||((r,a)=>r===a),o.compare||(o.combine?(r,a)=>r===a:Zj),!!o.static,o.enables)}of(o){return new ZB([],this,0,o)}compute(o,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new ZB(o,this,1,r)}computeN(o,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new ZB(o,this,2,r)}from(o,r){return r||(r=a=>a),this.compute([o],a=>r(a.field(o)))}}function Zj(c,o){return c==o||c.length==o.length&&c.every((r,a)=>r===o[a])}class ZB{constructor(o,r,a,d){this.dependencies=o,this.facet=r,this.type=a,this.value=d,this.id=Wj++}dynamicSlot(o){var r;let a=this.value,d=this.facet.compareInput,h=this.id,g=o[h]>>1,x=this.type==2,k=!1,z=!1,D=[];for(let $ of this.dependencies)$=="doc"?k=!0:$=="selection"?z=!0:(((r=o[$.id])!==null&&r!==void 0?r:1)&1)==0&&D.push(o[$.id]);return{create($){return $.values[g]=a($),1},update($,K){if(k&&K.docChanged||z&&(K.docChanged||K.selection)||BV($,D)){let Y=a($);if(x?!ZG(Y,$.values[g],d):!d(Y,$.values[g]))return $.values[g]=Y,1}return 0},reconfigure:($,K)=>{let Y,ie=K.config.address[h];if(ie!=null){let ve=aP(K,ie);if(this.dependencies.every(Ne=>Ne instanceof Yo?K.facet(Ne)===$.facet(Ne):Ne instanceof sd?K.field(Ne,!1)==$.field(Ne,!1):!0)||(x?ZG(Y=a($),ve,d):d(Y=a($),ve)))return $.values[g]=ve,0}else Y=a($);return $.values[g]=Y,1}}}}function ZG(c,o,r){if(c.length!=o.length)return!1;for(let a=0;a<c.length;a++)if(!r(c[a],o[a]))return!1;return!0}function BV(c,o){let r=!1;for(let a of o)AO(c,a)&1&&(r=!0);return r}function g0e(c,o,r){let a=r.map(k=>c[k.id]),d=r.map(k=>k.type),h=a.filter(k=>!(k&1)),g=c[o.id]>>1;function x(k){let z=[];for(let D=0;D<a.length;D++){let $=aP(k,a[D]);if(d[D]==2)for(let K of $)z.push(K);else z.push($)}return o.combine(z)}return{create(k){for(let z of a)AO(k,z);return k.values[g]=x(k),1},update(k,z){if(!BV(k,h))return 0;let D=x(k);return o.compare(D,k.values[g])?0:(k.values[g]=D,1)},reconfigure(k,z){let D=BV(k,a),$=z.config.facets[o.id],K=z.facet(o);if($&&!D&&Zj(r,$))return k.values[g]=K,0;let Y=x(k);return o.compare(Y,K)?(k.values[g]=K,0):(k.values[g]=Y,1)}}}const gB=Yo.define({static:!0});class sd{constructor(o,r,a,d,h){this.id=o,this.createF=r,this.updateF=a,this.compareF=d,this.spec=h,this.provides=void 0}static define(o){let r=new sd(Wj++,o.create,o.update,o.compare||((a,d)=>a===d),o);return o.provide&&(r.provides=o.provide(r)),r}create(o){let r=o.facet(gB).find(a=>a.field==this);return((r==null?void 0:r.create)||this.createF)(o)}slot(o){let r=o[this.id]>>1;return{create:a=>(a.values[r]=this.create(a),1),update:(a,d)=>{let h=a.values[r],g=this.updateF(h,d);return this.compareF(h,g)?0:(a.values[r]=g,1)},reconfigure:(a,d)=>{let h=a.facet(gB),g=d.facet(gB),x;return(x=h.find(k=>k.field==this))&&x!=g.find(k=>k.field==this)?(a.values[r]=x.create(a),1):d.config.address[this.id]!=null?(a.values[r]=d.field(this),0):(a.values[r]=this.create(a),1)}}}init(o){return[this,gB.of({field:this,create:o})]}get extension(){return this}}const zk={lowest:4,low:3,default:2,high:1,highest:0};function hO(c){return o=>new bJ(o,c)}const Gk={highest:hO(zk.highest),high:hO(zk.high),default:hO(zk.default),low:hO(zk.low),lowest:hO(zk.lowest)};class bJ{constructor(o,r){this.inner=o,this.prec=r}}class $P{of(o){return new PV(this,o)}reconfigure(o){return $P.reconfigure.of({compartment:this,extension:o})}get(o){return o.config.compartments.get(this)}}class PV{constructor(o,r){this.compartment=o,this.inner=r}}class iP{constructor(o,r,a,d,h,g){for(this.base=o,this.compartments=r,this.dynamicSlots=a,this.address=d,this.staticValues=h,this.facets=g,this.statusTemplate=[];this.statusTemplate.length<a.length;)this.statusTemplate.push(0)}staticFacet(o){let r=this.address[o.id];return r==null?o.default:this.staticValues[r>>1]}static resolve(o,r,a){let d=[],h=Object.create(null),g=new Map;for(let K of b0e(o,r,g))K instanceof sd?d.push(K):(h[K.facet.id]||(h[K.facet.id]=[])).push(K);let x=Object.create(null),k=[],z=[];for(let K of d)x[K.id]=z.length<<1,z.push(Y=>K.slot(Y));let D=a==null?void 0:a.config.facets;for(let K in h){let Y=h[K],ie=Y[0].facet,ve=D&&D[K]||[];if(Y.every(Ne=>Ne.type==0))if(x[ie.id]=k.length<<1|1,Zj(ve,Y))k.push(a.facet(ie));else{let Ne=ie.combine(Y.map(ye=>ye.value));k.push(a&&ie.compare(Ne,a.facet(ie))?a.facet(ie):Ne)}else{for(let Ne of Y)Ne.type==0?(x[Ne.id]=k.length<<1|1,k.push(Ne.value)):(x[Ne.id]=z.length<<1,z.push(ye=>Ne.dynamicSlot(ye)));x[ie.id]=z.length<<1,z.push(Ne=>g0e(Ne,ie,Y))}}let $=z.map(K=>K(x));return new iP(o,g,$,x,k,h)}}function b0e(c,o,r){let a=[[],[],[],[],[]],d=new Map;function h(g,x){let k=d.get(g);if(k!=null){if(k<=x)return;let z=a[k].indexOf(g);z>-1&&a[k].splice(z,1),g instanceof PV&&r.delete(g.compartment)}if(d.set(g,x),Array.isArray(g))for(let z of g)h(z,x);else if(g instanceof PV){if(r.has(g.compartment))throw new RangeError("Duplicate use of compartment in extensions");let z=o.get(g.compartment)||g.inner;r.set(g.compartment,z),h(z,x)}else if(g instanceof bJ)h(g.inner,g.prec);else if(g instanceof sd)a[x].push(g),g.provides&&h(g.provides,x);else if(g instanceof ZB)a[x].push(g),g.facet.extensions&&h(g.facet.extensions,zk.default);else{let z=g.extension;if(!z)throw new Error(`Unrecognized extension value in extension set (${g}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);h(z,x)}}return h(c,zk.default),a.reduce((g,x)=>g.concat(x))}function AO(c,o){if(o&1)return 2;let r=o>>1,a=c.status[r];if(a==4)throw new Error("Cyclic dependency between fields and/or facets");if(a&2)return a;c.status[r]=4;let d=c.computeSlot(c,c.config.dynamicSlots[r]);return c.status[r]=2|d}function aP(c,o){return o&1?c.config.staticValues[o>>1]:c.values[o>>1]}const yJ=Yo.define(),IV=Yo.define({combine:c=>c.some(o=>o),static:!0}),xJ=Yo.define({combine:c=>c.length?c[0]:void 0,static:!0}),vJ=Yo.define(),wJ=Yo.define(),kJ=Yo.define(),_J=Yo.define({combine:c=>c.length?c[0]:!1});class Xy{constructor(o,r){this.type=o,this.value=r}static define(){return new y0e}}class y0e{of(o){return new Xy(this,o)}}class x0e{constructor(o){this.map=o}of(o){return new As(this,o)}}class As{constructor(o,r){this.type=o,this.value=r}map(o){let r=this.type.map(this.value,o);return r===void 0?void 0:r==this.value?this:new As(this.type,r)}is(o){return this.type==o}static define(o={}){return new x0e(o.map||(r=>r))}static mapEffects(o,r){if(!o.length)return o;let a=[];for(let d of o){let h=d.map(r);h&&a.push(h)}return a}}As.reconfigure=As.define();As.appendConfig=As.define();class Gl{constructor(o,r,a,d,h,g){this.startState=o,this.changes=r,this.selection=a,this.effects=d,this.annotations=h,this.scrollIntoView=g,this._doc=null,this._state=null,a&&gJ(a,r.newLength),h.some(x=>x.type==Gl.time)||(this.annotations=h.concat(Gl.time.of(Date.now())))}static create(o,r,a,d,h,g){return new Gl(o,r,a,d,h,g)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(o){for(let r of this.annotations)if(r.type==o)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(o){let r=this.annotation(Gl.userEvent);return!!(r&&(r==o||r.length>o.length&&r.slice(0,o.length)==o&&r[o.length]=="."))}}Gl.time=Xy.define();Gl.userEvent=Xy.define();Gl.addToHistory=Xy.define();Gl.remote=Xy.define();function v0e(c,o){let r=[];for(let a=0,d=0;;){let h,g;if(a<c.length&&(d==o.length||o[d]>=c[a]))h=c[a++],g=c[a++];else if(d<o.length)h=o[d++],g=o[d++];else return r;!r.length||r[r.length-1]<h?r.push(h,g):r[r.length-1]<g&&(r[r.length-1]=g)}}function CJ(c,o,r){var a;let d,h,g;return r?(d=o.changes,h=Kl.empty(o.changes.length),g=c.changes.compose(o.changes)):(d=o.changes.map(c.changes),h=c.changes.mapDesc(o.changes,!0),g=c.changes.compose(d)),{changes:g,selection:o.selection?o.selection.map(h):(a=c.selection)===null||a===void 0?void 0:a.map(d),effects:As.mapEffects(c.effects,d).concat(As.mapEffects(o.effects,h)),annotations:c.annotations.length?c.annotations.concat(o.annotations):o.annotations,scrollIntoView:c.scrollIntoView||o.scrollIntoView}}function FV(c,o,r){let a=o.selection,d=IS(o.annotations);return o.userEvent&&(d=d.concat(Gl.userEvent.of(o.userEvent))),{changes:o.changes instanceof Kl?o.changes:Kl.of(o.changes||[],r,c.facet(xJ)),selection:a&&(a instanceof qt?a:qt.single(a.anchor,a.head)),effects:IS(o.effects),annotations:d,scrollIntoView:!!o.scrollIntoView}}function SJ(c,o,r){let a=FV(c,o.length?o[0]:{},c.doc.length);o.length&&o[0].filter===!1&&(r=!1);for(let h=1;h<o.length;h++){o[h].filter===!1&&(r=!1);let g=!!o[h].sequential;a=CJ(a,FV(c,o[h],g?a.changes.newLength:c.doc.length),g)}let d=Gl.create(c,a.changes,a.selection,a.effects,a.annotations,a.scrollIntoView);return k0e(r?w0e(d):d)}function w0e(c){let o=c.startState,r=!0;for(let d of o.facet(vJ)){let h=d(c);if(h===!1){r=!1;break}Array.isArray(h)&&(r=r===!0?h:v0e(r,h))}if(r!==!0){let d,h;if(r===!1)h=c.changes.invertedDesc,d=Kl.empty(o.doc.length);else{let g=c.changes.filter(r);d=g.changes,h=g.filtered.mapDesc(g.changes).invertedDesc}c=Gl.create(o,d,c.selection&&c.selection.map(h),As.mapEffects(c.effects,h),c.annotations,c.scrollIntoView)}let a=o.facet(wJ);for(let d=a.length-1;d>=0;d--){let h=a[d](c);h instanceof Gl?c=h:Array.isArray(h)&&h.length==1&&h[0]instanceof Gl?c=h[0]:c=SJ(o,IS(h),!1)}return c}function k0e(c){let o=c.startState,r=o.facet(kJ),a=c;for(let d=r.length-1;d>=0;d--){let h=r[d](c);h&&Object.keys(h).length&&(a=CJ(a,FV(o,h,c.changes.newLength),!0))}return a==c?c:Gl.create(o,c.changes,c.selection,a.effects,a.annotations,a.scrollIntoView)}const _0e=[];function IS(c){return c==null?_0e:Array.isArray(c)?c:[c]}var ua=function(c){return c[c.Word=0]="Word",c[c.Space=1]="Space",c[c.Other=2]="Other",c}(ua||(ua={}));const C0e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let HV;try{HV=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function S0e(c){if(HV)return HV.test(c);for(let o=0;o<c.length;o++){let r=c[o];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||C0e.test(r)))return!0}return!1}function E0e(c){return o=>{if(!/\S/.test(o))return ua.Space;if(S0e(o))return ua.Word;for(let r=0;r<c.length;r++)if(o.indexOf(c[r])>-1)return ua.Word;return ua.Other}}class Cr{constructor(o,r,a,d,h,g){this.config=o,this.doc=r,this.selection=a,this.values=d,this.status=o.statusTemplate.slice(),this.computeSlot=h,g&&(g._state=this);for(let x=0;x<this.config.dynamicSlots.length;x++)AO(this,x<<1);this.computeSlot=null}field(o,r=!0){let a=this.config.address[o.id];if(a==null){if(r)throw new RangeError("Field is not present in this state");return}return AO(this,a),aP(this,a)}update(...o){return SJ(this,o,!0)}applyTransaction(o){let r=this.config,{base:a,compartments:d}=r;for(let x of o.effects)x.is($P.reconfigure)?(r&&(d=new Map,r.compartments.forEach((k,z)=>d.set(z,k)),r=null),d.set(x.value.compartment,x.value.extension)):x.is(As.reconfigure)?(r=null,a=x.value):x.is(As.appendConfig)&&(r=null,a=IS(a).concat(x.value));let h;r?h=o.startState.values.slice():(r=iP.resolve(a,d,this),h=new Cr(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(k,z)=>z.reconfigure(k,this),null).values);let g=o.startState.facet(IV)?o.newSelection:o.newSelection.asSingle();new Cr(r,o.newDoc,g,h,(x,k)=>k.update(x,o),o)}replaceSelection(o){return typeof o=="string"&&(o=this.toText(o)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:o},range:qt.cursor(r.from+o.length)}))}changeByRange(o){let r=this.selection,a=o(r.ranges[0]),d=this.changes(a.changes),h=[a.range],g=IS(a.effects);for(let x=1;x<r.ranges.length;x++){let k=o(r.ranges[x]),z=this.changes(k.changes),D=z.map(d);for(let K=0;K<x;K++)h[K]=h[K].map(D);let $=d.mapDesc(z,!0);h.push(k.range.map($)),d=d.compose(D),g=As.mapEffects(g,D).concat(As.mapEffects(IS(k.effects),$))}return{changes:d,selection:qt.create(h,r.mainIndex),effects:g}}changes(o=[]){return o instanceof Kl?o:Kl.of(o,this.doc.length,this.facet(Cr.lineSeparator))}toText(o){return br.of(o.split(this.facet(Cr.lineSeparator)||NV))}sliceDoc(o=0,r=this.doc.length){return this.doc.sliceString(o,r,this.lineBreak)}facet(o){let r=this.config.address[o.id];return r==null?o.default:(AO(this,r),aP(this,r))}toJSON(o){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(o)for(let a in o){let d=o[a];d instanceof sd&&this.config.address[d.id]!=null&&(r[a]=d.spec.toJSON(this.field(o[a]),this))}return r}static fromJSON(o,r={},a){if(!o||typeof o.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let d=[];if(a){for(let h in a)if(Object.prototype.hasOwnProperty.call(o,h)){let g=a[h],x=o[h];d.push(g.init(k=>g.spec.fromJSON(x,k)))}}return Cr.create({doc:o.doc,selection:qt.fromJSON(o.selection),extensions:r.extensions?d.concat([r.extensions]):d})}static create(o={}){let r=iP.resolve(o.extensions||[],new Map),a=o.doc instanceof br?o.doc:br.of((o.doc||"").split(r.staticFacet(Cr.lineSeparator)||NV)),d=o.selection?o.selection instanceof qt?o.selection:qt.single(o.selection.anchor,o.selection.head):qt.single(0);return gJ(d,a.length),r.staticFacet(IV)||(d=d.asSingle()),new Cr(r,a,d,r.dynamicSlots.map(()=>null),(h,g)=>g.create(h),null)}get tabSize(){return this.facet(Cr.tabSize)}get lineBreak(){return this.facet(Cr.lineSeparator)||`
`}get readOnly(){return this.facet(_J)}phrase(o,...r){for(let a of this.facet(Cr.phrases))if(Object.prototype.hasOwnProperty.call(a,o)){o=a[o];break}return r.length&&(o=o.replace(/\$(\$|\d*)/g,(a,d)=>{if(d=="$")return"$";let h=+(d||1);return!h||h>r.length?a:r[h-1]})),o}languageDataAt(o,r,a=-1){let d=[];for(let h of this.facet(yJ))for(let g of h(this,r,a))Object.prototype.hasOwnProperty.call(g,o)&&d.push(g[o]);return d}charCategorizer(o){return E0e(this.languageDataAt("wordChars",o).join(""))}wordAt(o){let{text:r,from:a,length:d}=this.doc.lineAt(o),h=this.charCategorizer(o),g=o-a,x=o-a;for(;g>0;){let k=nd(r,g,!1);if(h(r.slice(k,g))!=ua.Word)break;g=k}for(;x<d;){let k=nd(r,x);if(h(r.slice(x,k))!=ua.Word)break;x=k}return g==x?null:qt.range(g+a,x+a)}}Cr.allowMultipleSelections=IV;Cr.tabSize=Yo.define({combine:c=>c.length?c[0]:4});Cr.lineSeparator=xJ;Cr.readOnly=_J;Cr.phrases=Yo.define({compare(c,o){let r=Object.keys(c),a=Object.keys(o);return r.length==a.length&&r.every(d=>c[d]==o[d])}});Cr.languageData=yJ;Cr.changeFilter=vJ;Cr.transactionFilter=wJ;Cr.transactionExtender=kJ;$P.reconfigure=As.define();function Rb(c,o,r={}){let a={};for(let d of c)for(let h of Object.keys(d)){let g=d[h],x=a[h];if(x===void 0)a[h]=g;else if(!(x===g||g===void 0))if(Object.hasOwnProperty.call(r,h))a[h]=r[h](x,g);else throw new Error("Config merge conflict for field "+h)}for(let d in o)a[d]===void 0&&(a[d]=o[d]);return a}class $k{eq(o){return this==o}range(o,r=o){return $V.create(o,r,this)}}$k.prototype.startSide=$k.prototype.endSide=0;$k.prototype.point=!1;$k.prototype.mapMode=Nu.TrackDel;let $V=class EJ{constructor(o,r,a){this.from=o,this.to=r,this.value=a}static create(o,r,a){return new EJ(o,r,a)}};function VV(c,o){return c.from-o.from||c.value.startSide-o.value.startSide}class qj{constructor(o,r,a,d){this.from=o,this.to=r,this.value=a,this.maxPoint=d}get length(){return this.to[this.to.length-1]}findIndex(o,r,a,d=0){let h=a?this.to:this.from;for(let g=d,x=h.length;;){if(g==x)return g;let k=g+x>>1,z=h[k]-o||(a?this.value[k].endSide:this.value[k].startSide)-r;if(k==g)return z>=0?g:x;z>=0?x=k:g=k+1}}between(o,r,a,d){for(let h=this.findIndex(r,-1e9,!0),g=this.findIndex(a,1e9,!1,h);h<g;h++)if(d(this.from[h]+o,this.to[h]+o,this.value[h])===!1)return!1}map(o,r){let a=[],d=[],h=[],g=-1,x=-1;for(let k=0;k<this.value.length;k++){let z=this.value[k],D=this.from[k]+o,$=this.to[k]+o,K,Y;if(D==$){let ie=r.mapPos(D,z.startSide,z.mapMode);if(ie==null||(K=Y=ie,z.startSide!=z.endSide&&(Y=r.mapPos(D,z.endSide),Y<K)))continue}else if(K=r.mapPos(D,z.startSide),Y=r.mapPos($,z.endSide),K>Y||K==Y&&z.startSide>0&&z.endSide<=0)continue;(Y-K||z.endSide-z.startSide)<0||(g<0&&(g=K),z.point&&(x=Math.max(x,Y-K)),a.push(z),d.push(K-g),h.push(Y-g))}return{mapped:a.length?new qj(d,h,a,x):null,pos:g}}}class gr{constructor(o,r,a,d){this.chunkPos=o,this.chunk=r,this.nextLayer=a,this.maxPoint=d}static create(o,r,a,d){return new gr(o,r,a,d)}get length(){let o=this.chunk.length-1;return o<0?0:Math.max(this.chunkEnd(o),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let o=this.nextLayer.size;for(let r of this.chunk)o+=r.value.length;return o}chunkEnd(o){return this.chunkPos[o]+this.chunk[o].length}update(o){let{add:r=[],sort:a=!1,filterFrom:d=0,filterTo:h=this.length}=o,g=o.filter;if(r.length==0&&!g)return this;if(a&&(r=r.slice().sort(VV)),this.isEmpty)return r.length?gr.of(r):this;let x=new AJ(this,null,-1).goto(0),k=0,z=[],D=new qy;for(;x.value||k<r.length;)if(k<r.length&&(x.from-r[k].from||x.startSide-r[k].value.startSide)>=0){let $=r[k++];D.addInner($.from,$.to,$.value)||z.push($)}else x.rangeIndex==1&&x.chunkIndex<this.chunk.length&&(k==r.length||this.chunkEnd(x.chunkIndex)<r[k].from)&&(!g||d>this.chunkEnd(x.chunkIndex)||h<this.chunkPos[x.chunkIndex])&&D.addChunk(this.chunkPos[x.chunkIndex],this.chunk[x.chunkIndex])?x.nextChunk():((!g||d>x.to||h<x.from||g(x.from,x.to,x.value))&&(D.addInner(x.from,x.to,x.value)||z.push($V.create(x.from,x.to,x.value))),x.next());return D.finishInner(this.nextLayer.isEmpty&&!z.length?gr.empty:this.nextLayer.update({add:z,filter:g,filterFrom:d,filterTo:h}))}map(o){if(o.empty||this.isEmpty)return this;let r=[],a=[],d=-1;for(let g=0;g<this.chunk.length;g++){let x=this.chunkPos[g],k=this.chunk[g],z=o.touchesRange(x,x+k.length);if(z===!1)d=Math.max(d,k.maxPoint),r.push(k),a.push(o.mapPos(x));else if(z===!0){let{mapped:D,pos:$}=k.map(x,o);D&&(d=Math.max(d,D.maxPoint),r.push(D),a.push($))}}let h=this.nextLayer.map(o);return r.length==0?h:new gr(a,r,h||gr.empty,d)}between(o,r,a){if(!this.isEmpty){for(let d=0;d<this.chunk.length;d++){let h=this.chunkPos[d],g=this.chunk[d];if(r>=h&&o<=h+g.length&&g.between(h,o-h,r-h,a)===!1)return}this.nextLayer.between(o,r,a)}}iter(o=0){return RO.from([this]).goto(o)}get isEmpty(){return this.nextLayer==this}static iter(o,r=0){return RO.from(o).goto(r)}static compare(o,r,a,d,h=-1){let g=o.filter($=>$.maxPoint>0||!$.isEmpty&&$.maxPoint>=h),x=r.filter($=>$.maxPoint>0||!$.isEmpty&&$.maxPoint>=h),k=qG(g,x,a),z=new pO(g,k,h),D=new pO(x,k,h);a.iterGaps(($,K,Y)=>KG(z,$,D,K,Y,d)),a.empty&&a.length==0&&KG(z,0,D,0,0,d)}static eq(o,r,a=0,d){d==null&&(d=999999999);let h=o.filter(D=>!D.isEmpty&&r.indexOf(D)<0),g=r.filter(D=>!D.isEmpty&&o.indexOf(D)<0);if(h.length!=g.length)return!1;if(!h.length)return!0;let x=qG(h,g),k=new pO(h,x,0).goto(a),z=new pO(g,x,0).goto(a);for(;;){if(k.to!=z.to||!jV(k.active,z.active)||k.point&&(!z.point||!k.point.eq(z.point)))return!1;if(k.to>d)return!0;k.next(),z.next()}}static spans(o,r,a,d,h=-1){let g=new pO(o,null,h).goto(r),x=r,k=g.openStart;for(;;){let z=Math.min(g.to,a);if(g.point){let D=g.activeForPoint(g.to),$=g.pointFrom<r?D.length+1:g.point.startSide<0?D.length:Math.min(D.length,k);d.point(x,z,g.point,D,$,g.pointRank),k=Math.min(g.openEnd(z),D.length)}else z>x&&(d.span(x,z,g.active,k),k=g.openEnd(z));if(g.to>a)return k+(g.point&&g.to>a?1:0);x=g.to,g.next()}}static of(o,r=!1){let a=new qy;for(let d of o instanceof $V?[o]:r?A0e(o):o)a.add(d.from,d.to,d.value);return a.finish()}static join(o){if(!o.length)return gr.empty;let r=o[o.length-1];for(let a=o.length-2;a>=0;a--)for(let d=o[a];d!=gr.empty;d=d.nextLayer)r=new gr(d.chunkPos,d.chunk,r,Math.max(d.maxPoint,r.maxPoint));return r}}gr.empty=new gr([],[],null,-1);function A0e(c){if(c.length>1)for(let o=c[0],r=1;r<c.length;r++){let a=c[r];if(VV(o,a)>0)return c.slice().sort(VV);o=a}return c}gr.empty.nextLayer=gr.empty;class qy{finishChunk(o){this.chunks.push(new qj(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,o&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(o,r,a){this.addInner(o,r,a)||(this.nextLayer||(this.nextLayer=new qy)).add(o,r,a)}addInner(o,r,a){let d=o-this.lastTo||a.startSide-this.last.endSide;if(d<=0&&(o-this.lastFrom||a.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return d<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=o),this.from.push(o-this.chunkStart),this.to.push(r-this.chunkStart),this.last=a,this.lastFrom=o,this.lastTo=r,this.value.push(a),a.point&&(this.maxPoint=Math.max(this.maxPoint,r-o)),!0)}addChunk(o,r){if((o-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(o);let a=r.value.length-1;return this.last=r.value[a],this.lastFrom=r.from[a]+o,this.lastTo=r.to[a]+o,!0}finish(){return this.finishInner(gr.empty)}finishInner(o){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return o;let r=gr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(o):o,this.setMaxPoint);return this.from=null,r}}function qG(c,o,r){let a=new Map;for(let h of c)for(let g=0;g<h.chunk.length;g++)h.chunk[g].maxPoint<=0&&a.set(h.chunk[g],h.chunkPos[g]);let d=new Set;for(let h of o)for(let g=0;g<h.chunk.length;g++){let x=a.get(h.chunk[g]);x!=null&&(r?r.mapPos(x):x)==h.chunkPos[g]&&!(r!=null&&r.touchesRange(x,x+h.chunk[g].length))&&d.add(h.chunk[g])}return d}class AJ{constructor(o,r,a,d=0){this.layer=o,this.skip=r,this.minPoint=a,this.rank=d}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(o,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(o,r,!1),this}gotoInner(o,r,a){for(;this.chunkIndex<this.layer.chunk.length;){let d=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(d)||this.layer.chunkEnd(this.chunkIndex)<o||d.maxPoint<this.minPoint))break;this.chunkIndex++,a=!1}if(this.chunkIndex<this.layer.chunk.length){let d=this.layer.chunk[this.chunkIndex].findIndex(o-this.layer.chunkPos[this.chunkIndex],r,!0);(!a||this.rangeIndex<d)&&this.setRangeIndex(d)}this.next()}forward(o,r){(this.to-o||this.endSide-r)<0&&this.gotoInner(o,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let o=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],a=o+r.from[this.rangeIndex];if(this.from=a,this.to=o+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(o){if(o==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=o}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(o){return this.from-o.from||this.startSide-o.startSide||this.rank-o.rank||this.to-o.to||this.endSide-o.endSide}}class RO{constructor(o){this.heap=o}static from(o,r=null,a=-1){let d=[];for(let h=0;h<o.length;h++)for(let g=o[h];!g.isEmpty;g=g.nextLayer)g.maxPoint>=a&&d.push(new AJ(g,r,a,h));return d.length==1?d[0]:new RO(d)}get startSide(){return this.value?this.value.startSide:0}goto(o,r=-1e9){for(let a of this.heap)a.goto(o,r);for(let a=this.heap.length>>1;a>=0;a--)J9(this.heap,a);return this.next(),this}forward(o,r){for(let a of this.heap)a.forward(o,r);for(let a=this.heap.length>>1;a>=0;a--)J9(this.heap,a);(this.to-o||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let o=this.heap[0];this.from=o.from,this.to=o.to,this.value=o.value,this.rank=o.rank,o.value&&o.next(),J9(this.heap,0)}}}function J9(c,o){for(let r=c[o];;){let a=(o<<1)+1;if(a>=c.length)break;let d=c[a];if(a+1<c.length&&d.compare(c[a+1])>=0&&(d=c[a+1],a++),r.compare(d)<0)break;c[a]=r,c[o]=d,o=a}}class pO{constructor(o,r,a){this.minPoint=a,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=RO.from(o,r,a)}goto(o,r=-1e9){return this.cursor.goto(o,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=o,this.endSide=r,this.openStart=-1,this.next(),this}forward(o,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-o||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(o,r)}removeActive(o){bB(this.active,o),bB(this.activeTo,o),bB(this.activeRank,o),this.minActive=GG(this.active,this.activeTo)}addActive(o){let r=0,{value:a,to:d,rank:h}=this.cursor;for(;r<this.activeRank.length&&(h-this.activeRank[r]||d-this.activeTo[r])>0;)r++;yB(this.active,r,a),yB(this.activeTo,r,d),yB(this.activeRank,r,h),o&&yB(o,r,this.cursor.from),this.minActive=GG(this.active,this.activeTo)}next(){let o=this.to,r=this.point;this.point=null;let a=this.openStart<0?[]:null;for(;;){let d=this.minActive;if(d>-1&&(this.activeTo[d]-this.cursor.from||this.active[d].endSide-this.cursor.startSide)<0){if(this.activeTo[d]>o){this.to=this.activeTo[d],this.endSide=this.active[d].endSide;break}this.removeActive(d),a&&bB(a,d)}else if(this.cursor.value)if(this.cursor.from>o){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let h=this.cursor.value;if(!h.point)this.addActive(a),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=h,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=h.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(a){this.openStart=0;for(let d=a.length-1;d>=0&&a[d]<o;d--)this.openStart++}}activeForPoint(o){if(!this.active.length)return this.active;let r=[];for(let a=this.active.length-1;a>=0&&!(this.activeRank[a]<this.pointRank);a--)(this.activeTo[a]>o||this.activeTo[a]==o&&this.active[a].endSide>=this.point.endSide)&&r.push(this.active[a]);return r.reverse()}openEnd(o){let r=0;for(let a=this.activeTo.length-1;a>=0&&this.activeTo[a]>o;a--)r++;return r}}function KG(c,o,r,a,d,h){c.goto(o),r.goto(a);let g=a+d,x=a,k=a-o;for(;;){let z=c.to+k-r.to,D=z||c.endSide-r.endSide,$=D<0?c.to+k:r.to,K=Math.min($,g);if(c.point||r.point?c.point&&r.point&&(c.point==r.point||c.point.eq(r.point))&&jV(c.activeForPoint(c.to),r.activeForPoint(r.to))||h.comparePoint(x,K,c.point,r.point):K>x&&!jV(c.active,r.active)&&h.compareRange(x,K,c.active,r.active),$>g)break;(z||c.openEnd!=r.openEnd)&&h.boundChange&&h.boundChange($),x=$,D<=0&&c.next(),D>=0&&r.next()}}function jV(c,o){if(c.length!=o.length)return!1;for(let r=0;r<c.length;r++)if(c[r]!=o[r]&&!c[r].eq(o[r]))return!1;return!0}function bB(c,o){for(let r=o,a=c.length-1;r<a;r++)c[r]=c[r+1];c.pop()}function yB(c,o,r){for(let a=c.length-1;a>=o;a--)c[a+1]=c[a];c[o]=r}function GG(c,o){let r=-1,a=1e9;for(let d=0;d<o.length;d++)(o[d]-a||c[d].endSide-c[r].endSide)<0&&(r=d,a=o[d]);return r}function iE(c,o,r=c.length){let a=0;for(let d=0;d<r&&d<c.length;)c.charCodeAt(d)==9?(a+=o-a%o,d++):(a++,d=nd(c,d));return a}function UV(c,o,r,a){for(let d=0,h=0;;){if(h>=o)return d;if(d==c.length)break;h+=c.charCodeAt(d)==9?r-h%r:1,d=nd(c,d)}return a===!0?-1:c.length}const WV="",YG=typeof Symbol>"u"?"__"+WV:Symbol.for(WV),ZV=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),XG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class bv{constructor(o,r){this.rules=[];let{finish:a}=r||{};function d(g){return/^@/.test(g)?[g]:g.split(/,\s*/)}function h(g,x,k,z){let D=[],$=/^@(\w+)\b/.exec(g[0]),K=$&&$[1]=="keyframes";if($&&x==null)return k.push(g[0]+";");for(let Y in x){let ie=x[Y];if(/&/.test(Y))h(Y.split(/,\s*/).map(ve=>g.map(Ne=>ve.replace(/&/,Ne))).reduce((ve,Ne)=>ve.concat(Ne)),ie,k);else if(ie&&typeof ie=="object"){if(!$)throw new RangeError("The value of a property ("+Y+") should be a primitive value.");h(d(Y),ie,D,K)}else ie!=null&&D.push(Y.replace(/_.*/,"").replace(/[A-Z]/g,ve=>"-"+ve.toLowerCase())+": "+ie+";")}(D.length||K)&&k.push((a&&!$&&!z?g.map(a):g).join(", ")+" {"+D.join(" ")+"}")}for(let g in o)h(d(g),o[g],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let o=XG[YG]||1;return XG[YG]=o+1,WV+o.toString(36)}static mount(o,r,a){let d=o[ZV],h=a&&a.nonce;d?h&&d.setNonce(h):d=new T0e(o,h),d.mount(Array.isArray(r)?r:[r],o)}}let QG=new Map;class T0e{constructor(o,r){let a=o.ownerDocument||o,d=a.defaultView;if(!o.head&&o.adoptedStyleSheets&&d.CSSStyleSheet){let h=QG.get(a);if(h)return o[ZV]=h;this.sheet=new d.CSSStyleSheet,QG.set(a,this)}else this.styleTag=a.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],o[ZV]=this}mount(o,r){let a=this.sheet,d=0,h=0;for(let g=0;g<o.length;g++){let x=o[g],k=this.modules.indexOf(x);if(k<h&&k>-1&&(this.modules.splice(k,1),h--,k=-1),k==-1){if(this.modules.splice(h++,0,x),a)for(let z=0;z<x.rules.length;z++)a.insertRule(x.rules[z],d++)}else{for(;h<k;)d+=this.modules[h++].rules.length;d+=x.rules.length,h++}}if(a)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let g="";for(let k=0;k<this.modules.length;k++)g+=this.modules[k].getRules()+`
`;this.styleTag.textContent=g;let x=r.head||r;this.styleTag.parentNode!=x&&x.insertBefore(this.styleTag,x.firstChild)}}setNonce(o){this.styleTag&&this.styleTag.getAttribute("nonce")!=o&&this.styleTag.setAttribute("nonce",o)}}var yv={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},LO={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},O0e=typeof navigator<"u"&&/Mac/.test(navigator.platform),z0e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var od=0;od<10;od++)yv[48+od]=yv[96+od]=String(od);for(var od=1;od<=24;od++)yv[od+111]="F"+od;for(var od=65;od<=90;od++)yv[od]=String.fromCharCode(od+32),LO[od]=String.fromCharCode(od);for(var eV in yv)LO.hasOwnProperty(eV)||(LO[eV]=yv[eV]);function D0e(c){var o=O0e&&c.metaKey&&c.shiftKey&&!c.ctrlKey&&!c.altKey||z0e&&c.shiftKey&&c.key&&c.key.length==1||c.key=="Unidentified",r=!o&&c.key||(c.shiftKey?LO:yv)[c.keyCode]||c.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function wi(){var c=arguments[0];typeof c=="string"&&(c=document.createElement(c));var o=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var d=r[a];typeof d=="string"?c.setAttribute(a,d):d!=null&&(c[a]=d)}o++}for(;o<arguments.length;o++)TJ(c,arguments[o]);return c}function TJ(c,o){if(typeof o=="string")c.appendChild(document.createTextNode(o));else if(o!=null)if(o.nodeType!=null)c.appendChild(o);else if(Array.isArray(o))for(var r=0;r<o.length;r++)TJ(c,o[r]);else throw new RangeError("Unsupported child node: "+o)}function BO(c){let o;return c.nodeType==11?o=c.getSelection?c:c.ownerDocument:o=c,o.getSelection()}function qV(c,o){return o?c==o||c.contains(o.nodeType!=1?o.parentNode:o):!1}function qB(c,o){if(!o.anchorNode)return!1;try{return qV(c,o.anchorNode)}catch{return!1}}function PO(c){return c.nodeType==3?jk(c,0,c.nodeValue.length).getClientRects():c.nodeType==1?c.getClientRects():[]}function TO(c,o,r,a){return r?JG(c,o,r,a,-1)||JG(c,o,r,a,1):!1}function Vk(c){for(var o=0;;o++)if(c=c.previousSibling,!c)return o}function lP(c){return c.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(c.nodeName)}function JG(c,o,r,a,d){for(;;){if(c==r&&o==a)return!0;if(o==(d<0?0:Nb(c))){if(c.nodeName=="DIV")return!1;let h=c.parentNode;if(!h||h.nodeType!=1)return!1;o=Vk(c)+(d<0?0:1),c=h}else if(c.nodeType==1){if(c=c.childNodes[o+(d<0?-1:0)],c.nodeType==1&&c.contentEditable=="false")return!1;o=d<0?Nb(c):0}else return!1}}function Nb(c){return c.nodeType==3?c.nodeValue.length:c.childNodes.length}function VP(c,o){let r=o?c.left:c.right;return{left:r,right:r,top:c.top,bottom:c.bottom}}function M0e(c){let o=c.visualViewport;return o?{left:0,right:o.width,top:0,bottom:o.height}:{left:0,right:c.innerWidth,top:0,bottom:c.innerHeight}}function OJ(c,o){let r=o.width/c.offsetWidth,a=o.height/c.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(o.width-c.offsetWidth)<1)&&(r=1),(a>.995&&a<1.005||!isFinite(a)||Math.abs(o.height-c.offsetHeight)<1)&&(a=1),{scaleX:r,scaleY:a}}function N0e(c,o,r,a,d,h,g,x){let k=c.ownerDocument,z=k.defaultView||window;for(let D=c,$=!1;D&&!$;)if(D.nodeType==1){let K,Y=D==k.body,ie=1,ve=1;if(Y)K=M0e(z);else{if(/^(fixed|sticky)$/.test(getComputedStyle(D).position)&&($=!0),D.scrollHeight<=D.clientHeight&&D.scrollWidth<=D.clientWidth){D=D.assignedSlot||D.parentNode;continue}let Je=D.getBoundingClientRect();({scaleX:ie,scaleY:ve}=OJ(D,Je)),K={left:Je.left,right:Je.left+D.clientWidth*ie,top:Je.top,bottom:Je.top+D.clientHeight*ve}}let Ne=0,ye=0;if(d=="nearest")o.top<K.top?(ye=o.top-(K.top+g),r>0&&o.bottom>K.bottom+ye&&(ye=o.bottom-K.bottom+g)):o.bottom>K.bottom&&(ye=o.bottom-K.bottom+g,r<0&&o.top-ye<K.top&&(ye=o.top-(K.top+g)));else{let Je=o.bottom-o.top,He=K.bottom-K.top;ye=(d=="center"&&Je<=He?o.top+Je/2-He/2:d=="start"||d=="center"&&r<0?o.top-g:o.bottom-He+g)-K.top}if(a=="nearest"?o.left<K.left?(Ne=o.left-(K.left+h),r>0&&o.right>K.right+Ne&&(Ne=o.right-K.right+h)):o.right>K.right&&(Ne=o.right-K.right+h,r<0&&o.left<K.left+Ne&&(Ne=o.left-(K.left+h))):Ne=(a=="center"?o.left+(o.right-o.left)/2-(K.right-K.left)/2:a=="start"==x?o.left-h:o.right-(K.right-K.left)+h)-K.left,Ne||ye)if(Y)z.scrollBy(Ne,ye);else{let Je=0,He=0;if(ye){let ge=D.scrollTop;D.scrollTop+=ye/ve,He=(D.scrollTop-ge)*ve}if(Ne){let ge=D.scrollLeft;D.scrollLeft+=Ne/ie,Je=(D.scrollLeft-ge)*ie}o={left:o.left-Je,top:o.top-He,right:o.right-Je,bottom:o.bottom-He},Je&&Math.abs(Je-Ne)<1&&(a="nearest"),He&&Math.abs(He-ye)<1&&(d="nearest")}if(Y)break;(o.top<K.top||o.bottom>K.bottom||o.left<K.left||o.right>K.right)&&(o={left:Math.max(o.left,K.left),right:Math.min(o.right,K.right),top:Math.max(o.top,K.top),bottom:Math.min(o.bottom,K.bottom)}),D=D.assignedSlot||D.parentNode}else if(D.nodeType==11)D=D.host;else break}function R0e(c){let o=c.ownerDocument,r,a;for(let d=c.parentNode;d&&!(d==o.body||r&&a);)if(d.nodeType==1)!a&&d.scrollHeight>d.clientHeight&&(a=d),!r&&d.scrollWidth>d.clientWidth&&(r=d),d=d.assignedSlot||d.parentNode;else if(d.nodeType==11)d=d.host;else break;return{x:r,y:a}}class L0e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(o){return this.anchorNode==o.anchorNode&&this.anchorOffset==o.anchorOffset&&this.focusNode==o.focusNode&&this.focusOffset==o.focusOffset}setRange(o){let{anchorNode:r,focusNode:a}=o;this.set(r,Math.min(o.anchorOffset,r?Nb(r):0),a,Math.min(o.focusOffset,a?Nb(a):0))}set(o,r,a,d){this.anchorNode=o,this.anchorOffset=r,this.focusNode=a,this.focusOffset=d}}let AS=null;function zJ(c){if(c.setActive)return c.setActive();if(AS)return c.focus(AS);let o=[];for(let r=c;r&&(o.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(c.focus(AS==null?{get preventScroll(){return AS={preventScroll:!0},!0}}:void 0),!AS){AS=!1;for(let r=0;r<o.length;){let a=o[r++],d=o[r++],h=o[r++];a.scrollTop!=d&&(a.scrollTop=d),a.scrollLeft!=h&&(a.scrollLeft=h)}}}let eY;function jk(c,o,r=o){let a=eY||(eY=document.createRange());return a.setEnd(c,r),a.setStart(c,o),a}function FS(c,o,r,a){let d={key:o,code:o,keyCode:r,which:r,cancelable:!0};a&&({altKey:d.altKey,ctrlKey:d.ctrlKey,shiftKey:d.shiftKey,metaKey:d.metaKey}=a);let h=new KeyboardEvent("keydown",d);h.synthetic=!0,c.dispatchEvent(h);let g=new KeyboardEvent("keyup",d);return g.synthetic=!0,c.dispatchEvent(g),h.defaultPrevented||g.defaultPrevented}function B0e(c){for(;c;){if(c&&(c.nodeType==9||c.nodeType==11&&c.host))return c;c=c.assignedSlot||c.parentNode}return null}function DJ(c){for(;c.attributes.length;)c.removeAttributeNode(c.attributes[0])}function P0e(c,o){let r=o.focusNode,a=o.focusOffset;if(!r||o.anchorNode!=r||o.anchorOffset!=a)return!1;for(a=Math.min(a,Nb(r));;)if(a){if(r.nodeType!=1)return!1;let d=r.childNodes[a-1];d.contentEditable=="false"?a--:(r=d,a=Nb(r))}else{if(r==c)return!0;a=Vk(r),r=r.parentNode}}function MJ(c){return c.scrollTop>Math.max(1,c.scrollHeight-c.clientHeight-4)}function NJ(c,o){for(let r=c,a=o;;){if(r.nodeType==3&&a>0)return{node:r,offset:a};if(r.nodeType==1&&a>0){if(r.contentEditable=="false")return null;r=r.childNodes[a-1],a=Nb(r)}else if(r.parentNode&&!lP(r))a=Vk(r),r=r.parentNode;else return null}}function RJ(c,o){for(let r=c,a=o;;){if(r.nodeType==3&&a<r.nodeValue.length)return{node:r,offset:a};if(r.nodeType==1&&a<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[a],a=0}else if(r.parentNode&&!lP(r))a=Vk(r)+1,r=r.parentNode;else return null}}class Hd{constructor(o,r,a=!0){this.node=o,this.offset=r,this.precise=a}static before(o,r){return new Hd(o.parentNode,Vk(o),r)}static after(o,r){return new Hd(o.parentNode,Vk(o)+1,r)}}const Kj=[];class _i{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(o){let r=this.posAtStart;for(let a of this.children){if(a==o)return r;r+=a.length+a.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(o){return this.posBefore(o)+o.length}sync(o,r){if(this.flags&2){let a=this.dom,d=null,h;for(let g of this.children){if(g.flags&7){if(!g.dom&&(h=d?d.nextSibling:a.firstChild)){let x=_i.get(h);(!x||!x.parent&&x.canReuseDOM(g))&&g.reuseDOM(h)}g.sync(o,r),g.flags&=-8}if(h=d?d.nextSibling:a.firstChild,r&&!r.written&&r.node==a&&h!=g.dom&&(r.written=!0),g.dom.parentNode==a)for(;h&&h!=g.dom;)h=tY(h);else a.insertBefore(g.dom,h);d=g.dom}for(h=d?d.nextSibling:a.firstChild,h&&r&&r.node==a&&(r.written=!0);h;)h=tY(h)}else if(this.flags&1)for(let a of this.children)a.flags&7&&(a.sync(o,r),a.flags&=-8)}reuseDOM(o){}localPosFromDOM(o,r){let a;if(o==this.dom)a=this.dom.childNodes[r];else{let d=Nb(o)==0?0:r==0?-1:1;for(;;){let h=o.parentNode;if(h==this.dom)break;d==0&&h.firstChild!=h.lastChild&&(o==h.firstChild?d=-1:d=1),o=h}d<0?a=o:a=o.nextSibling}if(a==this.dom.firstChild)return 0;for(;a&&!_i.get(a);)a=a.nextSibling;if(!a)return this.length;for(let d=0,h=0;;d++){let g=this.children[d];if(g.dom==a)return h;h+=g.length+g.breakAfter}}domBoundsAround(o,r,a=0){let d=-1,h=-1,g=-1,x=-1;for(let k=0,z=a,D=a;k<this.children.length;k++){let $=this.children[k],K=z+$.length;if(z<o&&K>r)return $.domBoundsAround(o,r,z);if(K>=o&&d==-1&&(d=k,h=z),z>r&&$.dom.parentNode==this.dom){g=k,x=D;break}D=K,z=K+$.breakAfter}return{from:h,to:x<0?a+this.length:x,startDOM:(d?this.children[d-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:g<this.children.length&&g>=0?this.children[g].dom:null}}markDirty(o=!1){this.flags|=2,this.markParentsDirty(o)}markParentsDirty(o){for(let r=this.parent;r;r=r.parent){if(o&&(r.flags|=2),r.flags&1)return;r.flags|=1,o=!1}}setParent(o){this.parent!=o&&(this.parent=o,this.flags&7&&this.markParentsDirty(!0))}setDOM(o){this.dom!=o&&(this.dom&&(this.dom.cmView=null),this.dom=o,o.cmView=this)}get rootView(){for(let o=this;;){let r=o.parent;if(!r)return o;o=r}}replaceChildren(o,r,a=Kj){this.markDirty();for(let d=o;d<r;d++){let h=this.children[d];h.parent==this&&a.indexOf(h)<0&&h.destroy()}a.length<250?this.children.splice(o,r-o,...a):this.children=[].concat(this.children.slice(0,o),a,this.children.slice(r));for(let d=0;d<a.length;d++)a[d].setParent(this)}ignoreMutation(o){return!1}ignoreEvent(o){return!1}childCursor(o=this.length){return new LJ(this.children,o,this.children.length)}childPos(o,r=1){return this.childCursor().findPos(o,r)}toString(){let o=this.constructor.name.replace("View","");return o+(this.children.length?"("+this.children.join()+")":this.length?"["+(o=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(o){return o.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(o,r,a,d,h,g){return!1}become(o){return!1}canReuseDOM(o){return o.constructor==this.constructor&&!((this.flags|o.flags)&8)}getSide(){return 0}destroy(){for(let o of this.children)o.parent==this&&o.destroy();this.parent=null}}_i.prototype.breakAfter=0;function tY(c){let o=c.nextSibling;return c.parentNode.removeChild(c),o}class LJ{constructor(o,r,a){this.children=o,this.pos=r,this.i=a,this.off=0}findPos(o,r=1){for(;;){if(o>this.pos||o==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=o-this.pos,this;let a=this.children[--this.i];this.pos-=a.length+a.breakAfter}}}function BJ(c,o,r,a,d,h,g,x,k){let{children:z}=c,D=z.length?z[o]:null,$=h.length?h[h.length-1]:null,K=$?$.breakAfter:g;if(!(o==a&&D&&!g&&!K&&h.length<2&&D.merge(r,d,h.length?$:null,r==0,x,k))){if(a<z.length){let Y=z[a];Y&&(d<Y.length||Y.breakAfter&&($!=null&&$.breakAfter))?(o==a&&(Y=Y.split(d),d=0),!K&&$&&Y.merge(0,d,$,!0,0,k)?h[h.length-1]=Y:((d||Y.children.length&&!Y.children[0].length)&&Y.merge(0,d,null,!1,0,k),h.push(Y))):Y!=null&&Y.breakAfter&&($?$.breakAfter=1:g=1),a++}for(D&&(D.breakAfter=g,r>0&&(!g&&h.length&&D.merge(r,D.length,h[0],!1,x,0)?D.breakAfter=h.shift().breakAfter:(r<D.length||D.children.length&&D.children[D.children.length-1].length==0)&&D.merge(r,D.length,null,!1,x,0),o++));o<a&&h.length;)if(z[a-1].become(h[h.length-1]))a--,h.pop(),k=h.length?0:x;else if(z[o].become(h[0]))o++,h.shift(),x=h.length?0:k;else break;!h.length&&o&&a<z.length&&!z[o-1].breakAfter&&z[a].merge(0,0,z[o-1],!1,x,k)&&o--,(o<a||h.length)&&c.replaceChildren(o,a,h)}}function PJ(c,o,r,a,d,h){let g=c.childCursor(),{i:x,off:k}=g.findPos(r,1),{i:z,off:D}=g.findPos(o,-1),$=o-r;for(let K of a)$+=K.length;c.length+=$,BJ(c,z,D,x,k,a,0,d,h)}let Pf=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},KV=typeof document<"u"?document:{documentElement:{style:{}}};const GV=/Edge\/(\d+)/.exec(Pf.userAgent),IJ=/MSIE \d/.test(Pf.userAgent),YV=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pf.userAgent),jP=!!(IJ||YV||GV),oY=!jP&&/gecko\/(\d+)/i.test(Pf.userAgent),tV=!jP&&/Chrome\/(\d+)/.exec(Pf.userAgent),I0e="webkitFontSmoothing"in KV.documentElement.style,FJ=!jP&&/Apple Computer/.test(Pf.vendor),nY=FJ&&(/Mobile\/\w+/.test(Pf.userAgent)||Pf.maxTouchPoints>2);var Go={mac:nY||/Mac/.test(Pf.platform),windows:/Win/.test(Pf.platform),linux:/Linux|X11/.test(Pf.platform),ie:jP,ie_version:IJ?KV.documentMode||6:YV?+YV[1]:GV?+GV[1]:0,gecko:oY,gecko_version:oY?+(/Firefox\/(\d+)/.exec(Pf.userAgent)||[0,0])[1]:0,chrome:!!tV,chrome_version:tV?+tV[1]:0,ios:nY,android:/Android\b/.test(Pf.userAgent),safari:FJ,webkit_version:I0e?+(/\bAppleWebKit\/(\d+)/.exec(Pf.userAgent)||[0,0])[1]:0,tabSize:KV.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const F0e=256;class ig extends _i{constructor(o){super(),this.text=o}get length(){return this.text.length}createDOM(o){this.setDOM(o||document.createTextNode(this.text))}sync(o,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(o){o.nodeType==3&&this.createDOM(o)}merge(o,r,a){return this.flags&8||a&&(!(a instanceof ig)||this.length-(r-o)+a.length>F0e||a.flags&8)?!1:(this.text=this.text.slice(0,o)+(a?a.text:"")+this.text.slice(r),this.markDirty(),!0)}split(o){let r=new ig(this.text.slice(o));return this.text=this.text.slice(0,o),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(o,r){return o==this.dom?r:r?this.text.length:0}domAtPos(o){return new Hd(this.dom,o)}domBoundsAround(o,r,a){return{from:a,to:a+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(o,r){return H0e(this.dom,o,r)}}class Ky extends _i{constructor(o,r=[],a=0){super(),this.mark=o,this.children=r,this.length=a;for(let d of r)d.setParent(this)}setAttrs(o){if(DJ(o),this.mark.class&&(o.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)o.setAttribute(r,this.mark.attrs[r]);return o}canReuseDOM(o){return super.canReuseDOM(o)&&!((this.flags|o.flags)&8)}reuseDOM(o){o.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(o),this.flags|=6)}sync(o,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(o,r)}merge(o,r,a,d,h,g){return a&&(!(a instanceof Ky&&a.mark.eq(this.mark))||o&&h<=0||r<this.length&&g<=0)?!1:(PJ(this,o,r,a?a.children.slice():[],h-1,g-1),this.markDirty(),!0)}split(o){let r=[],a=0,d=-1,h=0;for(let x of this.children){let k=a+x.length;k>o&&r.push(a<o?x.split(o-a):x),d<0&&a>=o&&(d=h),a=k,h++}let g=this.length-o;return this.length=o,d>-1&&(this.children.length=d,this.markDirty()),new Ky(this.mark,r,g)}domAtPos(o){return HJ(this,o)}coordsAt(o,r){return VJ(this,o,r)}}function H0e(c,o,r){let a=c.nodeValue.length;o>a&&(o=a);let d=o,h=o,g=0;o==0&&r<0||o==a&&r>=0?Go.chrome||Go.gecko||(o?(d--,g=1):h<a&&(h++,g=-1)):r<0?d--:h<a&&h++;let x=jk(c,d,h).getClientRects();if(!x.length)return null;let k=x[(g?g<0:r>=0)?0:x.length-1];return Go.safari&&!g&&k.width==0&&(k=Array.prototype.find.call(x,z=>z.width)||k),g?VP(k,g<0):k||null}class cv extends _i{static create(o,r,a){return new cv(o,r,a)}constructor(o,r,a){super(),this.widget=o,this.length=r,this.side=a,this.prevWidget=null}split(o){let r=cv.create(this.widget,this.length-o,this.side);return this.length-=o,r}sync(o){(!this.dom||!this.widget.updateDOM(this.dom,o))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(o)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(o,r,a,d,h,g){return a&&(!(a instanceof cv)||!this.widget.compare(a.widget)||o>0&&h<=0||r<this.length&&g<=0)?!1:(this.length=o+(a?a.length:0)+(this.length-r),!0)}become(o){return o instanceof cv&&o.side==this.side&&this.widget.constructor==o.widget.constructor?(this.widget.compare(o.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=o.widget,this.length=o.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(o){return this.widget.ignoreEvent(o)}get overrideDOMText(){if(this.length==0)return br.empty;let o=this;for(;o.parent;)o=o.parent;let{view:r}=o,a=r&&r.state.doc,d=this.posAtStart;return a?a.slice(d,d+this.length):br.empty}domAtPos(o){return(this.length?o==0:this.side>0)?Hd.before(this.dom):Hd.after(this.dom,o==this.length)}domBoundsAround(){return null}coordsAt(o,r){let a=this.widget.coordsAt(this.dom,o,r);if(a)return a;let d=this.dom.getClientRects(),h=null;if(!d.length)return null;let g=this.side?this.side<0:o>0;for(let x=g?d.length-1:0;h=d[x],!(o>0?x==0:x==d.length-1||h.top<h.bottom);x+=g?-1:1);return VP(h,!g)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class XS extends _i{constructor(o){super(),this.side=o}get length(){return 0}merge(){return!1}become(o){return o instanceof XS&&o.side==this.side}split(){return new XS(this.side)}sync(){if(!this.dom){let o=document.createElement("img");o.className="cm-widgetBuffer",o.setAttribute("aria-hidden","true"),this.setDOM(o)}}getSide(){return this.side}domAtPos(o){return this.side>0?Hd.before(this.dom):Hd.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(o){return this.dom.getBoundingClientRect()}get overrideDOMText(){return br.empty}get isHidden(){return!0}}ig.prototype.children=cv.prototype.children=XS.prototype.children=Kj;function HJ(c,o){let r=c.dom,{children:a}=c,d=0;for(let h=0;d<a.length;d++){let g=a[d],x=h+g.length;if(!(x==h&&g.getSide()<=0)){if(o>h&&o<x&&g.dom.parentNode==r)return g.domAtPos(o-h);if(o<=h)break;h=x}}for(let h=d;h>0;h--){let g=a[h-1];if(g.dom.parentNode==r)return g.domAtPos(g.length)}for(let h=d;h<a.length;h++){let g=a[h];if(g.dom.parentNode==r)return g.domAtPos(0)}return new Hd(r,0)}function $J(c,o,r){let a,{children:d}=c;r>0&&o instanceof Ky&&d.length&&(a=d[d.length-1])instanceof Ky&&a.mark.eq(o.mark)?$J(a,o.children[0],r-1):(d.push(o),o.setParent(c)),c.length+=o.length}function VJ(c,o,r){let a=null,d=-1,h=null,g=-1;function x(z,D){for(let $=0,K=0;$<z.children.length&&K<=D;$++){let Y=z.children[$],ie=K+Y.length;ie>=D&&(Y.children.length?x(Y,D-K):(!h||h.isHidden&&(r>0||V0e(h,Y)))&&(ie>D||K==ie&&Y.getSide()>0)?(h=Y,g=D-K):(K<D||K==ie&&Y.getSide()<0&&!Y.isHidden)&&(a=Y,d=D-K)),K=ie}}x(c,o);let k=(r<0?a:h)||a||h;return k?k.coordsAt(Math.max(0,k==a?d:g),r):$0e(c)}function $0e(c){let o=c.dom.lastChild;if(!o)return c.dom.getBoundingClientRect();let r=PO(o);return r[r.length-1]||null}function V0e(c,o){let r=c.coordsAt(0,1),a=o.coordsAt(0,1);return r&&a&&a.top<r.bottom}function XV(c,o){for(let r in c)r=="class"&&o.class?o.class+=" "+c.class:r=="style"&&o.style?o.style+=";"+c.style:o[r]=c[r];return o}const sY=Object.create(null);function cP(c,o,r){if(c==o)return!0;c||(c=sY),o||(o=sY);let a=Object.keys(c),d=Object.keys(o);if(a.length-(r&&a.indexOf(r)>-1?1:0)!=d.length-(r&&d.indexOf(r)>-1?1:0))return!1;for(let h of a)if(h!=r&&(d.indexOf(h)==-1||c[h]!==o[h]))return!1;return!0}function QV(c,o,r){let a=!1;if(o)for(let d in o)r&&d in r||(a=!0,d=="style"?c.style.cssText="":c.removeAttribute(d));if(r)for(let d in r)o&&o[d]==r[d]||(a=!0,d=="style"?c.style.cssText=r[d]:c.setAttribute(d,r[d]));return a}function j0e(c){let o=Object.create(null);for(let r=0;r<c.attributes.length;r++){let a=c.attributes[r];o[a.name]=a.value}return o}class Sv{eq(o){return!1}updateDOM(o,r){return!1}compare(o){return this==o||this.constructor==o.constructor&&this.eq(o)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(o){return!0}coordsAt(o,r,a){return null}get isHidden(){return!1}get editable(){return!1}destroy(o){}}var Bu=function(c){return c[c.Text=0]="Text",c[c.WidgetBefore=1]="WidgetBefore",c[c.WidgetAfter=2]="WidgetAfter",c[c.WidgetRange=3]="WidgetRange",c}(Bu||(Bu={}));class qn extends $k{constructor(o,r,a,d){super(),this.startSide=o,this.endSide=r,this.widget=a,this.spec=d}get heightRelevant(){return!1}static mark(o){return new oz(o)}static widget(o){let r=Math.max(-1e4,Math.min(1e4,o.side||0)),a=!!o.block;return r+=a&&!o.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new xv(o,r,r,a,o.widget||null,!1)}static replace(o){let r=!!o.block,a,d;if(o.isBlockGap)a=-5e8,d=4e8;else{let{start:h,end:g}=jJ(o,r);a=(h?r?-3e8:-1:5e8)-1,d=(g?r?2e8:1:-6e8)+1}return new xv(o,a,d,r,o.widget||null,!0)}static line(o){return new nz(o)}static set(o,r=!1){return gr.of(o,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}qn.none=gr.empty;class oz extends qn{constructor(o){let{start:r,end:a}=jJ(o);super(r?-1:5e8,a?1:-6e8,null,o),this.tagName=o.tagName||"span",this.class=o.class||"",this.attrs=o.attributes||null}eq(o){var r,a;return this==o||o instanceof oz&&this.tagName==o.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(o.class||((a=o.attrs)===null||a===void 0?void 0:a.class))&&cP(this.attrs,o.attrs,"class")}range(o,r=o){if(o>=r)throw new RangeError("Mark decorations may not be empty");return super.range(o,r)}}oz.prototype.point=!1;class nz extends qn{constructor(o){super(-2e8,-2e8,null,o)}eq(o){return o instanceof nz&&this.spec.class==o.spec.class&&cP(this.spec.attributes,o.spec.attributes)}range(o,r=o){if(r!=o)throw new RangeError("Line decoration ranges must be zero-length");return super.range(o,r)}}nz.prototype.mapMode=Nu.TrackBefore;nz.prototype.point=!0;class xv extends qn{constructor(o,r,a,d,h,g){super(r,a,h,o),this.block=d,this.isReplace=g,this.mapMode=d?r<=0?Nu.TrackBefore:Nu.TrackAfter:Nu.TrackDel}get type(){return this.startSide!=this.endSide?Bu.WidgetRange:this.startSide<=0?Bu.WidgetBefore:Bu.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(o){return o instanceof xv&&U0e(this.widget,o.widget)&&this.block==o.block&&this.startSide==o.startSide&&this.endSide==o.endSide}range(o,r=o){if(this.isReplace&&(o>r||o==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=o)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(o,r)}}xv.prototype.point=!0;function jJ(c,o=!1){let{inclusiveStart:r,inclusiveEnd:a}=c;return r==null&&(r=c.inclusive),a==null&&(a=c.inclusive),{start:r??o,end:a??o}}function U0e(c,o){return c==o||!!(c&&o&&c.compare(o))}function KB(c,o,r,a=0){let d=r.length-1;d>=0&&r[d]+a>=c?r[d]=Math.max(r[d],o):r.push(c,o)}class Sl extends _i{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(o,r,a,d,h,g){if(a){if(!(a instanceof Sl))return!1;this.dom||a.transferDOM(this)}return d&&this.setDeco(a?a.attrs:null),PJ(this,o,r,a?a.children.slice():[],h,g),!0}split(o){let r=new Sl;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:a,off:d}=this.childPos(o);d&&(r.append(this.children[a].split(d),0),this.children[a].merge(d,this.children[a].length,null,!1,0,0),a++);for(let h=a;h<this.children.length;h++)r.append(this.children[h],0);for(;a>0&&this.children[a-1].length==0;)this.children[--a].destroy();return this.children.length=a,this.markDirty(),this.length=o,r}transferDOM(o){this.dom&&(this.markDirty(),o.setDOM(this.dom),o.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(o){cP(this.attrs,o)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=o)}append(o,r){$J(this,o,r)}addLineDeco(o){let r=o.spec.attributes,a=o.spec.class;r&&(this.attrs=XV(r,this.attrs||{})),a&&(this.attrs=XV({class:a},this.attrs||{}))}domAtPos(o){return HJ(this,o)}reuseDOM(o){o.nodeName=="DIV"&&(this.setDOM(o),this.flags|=6)}sync(o,r){var a;this.dom?this.flags&4&&(DJ(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(QV(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(o,r);let d=this.dom.lastChild;for(;d&&_i.get(d)instanceof Ky;)d=d.lastChild;if(!d||!this.length||d.nodeName!="BR"&&((a=_i.get(d))===null||a===void 0?void 0:a.isEditable)==!1&&(!Go.ios||!this.children.some(h=>h instanceof ig))){let h=document.createElement("BR");h.cmIgnore=!0,this.dom.appendChild(h)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let o=0,r;for(let a of this.children){if(!(a instanceof ig)||/[^ -~]/.test(a.text))return null;let d=PO(a.dom);if(d.length!=1)return null;o+=d[0].width,r=d[0].height}return o?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:o/this.length,textHeight:r}:null}coordsAt(o,r){let a=VJ(this,o,r);if(!this.children.length&&a&&this.parent){let{heightOracle:d}=this.parent.view.viewState,h=a.bottom-a.top;if(Math.abs(h-d.lineHeight)<2&&d.textHeight<h){let g=(h-d.textHeight)/2;return{top:a.top+g,bottom:a.bottom-g,left:a.left,right:a.left}}}return a}become(o){return o instanceof Sl&&this.children.length==0&&o.children.length==0&&cP(this.attrs,o.attrs)&&this.breakAfter==o.breakAfter}covers(){return!0}static find(o,r){for(let a=0,d=0;a<o.children.length;a++){let h=o.children[a],g=d+h.length;if(g>=r){if(h instanceof Sl)return h;if(g>r)break}d=g+h.breakAfter}return null}}class Wy extends _i{constructor(o,r,a){super(),this.widget=o,this.length=r,this.deco=a,this.breakAfter=0,this.prevWidget=null}merge(o,r,a,d,h,g){return a&&(!(a instanceof Wy)||!this.widget.compare(a.widget)||o>0&&h<=0||r<this.length&&g<=0)?!1:(this.length=o+(a?a.length:0)+(this.length-r),!0)}domAtPos(o){return o==0?Hd.before(this.dom):Hd.after(this.dom,o==this.length)}split(o){let r=this.length-o;this.length=o;let a=new Wy(this.widget,r,this.deco);return a.breakAfter=this.breakAfter,a}get children(){return Kj}sync(o){(!this.dom||!this.widget.updateDOM(this.dom,o))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(o)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):br.empty}domBoundsAround(){return null}become(o){return o instanceof Wy&&o.widget.constructor==this.widget.constructor?(o.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=o.widget,this.length=o.length,this.deco=o.deco,this.breakAfter=o.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(o){return this.widget.ignoreEvent(o)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(o,r){let a=this.widget.coordsAt(this.dom,o,r);return a||(this.widget instanceof JV?null:VP(this.dom.getBoundingClientRect(),this.length?o==0:r<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(o){let{startSide:r,endSide:a}=this.deco;return r==a?!1:o<0?r<0:a>0}}class JV extends Sv{constructor(o){super(),this.height=o}toDOM(){let o=document.createElement("div");return o.className="cm-gap",this.updateDOM(o),o}eq(o){return o.height==this.height}updateDOM(o){return o.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class OO{constructor(o,r,a,d){this.doc=o,this.pos=r,this.end=a,this.disallowBlockEffectsFor=d,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=o.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let o=this.content[this.content.length-1];return!(o.breakAfter||o instanceof Wy&&o.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Sl),this.atCursorPos=!0),this.curLine}flushBuffer(o=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(xB(new XS(-1),o),o.length),this.pendingBuffer=0)}addBlockWidget(o){this.flushBuffer(),this.curLine=null,this.content.push(o)}finish(o){this.pendingBuffer&&o<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(o&&this.content.length&&this.content[this.content.length-1]instanceof Wy)&&this.getLine()}buildText(o,r,a){for(;o>0;){if(this.textOff==this.text.length){let{value:h,lineBreak:g,done:x}=this.cursor.next(this.skip);if(this.skip=0,x)throw new Error("Ran out of text content when drawing inline views");if(g){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,o--;continue}else this.text=h,this.textOff=0}let d=Math.min(this.text.length-this.textOff,o,512);this.flushBuffer(r.slice(r.length-a)),this.getLine().append(xB(new ig(this.text.slice(this.textOff,this.textOff+d)),r),a),this.atCursorPos=!0,this.textOff+=d,o-=d,a=0}}span(o,r,a,d){this.buildText(r-o,a,d),this.pos=r,this.openStart<0&&(this.openStart=d)}point(o,r,a,d,h,g){if(this.disallowBlockEffectsFor[g]&&a instanceof xv){if(a.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let x=r-o;if(a instanceof xv)if(a.block)a.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Wy(a.widget||QS.block,x,a));else{let k=cv.create(a.widget||QS.inline,x,x?0:a.startSide),z=this.atCursorPos&&!k.isEditable&&h<=d.length&&(o<r||a.startSide>0),D=!k.isEditable&&(o<r||h>d.length||a.startSide<=0),$=this.getLine();this.pendingBuffer==2&&!z&&!k.isEditable&&(this.pendingBuffer=0),this.flushBuffer(d),z&&($.append(xB(new XS(1),d),h),h=d.length+Math.max(0,h-d.length)),$.append(xB(k,d),h),this.atCursorPos=D,this.pendingBuffer=D?o<r||h>d.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=d.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(a);x&&(this.textOff+x<=this.text.length?this.textOff+=x:(this.skip+=x-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=h)}static build(o,r,a,d,h){let g=new OO(o,r,a,h);return g.openEnd=gr.spans(d,r,a,g),g.openStart<0&&(g.openStart=g.openEnd),g.finish(g.openEnd),g}}function xB(c,o){for(let r of o)c=new Ky(r,[c],c.length);return c}class QS extends Sv{constructor(o){super(),this.tag=o}eq(o){return o.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(o){return o.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}QS.inline=new QS("span");QS.block=new QS("div");var Ki=function(c){return c[c.LTR=0]="LTR",c[c.RTL=1]="RTL",c}(Ki||(Ki={}));const Uk=Ki.LTR,Gj=Ki.RTL;function UJ(c){let o=[];for(let r=0;r<c.length;r++)o.push(1<<+c[r]);return o}const W0e=UJ("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Z0e=UJ("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ej=Object.create(null),vb=[];for(let c of["()","[]","{}"]){let o=c.charCodeAt(0),r=c.charCodeAt(1);ej[o]=r,ej[r]=-o}function WJ(c){return c<=247?W0e[c]:1424<=c&&c<=1524?2:1536<=c&&c<=1785?Z0e[c-1536]:1774<=c&&c<=2220?4:8192<=c&&c<=8204?256:64336<=c&&c<=65023?4:1}const q0e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class dv{get dir(){return this.level%2?Gj:Uk}constructor(o,r,a){this.from=o,this.to=r,this.level=a}side(o,r){return this.dir==r==o?this.to:this.from}forward(o,r){return o==(this.dir==r)}static find(o,r,a,d){let h=-1;for(let g=0;g<o.length;g++){let x=o[g];if(x.from<=r&&x.to>=r){if(x.level==a)return g;(h<0||(d!=0?d<0?x.from<r:x.to>r:o[h].level>x.level))&&(h=g)}}if(h<0)throw new RangeError("Index out of range");return h}}function ZJ(c,o){if(c.length!=o.length)return!1;for(let r=0;r<c.length;r++){let a=c[r],d=o[r];if(a.from!=d.from||a.to!=d.to||a.direction!=d.direction||!ZJ(a.inner,d.inner))return!1}return!0}const ki=[];function K0e(c,o,r,a,d){for(let h=0;h<=a.length;h++){let g=h?a[h-1].to:o,x=h<a.length?a[h].from:r,k=h?256:d;for(let z=g,D=k,$=k;z<x;z++){let K=WJ(c.charCodeAt(z));K==512?K=D:K==8&&$==4&&(K=16),ki[z]=K==4?2:K,K&7&&($=K),D=K}for(let z=g,D=k,$=k;z<x;z++){let K=ki[z];if(K==128)z<x-1&&D==ki[z+1]&&D&24?K=ki[z]=D:ki[z]=256;else if(K==64){let Y=z+1;for(;Y<x&&ki[Y]==64;)Y++;let ie=z&&D==8||Y<r&&ki[Y]==8?$==1?1:8:256;for(let ve=z;ve<Y;ve++)ki[ve]=ie;z=Y-1}else K==8&&$==1&&(ki[z]=1);D=K,K&7&&($=K)}}}function G0e(c,o,r,a,d){let h=d==1?2:1;for(let g=0,x=0,k=0;g<=a.length;g++){let z=g?a[g-1].to:o,D=g<a.length?a[g].from:r;for(let $=z,K,Y,ie;$<D;$++)if(Y=ej[K=c.charCodeAt($)])if(Y<0){for(let ve=x-3;ve>=0;ve-=3)if(vb[ve+1]==-Y){let Ne=vb[ve+2],ye=Ne&2?d:Ne&4?Ne&1?h:d:0;ye&&(ki[$]=ki[vb[ve]]=ye),x=ve;break}}else{if(vb.length==189)break;vb[x++]=$,vb[x++]=K,vb[x++]=k}else if((ie=ki[$])==2||ie==1){let ve=ie==d;k=ve?0:1;for(let Ne=x-3;Ne>=0;Ne-=3){let ye=vb[Ne+2];if(ye&2)break;if(ve)vb[Ne+2]|=2;else{if(ye&4)break;vb[Ne+2]|=4}}}}}function Y0e(c,o,r,a){for(let d=0,h=a;d<=r.length;d++){let g=d?r[d-1].to:c,x=d<r.length?r[d].from:o;for(let k=g;k<x;){let z=ki[k];if(z==256){let D=k+1;for(;;)if(D==x){if(d==r.length)break;D=r[d++].to,x=d<r.length?r[d].from:o}else if(ki[D]==256)D++;else break;let $=h==1,K=(D<o?ki[D]:a)==1,Y=$==K?$?1:2:a;for(let ie=D,ve=d,Ne=ve?r[ve-1].to:c;ie>k;)ie==Ne&&(ie=r[--ve].from,Ne=ve?r[ve-1].to:c),ki[--ie]=Y;k=D}else h=z,k++}}}function tj(c,o,r,a,d,h,g){let x=a%2?2:1;if(a%2==d%2)for(let k=o,z=0;k<r;){let D=!0,$=!1;if(z==h.length||k<h[z].from){let ve=ki[k];ve!=x&&(D=!1,$=ve==16)}let K=!D&&x==1?[]:null,Y=D?a:a+1,ie=k;e:for(;;)if(z<h.length&&ie==h[z].from){if($)break e;let ve=h[z];if(!D)for(let Ne=ve.to,ye=z+1;;){if(Ne==r)break e;if(ye<h.length&&h[ye].from==Ne)Ne=h[ye++].to;else{if(ki[Ne]==x)break e;break}}if(z++,K)K.push(ve);else{ve.from>k&&g.push(new dv(k,ve.from,Y));let Ne=ve.direction==Uk!=!(Y%2);oj(c,Ne?a+1:a,d,ve.inner,ve.from,ve.to,g),k=ve.to}ie=ve.to}else{if(ie==r||(D?ki[ie]!=x:ki[ie]==x))break;ie++}K?tj(c,k,ie,a+1,d,K,g):k<ie&&g.push(new dv(k,ie,Y)),k=ie}else for(let k=r,z=h.length;k>o;){let D=!0,$=!1;if(!z||k>h[z-1].to){let ve=ki[k-1];ve!=x&&(D=!1,$=ve==16)}let K=!D&&x==1?[]:null,Y=D?a:a+1,ie=k;e:for(;;)if(z&&ie==h[z-1].to){if($)break e;let ve=h[--z];if(!D)for(let Ne=ve.from,ye=z;;){if(Ne==o)break e;if(ye&&h[ye-1].to==Ne)Ne=h[--ye].from;else{if(ki[Ne-1]==x)break e;break}}if(K)K.push(ve);else{ve.to<k&&g.push(new dv(ve.to,k,Y));let Ne=ve.direction==Uk!=!(Y%2);oj(c,Ne?a+1:a,d,ve.inner,ve.from,ve.to,g),k=ve.from}ie=ve.from}else{if(ie==o||(D?ki[ie-1]!=x:ki[ie-1]==x))break;ie--}K?tj(c,ie,k,a+1,d,K,g):ie<k&&g.push(new dv(ie,k,Y)),k=ie}}function oj(c,o,r,a,d,h,g){let x=o%2?2:1;K0e(c,d,h,a,x),G0e(c,d,h,a,x),Y0e(d,h,a,x),tj(c,d,h,o,r,a,g)}function X0e(c,o,r){if(!c)return[new dv(0,0,o==Gj?1:0)];if(o==Uk&&!r.length&&!q0e.test(c))return qJ(c.length);if(r.length)for(;c.length>ki.length;)ki[ki.length]=256;let a=[],d=o==Uk?0:1;return oj(c,d,d,r,0,c.length,a),a}function qJ(c){return[new dv(0,c,0)]}let KJ="";function Q0e(c,o,r,a,d){var h;let g=a.head-c.from,x=dv.find(o,g,(h=a.bidiLevel)!==null&&h!==void 0?h:-1,a.assoc),k=o[x],z=k.side(d,r);if(g==z){let K=x+=d?1:-1;if(K<0||K>=o.length)return null;k=o[x=K],g=k.side(!d,r),z=k.side(d,r)}let D=nd(c.text,g,k.forward(d,r));(D<k.from||D>k.to)&&(D=z),KJ=c.text.slice(Math.min(g,D),Math.max(g,D));let $=x==(d?o.length-1:0)?null:o[x+(d?1:-1)];return $&&D==z&&$.level+(d?0:1)<k.level?qt.cursor($.side(!d,r)+c.from,$.forward(d,r)?1:-1,$.level):qt.cursor(D+c.from,k.forward(d,r)?-1:1,k.level)}function J0e(c,o,r){for(let a=o;a<r;a++){let d=WJ(c.charCodeAt(a));if(d==1)return Uk;if(d==2||d==4)return Gj}return Uk}const GJ=Yo.define(),YJ=Yo.define(),XJ=Yo.define(),QJ=Yo.define(),nj=Yo.define(),JJ=Yo.define(),eee=Yo.define(),Yj=Yo.define(),Xj=Yo.define(),tee=Yo.define({combine:c=>c.some(o=>o)}),oee=Yo.define({combine:c=>c.some(o=>o)}),nee=Yo.define();class HS{constructor(o,r="nearest",a="nearest",d=5,h=5,g=!1){this.range=o,this.y=r,this.x=a,this.yMargin=d,this.xMargin=h,this.isSnapshot=g}map(o){return o.empty?this:new HS(this.range.map(o),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(o){return this.range.to<=o.doc.length?this:new HS(qt.cursor(o.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const vB=As.define({map:(c,o)=>c.map(o)}),see=As.define();function Hf(c,o,r){let a=c.facet(QJ);a.length?a[0](o):window.onerror&&window.onerror(String(o),r,void 0,void 0,o)||(r?console.error(r+":",o):console.error(o))}const Vy=Yo.define({combine:c=>c.length?c[0]:!0});let eye=0;const RS=Yo.define({combine(c){return c.filter((o,r)=>{for(let a=0;a<r;a++)if(c[a].plugin==o.plugin)return!1;return!0})}});class Al{constructor(o,r,a,d,h){this.id=o,this.create=r,this.domEventHandlers=a,this.domEventObservers=d,this.baseExtensions=h(this),this.extension=this.baseExtensions.concat(RS.of({plugin:this,arg:void 0}))}of(o){return this.baseExtensions.concat(RS.of({plugin:this,arg:o}))}static define(o,r){const{eventHandlers:a,eventObservers:d,provide:h,decorations:g}=r||{};return new Al(eye++,o,a,d,x=>{let k=[];return g&&k.push(IO.of(z=>{let D=z.plugin(x);return D?g(D):qn.none})),h&&k.push(h(x)),k})}static fromClass(o,r){return Al.define((a,d)=>new o(a,d),r)}}class oV{constructor(o){this.spec=o,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(o){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(a){if(Hf(r.state,a,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(o,this.spec.arg)}catch(r){Hf(o.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(o){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(a){Hf(o.state,a,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const ree=Yo.define(),Qj=Yo.define(),IO=Yo.define(),iee=Yo.define(),Jj=Yo.define(),aee=Yo.define();function rY(c,o){let r=c.state.facet(aee);if(!r.length)return r;let a=r.map(h=>h instanceof Function?h(c):h),d=[];return gr.spans(a,o.from,o.to,{point(){},span(h,g,x,k){let z=h-o.from,D=g-o.from,$=d;for(let K=x.length-1;K>=0;K--,k--){let Y=x[K].spec.bidiIsolate,ie;if(Y==null&&(Y=J0e(o.text,z,D)),k>0&&$.length&&(ie=$[$.length-1]).to==z&&ie.direction==Y)ie.to=D,$=ie.inner;else{let ve={from:z,to:D,direction:Y,inner:[]};$.push(ve),$=ve.inner}}}}),d}const lee=Yo.define();function eU(c){let o=0,r=0,a=0,d=0;for(let h of c.state.facet(lee)){let g=h(c);g&&(g.left!=null&&(o=Math.max(o,g.left)),g.right!=null&&(r=Math.max(r,g.right)),g.top!=null&&(a=Math.max(a,g.top)),g.bottom!=null&&(d=Math.max(d,g.bottom)))}return{left:o,right:r,top:a,bottom:d}}const xO=Yo.define();class Fp{constructor(o,r,a,d){this.fromA=o,this.toA=r,this.fromB=a,this.toB=d}join(o){return new Fp(Math.min(this.fromA,o.fromA),Math.max(this.toA,o.toA),Math.min(this.fromB,o.fromB),Math.max(this.toB,o.toB))}addToSet(o){let r=o.length,a=this;for(;r>0;r--){let d=o[r-1];if(!(d.fromA>a.toA)){if(d.toA<a.fromA)break;a=a.join(d),o.splice(r-1,1)}}return o.splice(r,0,a),o}static extendWithRanges(o,r){if(r.length==0)return o;let a=[];for(let d=0,h=0,g=0,x=0;;d++){let k=d==o.length?null:o[d],z=g-x,D=k?k.fromB:1e9;for(;h<r.length&&r[h]<D;){let $=r[h],K=r[h+1],Y=Math.max(x,$),ie=Math.min(D,K);if(Y<=ie&&new Fp(Y+z,ie+z,Y,ie).addToSet(a),K>D)break;h+=2}if(!k)return a;new Fp(k.fromA,k.toA,k.fromB,k.toB).addToSet(a),g=k.toA,x=k.toB}}}class dP{constructor(o,r,a){this.view=o,this.state=r,this.transactions=a,this.flags=0,this.startState=o.state,this.changes=Kl.empty(this.startState.doc.length);for(let h of a)this.changes=this.changes.compose(h.changes);let d=[];this.changes.iterChangedRanges((h,g,x,k)=>d.push(new Fp(h,g,x,k))),this.changedRanges=d}static create(o,r,a){return new dP(o,r,a)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(o=>o.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class iY extends _i{get length(){return this.view.state.doc.length}constructor(o){super(),this.view=o,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=qn.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(o.contentDOM),this.children=[new Sl],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Fp(0,0,0,o.state.doc.length)],0,null)}update(o){var r;let a=o.changedRanges;this.minWidth>0&&a.length&&(a.every(({fromA:z,toA:D})=>D<this.minWidthFrom||z>this.minWidthTo)?(this.minWidthFrom=o.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=o.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(o);let d=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?d=this.domChanged.newSel.head:!aye(o.changes,this.hasComposition)&&!o.selectionSet&&(d=o.state.selection.main.head));let h=d>-1?oye(this.view,o.changes,d):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:z,to:D}=this.hasComposition;a=new Fp(z,D,o.changes.mapPos(z,-1),o.changes.mapPos(D,1)).addToSet(a.slice())}this.hasComposition=h?{from:h.range.fromB,to:h.range.toB}:null,(Go.ie||Go.chrome)&&!h&&o&&o.state.doc.lines!=o.startState.doc.lines&&(this.forceSelection=!0);let g=this.decorations,x=this.updateDeco(),k=rye(g,x,o.changes);return a=Fp.extendWithRanges(a,k),!(this.flags&7)&&a.length==0?!1:(this.updateInner(a,o.startState.doc.length,h),o.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(o,r,a){this.view.viewState.mustMeasureContent=!0,this.updateChildren(o,r,a);let{observer:d}=this.view;d.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let g=Go.chrome||Go.ios?{node:d.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,g),this.flags&=-8,g&&(g.written||d.selectionRange.focusNode!=g.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(g=>g.flags&=-9);let h=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let g of this.children)g instanceof Wy&&g.widget instanceof JV&&h.push(g.dom);d.updateGaps(h)}updateChildren(o,r,a){let d=a?a.range.addToSet(o.slice()):o,h=this.childCursor(r);for(let g=d.length-1;;g--){let x=g>=0?d[g]:null;if(!x)break;let{fromA:k,toA:z,fromB:D,toB:$}=x,K,Y,ie,ve;if(a&&a.range.fromB<$&&a.range.toB>D){let ge=OO.build(this.view.state.doc,D,a.range.fromB,this.decorations,this.dynamicDecorationMap),Ie=OO.build(this.view.state.doc,a.range.toB,$,this.decorations,this.dynamicDecorationMap);Y=ge.breakAtStart,ie=ge.openStart,ve=Ie.openEnd;let he=this.compositionView(a);Ie.breakAtStart?he.breakAfter=1:Ie.content.length&&he.merge(he.length,he.length,Ie.content[0],!1,Ie.openStart,0)&&(he.breakAfter=Ie.content[0].breakAfter,Ie.content.shift()),ge.content.length&&he.merge(0,0,ge.content[ge.content.length-1],!0,0,ge.openEnd)&&ge.content.pop(),K=ge.content.concat(he).concat(Ie.content)}else({content:K,breakAtStart:Y,openStart:ie,openEnd:ve}=OO.build(this.view.state.doc,D,$,this.decorations,this.dynamicDecorationMap));let{i:Ne,off:ye}=h.findPos(z,1),{i:Je,off:He}=h.findPos(k,-1);BJ(this,Je,He,Ne,ye,K,Y,ie,ve)}a&&this.fixCompositionDOM(a)}updateEditContextFormatting(o){this.editContextFormatting=this.editContextFormatting.map(o.changes);for(let r of o.transactions)for(let a of r.effects)a.is(see)&&(this.editContextFormatting=a.value)}compositionView(o){let r=new ig(o.text.nodeValue);r.flags|=8;for(let{deco:d}of o.marks)r=new Ky(d,[r],r.length);let a=new Sl;return a.append(r,0),a}fixCompositionDOM(o){let r=(h,g)=>{g.flags|=8|(g.children.some(k=>k.flags&7)?1:0),this.markedForComposition.add(g);let x=_i.get(h);x&&x!=g&&(x.dom=null),g.setDOM(h)},a=this.childPos(o.range.fromB,1),d=this.children[a.i];r(o.line,d);for(let h=o.marks.length-1;h>=-1;h--)a=d.childPos(a.off,1),d=d.children[a.i],r(h>=0?o.marks[h].node:o.text,d)}updateSelection(o=!1,r=!1){(o||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let a=this.view.root.activeElement,d=a==this.dom,h=!d&&!(this.view.state.facet(Vy)||this.dom.tabIndex>-1)&&qB(this.dom,this.view.observer.selectionRange)&&!(a&&this.dom.contains(a));if(!(d||r||h))return;let g=this.forceSelection;this.forceSelection=!1;let x=this.view.state.selection.main,k=this.moveToLine(this.domAtPos(x.anchor)),z=x.empty?k:this.moveToLine(this.domAtPos(x.head));if(Go.gecko&&x.empty&&!this.hasComposition&&tye(k)){let $=document.createTextNode("");this.view.observer.ignore(()=>k.node.insertBefore($,k.node.childNodes[k.offset]||null)),k=z=new Hd($,0),g=!0}let D=this.view.observer.selectionRange;(g||!D.focusNode||(!TO(k.node,k.offset,D.anchorNode,D.anchorOffset)||!TO(z.node,z.offset,D.focusNode,D.focusOffset))&&!this.suppressWidgetCursorChange(D,x))&&(this.view.observer.ignore(()=>{Go.android&&Go.chrome&&this.dom.contains(D.focusNode)&&iye(D.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let $=BO(this.view.root);if($)if(x.empty){if(Go.gecko){let K=nye(k.node,k.offset);if(K&&K!=3){let Y=(K==1?NJ:RJ)(k.node,k.offset);Y&&(k=new Hd(Y.node,Y.offset))}}$.collapse(k.node,k.offset),x.bidiLevel!=null&&$.caretBidiLevel!==void 0&&($.caretBidiLevel=x.bidiLevel)}else if($.extend){$.collapse(k.node,k.offset);try{$.extend(z.node,z.offset)}catch{}}else{let K=document.createRange();x.anchor>x.head&&([k,z]=[z,k]),K.setEnd(z.node,z.offset),K.setStart(k.node,k.offset),$.removeAllRanges(),$.addRange(K)}h&&this.view.root.activeElement==this.dom&&(this.dom.blur(),a&&a.focus())}),this.view.observer.setSelectionRange(k,z)),this.impreciseAnchor=k.precise?null:new Hd(D.anchorNode,D.anchorOffset),this.impreciseHead=z.precise?null:new Hd(D.focusNode,D.focusOffset)}suppressWidgetCursorChange(o,r){return this.hasComposition&&r.empty&&TO(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)&&this.posFromDOM(o.focusNode,o.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:o}=this,r=o.state.selection.main,a=BO(o.root),{anchorNode:d,anchorOffset:h}=o.observer.selectionRange;if(!a||!r.empty||!r.assoc||!a.modify)return;let g=Sl.find(this,r.head);if(!g)return;let x=g.posAtStart;if(r.head==x||r.head==x+g.length)return;let k=this.coordsAt(r.head,-1),z=this.coordsAt(r.head,1);if(!k||!z||k.bottom>z.top)return;let D=this.domAtPos(r.head+r.assoc);a.collapse(D.node,D.offset),a.modify("move",r.assoc<0?"forward":"backward","lineboundary"),o.observer.readSelectionRange();let $=o.observer.selectionRange;o.docView.posFromDOM($.anchorNode,$.anchorOffset)!=r.from&&a.collapse(d,h)}moveToLine(o){let r=this.dom,a;if(o.node!=r)return o;for(let d=o.offset;!a&&d<r.childNodes.length;d++){let h=_i.get(r.childNodes[d]);h instanceof Sl&&(a=h.domAtPos(0))}for(let d=o.offset-1;!a&&d>=0;d--){let h=_i.get(r.childNodes[d]);h instanceof Sl&&(a=h.domAtPos(h.length))}return a?new Hd(a.node,a.offset,!0):o}nearest(o){for(let r=o;r;){let a=_i.get(r);if(a&&a.rootView==this)return a;r=r.parentNode}return null}posFromDOM(o,r){let a=this.nearest(o);if(!a)throw new RangeError("Trying to find position for a DOM position outside of the document");return a.localPosFromDOM(o,r)+a.posAtStart}domAtPos(o){let{i:r,off:a}=this.childCursor().findPos(o,-1);for(;r<this.children.length-1;){let d=this.children[r];if(a<d.length||d instanceof Sl)break;r++,a=0}return this.children[r].domAtPos(a)}coordsAt(o,r){let a=null,d=0;for(let h=this.length,g=this.children.length-1;g>=0;g--){let x=this.children[g],k=h-x.breakAfter,z=k-x.length;if(k<o)break;if(z<=o&&(z<o||x.covers(-1))&&(k>o||x.covers(1))&&(!a||x instanceof Sl&&!(a instanceof Sl&&r>=0)))a=x,d=z;else if(a&&z==o&&k==o&&x instanceof Wy&&Math.abs(r)<2){if(x.deco.startSide<0)break;g&&(a=null)}h=z}return a?a.coordsAt(o-d,r):null}coordsForChar(o){let{i:r,off:a}=this.childPos(o,1),d=this.children[r];if(!(d instanceof Sl))return null;for(;d.children.length;){let{i:x,off:k}=d.childPos(a,1);for(;;x++){if(x==d.children.length)return null;if((d=d.children[x]).length)break}a=k}if(!(d instanceof ig))return null;let h=nd(d.text,a);if(h==a)return null;let g=jk(d.dom,a,h).getClientRects();for(let x=0;x<g.length;x++){let k=g[x];if(x==g.length-1||k.top<k.bottom&&k.left<k.right)return k}return null}measureVisibleLineHeights(o){let r=[],{from:a,to:d}=o,h=this.view.contentDOM.clientWidth,g=h>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,x=-1,k=this.view.textDirection==Ki.LTR;for(let z=0,D=0;D<this.children.length;D++){let $=this.children[D],K=z+$.length;if(K>d)break;if(z>=a){let Y=$.dom.getBoundingClientRect();if(r.push(Y.height),g){let ie=$.dom.lastChild,ve=ie?PO(ie):[];if(ve.length){let Ne=ve[ve.length-1],ye=k?Ne.right-Y.left:Y.right-Ne.left;ye>x&&(x=ye,this.minWidth=h,this.minWidthFrom=z,this.minWidthTo=K)}}}z=K+$.breakAfter}return r}textDirectionAt(o){let{i:r}=this.childPos(o,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?Ki.RTL:Ki.LTR}measureTextSize(){for(let h of this.children)if(h instanceof Sl){let g=h.measureTextSize();if(g)return g}let o=document.createElement("div"),r,a,d;return o.className="cm-line",o.style.width="99999px",o.style.position="absolute",o.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(o);let h=PO(o.firstChild)[0];r=o.getBoundingClientRect().height,a=h?h.width/27:7,d=h?h.height:r,o.remove()}),{lineHeight:r,charWidth:a,textHeight:d}}childCursor(o=this.length){let r=this.children.length;return r&&(o-=this.children[--r].length),new LJ(this.children,o,r)}computeBlockGapDeco(){let o=[],r=this.view.viewState;for(let a=0,d=0;;d++){let h=d==r.viewports.length?null:r.viewports[d],g=h?h.from-1:this.length;if(g>a){let x=(r.lineBlockAt(g).bottom-r.lineBlockAt(a).top)/this.view.scaleY;o.push(qn.replace({widget:new JV(x),block:!0,inclusive:!0,isBlockGap:!0}).range(a,g))}if(!h)break;a=h.to+1}return qn.set(o)}updateDeco(){let o=1,r=this.view.state.facet(IO).map(h=>(this.dynamicDecorationMap[o++]=typeof h=="function")?h(this.view):h),a=!1,d=this.view.state.facet(iee).map((h,g)=>{let x=typeof h=="function";return x&&(a=!0),x?h(this.view):h});for(d.length&&(this.dynamicDecorationMap[o++]=a,r.push(gr.join(d))),this.decorations=[this.editContextFormatting,...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];o<this.decorations.length;)this.dynamicDecorationMap[o++]=!1;return this.decorations}scrollIntoView(o){if(o.isSnapshot){let z=this.view.viewState.lineBlockAt(o.range.head);this.view.scrollDOM.scrollTop=z.top-o.yMargin,this.view.scrollDOM.scrollLeft=o.xMargin;return}for(let z of this.view.state.facet(nee))try{if(z(this.view,o.range,o))return!0}catch(D){Hf(this.view.state,D,"scroll handler")}let{range:r}=o,a=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),d;if(!a)return;!r.empty&&(d=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(a={left:Math.min(a.left,d.left),top:Math.min(a.top,d.top),right:Math.max(a.right,d.right),bottom:Math.max(a.bottom,d.bottom)});let h=eU(this.view),g={left:a.left-h.left,top:a.top-h.top,right:a.right+h.right,bottom:a.bottom+h.bottom},{offsetWidth:x,offsetHeight:k}=this.view.scrollDOM;N0e(this.view.scrollDOM,g,r.head<r.anchor?-1:1,o.x,o.y,Math.max(Math.min(o.xMargin,x),-x),Math.max(Math.min(o.yMargin,k),-k),this.view.textDirection==Ki.LTR)}}function tye(c){return c.node.nodeType==1&&c.node.firstChild&&(c.offset==0||c.node.childNodes[c.offset-1].contentEditable=="false")&&(c.offset==c.node.childNodes.length||c.node.childNodes[c.offset].contentEditable=="false")}function cee(c,o){let r=c.observer.selectionRange;if(!r.focusNode)return null;let a=NJ(r.focusNode,r.focusOffset),d=RJ(r.focusNode,r.focusOffset),h=a||d;if(d&&a&&d.node!=a.node){let x=_i.get(d.node);if(!x||x instanceof ig&&x.text!=d.node.nodeValue)h=d;else if(c.docView.lastCompositionAfterCursor){let k=_i.get(a.node);!k||k instanceof ig&&k.text!=a.node.nodeValue||(h=d)}}if(c.docView.lastCompositionAfterCursor=h!=a,!h)return null;let g=o-h.offset;return{from:g,to:g+h.node.nodeValue.length,node:h.node}}function oye(c,o,r){let a=cee(c,r);if(!a)return null;let{node:d,from:h,to:g}=a,x=d.nodeValue;if(/[\n\r]/.test(x)||c.state.doc.sliceString(a.from,a.to)!=x)return null;let k=o.invertedDesc,z=new Fp(k.mapPos(h),k.mapPos(g),h,g),D=[];for(let $=d.parentNode;;$=$.parentNode){let K=_i.get($);if(K instanceof Ky)D.push({node:$,deco:K.mark});else{if(K instanceof Sl||$.nodeName=="DIV"&&$.parentNode==c.contentDOM)return{range:z,text:d,marks:D,line:$};if($!=c.contentDOM)D.push({node:$,deco:new oz({inclusive:!0,attributes:j0e($),tagName:$.tagName.toLowerCase()})});else return null}}}function nye(c,o){return c.nodeType!=1?0:(o&&c.childNodes[o-1].contentEditable=="false"?1:0)|(o<c.childNodes.length&&c.childNodes[o].contentEditable=="false"?2:0)}let sye=class{constructor(){this.changes=[]}compareRange(o,r){KB(o,r,this.changes)}comparePoint(o,r){KB(o,r,this.changes)}boundChange(o){KB(o,o,this.changes)}};function rye(c,o,r){let a=new sye;return gr.compare(c,o,r,a),a.changes}function iye(c,o){for(let r=c;r&&r!=o;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function aye(c,o){let r=!1;return o&&c.iterChangedRanges((a,d)=>{a<o.to&&d>o.from&&(r=!0)}),r}function lye(c,o,r=1){let a=c.charCategorizer(o),d=c.doc.lineAt(o),h=o-d.from;if(d.length==0)return qt.cursor(o);h==0?r=1:h==d.length&&(r=-1);let g=h,x=h;r<0?g=nd(d.text,h,!1):x=nd(d.text,h);let k=a(d.text.slice(g,x));for(;g>0;){let z=nd(d.text,g,!1);if(a(d.text.slice(z,g))!=k)break;g=z}for(;x<d.length;){let z=nd(d.text,x);if(a(d.text.slice(x,z))!=k)break;x=z}return qt.range(g+d.from,x+d.from)}function cye(c,o){return o.left>c?o.left-c:Math.max(0,c-o.right)}function dye(c,o){return o.top>c?o.top-c:Math.max(0,c-o.bottom)}function nV(c,o){return c.top<o.bottom-1&&c.bottom>o.top+1}function aY(c,o){return o<c.top?{top:o,left:c.left,right:c.right,bottom:c.bottom}:c}function lY(c,o){return o>c.bottom?{top:c.top,left:c.left,right:c.right,bottom:o}:c}function sj(c,o,r){let a,d,h,g,x=!1,k,z,D,$;for(let ie=c.firstChild;ie;ie=ie.nextSibling){let ve=PO(ie);for(let Ne=0;Ne<ve.length;Ne++){let ye=ve[Ne];d&&nV(d,ye)&&(ye=aY(lY(ye,d.bottom),d.top));let Je=cye(o,ye),He=dye(r,ye);if(Je==0&&He==0)return ie.nodeType==3?cY(ie,o,r):sj(ie,o,r);(!a||g>He||g==He&&h>Je)&&(a=ie,d=ye,h=Je,g=He,x=Je?o<ye.left?Ne>0:Ne<ve.length-1:!0),Je==0?r>ye.bottom&&(!D||D.bottom<ye.bottom)?(k=ie,D=ye):r<ye.top&&(!$||$.top>ye.top)&&(z=ie,$=ye):D&&nV(D,ye)?D=lY(D,ye.bottom):$&&nV($,ye)&&($=aY($,ye.top))}}if(D&&D.bottom>=r?(a=k,d=D):$&&$.top<=r&&(a=z,d=$),!a)return{node:c,offset:0};let K=Math.max(d.left,Math.min(d.right,o));if(a.nodeType==3)return cY(a,K,r);if(x&&a.contentEditable!="false")return sj(a,K,r);let Y=Array.prototype.indexOf.call(c.childNodes,a)+(o>=(d.left+d.right)/2?1:0);return{node:c,offset:Y}}function cY(c,o,r){let a=c.nodeValue.length,d=-1,h=1e9,g=0;for(let x=0;x<a;x++){let k=jk(c,x,x+1).getClientRects();for(let z=0;z<k.length;z++){let D=k[z];if(D.top==D.bottom)continue;g||(g=o-D.left);let $=(D.top>r?D.top-r:r-D.bottom)-1;if(D.left-1<=o&&D.right+1>=o&&$<h){let K=o>=(D.left+D.right)/2,Y=K;if((Go.chrome||Go.gecko)&&jk(c,x).getBoundingClientRect().left==D.right&&(Y=!K),$<=0)return{node:c,offset:x+(Y?1:0)};d=x+(Y?1:0),h=$}}}return{node:c,offset:d>-1?d:g>0?c.nodeValue.length:0}}function dee(c,o,r,a=-1){var d,h;let g=c.contentDOM.getBoundingClientRect(),x=g.top+c.viewState.paddingTop,k,{docHeight:z}=c.viewState,{x:D,y:$}=o,K=$-x;if(K<0)return 0;if(K>z)return c.state.doc.length;for(let ge=c.viewState.heightOracle.textHeight/2,Ie=!1;k=c.elementAtHeight(K),k.type!=Bu.Text;)for(;K=a>0?k.bottom+ge:k.top-ge,!(K>=0&&K<=z);){if(Ie)return r?null:0;Ie=!0,a=-a}$=x+K;let Y=k.from;if(Y<c.viewport.from)return c.viewport.from==0?0:r?null:dY(c,g,k,D,$);if(Y>c.viewport.to)return c.viewport.to==c.state.doc.length?c.state.doc.length:r?null:dY(c,g,k,D,$);let ie=c.dom.ownerDocument,ve=c.root.elementFromPoint?c.root:ie,Ne=ve.elementFromPoint(D,$);Ne&&!c.contentDOM.contains(Ne)&&(Ne=null),Ne||(D=Math.max(g.left+1,Math.min(g.right-1,D)),Ne=ve.elementFromPoint(D,$),Ne&&!c.contentDOM.contains(Ne)&&(Ne=null));let ye,Je=-1;if(Ne&&((d=c.docView.nearest(Ne))===null||d===void 0?void 0:d.isEditable)!=!1){if(ie.caretPositionFromPoint){let ge=ie.caretPositionFromPoint(D,$);ge&&({offsetNode:ye,offset:Je}=ge)}else if(ie.caretRangeFromPoint){let ge=ie.caretRangeFromPoint(D,$);ge&&({startContainer:ye,startOffset:Je}=ge,(!c.contentDOM.contains(ye)||Go.safari&&uye(ye,Je,D)||Go.chrome&&fye(ye,Je,D))&&(ye=void 0))}ye&&(Je=Math.min(Nb(ye),Je))}if(!ye||!c.docView.dom.contains(ye)){let ge=Sl.find(c.docView,Y);if(!ge)return K>k.top+k.height/2?k.to:k.from;({node:ye,offset:Je}=sj(ge.dom,D,$))}let He=c.docView.nearest(ye);if(!He)return null;if(He.isWidget&&((h=He.dom)===null||h===void 0?void 0:h.nodeType)==1){let ge=He.dom.getBoundingClientRect();return o.y<ge.top||o.y<=ge.bottom&&o.x<=(ge.left+ge.right)/2?He.posAtStart:He.posAtEnd}else return He.localPosFromDOM(ye,Je)+He.posAtStart}function dY(c,o,r,a,d){let h=Math.round((a-o.left)*c.defaultCharacterWidth);if(c.lineWrapping&&r.height>c.defaultLineHeight*1.5){let x=c.viewState.heightOracle.textHeight,k=Math.floor((d-r.top-(c.defaultLineHeight-x)*.5)/x);h+=k*c.viewState.heightOracle.lineLength}let g=c.state.sliceDoc(r.from,r.to);return r.from+UV(g,h,c.state.tabSize)}function uye(c,o,r){let a,d=c;if(c.nodeType!=3||o!=(a=c.nodeValue.length))return!1;for(;;){let h=d.nextSibling;if(h){if(h.nodeName=="BR")break;return!1}else{let g=d.parentNode;if(!g||g.nodeName=="DIV")break;d=g}}return jk(c,a-1,a).getBoundingClientRect().right>r}function fye(c,o,r){if(o!=0)return!1;for(let d=c;;){let h=d.parentNode;if(!h||h.nodeType!=1||h.firstChild!=d)return!1;if(h.classList.contains("cm-line"))break;d=h}let a=c.nodeType==1?c.getBoundingClientRect():jk(c,0,Math.max(c.nodeValue.length,1)).getBoundingClientRect();return r-a.left>5}function rj(c,o,r){let a=c.lineBlockAt(o);if(Array.isArray(a.type)){let d;for(let h of a.type){if(h.from>o)break;if(!(h.to<o)){if(h.from<o&&h.to>o)return h;(!d||h.type==Bu.Text&&(d.type!=h.type||(r<0?h.from<o:h.to>o)))&&(d=h)}}return d||a}return a}function hye(c,o,r,a){let d=rj(c,o.head,o.assoc||-1),h=!a||d.type!=Bu.Text||!(c.lineWrapping||d.widgetLineBreaks)?null:c.coordsAtPos(o.assoc<0&&o.head>d.from?o.head-1:o.head);if(h){let g=c.dom.getBoundingClientRect(),x=c.textDirectionAt(d.from),k=c.posAtCoords({x:r==(x==Ki.LTR)?g.right-1:g.left+1,y:(h.top+h.bottom)/2});if(k!=null)return qt.cursor(k,r?-1:1)}return qt.cursor(r?d.to:d.from,r?-1:1)}function uY(c,o,r,a){let d=c.state.doc.lineAt(o.head),h=c.bidiSpans(d),g=c.textDirectionAt(d.from);for(let x=o,k=null;;){let z=Q0e(d,h,g,x,r),D=KJ;if(!z){if(d.number==(r?c.state.doc.lines:1))return x;D=`
`,d=c.state.doc.line(d.number+(r?1:-1)),h=c.bidiSpans(d),z=c.visualLineSide(d,!r)}if(k){if(!k(D))return x}else{if(!a)return z;k=a(D)}x=z}}function pye(c,o,r){let a=c.state.charCategorizer(o),d=a(r);return h=>{let g=a(h);return d==ua.Space&&(d=g),d==g}}function mye(c,o,r,a){let d=o.head,h=r?1:-1;if(d==(r?c.state.doc.length:0))return qt.cursor(d,o.assoc);let g=o.goalColumn,x,k=c.contentDOM.getBoundingClientRect(),z=c.coordsAtPos(d,o.assoc||-1),D=c.documentTop;if(z)g==null&&(g=z.left-k.left),x=h<0?z.top:z.bottom;else{let Y=c.viewState.lineBlockAt(d);g==null&&(g=Math.min(k.right-k.left,c.defaultCharacterWidth*(d-Y.from))),x=(h<0?Y.top:Y.bottom)+D}let $=k.left+g,K=a??c.viewState.heightOracle.textHeight>>1;for(let Y=0;;Y+=10){let ie=x+(K+Y)*h,ve=dee(c,{x:$,y:ie},!1,h);if(ie<k.top||ie>k.bottom||(h<0?ve<d:ve>d)){let Ne=c.docView.coordsForChar(ve),ye=!Ne||ie<Ne.top?-1:1;return qt.cursor(ve,ye,void 0,g)}}}function GB(c,o,r){for(;;){let a=0;for(let d of c)d.between(o-1,o+1,(h,g,x)=>{if(o>h&&o<g){let k=a||r||(o-h<g-o?-1:1);o=k<0?h:g,a=k}});if(!a)return o}}function sV(c,o,r){let a=GB(c.state.facet(Jj).map(d=>d(c)),r.from,o.head>r.from?-1:1);return a==r.from?r:qt.cursor(a,a<r.from?1:-1)}const vO="";class gye{constructor(o,r){this.points=o,this.text="",this.lineSeparator=r.facet(Cr.lineSeparator)}append(o){this.text+=o}lineBreak(){this.text+=vO}readRange(o,r){if(!o)return this;let a=o.parentNode;for(let d=o;;){this.findPointBefore(a,d);let h=this.text.length;this.readNode(d);let g=d.nextSibling;if(g==r)break;let x=_i.get(d),k=_i.get(g);(x&&k?x.breakAfter:(x?x.breakAfter:lP(d))||lP(g)&&(d.nodeName!="BR"||d.cmIgnore)&&this.text.length>h)&&this.lineBreak(),d=g}return this.findPointBefore(a,r),this}readTextNode(o){let r=o.nodeValue;for(let a of this.points)a.node==o&&(a.pos=this.text.length+Math.min(a.offset,r.length));for(let a=0,d=this.lineSeparator?null:/\r\n?|\n/g;;){let h=-1,g=1,x;if(this.lineSeparator?(h=r.indexOf(this.lineSeparator,a),g=this.lineSeparator.length):(x=d.exec(r))&&(h=x.index,g=x[0].length),this.append(r.slice(a,h<0?r.length:h)),h<0)break;if(this.lineBreak(),g>1)for(let k of this.points)k.node==o&&k.pos>this.text.length&&(k.pos-=g-1);a=h+g}}readNode(o){if(o.cmIgnore)return;let r=_i.get(o),a=r&&r.overrideDOMText;if(a!=null){this.findPointInside(o,a.length);for(let d=a.iter();!d.next().done;)d.lineBreak?this.lineBreak():this.append(d.value)}else o.nodeType==3?this.readTextNode(o):o.nodeName=="BR"?o.nextSibling&&this.lineBreak():o.nodeType==1&&this.readRange(o.firstChild,null)}findPointBefore(o,r){for(let a of this.points)a.node==o&&o.childNodes[a.offset]==r&&(a.pos=this.text.length)}findPointInside(o,r){for(let a of this.points)(o.nodeType==3?a.node==o:o.contains(a.node))&&(a.pos=this.text.length+(bye(o,a.node,a.offset)?r:0))}}function bye(c,o,r){for(;;){if(!o||r<Nb(o))return!1;if(o==c)return!0;r=Vk(o)+1,o=o.parentNode}}class fY{constructor(o,r){this.node=o,this.offset=r,this.pos=-1}}class yye{constructor(o,r,a,d){this.typeOver=d,this.bounds=null,this.text="",this.domChanged=r>-1;let{impreciseHead:h,impreciseAnchor:g}=o.docView;if(o.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=o.docView.domBoundsAround(r,a,0))){let x=h||g?[]:wye(o),k=new gye(x,o.state);k.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=k.text,this.newSel=kye(x,this.bounds.from)}else{let x=o.observer.selectionRange,k=h&&h.node==x.focusNode&&h.offset==x.focusOffset||!qV(o.contentDOM,x.focusNode)?o.state.selection.main.head:o.docView.posFromDOM(x.focusNode,x.focusOffset),z=g&&g.node==x.anchorNode&&g.offset==x.anchorOffset||!qV(o.contentDOM,x.anchorNode)?o.state.selection.main.anchor:o.docView.posFromDOM(x.anchorNode,x.anchorOffset),D=o.viewport;if((Go.ios||Go.chrome)&&o.state.selection.main.empty&&k!=z&&(D.from>0||D.to<o.state.doc.length)){let $=Math.min(k,z),K=Math.max(k,z),Y=D.from-$,ie=D.to-K;(Y==0||Y==1||$==0)&&(ie==0||ie==-1||K==o.state.doc.length)&&(k=0,z=o.state.doc.length)}this.newSel=qt.single(z,k)}}}function uee(c,o){let r,{newSel:a}=o,d=c.state.selection.main,h=c.inputState.lastKeyTime>Date.now()-100?c.inputState.lastKeyCode:-1;if(o.bounds){let{from:g,to:x}=o.bounds,k=d.from,z=null;(h===8||Go.android&&o.text.length<x-g)&&(k=d.to,z="end");let D=vye(c.state.doc.sliceString(g,x,vO),o.text,k-g,z);D&&(Go.chrome&&h==13&&D.toB==D.from+2&&o.text.slice(D.from,D.toB)==vO+vO&&D.toB--,r={from:g+D.from,to:g+D.toA,insert:br.of(o.text.slice(D.from,D.toB).split(vO))})}else a&&(!c.hasFocus&&c.state.facet(Vy)||a.main.eq(d))&&(a=null);if(!r&&!a)return!1;if(!r&&o.typeOver&&!d.empty&&a&&a.main.empty?r={from:d.from,to:d.to,insert:c.state.doc.slice(d.from,d.to)}:(Go.mac||Go.android)&&r&&r.from==r.to&&r.from==d.head-1&&/^\. ?$/.test(r.insert.toString())&&c.contentDOM.getAttribute("autocorrect")=="off"?(a&&r.insert.length==2&&(a=qt.single(a.main.anchor-1,a.main.head-1)),r={from:r.from,to:r.to,insert:br.of([r.insert.toString().replace("."," ")])}):r&&r.from>=d.from&&r.to<=d.to&&(r.from!=d.from||r.to!=d.to)&&d.to-d.from-(r.to-r.from)<=4?r={from:d.from,to:d.to,insert:c.state.doc.slice(d.from,r.from).append(r.insert).append(c.state.doc.slice(r.to,d.to))}:Go.chrome&&r&&r.from==r.to&&r.from==d.head&&r.insert.toString()==`
 `&&c.lineWrapping&&(a&&(a=qt.single(a.main.anchor-1,a.main.head-1)),r={from:d.from,to:d.to,insert:br.of([" "])}),r)return tU(c,r,a,h);if(a&&!a.main.eq(d)){let g=!1,x="select";return c.inputState.lastSelectionTime>Date.now()-50&&(c.inputState.lastSelectionOrigin=="select"&&(g=!0),x=c.inputState.lastSelectionOrigin),c.dispatch({selection:a,scrollIntoView:g,userEvent:x}),!0}else return!1}function tU(c,o,r,a=-1){if(Go.ios&&c.inputState.flushIOSKey(o))return!0;let d=c.state.selection.main;if(Go.android&&(o.to==d.to&&(o.from==d.from||o.from==d.from-1&&c.state.sliceDoc(o.from,d.from)==" ")&&o.insert.length==1&&o.insert.lines==2&&FS(c.contentDOM,"Enter",13)||(o.from==d.from-1&&o.to==d.to&&o.insert.length==0||a==8&&o.insert.length<o.to-o.from&&o.to>d.head)&&FS(c.contentDOM,"Backspace",8)||o.from==d.from&&o.to==d.to+1&&o.insert.length==0&&FS(c.contentDOM,"Delete",46)))return!0;let h=o.insert.toString();c.inputState.composing>=0&&c.inputState.composing++;let g,x=()=>g||(g=xye(c,o,r));return c.state.facet(JJ).some(k=>k(c,o.from,o.to,h,x))||c.dispatch(x()),!0}function xye(c,o,r){let a,d=c.state,h=d.selection.main;if(o.from>=h.from&&o.to<=h.to&&o.to-o.from>=(h.to-h.from)/3&&(!r||r.main.empty&&r.main.from==o.from+o.insert.length)&&c.inputState.composing<0){let x=h.from<o.from?d.sliceDoc(h.from,o.from):"",k=h.to>o.to?d.sliceDoc(o.to,h.to):"";a=d.replaceSelection(c.state.toText(x+o.insert.sliceString(0,void 0,c.state.lineBreak)+k))}else{let x=d.changes(o),k=r&&r.main.to<=x.newLength?r.main:void 0;if(d.selection.ranges.length>1&&c.inputState.composing>=0&&o.to<=h.to&&o.to>=h.to-10){let z=c.state.sliceDoc(o.from,o.to),D,$=r&&cee(c,r.main.head);if($){let ie=o.insert.length-(o.to-o.from);D={from:$.from,to:$.to-ie}}else D=c.state.doc.lineAt(h.head);let K=h.to-o.to,Y=h.to-h.from;a=d.changeByRange(ie=>{if(ie.from==h.from&&ie.to==h.to)return{changes:x,range:k||ie.map(x)};let ve=ie.to-K,Ne=ve-z.length;if(ie.to-ie.from!=Y||c.state.sliceDoc(Ne,ve)!=z||ie.to>=D.from&&ie.from<=D.to)return{range:ie};let ye=d.changes({from:Ne,to:ve,insert:o.insert}),Je=ie.to-h.to;return{changes:ye,range:k?qt.range(Math.max(0,k.anchor+Je),Math.max(0,k.head+Je)):ie.map(ye)}})}else a={changes:x,selection:k&&d.selection.replaceRange(k)}}let g="input.type";return(c.composing||c.inputState.compositionPendingChange&&c.inputState.compositionEndedAt>Date.now()-50)&&(c.inputState.compositionPendingChange=!1,g+=".compose",c.inputState.compositionFirstChange&&(g+=".start",c.inputState.compositionFirstChange=!1)),d.update(a,{userEvent:g,scrollIntoView:!0})}function vye(c,o,r,a){let d=Math.min(c.length,o.length),h=0;for(;h<d&&c.charCodeAt(h)==o.charCodeAt(h);)h++;if(h==d&&c.length==o.length)return null;let g=c.length,x=o.length;for(;g>0&&x>0&&c.charCodeAt(g-1)==o.charCodeAt(x-1);)g--,x--;if(a=="end"){let k=Math.max(0,h-Math.min(g,x));r-=g+k-h}if(g<h&&c.length<o.length){let k=r<=h&&r>=g?h-r:0;h-=k,x=h+(x-g),g=h}else if(x<h){let k=r<=h&&r>=x?h-r:0;h-=k,g=h+(g-x),x=h}return{from:h,toA:g,toB:x}}function wye(c){let o=[];if(c.root.activeElement!=c.contentDOM)return o;let{anchorNode:r,anchorOffset:a,focusNode:d,focusOffset:h}=c.observer.selectionRange;return r&&(o.push(new fY(r,a)),(d!=r||h!=a)&&o.push(new fY(d,h))),o}function kye(c,o){if(c.length==0)return null;let r=c[0].pos,a=c.length==2?c[1].pos:r;return r>-1&&a>-1?qt.single(r+o,a+o):null}class _ye{setSelectionOrigin(o){this.lastSelectionOrigin=o,this.lastSelectionTime=Date.now()}constructor(o){this.view=o,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=o.hasFocus,Go.safari&&o.contentDOM.addEventListener("input",()=>null),Go.gecko&&Fye(o.contentDOM.ownerDocument)}handleEvent(o){!Dye(this.view,o)||this.ignoreDuringComposition(o)||o.type=="keydown"&&this.keydown(o)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(o.type,o)):this.runHandlers(o.type,o))}runHandlers(o,r){let a=this.handlers[o];if(a){for(let d of a.observers)d(this.view,r);for(let d of a.handlers){if(r.defaultPrevented)break;if(d(this.view,r)){r.preventDefault();break}}}}ensureHandlers(o){let r=Cye(o),a=this.handlers,d=this.view.contentDOM;for(let h in r)if(h!="scroll"){let g=!r[h].handlers.length,x=a[h];x&&g!=!x.handlers.length&&(d.removeEventListener(h,this.handleEvent),x=null),x||d.addEventListener(h,this.handleEvent,{passive:g})}for(let h in a)h!="scroll"&&!r[h]&&d.removeEventListener(h,this.handleEvent);this.handlers=r}keydown(o){if(this.lastKeyCode=o.keyCode,this.lastKeyTime=Date.now(),o.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&o.keyCode!=27&&hee.indexOf(o.keyCode)<0&&(this.tabFocusMode=-1),Go.android&&Go.chrome&&!o.synthetic&&(o.keyCode==13||o.keyCode==8))return this.view.observer.delayAndroidKey(o.key,o.keyCode),!0;let r;return Go.ios&&!o.synthetic&&!o.altKey&&!o.metaKey&&((r=fee.find(a=>a.keyCode==o.keyCode))&&!o.ctrlKey||Sye.indexOf(o.key)>-1&&o.ctrlKey&&!o.shiftKey)?(this.pendingIOSKey=r||o,setTimeout(()=>this.flushIOSKey(),250),!0):(o.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(o){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&o&&o.from<o.to&&/^\S+$/.test(o.insert.toString())?!1:(this.pendingIOSKey=void 0,FS(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(o){return/^key/.test(o.type)?this.composing>0?!0:Go.safari&&!Go.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(o){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=o}update(o){this.view.observer.update(o),this.mouseSelection&&this.mouseSelection.update(o),this.draggedContent&&o.docChanged&&(this.draggedContent=this.draggedContent.map(o.changes)),o.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function hY(c,o){return(r,a)=>{try{return o.call(c,a,r)}catch(d){Hf(r.state,d)}}}function Cye(c){let o=Object.create(null);function r(a){return o[a]||(o[a]={observers:[],handlers:[]})}for(let a of c){let d=a.spec,h=d&&d.plugin.domEventHandlers,g=d&&d.plugin.domEventObservers;if(h)for(let x in h){let k=h[x];k&&r(x).handlers.push(hY(a.value,k))}if(g)for(let x in g){let k=g[x];k&&r(x).observers.push(hY(a.value,k))}}for(let a in ag)r(a).handlers.push(ag[a]);for(let a in jp)r(a).observers.push(jp[a]);return o}const fee=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Sye="dthko",hee=[16,17,18,20,91,92,224,225],wB=6;function kB(c){return Math.max(0,c)*.7+8}function Eye(c,o){return Math.max(Math.abs(c.clientX-o.clientX),Math.abs(c.clientY-o.clientY))}class Aye{constructor(o,r,a,d){this.view=o,this.startEvent=r,this.style=a,this.mustSelect=d,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParents=R0e(o.contentDOM),this.atoms=o.state.facet(Jj).map(g=>g(o));let h=o.contentDOM.ownerDocument;h.addEventListener("mousemove",this.move=this.move.bind(this)),h.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=o.state.facet(Cr.allowMultipleSelections)&&Tye(o,r),this.dragging=zye(o,r)&&gee(r)==1?null:!1}start(o){this.dragging===!1&&this.select(o)}move(o){if(o.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Eye(this.startEvent,o)<10)return;this.select(this.lastEvent=o);let r=0,a=0,d=0,h=0,g=this.view.win.innerWidth,x=this.view.win.innerHeight;this.scrollParents.x&&({left:d,right:g}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:h,bottom:x}=this.scrollParents.y.getBoundingClientRect());let k=eU(this.view);o.clientX-k.left<=d+wB?r=-kB(d-o.clientX):o.clientX+k.right>=g-wB&&(r=kB(o.clientX-g)),o.clientY-k.top<=h+wB?a=-kB(h-o.clientY):o.clientY+k.bottom>=x-wB&&(a=kB(o.clientY-x)),this.setScrollSpeed(r,a)}up(o){this.dragging==null&&this.select(this.lastEvent),this.dragging||o.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let o=this.view.contentDOM.ownerDocument;o.removeEventListener("mousemove",this.move),o.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(o,r){this.scrollSpeed={x:o,y:r},o||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:o,y:r}=this.scrollSpeed;o&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=o,o=0),r&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=r,r=0),(o||r)&&this.view.win.scrollBy(o,r),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(o){let r=null;for(let a=0;a<o.ranges.length;a++){let d=o.ranges[a],h=null;if(d.empty){let g=GB(this.atoms,d.from,0);g!=d.from&&(h=qt.cursor(g,-1))}else{let g=GB(this.atoms,d.from,-1),x=GB(this.atoms,d.to,1);(g!=d.from||x!=d.to)&&(h=qt.range(d.from==d.anchor?g:x,d.from==d.head?g:x))}h&&(r||(r=o.ranges.slice()),r[a]=h)}return r?qt.create(r,o.mainIndex):o}select(o){let{view:r}=this,a=this.skipAtoms(this.style.get(o,this.extend,this.multiple));(this.mustSelect||!a.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:a,userEvent:"select.pointer"}),this.mustSelect=!1}update(o){o.transactions.some(r=>r.isUserEvent("input.type"))?this.destroy():this.style.update(o)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Tye(c,o){let r=c.state.facet(GJ);return r.length?r[0](o):Go.mac?o.metaKey:o.ctrlKey}function Oye(c,o){let r=c.state.facet(YJ);return r.length?r[0](o):Go.mac?!o.altKey:!o.ctrlKey}function zye(c,o){let{main:r}=c.state.selection;if(r.empty)return!1;let a=BO(c.root);if(!a||a.rangeCount==0)return!0;let d=a.getRangeAt(0).getClientRects();for(let h=0;h<d.length;h++){let g=d[h];if(g.left<=o.clientX&&g.right>=o.clientX&&g.top<=o.clientY&&g.bottom>=o.clientY)return!0}return!1}function Dye(c,o){if(!o.bubbles)return!0;if(o.defaultPrevented)return!1;for(let r=o.target,a;r!=c.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(a=_i.get(r))&&a.ignoreEvent(o))return!1;return!0}const ag=Object.create(null),jp=Object.create(null),pee=Go.ie&&Go.ie_version<15||Go.ios&&Go.webkit_version<604;function Mye(c){let o=c.dom.parentNode;if(!o)return;let r=o.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{c.focus(),r.remove(),mee(c,r.value)},50)}function UP(c,o,r){for(let a of c.facet(o))r=a(r,c);return r}function mee(c,o){o=UP(c.state,Yj,o);let{state:r}=c,a,d=1,h=r.toText(o),g=h.lines==r.selection.ranges.length;if(ij!=null&&r.selection.ranges.every(k=>k.empty)&&ij==h.toString()){let k=-1;a=r.changeByRange(z=>{let D=r.doc.lineAt(z.from);if(D.from==k)return{range:z};k=D.from;let $=r.toText((g?h.line(d++).text:o)+r.lineBreak);return{changes:{from:D.from,insert:$},range:qt.cursor(z.from+$.length)}})}else g?a=r.changeByRange(k=>{let z=h.line(d++);return{changes:{from:k.from,to:k.to,insert:z.text},range:qt.cursor(k.from+z.length)}}):a=r.replaceSelection(h);c.dispatch(a,{userEvent:"input.paste",scrollIntoView:!0})}jp.scroll=c=>{c.inputState.lastScrollTop=c.scrollDOM.scrollTop,c.inputState.lastScrollLeft=c.scrollDOM.scrollLeft};ag.keydown=(c,o)=>(c.inputState.setSelectionOrigin("select"),o.keyCode==27&&c.inputState.tabFocusMode!=0&&(c.inputState.tabFocusMode=Date.now()+2e3),!1);jp.touchstart=(c,o)=>{c.inputState.lastTouchTime=Date.now(),c.inputState.setSelectionOrigin("select.pointer")};jp.touchmove=c=>{c.inputState.setSelectionOrigin("select.pointer")};ag.mousedown=(c,o)=>{if(c.observer.flush(),c.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let a of c.state.facet(XJ))if(r=a(c,o),r)break;if(!r&&o.button==0&&(r=Lye(c,o)),r){let a=!c.hasFocus;c.inputState.startMouseSelection(new Aye(c,o,r,a)),a&&c.observer.ignore(()=>{zJ(c.contentDOM);let h=c.root.activeElement;h&&!h.contains(c.contentDOM)&&h.blur()});let d=c.inputState.mouseSelection;if(d)return d.start(o),d.dragging===!1}return!1};function pY(c,o,r,a){if(a==1)return qt.cursor(o,r);if(a==2)return lye(c.state,o,r);{let d=Sl.find(c.docView,o),h=c.state.doc.lineAt(d?d.posAtEnd:o),g=d?d.posAtStart:h.from,x=d?d.posAtEnd:h.to;return x<c.state.doc.length&&x==h.to&&x++,qt.range(g,x)}}let mY=(c,o,r)=>o>=r.top&&o<=r.bottom&&c>=r.left&&c<=r.right;function Nye(c,o,r,a){let d=Sl.find(c.docView,o);if(!d)return 1;let h=o-d.posAtStart;if(h==0)return 1;if(h==d.length)return-1;let g=d.coordsAt(h,-1);if(g&&mY(r,a,g))return-1;let x=d.coordsAt(h,1);return x&&mY(r,a,x)?1:g&&g.bottom>=a?-1:1}function gY(c,o){let r=c.posAtCoords({x:o.clientX,y:o.clientY},!1);return{pos:r,bias:Nye(c,r,o.clientX,o.clientY)}}const Rye=Go.ie&&Go.ie_version<=11;let bY=null,yY=0,xY=0;function gee(c){if(!Rye)return c.detail;let o=bY,r=xY;return bY=c,xY=Date.now(),yY=!o||r>Date.now()-400&&Math.abs(o.clientX-c.clientX)<2&&Math.abs(o.clientY-c.clientY)<2?(yY+1)%3:1}function Lye(c,o){let r=gY(c,o),a=gee(o),d=c.state.selection;return{update(h){h.docChanged&&(r.pos=h.changes.mapPos(r.pos),d=d.map(h.changes))},get(h,g,x){let k=gY(c,h),z,D=pY(c,k.pos,k.bias,a);if(r.pos!=k.pos&&!g){let $=pY(c,r.pos,r.bias,a),K=Math.min($.from,D.from),Y=Math.max($.to,D.to);D=K<D.from?qt.range(K,Y):qt.range(Y,K)}return g?d.replaceRange(d.main.extend(D.from,D.to)):x&&a==1&&d.ranges.length>1&&(z=Bye(d,k.pos))?z:x?d.addRange(D):qt.create([D])}}}function Bye(c,o){for(let r=0;r<c.ranges.length;r++){let{from:a,to:d}=c.ranges[r];if(a<=o&&d>=o)return qt.create(c.ranges.slice(0,r).concat(c.ranges.slice(r+1)),c.mainIndex==r?0:c.mainIndex-(c.mainIndex>r?1:0))}return null}ag.dragstart=(c,o)=>{let{selection:{main:r}}=c.state;if(o.target.draggable){let d=c.docView.nearest(o.target);if(d&&d.isWidget){let h=d.posAtStart,g=h+d.length;(h>=r.to||g<=r.from)&&(r=qt.range(h,g))}}let{inputState:a}=c;return a.mouseSelection&&(a.mouseSelection.dragging=!0),a.draggedContent=r,o.dataTransfer&&(o.dataTransfer.setData("Text",UP(c.state,Xj,c.state.sliceDoc(r.from,r.to))),o.dataTransfer.effectAllowed="copyMove"),!1};ag.dragend=c=>(c.inputState.draggedContent=null,!1);function vY(c,o,r,a){if(r=UP(c.state,Yj,r),!r)return;let d=c.posAtCoords({x:o.clientX,y:o.clientY},!1),{draggedContent:h}=c.inputState,g=a&&h&&Oye(c,o)?{from:h.from,to:h.to}:null,x={from:d,insert:r},k=c.state.changes(g?[g,x]:x);c.focus(),c.dispatch({changes:k,selection:{anchor:k.mapPos(d,-1),head:k.mapPos(d,1)},userEvent:g?"move.drop":"input.drop"}),c.inputState.draggedContent=null}ag.drop=(c,o)=>{if(!o.dataTransfer)return!1;if(c.state.readOnly)return!0;let r=o.dataTransfer.files;if(r&&r.length){let a=Array(r.length),d=0,h=()=>{++d==r.length&&vY(c,o,a.filter(g=>g!=null).join(c.state.lineBreak),!1)};for(let g=0;g<r.length;g++){let x=new FileReader;x.onerror=h,x.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(x.result)||(a[g]=x.result),h()},x.readAsText(r[g])}return!0}else{let a=o.dataTransfer.getData("Text");if(a)return vY(c,o,a,!0),!0}return!1};ag.paste=(c,o)=>{if(c.state.readOnly)return!0;c.observer.flush();let r=pee?null:o.clipboardData;return r?(mee(c,r.getData("text/plain")||r.getData("text/uri-list")),!0):(Mye(c),!1)};function Pye(c,o){let r=c.dom.parentNode;if(!r)return;let a=r.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px",a.value=o,a.focus(),a.selectionEnd=o.length,a.selectionStart=0,setTimeout(()=>{a.remove(),c.focus()},50)}function Iye(c){let o=[],r=[],a=!1;for(let d of c.selection.ranges)d.empty||(o.push(c.sliceDoc(d.from,d.to)),r.push(d));if(!o.length){let d=-1;for(let{from:h}of c.selection.ranges){let g=c.doc.lineAt(h);g.number>d&&(o.push(g.text),r.push({from:g.from,to:Math.min(c.doc.length,g.to+1)})),d=g.number}a=!0}return{text:UP(c,Xj,o.join(c.lineBreak)),ranges:r,linewise:a}}let ij=null;ag.copy=ag.cut=(c,o)=>{let{text:r,ranges:a,linewise:d}=Iye(c.state);if(!r&&!d)return!1;ij=d?r:null,o.type=="cut"&&!c.state.readOnly&&c.dispatch({changes:a,scrollIntoView:!0,userEvent:"delete.cut"});let h=pee?null:o.clipboardData;return h?(h.clearData(),h.setData("text/plain",r),!0):(Pye(c,r),!1)};const bee=Xy.define();function yee(c,o){let r=[];for(let a of c.facet(eee)){let d=a(c,o);d&&r.push(d)}return r.length?c.update({effects:r,annotations:bee.of(!0)}):null}function xee(c){setTimeout(()=>{let o=c.hasFocus;if(o!=c.inputState.notifiedFocused){let r=yee(c.state,o);r?c.dispatch(r):c.update([])}},10)}jp.focus=c=>{c.inputState.lastFocusTime=Date.now(),!c.scrollDOM.scrollTop&&(c.inputState.lastScrollTop||c.inputState.lastScrollLeft)&&(c.scrollDOM.scrollTop=c.inputState.lastScrollTop,c.scrollDOM.scrollLeft=c.inputState.lastScrollLeft),xee(c)};jp.blur=c=>{c.observer.clearSelectionRange(),xee(c)};jp.compositionstart=jp.compositionupdate=c=>{c.observer.editContext||(c.inputState.compositionFirstChange==null&&(c.inputState.compositionFirstChange=!0),c.inputState.composing<0&&(c.inputState.composing=0))};jp.compositionend=c=>{c.observer.editContext||(c.inputState.composing=-1,c.inputState.compositionEndedAt=Date.now(),c.inputState.compositionPendingKey=!0,c.inputState.compositionPendingChange=c.observer.pendingRecords().length>0,c.inputState.compositionFirstChange=null,Go.chrome&&Go.android?c.observer.flushSoon():c.inputState.compositionPendingChange?Promise.resolve().then(()=>c.observer.flush()):setTimeout(()=>{c.inputState.composing<0&&c.docView.hasComposition&&c.update([])},50))};jp.contextmenu=c=>{c.inputState.lastContextMenu=Date.now()};ag.beforeinput=(c,o)=>{var r,a;if(o.inputType=="insertReplacementText"&&c.observer.editContext){let h=(r=o.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"),g=o.getTargetRanges();if(h&&g.length){let x=g[0],k=c.posAtDOM(x.startContainer,x.startOffset),z=c.posAtDOM(x.endContainer,x.endOffset);return tU(c,{from:k,to:z,insert:c.state.toText(h)},null),!0}}let d;if(Go.chrome&&Go.android&&(d=fee.find(h=>h.inputType==o.inputType))&&(c.observer.delayAndroidKey(d.key,d.keyCode),d.key=="Backspace"||d.key=="Delete")){let h=((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0;setTimeout(()=>{var g;(((g=window.visualViewport)===null||g===void 0?void 0:g.height)||0)>h+10&&c.hasFocus&&(c.contentDOM.blur(),c.focus())},100)}return Go.ios&&o.inputType=="deleteContentForward"&&c.observer.flushSoon(),Go.safari&&o.inputType=="insertText"&&c.inputState.composing>=0&&setTimeout(()=>jp.compositionend(c,o),20),!1};const wY=new Set;function Fye(c){wY.has(c)||(wY.add(c),c.addEventListener("copy",()=>{}),c.addEventListener("cut",()=>{}))}const kY=["pre-wrap","normal","pre-line","break-spaces"];let JS=!1;function _Y(){JS=!1}class Hye{constructor(o){this.lineWrapping=o,this.doc=br.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(o,r){let a=this.doc.lineAt(r).number-this.doc.lineAt(o).number+1;return this.lineWrapping&&(a+=Math.max(0,Math.ceil((r-o-a*this.lineLength*.5)/this.lineLength))),this.lineHeight*a}heightForLine(o){return this.lineWrapping?(1+Math.max(0,Math.ceil((o-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(o){return this.doc=o,this}mustRefreshForWrapping(o){return kY.indexOf(o)>-1!=this.lineWrapping}mustRefreshForHeights(o){let r=!1;for(let a=0;a<o.length;a++){let d=o[a];d<0?a++:this.heightSamples[Math.floor(d*10)]||(r=!0,this.heightSamples[Math.floor(d*10)]=!0)}return r}refresh(o,r,a,d,h,g){let x=kY.indexOf(o)>-1,k=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=x;if(this.lineWrapping=x,this.lineHeight=r,this.charWidth=a,this.textHeight=d,this.lineLength=h,k){this.heightSamples={};for(let z=0;z<g.length;z++){let D=g[z];D<0?z++:this.heightSamples[Math.floor(D*10)]=!0}}return k}}class $ye{constructor(o,r){this.from=o,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class Eb{constructor(o,r,a,d,h){this.from=o,this.length=r,this.top=a,this.height=d,this._content=h}get type(){return typeof this._content=="number"?Bu.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof xv?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(o){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(o._content)?o._content:[o]);return new Eb(this.from,this.length+o.length,this.top,this.height+o.height,r)}}var qi=function(c){return c[c.ByPos=0]="ByPos",c[c.ByHeight=1]="ByHeight",c[c.ByPosNoHeight=2]="ByPosNoHeight",c}(qi||(qi={}));const YB=.001;class Pu{constructor(o,r,a=2){this.length=o,this.height=r,this.flags=a}get outdated(){return(this.flags&2)>0}set outdated(o){this.flags=(o?2:0)|this.flags&-3}setHeight(o){this.height!=o&&(Math.abs(this.height-o)>YB&&(JS=!0),this.height=o)}replace(o,r,a){return Pu.of(a)}decomposeLeft(o,r){r.push(this)}decomposeRight(o,r){r.push(this)}applyChanges(o,r,a,d){let h=this,g=a.doc;for(let x=d.length-1;x>=0;x--){let{fromA:k,toA:z,fromB:D,toB:$}=d[x],K=h.lineAt(k,qi.ByPosNoHeight,a.setDoc(r),0,0),Y=K.to>=z?K:h.lineAt(z,qi.ByPosNoHeight,a,0,0);for($+=Y.to-z,z=Y.to;x>0&&K.from<=d[x-1].toA;)k=d[x-1].fromA,D=d[x-1].fromB,x--,k<K.from&&(K=h.lineAt(k,qi.ByPosNoHeight,a,0,0));D+=K.from-k,k=K.from;let ie=oU.build(a.setDoc(g),o,D,$);h=uP(h,h.replace(k,z,ie))}return h.updateHeight(a,0)}static empty(){return new Mh(0,0)}static of(o){if(o.length==1)return o[0];let r=0,a=o.length,d=0,h=0;for(;;)if(r==a)if(d>h*2){let x=o[r-1];x.break?o.splice(--r,1,x.left,null,x.right):o.splice(--r,1,x.left,x.right),a+=1+x.break,d-=x.size}else if(h>d*2){let x=o[a];x.break?o.splice(a,1,x.left,null,x.right):o.splice(a,1,x.left,x.right),a+=2+x.break,h-=x.size}else break;else if(d<h){let x=o[r++];x&&(d+=x.size)}else{let x=o[--a];x&&(h+=x.size)}let g=0;return o[r-1]==null?(g=1,r--):o[r]==null&&(g=1,a++),new Vye(Pu.of(o.slice(0,r)),g,Pu.of(o.slice(a)))}}function uP(c,o){return c==o?c:(c.constructor!=o.constructor&&(JS=!0),o)}Pu.prototype.size=1;class vee extends Pu{constructor(o,r,a){super(o,r),this.deco=a}blockAt(o,r,a,d){return new Eb(d,this.length,a,this.height,this.deco||0)}lineAt(o,r,a,d,h){return this.blockAt(0,a,d,h)}forEachLine(o,r,a,d,h,g){o<=h+this.length&&r>=h&&g(this.blockAt(0,a,d,h))}updateHeight(o,r=0,a=!1,d){return d&&d.from<=r&&d.more&&this.setHeight(d.heights[d.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Mh extends vee{constructor(o,r){super(o,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(o,r,a,d){return new Eb(d,this.length,a,this.height,this.breaks)}replace(o,r,a){let d=a[0];return a.length==1&&(d instanceof Mh||d instanceof td&&d.flags&4)&&Math.abs(this.length-d.length)<10?(d instanceof td?d=new Mh(d.length,this.height):d.height=this.height,this.outdated||(d.outdated=!1),d):Pu.of(a)}updateHeight(o,r=0,a=!1,d){return d&&d.from<=r&&d.more?this.setHeight(d.heights[d.index++]):(a||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,o.heightForLine(this.length-this.collapsed))+this.breaks*o.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class td extends Pu{constructor(o){super(o,0)}heightMetrics(o,r){let a=o.doc.lineAt(r).number,d=o.doc.lineAt(r+this.length).number,h=d-a+1,g,x=0;if(o.lineWrapping){let k=Math.min(this.height,o.lineHeight*h);g=k/h,this.length>h+1&&(x=(this.height-k)/(this.length-h-1))}else g=this.height/h;return{firstLine:a,lastLine:d,perLine:g,perChar:x}}blockAt(o,r,a,d){let{firstLine:h,lastLine:g,perLine:x,perChar:k}=this.heightMetrics(r,d);if(r.lineWrapping){let z=d+(o<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(o-a)/this.height))*this.length)),D=r.doc.lineAt(z),$=x+D.length*k,K=Math.max(a,o-$/2);return new Eb(D.from,D.length,K,$,0)}else{let z=Math.max(0,Math.min(g-h,Math.floor((o-a)/x))),{from:D,length:$}=r.doc.line(h+z);return new Eb(D,$,a+x*z,x,0)}}lineAt(o,r,a,d,h){if(r==qi.ByHeight)return this.blockAt(o,a,d,h);if(r==qi.ByPosNoHeight){let{from:Y,to:ie}=a.doc.lineAt(o);return new Eb(Y,ie-Y,0,0,0)}let{firstLine:g,perLine:x,perChar:k}=this.heightMetrics(a,h),z=a.doc.lineAt(o),D=x+z.length*k,$=z.number-g,K=d+x*$+k*(z.from-h-$);return new Eb(z.from,z.length,Math.max(d,Math.min(K,d+this.height-D)),D,0)}forEachLine(o,r,a,d,h,g){o=Math.max(o,h),r=Math.min(r,h+this.length);let{firstLine:x,perLine:k,perChar:z}=this.heightMetrics(a,h);for(let D=o,$=d;D<=r;){let K=a.doc.lineAt(D);if(D==o){let ie=K.number-x;$+=k*ie+z*(o-h-ie)}let Y=k+z*K.length;g(new Eb(K.from,K.length,$,Y,0)),$+=Y,D=K.to+1}}replace(o,r,a){let d=this.length-r;if(d>0){let h=a[a.length-1];h instanceof td?a[a.length-1]=new td(h.length+d):a.push(null,new td(d-1))}if(o>0){let h=a[0];h instanceof td?a[0]=new td(o+h.length):a.unshift(new td(o-1),null)}return Pu.of(a)}decomposeLeft(o,r){r.push(new td(o-1),null)}decomposeRight(o,r){r.push(null,new td(this.length-o-1))}updateHeight(o,r=0,a=!1,d){let h=r+this.length;if(d&&d.from<=r+this.length&&d.more){let g=[],x=Math.max(r,d.from),k=-1;for(d.from>r&&g.push(new td(d.from-r-1).updateHeight(o,r));x<=h&&d.more;){let D=o.doc.lineAt(x).length;g.length&&g.push(null);let $=d.heights[d.index++];k==-1?k=$:Math.abs($-k)>=YB&&(k=-2);let K=new Mh(D,$);K.outdated=!1,g.push(K),x+=D+1}x<=h&&g.push(null,new td(h-x).updateHeight(o,x));let z=Pu.of(g);return(k<0||Math.abs(z.height-this.height)>=YB||Math.abs(k-this.heightMetrics(o,r).perLine)>=YB)&&(JS=!0),uP(this,z)}else(a||this.outdated)&&(this.setHeight(o.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Vye extends Pu{constructor(o,r,a){super(o.length+r+a.length,o.height+a.height,r|(o.outdated||a.outdated?2:0)),this.left=o,this.right=a,this.size=o.size+a.size}get break(){return this.flags&1}blockAt(o,r,a,d){let h=a+this.left.height;return o<h?this.left.blockAt(o,r,a,d):this.right.blockAt(o,r,h,d+this.left.length+this.break)}lineAt(o,r,a,d,h){let g=d+this.left.height,x=h+this.left.length+this.break,k=r==qi.ByHeight?o<g:o<x,z=k?this.left.lineAt(o,r,a,d,h):this.right.lineAt(o,r,a,g,x);if(this.break||(k?z.to<x:z.from>x))return z;let D=r==qi.ByPosNoHeight?qi.ByPosNoHeight:qi.ByPos;return k?z.join(this.right.lineAt(x,D,a,g,x)):this.left.lineAt(x,D,a,d,h).join(z)}forEachLine(o,r,a,d,h,g){let x=d+this.left.height,k=h+this.left.length+this.break;if(this.break)o<k&&this.left.forEachLine(o,r,a,d,h,g),r>=k&&this.right.forEachLine(o,r,a,x,k,g);else{let z=this.lineAt(k,qi.ByPos,a,d,h);o<z.from&&this.left.forEachLine(o,z.from-1,a,d,h,g),z.to>=o&&z.from<=r&&g(z),r>z.to&&this.right.forEachLine(z.to+1,r,a,x,k,g)}}replace(o,r,a){let d=this.left.length+this.break;if(r<d)return this.balanced(this.left.replace(o,r,a),this.right);if(o>this.left.length)return this.balanced(this.left,this.right.replace(o-d,r-d,a));let h=[];o>0&&this.decomposeLeft(o,h);let g=h.length;for(let x of a)h.push(x);if(o>0&&CY(h,g-1),r<this.length){let x=h.length;this.decomposeRight(r,h),CY(h,x)}return Pu.of(h)}decomposeLeft(o,r){let a=this.left.length;if(o<=a)return this.left.decomposeLeft(o,r);r.push(this.left),this.break&&(a++,o>=a&&r.push(null)),o>a&&this.right.decomposeLeft(o-a,r)}decomposeRight(o,r){let a=this.left.length,d=a+this.break;if(o>=d)return this.right.decomposeRight(o-d,r);o<a&&this.left.decomposeRight(o,r),this.break&&o<d&&r.push(null),r.push(this.right)}balanced(o,r){return o.size>2*r.size||r.size>2*o.size?Pu.of(this.break?[o,null,r]:[o,r]):(this.left=uP(this.left,o),this.right=uP(this.right,r),this.setHeight(o.height+r.height),this.outdated=o.outdated||r.outdated,this.size=o.size+r.size,this.length=o.length+this.break+r.length,this)}updateHeight(o,r=0,a=!1,d){let{left:h,right:g}=this,x=r+h.length+this.break,k=null;return d&&d.from<=r+h.length&&d.more?k=h=h.updateHeight(o,r,a,d):h.updateHeight(o,r,a),d&&d.from<=x+g.length&&d.more?k=g=g.updateHeight(o,x,a,d):g.updateHeight(o,x,a),k?this.balanced(h,g):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function CY(c,o){let r,a;c[o]==null&&(r=c[o-1])instanceof td&&(a=c[o+1])instanceof td&&c.splice(o-1,3,new td(r.length+1+a.length))}const jye=5;class oU{constructor(o,r){this.pos=o,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=o}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(o,r){if(this.lineStart>-1){let a=Math.min(r,this.lineEnd),d=this.nodes[this.nodes.length-1];d instanceof Mh?d.length+=a-this.pos:(a>this.pos||!this.isCovered)&&this.nodes.push(new Mh(a-this.pos,-1)),this.writtenTo=a,r>a&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(o,r,a){if(o<r||a.heightRelevant){let d=a.widget?a.widget.estimatedHeight:0,h=a.widget?a.widget.lineBreaks:0;d<0&&(d=this.oracle.lineHeight);let g=r-o;a.block?this.addBlock(new vee(g,d,a)):(g||h||d>=jye)&&this.addLineDeco(d,h,g)}else r>o&&this.span(o,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:o,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=o,this.lineEnd=r,this.writtenTo<o&&((this.writtenTo<o-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,o-1)),this.nodes.push(null)),this.pos>o&&this.nodes.push(new Mh(this.pos-o,-1)),this.writtenTo=this.pos}blankContent(o,r){let a=new td(r-o);return this.oracle.doc.lineAt(o).to==r&&(a.flags|=4),a}ensureLine(){this.enterLine();let o=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(o instanceof Mh)return o;let r=new Mh(0,-1);return this.nodes.push(r),r}addBlock(o){this.enterLine();let r=o.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(o),this.writtenTo=this.pos=this.pos+o.length,r&&r.endSide>0&&(this.covering=o)}addLineDeco(o,r,a){let d=this.ensureLine();d.length+=a,d.collapsed+=a,d.widgetHeight=Math.max(d.widgetHeight,o),d.breaks+=r,this.writtenTo=this.pos=this.pos+a}finish(o){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof Mh)&&!this.isCovered?this.nodes.push(new Mh(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let a=o;for(let d of this.nodes)d instanceof Mh&&d.updateHeight(this.oracle,a),a+=d?d.length:1;return this.nodes}static build(o,r,a,d){let h=new oU(a,o);return gr.spans(r,a,d,h,0),h.finish(a)}}function Uye(c,o,r){let a=new Wye;return gr.compare(c,o,r,a,0),a.changes}class Wye{constructor(){this.changes=[]}compareRange(){}comparePoint(o,r,a,d){(o<r||a&&a.heightRelevant||d&&d.heightRelevant)&&KB(o,r,this.changes,5)}}function Zye(c,o){let r=c.getBoundingClientRect(),a=c.ownerDocument,d=a.defaultView||window,h=Math.max(0,r.left),g=Math.min(d.innerWidth,r.right),x=Math.max(0,r.top),k=Math.min(d.innerHeight,r.bottom);for(let z=c.parentNode;z&&z!=a.body;)if(z.nodeType==1){let D=z,$=window.getComputedStyle(D);if((D.scrollHeight>D.clientHeight||D.scrollWidth>D.clientWidth)&&$.overflow!="visible"){let K=D.getBoundingClientRect();h=Math.max(h,K.left),g=Math.min(g,K.right),x=Math.max(x,K.top),k=Math.min(z==c.parentNode?d.innerHeight:k,K.bottom)}z=$.position=="absolute"||$.position=="fixed"?D.offsetParent:D.parentNode}else if(z.nodeType==11)z=z.host;else break;return{left:h-r.left,right:Math.max(h,g)-r.left,top:x-(r.top+o),bottom:Math.max(x,k)-(r.top+o)}}function qye(c){let o=c.getBoundingClientRect(),r=c.ownerDocument.defaultView||window;return o.left<r.innerWidth&&o.right>0&&o.top<r.innerHeight&&o.bottom>0}function Kye(c,o){let r=c.getBoundingClientRect();return{left:0,right:r.right-r.left,top:o,bottom:r.bottom-(r.top+o)}}class rV{constructor(o,r,a,d){this.from=o,this.to=r,this.size=a,this.displaySize=d}static same(o,r){if(o.length!=r.length)return!1;for(let a=0;a<o.length;a++){let d=o[a],h=r[a];if(d.from!=h.from||d.to!=h.to||d.size!=h.size)return!1}return!0}draw(o,r){return qn.replace({widget:new Gye(this.displaySize*(r?o.scaleY:o.scaleX),r)}).range(this.from,this.to)}}class Gye extends Sv{constructor(o,r){super(),this.size=o,this.vertical=r}eq(o){return o.size==this.size&&o.vertical==this.vertical}toDOM(){let o=document.createElement("div");return this.vertical?o.style.height=this.size+"px":(o.style.width=this.size+"px",o.style.height="2px",o.style.display="inline-block"),o}get estimatedHeight(){return this.vertical?this.size:-1}}class SY{constructor(o){this.state=o,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=EY,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ki.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=o.facet(Qj).some(a=>typeof a!="function"&&a.class=="cm-lineWrapping");this.heightOracle=new Hye(r),this.stateDeco=o.facet(IO).filter(a=>typeof a!="function"),this.heightMap=Pu.empty().applyChanges(this.stateDeco,br.empty,this.heightOracle.setDoc(o.doc),[new Fp(0,0,0,o.doc.length)]);for(let a=0;a<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());a++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=qn.set(this.lineGaps.map(a=>a.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let o=[this.viewport],{main:r}=this.state.selection;for(let a=0;a<=1;a++){let d=a?r.head:r.anchor;if(!o.some(({from:h,to:g})=>d>=h&&d<=g)){let{from:h,to:g}=this.lineBlockAt(d);o.push(new _B(h,g))}}return this.viewports=o.sort((a,d)=>a.from-d.from),this.updateScaler()}updateScaler(){let o=this.scaler;return this.scaler=this.heightMap.height<=7e6?EY:new nU(this.heightOracle,this.heightMap,this.viewports),o.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,o=>{this.viewportLines.push(wO(o,this.scaler))})}update(o,r=null){this.state=o.state;let a=this.stateDeco;this.stateDeco=this.state.facet(IO).filter(D=>typeof D!="function");let d=o.changedRanges,h=Fp.extendWithRanges(d,Uye(a,this.stateDeco,o?o.changes:Kl.empty(this.state.doc.length))),g=this.heightMap.height,x=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);_Y(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,o.startState.doc,this.heightOracle.setDoc(this.state.doc),h),(this.heightMap.height!=g||JS)&&(o.flags|=2),x?(this.scrollAnchorPos=o.changes.mapPos(x.from,-1),this.scrollAnchorHeight=x.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=g);let k=h.length?this.mapViewport(this.viewport,o.changes):this.viewport;(r&&(r.range.head<k.from||r.range.head>k.to)||!this.viewportIsAppropriate(k))&&(k=this.getViewport(0,r));let z=k.from!=this.viewport.from||k.to!=this.viewport.to;this.viewport=k,o.flags|=this.updateForViewport(),(z||!o.changes.empty||o.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,o.changes))),o.flags|=this.computeVisibleRanges(o.changes),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&o.selectionSet&&o.view.lineWrapping&&o.state.selection.main.empty&&o.state.selection.main.assoc&&!o.state.facet(oee)&&(this.mustEnforceCursorAssoc=!0)}measure(o){let r=o.contentDOM,a=window.getComputedStyle(r),d=this.heightOracle,h=a.whiteSpace;this.defaultTextDirection=a.direction=="rtl"?Ki.RTL:Ki.LTR;let g=this.heightOracle.mustRefreshForWrapping(h),x=r.getBoundingClientRect(),k=g||this.mustMeasureContent||this.contentDOMHeight!=x.height;this.contentDOMHeight=x.height,this.mustMeasureContent=!1;let z=0,D=0;if(x.width&&x.height){let{scaleX:ge,scaleY:Ie}=OJ(r,x);(ge>.005&&Math.abs(this.scaleX-ge)>.005||Ie>.005&&Math.abs(this.scaleY-Ie)>.005)&&(this.scaleX=ge,this.scaleY=Ie,z|=16,g=k=!0)}let $=(parseInt(a.paddingTop)||0)*this.scaleY,K=(parseInt(a.paddingBottom)||0)*this.scaleY;(this.paddingTop!=$||this.paddingBottom!=K)&&(this.paddingTop=$,this.paddingBottom=K,z|=18),this.editorWidth!=o.scrollDOM.clientWidth&&(d.lineWrapping&&(k=!0),this.editorWidth=o.scrollDOM.clientWidth,z|=16);let Y=o.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=Y&&(this.scrollAnchorHeight=-1,this.scrollTop=Y),this.scrolledToBottom=MJ(o.scrollDOM);let ie=(this.printing?Kye:Zye)(r,this.paddingTop),ve=ie.top-this.pixelViewport.top,Ne=ie.bottom-this.pixelViewport.bottom;this.pixelViewport=ie;let ye=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(ye!=this.inView&&(this.inView=ye,ye&&(k=!0)),!this.inView&&!this.scrollTarget&&!qye(o.dom))return 0;let Je=x.width;if((this.contentDOMWidth!=Je||this.editorHeight!=o.scrollDOM.clientHeight)&&(this.contentDOMWidth=x.width,this.editorHeight=o.scrollDOM.clientHeight,z|=16),k){let ge=o.docView.measureVisibleLineHeights(this.viewport);if(d.mustRefreshForHeights(ge)&&(g=!0),g||d.lineWrapping&&Math.abs(Je-this.contentDOMWidth)>d.charWidth){let{lineHeight:Ie,charWidth:he,textHeight:Ve}=o.docView.measureTextSize();g=Ie>0&&d.refresh(h,Ie,he,Ve,Je/he,ge),g&&(o.docView.minWidth=0,z|=16)}ve>0&&Ne>0?D=Math.max(ve,Ne):ve<0&&Ne<0&&(D=Math.min(ve,Ne)),_Y();for(let Ie of this.viewports){let he=Ie.from==this.viewport.from?ge:o.docView.measureVisibleLineHeights(Ie);this.heightMap=(g?Pu.empty().applyChanges(this.stateDeco,br.empty,this.heightOracle,[new Fp(0,0,0,o.state.doc.length)]):this.heightMap).updateHeight(d,0,g,new $ye(Ie.from,he))}JS&&(z|=2)}let He=!this.viewportIsAppropriate(this.viewport,D)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return He&&(z&2&&(z|=this.updateScaler()),this.viewport=this.getViewport(D,this.scrollTarget),z|=this.updateForViewport()),(z&2||He)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(g?[]:this.lineGaps,o)),z|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,o.docView.enforceCursorAssoc()),z}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(o,r){let a=.5-Math.max(-.5,Math.min(.5,o/1e3/2)),d=this.heightMap,h=this.heightOracle,{visibleTop:g,visibleBottom:x}=this,k=new _B(d.lineAt(g-a*1e3,qi.ByHeight,h,0,0).from,d.lineAt(x+(1-a)*1e3,qi.ByHeight,h,0,0).to);if(r){let{head:z}=r.range;if(z<k.from||z>k.to){let D=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),$=d.lineAt(z,qi.ByPos,h,0,0),K;r.y=="center"?K=($.top+$.bottom)/2-D/2:r.y=="start"||r.y=="nearest"&&z<k.from?K=$.top:K=$.bottom-D,k=new _B(d.lineAt(K-1e3/2,qi.ByHeight,h,0,0).from,d.lineAt(K+D+1e3/2,qi.ByHeight,h,0,0).to)}}return k}mapViewport(o,r){let a=r.mapPos(o.from,-1),d=r.mapPos(o.to,1);return new _B(this.heightMap.lineAt(a,qi.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(d,qi.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:o,to:r},a=0){if(!this.inView)return!0;let{top:d}=this.heightMap.lineAt(o,qi.ByPos,this.heightOracle,0,0),{bottom:h}=this.heightMap.lineAt(r,qi.ByPos,this.heightOracle,0,0),{visibleTop:g,visibleBottom:x}=this;return(o==0||d<=g-Math.max(10,Math.min(-a,250)))&&(r==this.state.doc.length||h>=x+Math.max(10,Math.min(a,250)))&&d>g-2*1e3&&h<x+2*1e3}mapLineGaps(o,r){if(!o.length||r.empty)return o;let a=[];for(let d of o)r.touchesRange(d.from,d.to)||a.push(new rV(r.mapPos(d.from),r.mapPos(d.to),d.size,d.displaySize));return a}ensureLineGaps(o,r){let a=this.heightOracle.lineWrapping,d=a?1e4:2e3,h=d>>1,g=d<<1;if(this.defaultTextDirection!=Ki.LTR&&!a)return[];let x=[],k=(D,$,K,Y)=>{if($-D<h)return;let ie=this.state.selection.main,ve=[ie.from];ie.empty||ve.push(ie.to);for(let ye of ve)if(ye>D&&ye<$){k(D,ye-10,K,Y),k(ye+10,$,K,Y);return}let Ne=Xye(o,ye=>ye.from>=K.from&&ye.to<=K.to&&Math.abs(ye.from-D)<h&&Math.abs(ye.to-$)<h&&!ve.some(Je=>ye.from<Je&&ye.to>Je));if(!Ne){if($<K.to&&r&&a&&r.visibleRanges.some(He=>He.from<=$&&He.to>=$)){let He=r.moveToLineBoundary(qt.cursor($),!1,!0).head;He>D&&($=He)}let ye=this.gapSize(K,D,$,Y),Je=a||ye<2e6?ye:2e6;Ne=new rV(D,$,ye,Je)}x.push(Ne)},z=D=>{if(D.length<g||D.type!=Bu.Text)return;let $=Yye(D.from,D.to,this.stateDeco);if($.total<g)return;let K=this.scrollTarget?this.scrollTarget.range.head:null,Y,ie;if(a){let ve=d/this.heightOracle.lineLength*this.heightOracle.lineHeight,Ne,ye;if(K!=null){let Je=SB($,K),He=((this.visibleBottom-this.visibleTop)/2+ve)/D.height;Ne=Je-He,ye=Je+He}else Ne=(this.visibleTop-D.top-ve)/D.height,ye=(this.visibleBottom-D.top+ve)/D.height;Y=CB($,Ne),ie=CB($,ye)}else{let ve=$.total*this.heightOracle.charWidth,Ne=d*this.heightOracle.charWidth,ye=0;if(ve>2e6)for(let he of o)he.from>=D.from&&he.from<D.to&&he.size!=he.displaySize&&he.from*this.heightOracle.charWidth+ye<this.pixelViewport.left&&(ye=he.size-he.displaySize);let Je=this.pixelViewport.left+ye,He=this.pixelViewport.right+ye,ge,Ie;if(K!=null){let he=SB($,K),Ve=((He-Je)/2+Ne)/ve;ge=he-Ve,Ie=he+Ve}else ge=(Je-Ne)/ve,Ie=(He+Ne)/ve;Y=CB($,ge),ie=CB($,Ie)}Y>D.from&&k(D.from,Y,D,$),ie<D.to&&k(ie,D.to,D,$)};for(let D of this.viewportLines)Array.isArray(D.type)?D.type.forEach(z):z(D);return x}gapSize(o,r,a,d){let h=SB(d,a)-SB(d,r);return this.heightOracle.lineWrapping?o.height*h:d.total*this.heightOracle.charWidth*h}updateLineGaps(o){rV.same(o,this.lineGaps)||(this.lineGaps=o,this.lineGapDeco=qn.set(o.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(o){let r=this.stateDeco;this.lineGaps.length&&(r=r.concat(this.lineGapDeco));let a=[];gr.spans(r,this.viewport.from,this.viewport.to,{span(h,g){a.push({from:h,to:g})},point(){}},20);let d=0;if(a.length!=this.visibleRanges.length)d=12;else for(let h=0;h<a.length&&!(d&8);h++){let g=this.visibleRanges[h],x=a[h];(g.from!=x.from||g.to!=x.to)&&(d|=4,o&&o.mapPos(g.from,-1)==x.from&&o.mapPos(g.to,1)==x.to||(d|=8))}return this.visibleRanges=a,d}lineBlockAt(o){return o>=this.viewport.from&&o<=this.viewport.to&&this.viewportLines.find(r=>r.from<=o&&r.to>=o)||wO(this.heightMap.lineAt(o,qi.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(o){return o>=this.viewportLines[0].top&&o<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(r=>r.top<=o&&r.bottom>=o)||wO(this.heightMap.lineAt(this.scaler.fromDOM(o),qi.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(o){let r=this.lineBlockAtHeight(o+8);return r.from>=this.viewport.from||this.viewportLines[0].top-o>200?r:this.viewportLines[0]}elementAtHeight(o){return wO(this.heightMap.blockAt(this.scaler.fromDOM(o),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class _B{constructor(o,r){this.from=o,this.to=r}}function Yye(c,o,r){let a=[],d=c,h=0;return gr.spans(r,c,o,{span(){},point(g,x){g>d&&(a.push({from:d,to:g}),h+=g-d),d=x}},20),d<o&&(a.push({from:d,to:o}),h+=o-d),{total:h,ranges:a}}function CB({total:c,ranges:o},r){if(r<=0)return o[0].from;if(r>=1)return o[o.length-1].to;let a=Math.floor(c*r);for(let d=0;;d++){let{from:h,to:g}=o[d],x=g-h;if(a<=x)return h+a;a-=x}}function SB(c,o){let r=0;for(let{from:a,to:d}of c.ranges){if(o<=d){r+=o-a;break}r+=d-a}return r/c.total}function Xye(c,o){for(let r of c)if(o(r))return r}const EY={toDOM(c){return c},fromDOM(c){return c},scale:1,eq(c){return c==this}};class nU{constructor(o,r,a){let d=0,h=0,g=0;this.viewports=a.map(({from:x,to:k})=>{let z=r.lineAt(x,qi.ByPos,o,0,0).top,D=r.lineAt(k,qi.ByPos,o,0,0).bottom;return d+=D-z,{from:x,to:k,top:z,bottom:D,domTop:0,domBottom:0}}),this.scale=(7e6-d)/(r.height-d);for(let x of this.viewports)x.domTop=g+(x.top-h)*this.scale,g=x.domBottom=x.domTop+(x.bottom-x.top),h=x.bottom}toDOM(o){for(let r=0,a=0,d=0;;r++){let h=r<this.viewports.length?this.viewports[r]:null;if(!h||o<h.top)return d+(o-a)*this.scale;if(o<=h.bottom)return h.domTop+(o-h.top);a=h.bottom,d=h.domBottom}}fromDOM(o){for(let r=0,a=0,d=0;;r++){let h=r<this.viewports.length?this.viewports[r]:null;if(!h||o<h.domTop)return a+(o-d)/this.scale;if(o<=h.domBottom)return h.top+(o-h.domTop);a=h.bottom,d=h.domBottom}}eq(o){return o instanceof nU?this.scale==o.scale&&this.viewports.length==o.viewports.length&&this.viewports.every((r,a)=>r.from==o.viewports[a].from&&r.to==o.viewports[a].to):!1}}function wO(c,o){if(o.scale==1)return c;let r=o.toDOM(c.top),a=o.toDOM(c.bottom);return new Eb(c.from,c.length,r,a-r,Array.isArray(c._content)?c._content.map(d=>wO(d,o)):c._content)}const EB=Yo.define({combine:c=>c.join(" ")}),aj=Yo.define({combine:c=>c.indexOf(!0)>-1}),lj=bv.newName(),wee=bv.newName(),kee=bv.newName(),_ee={"&light":"."+wee,"&dark":"."+kee};function cj(c,o,r){return new bv(o,{finish(a){return/&/.test(a)?a.replace(/&\w*/,d=>{if(d=="&")return c;if(!r||!r[d])throw new RangeError(`Unsupported selector: ${d}`);return r[d]}):c+" "+a}})}const Qye=cj("."+lj,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},_ee),Jye={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},iV=Go.ie&&Go.ie_version<=11;class e1e{constructor(o){this.view=o,this.active=!1,this.editContext=null,this.selectionRange=new L0e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=o.contentDOM,this.observer=new MutationObserver(r=>{for(let a of r)this.queue.push(a);(Go.ie&&Go.ie_version<=11||Go.ios&&o.composing)&&r.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Go.android&&o.constructor.EDIT_CONTEXT!==!1&&!(Go.chrome&&Go.chrome_version<126)&&(this.editContext=new o1e(o),o.state.facet(Vy)&&(o.contentDOM.editContext=this.editContext.editContext)),iV&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(o.scrollDOM)),this.addWindowListeners(this.win=o.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(o){this.view.inputState.runHandlers("scroll",o),this.intersecting&&this.view.measure()}onScroll(o){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(o)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(o){(o.type=="change"||!o.type)&&!o.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(o){if(this.gapIntersection&&(o.length!=this.gaps.length||this.gaps.some((r,a)=>r!=o[a]))){this.gapIntersection.disconnect();for(let r of o)this.gapIntersection.observe(r);this.gaps=o}}onSelectionChange(o){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:a}=this,d=this.selectionRange;if(a.state.facet(Vy)?a.root.activeElement!=this.dom:!qB(this.dom,d))return;let h=d.anchorNode&&a.docView.nearest(d.anchorNode);if(h&&h.ignoreEvent(o)){r||(this.selectionChanged=!1);return}(Go.ie&&Go.ie_version<=11||Go.android&&Go.chrome)&&!a.state.selection.main.empty&&d.focusNode&&TO(d.focusNode,d.focusOffset,d.anchorNode,d.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:o}=this,r=BO(o.root);if(!r)return!1;let a=Go.safari&&o.root.nodeType==11&&o.root.activeElement==this.dom&&t1e(this.view,r)||r;if(!a||this.selectionRange.eq(a))return!1;let d=qB(this.dom,a);return d&&!this.selectionChanged&&o.inputState.lastFocusTime>Date.now()-200&&o.inputState.lastTouchTime<Date.now()-300&&P0e(this.dom,a)?(this.view.inputState.lastFocusTime=0,o.docView.updateSelection(),!1):(this.selectionRange.setRange(a),d&&(this.selectionChanged=!0),!0)}setSelectionRange(o,r){this.selectionRange.set(o.node,o.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let o=0,r=null;for(let a=this.dom;a;)if(a.nodeType==1)!r&&o<this.scrollTargets.length&&this.scrollTargets[o]==a?o++:r||(r=this.scrollTargets.slice(0,o)),r&&r.push(a),a=a.assignedSlot||a.parentNode;else if(a.nodeType==11)a=a.host;else break;if(o<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,o)),r){for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);for(let a of this.scrollTargets=r)a.addEventListener("scroll",this.onScroll)}}ignore(o){if(!this.active)return o();try{return this.stop(),o()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Jye),iV&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),iV&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(o,r){var a;if(!this.delayedAndroidKey){let d=()=>{let h=this.delayedAndroidKey;h&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=h.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&h.force&&FS(this.dom,h.key,h.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(d)}(!this.delayedAndroidKey||o=="Enter")&&(this.delayedAndroidKey={key:o,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((a=this.delayedAndroidKey)===null||a===void 0)&&a.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let o of this.observer.takeRecords())this.queue.push(o);return this.queue}processRecords(){let o=this.pendingRecords();o.length&&(this.queue=[]);let r=-1,a=-1,d=!1;for(let h of o){let g=this.readMutation(h);g&&(g.typeOver&&(d=!0),r==-1?{from:r,to:a}=g:(r=Math.min(g.from,r),a=Math.max(g.to,a)))}return{from:r,to:a,typeOver:d}}readChange(){let{from:o,to:r,typeOver:a}=this.processRecords(),d=this.selectionChanged&&qB(this.dom,this.selectionRange);if(o<0&&!d)return null;o>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let h=new yye(this.view,o,r,a);return this.view.docView.domChanged={newSel:h.newSel?h.newSel.main:null},h}flush(o=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;o&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let a=this.view.state,d=uee(this.view,r);return this.view.state==a&&(r.domChanged||r.newSel&&!r.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),d}readMutation(o){let r=this.view.docView.nearest(o.target);if(!r||r.ignoreMutation(o))return null;if(r.markDirty(o.type=="attributes"),o.type=="attributes"&&(r.flags|=4),o.type=="childList"){let a=AY(r,o.previousSibling||o.target.previousSibling,-1),d=AY(r,o.nextSibling||o.target.nextSibling,1);return{from:a?r.posAfter(a):r.posAtStart,to:d?r.posBefore(d):r.posAtEnd,typeOver:!1}}else return o.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:o.target.nodeValue==o.oldValue}:null}setWindow(o){o!=this.win&&(this.removeWindowListeners(this.win),this.win=o,this.addWindowListeners(this.win))}addWindowListeners(o){o.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):o.addEventListener("beforeprint",this.onPrint),o.addEventListener("scroll",this.onScroll),o.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(o){o.removeEventListener("scroll",this.onScroll),o.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):o.removeEventListener("beforeprint",this.onPrint),o.document.removeEventListener("selectionchange",this.onSelectionChange)}update(o){this.editContext&&(this.editContext.update(o),o.startState.facet(Vy)!=o.state.facet(Vy)&&(o.view.contentDOM.editContext=o.state.facet(Vy)?this.editContext.editContext:null))}destroy(){var o,r,a;this.stop(),(o=this.intersection)===null||o===void 0||o.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(a=this.resizeScroll)===null||a===void 0||a.disconnect();for(let d of this.scrollTargets)d.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function AY(c,o,r){for(;o;){let a=_i.get(o);if(a&&a.parent==c)return a;let d=o.parentNode;o=d!=c.dom?d:r>0?o.nextSibling:o.previousSibling}return null}function TY(c,o){let r=o.startContainer,a=o.startOffset,d=o.endContainer,h=o.endOffset,g=c.docView.domAtPos(c.state.selection.main.anchor);return TO(g.node,g.offset,d,h)&&([r,a,d,h]=[d,h,r,a]),{anchorNode:r,anchorOffset:a,focusNode:d,focusOffset:h}}function t1e(c,o){if(o.getComposedRanges){let d=o.getComposedRanges(c.root)[0];if(d)return TY(c,d)}let r=null;function a(d){d.preventDefault(),d.stopImmediatePropagation(),r=d.getTargetRanges()[0]}return c.contentDOM.addEventListener("beforeinput",a,!0),c.dom.ownerDocument.execCommand("indent"),c.contentDOM.removeEventListener("beforeinput",a,!0),r?TY(c,r):null}class o1e{constructor(o){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(o.state);let r=this.editContext=new window.EditContext({text:o.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,o.state.selection.main.anchor))),selectionEnd:this.toContextPos(o.state.selection.main.head)});this.handlers.textupdate=a=>{let d=o.state.selection.main,{anchor:h,head:g}=d,x=this.toEditorPos(a.updateRangeStart),k=this.toEditorPos(a.updateRangeEnd);o.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:a.updateRangeStart,editorBase:x,drifted:!1});let z={from:x,to:k,insert:br.of(a.text.split(`
`))};if(z.from==this.from&&h<this.from?z.from=h:z.to==this.to&&h>this.to&&(z.to=h),z.from==z.to&&!z.insert.length){let D=qt.single(this.toEditorPos(a.selectionStart),this.toEditorPos(a.selectionEnd));D.main.eq(d)||o.dispatch({selection:D,userEvent:"select"});return}if((Go.mac||Go.android)&&z.from==g-1&&/^\. ?$/.test(a.text)&&o.contentDOM.getAttribute("autocorrect")=="off"&&(z={from:x,to:k,insert:br.of([a.text.replace("."," ")])}),this.pendingContextChange=z,!o.state.readOnly){let D=this.to-this.from+(z.to-z.from+z.insert.length);tU(o,z,qt.single(this.toEditorPos(a.selectionStart,D),this.toEditorPos(a.selectionEnd,D)))}this.pendingContextChange&&(this.revertPending(o.state),this.setSelection(o.state))},this.handlers.characterboundsupdate=a=>{let d=[],h=null;for(let g=this.toEditorPos(a.rangeStart),x=this.toEditorPos(a.rangeEnd);g<x;g++){let k=o.coordsForChar(g);h=k&&new DOMRect(k.left,k.top,k.right-k.left,k.bottom-k.top)||h||new DOMRect,d.push(h)}r.updateCharacterBounds(a.rangeStart,d)},this.handlers.textformatupdate=a=>{let d=[];for(let h of a.getTextFormats()){let g=h.underlineStyle,x=h.underlineThickness;if(g!="None"&&x!="None"){let k=this.toEditorPos(h.rangeStart),z=this.toEditorPos(h.rangeEnd);if(k<z){let D=`text-decoration: underline ${g=="Dashed"?"dashed ":g=="Squiggle"?"wavy ":""}${x=="Thin"?1:2}px`;d.push(qn.mark({attributes:{style:D}}).range(k,z))}}}o.dispatch({effects:see.of(qn.set(d))})},this.handlers.compositionstart=()=>{o.inputState.composing<0&&(o.inputState.composing=0,o.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(o.inputState.composing=-1,o.inputState.compositionFirstChange=null,this.composing){let{drifted:a}=this.composing;this.composing=null,a&&this.reset(o.state)}};for(let a in this.handlers)r.addEventListener(a,this.handlers[a]);this.measureReq={read:a=>{this.editContext.updateControlBounds(a.contentDOM.getBoundingClientRect());let d=BO(a.root);d&&d.rangeCount&&this.editContext.updateSelectionBounds(d.getRangeAt(0).getBoundingClientRect())}}}applyEdits(o){let r=0,a=!1,d=this.pendingContextChange;return o.changes.iterChanges((h,g,x,k,z)=>{if(a)return;let D=z.length-(g-h);if(d&&g>=d.to)if(d.from==h&&d.to==g&&d.insert.eq(z)){d=this.pendingContextChange=null,r+=D,this.to+=D;return}else d=null,this.revertPending(o.state);if(h+=r,g+=r,g<=this.from)this.from+=D,this.to+=D;else if(h<this.to){if(h<this.from||g>this.to||this.to-this.from+z.length>3e4){a=!0;return}this.editContext.updateText(this.toContextPos(h),this.toContextPos(g),z.toString()),this.to+=D}r+=D}),d&&!a&&this.revertPending(o.state),!a}update(o){let r=this.pendingContextChange,a=o.startState.selection.main;this.composing&&(this.composing.drifted||!o.changes.touchesRange(a.from,a.to)&&o.transactions.some(d=>!d.isUserEvent("input.type")&&d.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=o.changes.mapPos(this.composing.editorBase)):!this.applyEdits(o)||!this.rangeIsValid(o.state)?(this.pendingContextChange=null,this.reset(o.state)):(o.docChanged||o.selectionSet||r)&&this.setSelection(o.state),(o.geometryChanged||o.docChanged||o.selectionSet)&&o.view.requestMeasure(this.measureReq)}resetRange(o){let{head:r}=o.selection.main;this.from=Math.max(0,r-1e4),this.to=Math.min(o.doc.length,r+1e4)}reset(o){this.resetRange(o),this.editContext.updateText(0,this.editContext.text.length,o.doc.sliceString(this.from,this.to)),this.setSelection(o)}revertPending(o){let r=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(r.from),this.toContextPos(r.from+r.insert.length),o.doc.sliceString(r.from,r.to))}setSelection(o){let{main:r}=o.selection,a=this.toContextPos(Math.max(this.from,Math.min(this.to,r.anchor))),d=this.toContextPos(r.head);(this.editContext.selectionStart!=a||this.editContext.selectionEnd!=d)&&this.editContext.updateSelection(a,d)}rangeIsValid(o){let{head:r}=o.selection.main;return!(this.from>0&&r-this.from<500||this.to<o.doc.length&&this.to-r<500||this.to-this.from>1e4*3)}toEditorPos(o,r=this.to-this.from){o=Math.min(o,r);let a=this.composing;return a&&a.drifted?a.editorBase+(o-a.contextBase):o+this.from}toContextPos(o){let r=this.composing;return r&&r.drifted?r.contextBase+(o-r.editorBase):o-this.from}destroy(){for(let o in this.handlers)this.editContext.removeEventListener(o,this.handlers[o])}}class Jo{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(o={}){var r;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),o.parent&&o.parent.appendChild(this.dom);let{dispatch:a}=o;this.dispatchTransactions=o.dispatchTransactions||a&&(d=>d.forEach(h=>a(h,this)))||(d=>this.update(d)),this.dispatch=this.dispatch.bind(this),this._root=o.root||B0e(o.parent)||document,this.viewState=new SY(o.state||Cr.create(o)),o.scrollTo&&o.scrollTo.is(vB)&&(this.viewState.scrollTarget=o.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(RS).map(d=>new oV(d));for(let d of this.plugins)d.update(this);this.observer=new e1e(this),this.inputState=new _ye(this),this.inputState.ensureHandlers(this.plugins),this.docView=new iY(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((r=document.fonts)===null||r===void 0)&&r.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...o){let r=o.length==1&&o[0]instanceof Gl?o:o.length==1&&Array.isArray(o[0])?o[0]:[this.state.update(...o)];this.dispatchTransactions(r,this)}update(o){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,a=!1,d,h=this.state;for(let K of o){if(K.startState!=h)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");h=K.state}if(this.destroyed){this.viewState.state=h;return}let g=this.hasFocus,x=0,k=null;o.some(K=>K.annotation(bee))?(this.inputState.notifiedFocused=g,x=1):g!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=g,k=yee(h,g),k||(x=1));let z=this.observer.delayedAndroidKey,D=null;if(z?(this.observer.clearDelayedAndroidKey(),D=this.observer.readChange(),(D&&!this.state.doc.eq(h.doc)||!this.state.selection.eq(h.selection))&&(D=null)):this.observer.clear(),h.facet(Cr.phrases)!=this.state.facet(Cr.phrases))return this.setState(h);d=dP.create(this,h,o),d.flags|=x;let $=this.viewState.scrollTarget;try{this.updateState=2;for(let K of o){if($&&($=$.map(K.changes)),K.scrollIntoView){let{main:Y}=K.state.selection;$=new HS(Y.empty?Y:qt.cursor(Y.head,Y.head>Y.anchor?-1:1))}for(let Y of K.effects)Y.is(vB)&&($=Y.value.clip(this.state))}this.viewState.update(d,$),this.bidiCache=fP.update(this.bidiCache,d.changes),d.empty||(this.updatePlugins(d),this.inputState.update(d)),r=this.docView.update(d),this.state.facet(xO)!=this.styleModules&&this.mountStyles(),a=this.updateAttrs(),this.showAnnouncements(o),this.docView.updateSelection(r,o.some(K=>K.isUserEvent("select.pointer")))}finally{this.updateState=0}if(d.startState.facet(EB)!=d.state.facet(EB)&&(this.viewState.mustMeasureContent=!0),(r||a||$||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!d.empty)for(let K of this.state.facet(nj))try{K(d)}catch(Y){Hf(this.state,Y,"update listener")}(k||D)&&Promise.resolve().then(()=>{k&&this.state==k.startState&&this.dispatch(k),D&&!uee(this,D)&&z.force&&FS(this.contentDOM,z.key,z.keyCode)})}setState(o){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=o;return}this.updateState=2;let r=this.hasFocus;try{for(let a of this.plugins)a.destroy(this);this.viewState=new SY(o),this.plugins=o.facet(RS).map(a=>new oV(a)),this.pluginMap.clear();for(let a of this.plugins)a.update(this);this.docView.destroy(),this.docView=new iY(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(o){let r=o.startState.facet(RS),a=o.state.facet(RS);if(r!=a){let d=[];for(let h of a){let g=r.indexOf(h);if(g<0)d.push(new oV(h));else{let x=this.plugins[g];x.mustUpdate=o,d.push(x)}}for(let h of this.plugins)h.mustUpdate!=o&&h.destroy(this);this.plugins=d,this.pluginMap.clear()}else for(let d of this.plugins)d.mustUpdate=o;for(let d=0;d<this.plugins.length;d++)this.plugins[d].update(this);r!=a&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let o of this.plugins){let r=o.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(a){Hf(this.state,a,"doc view update listener")}}}measure(o=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,o&&this.observer.forceFlush();let r=null,a=this.scrollDOM,d=a.scrollTop*this.scaleY,{scrollAnchorPos:h,scrollAnchorHeight:g}=this.viewState;Math.abs(d-this.viewState.scrollTop)>1&&(g=-1),this.viewState.scrollAnchorHeight=-1;try{for(let x=0;;x++){if(g<0)if(MJ(a))h=-1,g=this.viewState.heightMap.height;else{let Y=this.viewState.scrollAnchorAt(d);h=Y.from,g=Y.top}this.updateState=1;let k=this.viewState.measure(this);if(!k&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(x>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let z=[];k&4||([this.measureRequests,z]=[z,this.measureRequests]);let D=z.map(Y=>{try{return Y.read(this)}catch(ie){return Hf(this.state,ie),OY}}),$=dP.create(this,this.state,[]),K=!1;$.flags|=k,r?r.flags|=k:r=$,this.updateState=2,$.empty||(this.updatePlugins($),this.inputState.update($),this.updateAttrs(),K=this.docView.update($),K&&this.docViewUpdate());for(let Y=0;Y<z.length;Y++)if(D[Y]!=OY)try{let ie=z[Y];ie.write&&ie.write(D[Y],this)}catch(ie){Hf(this.state,ie)}if(K&&this.docView.updateSelection(!0),!$.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,g=-1;continue}else{let ie=(h<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(h).top)-g;if(ie>1||ie<-1){d=d+ie,a.scrollTop=d/this.scaleY,g=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let x of this.state.facet(nj))x(r)}get themeClasses(){return lj+" "+(this.state.facet(aj)?kee:wee)+" "+this.state.facet(EB)}updateAttrs(){let o=zY(this,ree,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Vy)?"true":"false",class:"cm-content",style:`${Go.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),zY(this,Qj,r);let a=this.observer.ignore(()=>{let d=QV(this.contentDOM,this.contentAttrs,r),h=QV(this.dom,this.editorAttrs,o);return d||h});return this.editorAttrs=o,this.contentAttrs=r,a}showAnnouncements(o){let r=!0;for(let a of o)for(let d of a.effects)if(d.is(Jo.announce)){r&&(this.announceDOM.textContent=""),r=!1;let h=this.announceDOM.appendChild(document.createElement("div"));h.textContent=d.value}}mountStyles(){this.styleModules=this.state.facet(xO);let o=this.state.facet(Jo.cspNonce);bv.mount(this.root,this.styleModules.concat(Qye).reverse(),o?{nonce:o}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(o){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),o){if(this.measureRequests.indexOf(o)>-1)return;if(o.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===o.key){this.measureRequests[r]=o;return}}this.measureRequests.push(o)}}plugin(o){let r=this.pluginMap.get(o);return(r===void 0||r&&r.plugin!=o)&&this.pluginMap.set(o,r=this.plugins.find(a=>a.plugin==o)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(o){return this.readMeasured(),this.viewState.elementAtHeight(o)}lineBlockAtHeight(o){return this.readMeasured(),this.viewState.lineBlockAtHeight(o)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(o){return this.viewState.lineBlockAt(o)}get contentHeight(){return this.viewState.contentHeight}moveByChar(o,r,a){return sV(this,o,uY(this,o,r,a))}moveByGroup(o,r){return sV(this,o,uY(this,o,r,a=>pye(this,o.head,a)))}visualLineSide(o,r){let a=this.bidiSpans(o),d=this.textDirectionAt(o.from),h=a[r?a.length-1:0];return qt.cursor(h.side(r,d)+o.from,h.forward(!r,d)?1:-1)}moveToLineBoundary(o,r,a=!0){return hye(this,o,r,a)}moveVertically(o,r,a){return sV(this,o,mye(this,o,r,a))}domAtPos(o){return this.docView.domAtPos(o)}posAtDOM(o,r=0){return this.docView.posFromDOM(o,r)}posAtCoords(o,r=!0){return this.readMeasured(),dee(this,o,r)}coordsAtPos(o,r=1){this.readMeasured();let a=this.docView.coordsAt(o,r);if(!a||a.left==a.right)return a;let d=this.state.doc.lineAt(o),h=this.bidiSpans(d),g=h[dv.find(h,o-d.from,-1,r)];return VP(a,g.dir==Ki.LTR==r>0)}coordsForChar(o){return this.readMeasured(),this.docView.coordsForChar(o)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(o){return!this.state.facet(tee)||o<this.viewport.from||o>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(o))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(o){if(o.length>n1e)return qJ(o.length);let r=this.textDirectionAt(o.from),a;for(let h of this.bidiCache)if(h.from==o.from&&h.dir==r&&(h.fresh||ZJ(h.isolates,a=rY(this,o))))return h.order;a||(a=rY(this,o));let d=X0e(o.text,r,a);return this.bidiCache.push(new fP(o.from,o.to,r,a,!0,d)),d}get hasFocus(){var o;return(this.dom.ownerDocument.hasFocus()||Go.safari&&((o=this.inputState)===null||o===void 0?void 0:o.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{zJ(this.contentDOM),this.docView.updateSelection()})}setRoot(o){this._root!=o&&(this._root=o,this.observer.setWindow((o.nodeType==9?o:o.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let o of this.plugins)o.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(o,r={}){return vB.of(new HS(typeof o=="number"?qt.cursor(o):o,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:o,scrollLeft:r}=this.scrollDOM,a=this.viewState.scrollAnchorAt(o);return vB.of(new HS(qt.cursor(a.from),"start","start",a.top-o,r,!0))}setTabFocusMode(o){o==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof o=="boolean"?this.inputState.tabFocusMode=o?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+o)}static domEventHandlers(o){return Al.define(()=>({}),{eventHandlers:o})}static domEventObservers(o){return Al.define(()=>({}),{eventObservers:o})}static theme(o,r){let a=bv.newName(),d=[EB.of(a),xO.of(cj(`.${a}`,o))];return r&&r.dark&&d.push(aj.of(!0)),d}static baseTheme(o){return Gk.lowest(xO.of(cj("."+lj,o,_ee)))}static findFromDOM(o){var r;let a=o.querySelector(".cm-content"),d=a&&_i.get(a)||_i.get(o);return((r=d==null?void 0:d.rootView)===null||r===void 0?void 0:r.view)||null}}Jo.styleModule=xO;Jo.inputHandler=JJ;Jo.clipboardInputFilter=Yj;Jo.clipboardOutputFilter=Xj;Jo.scrollHandler=nee;Jo.focusChangeEffect=eee;Jo.perLineTextDirection=tee;Jo.exceptionSink=QJ;Jo.updateListener=nj;Jo.editable=Vy;Jo.mouseSelectionStyle=XJ;Jo.dragMovesSelection=YJ;Jo.clickAddsSelectionRange=GJ;Jo.decorations=IO;Jo.outerDecorations=iee;Jo.atomicRanges=Jj;Jo.bidiIsolatedRanges=aee;Jo.scrollMargins=lee;Jo.darkTheme=aj;Jo.cspNonce=Yo.define({combine:c=>c.length?c[0]:""});Jo.contentAttributes=Qj;Jo.editorAttributes=ree;Jo.lineWrapping=Jo.contentAttributes.of({class:"cm-lineWrapping"});Jo.announce=As.define();const n1e=4096,OY={};class fP{constructor(o,r,a,d,h,g){this.from=o,this.to=r,this.dir=a,this.isolates=d,this.fresh=h,this.order=g}static update(o,r){if(r.empty&&!o.some(h=>h.fresh))return o;let a=[],d=o.length?o[o.length-1].dir:Ki.LTR;for(let h=Math.max(0,o.length-10);h<o.length;h++){let g=o[h];g.dir==d&&!r.touchesRange(g.from,g.to)&&a.push(new fP(r.mapPos(g.from,1),r.mapPos(g.to,-1),g.dir,g.isolates,!1,g.order))}return a}}function zY(c,o,r){for(let a=c.state.facet(o),d=a.length-1;d>=0;d--){let h=a[d],g=typeof h=="function"?h(c):h;g&&XV(g,r)}return r}const s1e=Go.mac?"mac":Go.windows?"win":Go.linux?"linux":"key";function r1e(c,o){const r=c.split(/-(?!$)/);let a=r[r.length-1];a=="Space"&&(a=" ");let d,h,g,x;for(let k=0;k<r.length-1;++k){const z=r[k];if(/^(cmd|meta|m)$/i.test(z))x=!0;else if(/^a(lt)?$/i.test(z))d=!0;else if(/^(c|ctrl|control)$/i.test(z))h=!0;else if(/^s(hift)?$/i.test(z))g=!0;else if(/^mod$/i.test(z))o=="mac"?x=!0:h=!0;else throw new Error("Unrecognized modifier name: "+z)}return d&&(a="Alt-"+a),h&&(a="Ctrl-"+a),x&&(a="Meta-"+a),g&&(a="Shift-"+a),a}function AB(c,o,r){return o.altKey&&(c="Alt-"+c),o.ctrlKey&&(c="Ctrl-"+c),o.metaKey&&(c="Meta-"+c),r!==!1&&o.shiftKey&&(c="Shift-"+c),c}const i1e=Gk.default(Jo.domEventHandlers({keydown(c,o){return See(Cee(o.state),c,o,"editor")}})),sU=Yo.define({enables:i1e}),DY=new WeakMap;function Cee(c){let o=c.facet(sU),r=DY.get(o);return r||DY.set(o,r=c1e(o.reduce((a,d)=>a.concat(d),[]))),r}function a1e(c,o,r){return See(Cee(c.state),o,c,r)}let av=null;const l1e=4e3;function c1e(c,o=s1e){let r=Object.create(null),a=Object.create(null),d=(g,x)=>{let k=a[g];if(k==null)a[g]=x;else if(k!=x)throw new Error("Key binding "+g+" is used both as a regular binding and as a multi-stroke prefix")},h=(g,x,k,z,D)=>{var $,K;let Y=r[g]||(r[g]=Object.create(null)),ie=x.split(/ (?!$)/).map(ye=>r1e(ye,o));for(let ye=1;ye<ie.length;ye++){let Je=ie.slice(0,ye).join(" ");d(Je,!0),Y[Je]||(Y[Je]={preventDefault:!0,stopPropagation:!1,run:[He=>{let ge=av={view:He,prefix:Je,scope:g};return setTimeout(()=>{av==ge&&(av=null)},l1e),!0}]})}let ve=ie.join(" ");d(ve,!1);let Ne=Y[ve]||(Y[ve]={preventDefault:!1,stopPropagation:!1,run:((K=($=Y._any)===null||$===void 0?void 0:$.run)===null||K===void 0?void 0:K.slice())||[]});k&&Ne.run.push(k),z&&(Ne.preventDefault=!0),D&&(Ne.stopPropagation=!0)};for(let g of c){let x=g.scope?g.scope.split(" "):["editor"];if(g.any)for(let z of x){let D=r[z]||(r[z]=Object.create(null));D._any||(D._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:$}=g;for(let K in D)D[K].run.push(Y=>$(Y,dj))}let k=g[o]||g.key;if(k)for(let z of x)h(z,k,g.run,g.preventDefault,g.stopPropagation),g.shift&&h(z,"Shift-"+k,g.shift,g.preventDefault,g.stopPropagation)}return r}let dj=null;function See(c,o,r,a){dj=o;let d=D0e(o),h=Bf(d,0),g=Sb(h)==d.length&&d!=" ",x="",k=!1,z=!1,D=!1;av&&av.view==r&&av.scope==a&&(x=av.prefix+" ",hee.indexOf(o.keyCode)<0&&(z=!0,av=null));let $=new Set,K=Ne=>{if(Ne){for(let ye of Ne.run)if(!$.has(ye)&&($.add(ye),ye(r)))return Ne.stopPropagation&&(D=!0),!0;Ne.preventDefault&&(Ne.stopPropagation&&(D=!0),z=!0)}return!1},Y=c[a],ie,ve;return Y&&(K(Y[x+AB(d,o,!g)])?k=!0:g&&(o.altKey||o.metaKey||o.ctrlKey)&&!(Go.windows&&o.ctrlKey&&o.altKey)&&(ie=yv[o.keyCode])&&ie!=d?(K(Y[x+AB(ie,o,!0)])||o.shiftKey&&(ve=LO[o.keyCode])!=d&&ve!=ie&&K(Y[x+AB(ve,o,!1)]))&&(k=!0):g&&o.shiftKey&&K(Y[x+AB(d,o,!0)])&&(k=!0),!k&&K(Y._any)&&(k=!0)),z&&(k=!0),k&&D&&o.stopPropagation(),dj=null,k}class sz{constructor(o,r,a,d,h){this.className=o,this.left=r,this.top=a,this.width=d,this.height=h}draw(){let o=document.createElement("div");return o.className=this.className,this.adjust(o),o}update(o,r){return r.className!=this.className?!1:(this.adjust(o),!0)}adjust(o){o.style.left=this.left+"px",o.style.top=this.top+"px",this.width!=null&&(o.style.width=this.width+"px"),o.style.height=this.height+"px"}eq(o){return this.left==o.left&&this.top==o.top&&this.width==o.width&&this.height==o.height&&this.className==o.className}static forRange(o,r,a){if(a.empty){let d=o.coordsAtPos(a.head,a.assoc||1);if(!d)return[];let h=Eee(o);return[new sz(r,d.left-h.left,d.top-h.top,null,d.bottom-d.top)]}else return d1e(o,r,a)}}function Eee(c){let o=c.scrollDOM.getBoundingClientRect();return{left:(c.textDirection==Ki.LTR?o.left:o.right-c.scrollDOM.clientWidth*c.scaleX)-c.scrollDOM.scrollLeft*c.scaleX,top:o.top-c.scrollDOM.scrollTop*c.scaleY}}function MY(c,o,r,a){let d=c.coordsAtPos(o,r*2);if(!d)return a;let h=c.dom.getBoundingClientRect(),g=(d.top+d.bottom)/2,x=c.posAtCoords({x:h.left+1,y:g}),k=c.posAtCoords({x:h.right-1,y:g});return x==null||k==null?a:{from:Math.max(a.from,Math.min(x,k)),to:Math.min(a.to,Math.max(x,k))}}function d1e(c,o,r){if(r.to<=c.viewport.from||r.from>=c.viewport.to)return[];let a=Math.max(r.from,c.viewport.from),d=Math.min(r.to,c.viewport.to),h=c.textDirection==Ki.LTR,g=c.contentDOM,x=g.getBoundingClientRect(),k=Eee(c),z=g.querySelector(".cm-line"),D=z&&window.getComputedStyle(z),$=x.left+(D?parseInt(D.paddingLeft)+Math.min(0,parseInt(D.textIndent)):0),K=x.right-(D?parseInt(D.paddingRight):0),Y=rj(c,a,1),ie=rj(c,d,-1),ve=Y.type==Bu.Text?Y:null,Ne=ie.type==Bu.Text?ie:null;if(ve&&(c.lineWrapping||Y.widgetLineBreaks)&&(ve=MY(c,a,1,ve)),Ne&&(c.lineWrapping||ie.widgetLineBreaks)&&(Ne=MY(c,d,-1,Ne)),ve&&Ne&&ve.from==Ne.from&&ve.to==Ne.to)return Je(He(r.from,r.to,ve));{let Ie=ve?He(r.from,null,ve):ge(Y,!1),he=Ne?He(null,r.to,Ne):ge(ie,!0),Ve=[];return(ve||Y).to<(Ne||ie).from-(ve&&Ne?1:0)||Y.widgetLineBreaks>1&&Ie.bottom+c.defaultLineHeight/2<he.top?Ve.push(ye($,Ie.bottom,K,he.top)):Ie.bottom<he.top&&c.elementAtHeight((Ie.bottom+he.top)/2).type==Bu.Text&&(Ie.bottom=he.top=(Ie.bottom+he.top)/2),Je(Ie).concat(Ve).concat(Je(he))}function ye(Ie,he,Ve,bo){return new sz(o,Ie-k.left,he-k.top,Ve-Ie,bo-he)}function Je({top:Ie,bottom:he,horizontal:Ve}){let bo=[];for(let lo=0;lo<Ve.length;lo+=2)bo.push(ye(Ve[lo],Ie,Ve[lo+1],he));return bo}function He(Ie,he,Ve){let bo=1e9,lo=-1e9,Kt=[];function Me(Mt,Ft,zo,En,ft){let To=c.coordsAtPos(Mt,Mt==Ve.to?-2:2),zs=c.coordsAtPos(zo,zo==Ve.from?2:-2);!To||!zs||(bo=Math.min(To.top,zs.top,bo),lo=Math.max(To.bottom,zs.bottom,lo),ft==Ki.LTR?Kt.push(h&&Ft?$:To.left,h&&En?K:zs.right):Kt.push(!h&&En?$:zs.left,!h&&Ft?K:To.right))}let yt=Ie??Ve.from,I=he??Ve.to;for(let Mt of c.visibleRanges)if(Mt.to>yt&&Mt.from<I)for(let Ft=Math.max(Mt.from,yt),zo=Math.min(Mt.to,I);;){let En=c.state.doc.lineAt(Ft);for(let ft of c.bidiSpans(En)){let To=ft.from+En.from,zs=ft.to+En.from;if(To>=zo)break;zs>Ft&&Me(Math.max(To,Ft),Ie==null&&To<=yt,Math.min(zs,zo),he==null&&zs>=I,ft.dir)}if(Ft=En.to+1,Ft>=zo)break}return Kt.length==0&&Me(yt,Ie==null,I,he==null,c.textDirection),{top:bo,bottom:lo,horizontal:Kt}}function ge(Ie,he){let Ve=x.top+(he?Ie.top:Ie.bottom);return{top:Ve,bottom:Ve,horizontal:[]}}}function u1e(c,o){return c.constructor==o.constructor&&c.eq(o)}class f1e{constructor(o,r){this.view=o,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=o.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(o.state),o.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,o)}update(o){o.startState.facet(XB)!=o.state.facet(XB)&&this.setOrder(o.state),(this.layer.update(o,this.dom)||o.geometryChanged)&&(this.scale(),o.view.requestMeasure(this.measureReq))}docViewUpdate(o){this.layer.updateOnDocViewUpdate!==!1&&o.requestMeasure(this.measureReq)}setOrder(o){let r=0,a=o.facet(XB);for(;r<a.length&&a[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:o,scaleY:r}=this.view;(o!=this.scaleX||r!=this.scaleY)&&(this.scaleX=o,this.scaleY=r,this.dom.style.transform=`scale(${1/o}, ${1/r})`)}draw(o){if(o.length!=this.drawn.length||o.some((r,a)=>!u1e(r,this.drawn[a]))){let r=this.dom.firstChild,a=0;for(let d of o)d.update&&r&&d.constructor&&this.drawn[a].constructor&&d.update(r,this.drawn[a])?(r=r.nextSibling,a++):this.dom.insertBefore(d.draw(),r);for(;r;){let d=r.nextSibling;r.remove(),r=d}this.drawn=o}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const XB=Yo.define();function Aee(c){return[Al.define(o=>new f1e(o,c)),XB.of(c)]}const FO=Yo.define({combine(c){return Rb(c,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(o,r)=>Math.min(o,r),drawRangeCursor:(o,r)=>o||r})}});function h1e(c={}){return[FO.of(c),p1e,m1e,g1e,oee.of(!0)]}function Tee(c){return c.startState.facet(FO)!=c.state.facet(FO)}const p1e=Aee({above:!0,markers(c){let{state:o}=c,r=o.facet(FO),a=[];for(let d of o.selection.ranges){let h=d==o.selection.main;if(d.empty||r.drawRangeCursor){let g=h?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",x=d.empty?d:qt.cursor(d.head,d.head>d.anchor?-1:1);for(let k of sz.forRange(c,g,x))a.push(k)}}return a},update(c,o){c.transactions.some(a=>a.selection)&&(o.style.animationName=o.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=Tee(c);return r&&NY(c.state,o),c.docChanged||c.selectionSet||r},mount(c,o){NY(o.state,c)},class:"cm-cursorLayer"});function NY(c,o){o.style.animationDuration=c.facet(FO).cursorBlinkRate+"ms"}const m1e=Aee({above:!1,markers(c){return c.state.selection.ranges.map(o=>o.empty?[]:sz.forRange(c,"cm-selectionBackground",o)).reduce((o,r)=>o.concat(r))},update(c,o){return c.docChanged||c.selectionSet||c.viewportChanged||Tee(c)},class:"cm-selectionLayer"}),g1e=Gk.highest(Jo.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),Oee=As.define({map(c,o){return c==null?null:o.mapPos(c)}}),kO=sd.define({create(){return null},update(c,o){return c!=null&&(c=o.changes.mapPos(c)),o.effects.reduce((r,a)=>a.is(Oee)?a.value:r,c)}}),b1e=Al.fromClass(class{constructor(c){this.view=c,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(c){var o;let r=c.state.field(kO);r==null?this.cursor!=null&&((o=this.cursor)===null||o===void 0||o.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(c.startState.field(kO)!=r||c.docChanged||c.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:c}=this,o=c.state.field(kO),r=o!=null&&c.coordsAtPos(o);if(!r)return null;let a=c.scrollDOM.getBoundingClientRect();return{left:r.left-a.left+c.scrollDOM.scrollLeft*c.scaleX,top:r.top-a.top+c.scrollDOM.scrollTop*c.scaleY,height:r.bottom-r.top}}drawCursor(c){if(this.cursor){let{scaleX:o,scaleY:r}=this.view;c?(this.cursor.style.left=c.left/o+"px",this.cursor.style.top=c.top/r+"px",this.cursor.style.height=c.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(c){this.view.state.field(kO)!=c&&this.view.dispatch({effects:Oee.of(c)})}},{eventObservers:{dragover(c){this.setDropPos(this.view.posAtCoords({x:c.clientX,y:c.clientY}))},dragleave(c){(c.target==this.view.contentDOM||!this.view.contentDOM.contains(c.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function y1e(){return[kO,b1e]}function RY(c,o,r,a,d){o.lastIndex=0;for(let h=c.iterRange(r,a),g=r,x;!h.next().done;g+=h.value.length)if(!h.lineBreak)for(;x=o.exec(h.value);)d(g+x.index,x)}function x1e(c,o){let r=c.visibleRanges;if(r.length==1&&r[0].from==c.viewport.from&&r[0].to==c.viewport.to)return r;let a=[];for(let{from:d,to:h}of r)d=Math.max(c.state.doc.lineAt(d).from,d-o),h=Math.min(c.state.doc.lineAt(h).to,h+o),a.length&&a[a.length-1].to>=d?a[a.length-1].to=h:a.push({from:d,to:h});return a}class v1e{constructor(o){const{regexp:r,decoration:a,decorate:d,boundary:h,maxLength:g=1e3}=o;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,d)this.addMatch=(x,k,z,D)=>d(D,z,z+x[0].length,x,k);else if(typeof a=="function")this.addMatch=(x,k,z,D)=>{let $=a(x,k,z);$&&D(z,z+x[0].length,$)};else if(a)this.addMatch=(x,k,z,D)=>D(z,z+x[0].length,a);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=h,this.maxLength=g}createDeco(o){let r=new qy,a=r.add.bind(r);for(let{from:d,to:h}of x1e(o,this.maxLength))RY(o.state.doc,this.regexp,d,h,(g,x)=>this.addMatch(x,o,g,a));return r.finish()}updateDeco(o,r){let a=1e9,d=-1;return o.docChanged&&o.changes.iterChanges((h,g,x,k)=>{k>=o.view.viewport.from&&x<=o.view.viewport.to&&(a=Math.min(x,a),d=Math.max(k,d))}),o.viewportMoved||d-a>1e3?this.createDeco(o.view):d>-1?this.updateRange(o.view,r.map(o.changes),a,d):r}updateRange(o,r,a,d){for(let h of o.visibleRanges){let g=Math.max(h.from,a),x=Math.min(h.to,d);if(x>=g){let k=o.state.doc.lineAt(g),z=k.to<x?o.state.doc.lineAt(x):k,D=Math.max(h.from,k.from),$=Math.min(h.to,z.to);if(this.boundary){for(;g>k.from;g--)if(this.boundary.test(k.text[g-1-k.from])){D=g;break}for(;x<z.to;x++)if(this.boundary.test(z.text[x-z.from])){$=x;break}}let K=[],Y,ie=(ve,Ne,ye)=>K.push(ye.range(ve,Ne));if(k==z)for(this.regexp.lastIndex=D-k.from;(Y=this.regexp.exec(k.text))&&Y.index<$-k.from;)this.addMatch(Y,o,Y.index+k.from,ie);else RY(o.state.doc,this.regexp,D,$,(ve,Ne)=>this.addMatch(Ne,o,ve,ie));r=r.update({filterFrom:D,filterTo:$,filter:(ve,Ne)=>ve<D||Ne>$,add:K})}}return r}}const uj=/x/.unicode!=null?"gu":"g",w1e=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,uj),k1e={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let aV=null;function _1e(){var c;if(aV==null&&typeof document<"u"&&document.body){let o=document.body.style;aV=((c=o.tabSize)!==null&&c!==void 0?c:o.MozTabSize)!=null}return aV||!1}const QB=Yo.define({combine(c){let o=Rb(c,{render:null,specialChars:w1e,addSpecialChars:null});return(o.replaceTabs=!_1e())&&(o.specialChars=new RegExp("	|"+o.specialChars.source,uj)),o.addSpecialChars&&(o.specialChars=new RegExp(o.specialChars.source+"|"+o.addSpecialChars.source,uj)),o}});function C1e(c={}){return[QB.of(c),S1e()]}let LY=null;function S1e(){return LY||(LY=Al.fromClass(class{constructor(c){this.view=c,this.decorations=qn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(c.state.facet(QB)),this.decorations=this.decorator.createDeco(c)}makeDecorator(c){return new v1e({regexp:c.specialChars,decoration:(o,r,a)=>{let{doc:d}=r.state,h=Bf(o[0],0);if(h==9){let g=d.lineAt(a),x=r.state.tabSize,k=iE(g.text,x,a-g.from);return qn.replace({widget:new O1e((x-k%x)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[h]||(this.decorationCache[h]=qn.replace({widget:new T1e(c,h)}))},boundary:c.replaceTabs?void 0:/[^]/})}update(c){let o=c.state.facet(QB);c.startState.facet(QB)!=o?(this.decorator=this.makeDecorator(o),this.decorations=this.decorator.createDeco(c.view)):this.decorations=this.decorator.updateDeco(c,this.decorations)}},{decorations:c=>c.decorations}))}const E1e="";function A1e(c){return c>=32?E1e:c==10?"":String.fromCharCode(9216+c)}class T1e extends Sv{constructor(o,r){super(),this.options=o,this.code=r}eq(o){return o.code==this.code}toDOM(o){let r=A1e(this.code),a=o.state.phrase("Control character")+" "+(k1e[this.code]||"0x"+this.code.toString(16)),d=this.options.render&&this.options.render(this.code,a,r);if(d)return d;let h=document.createElement("span");return h.textContent=r,h.title=a,h.setAttribute("aria-label",a),h.className="cm-specialChar",h}ignoreEvent(){return!1}}class O1e extends Sv{constructor(o){super(),this.width=o}eq(o){return o.width==this.width}toDOM(){let o=document.createElement("span");return o.textContent="	",o.className="cm-tab",o.style.width=this.width+"px",o}ignoreEvent(){return!1}}function z1e(){return M1e}const D1e=qn.line({class:"cm-activeLine"}),M1e=Al.fromClass(class{constructor(c){this.decorations=this.getDeco(c)}update(c){(c.docChanged||c.selectionSet)&&(this.decorations=this.getDeco(c.view))}getDeco(c){let o=-1,r=[];for(let a of c.state.selection.ranges){let d=c.lineBlockAt(a.head);d.from>o&&(r.push(D1e.range(d.from)),o=d.from)}return qn.set(r)}},{decorations:c=>c.decorations}),fj=2e3;function N1e(c,o,r){let a=Math.min(o.line,r.line),d=Math.max(o.line,r.line),h=[];if(o.off>fj||r.off>fj||o.col<0||r.col<0){let g=Math.min(o.off,r.off),x=Math.max(o.off,r.off);for(let k=a;k<=d;k++){let z=c.doc.line(k);z.length<=x&&h.push(qt.range(z.from+g,z.to+x))}}else{let g=Math.min(o.col,r.col),x=Math.max(o.col,r.col);for(let k=a;k<=d;k++){let z=c.doc.line(k),D=UV(z.text,g,c.tabSize,!0);if(D<0)h.push(qt.cursor(z.to));else{let $=UV(z.text,x,c.tabSize);h.push(qt.range(z.from+D,z.from+$))}}}return h}function R1e(c,o){let r=c.coordsAtPos(c.viewport.from);return r?Math.round(Math.abs((r.left-o)/c.defaultCharacterWidth)):-1}function BY(c,o){let r=c.posAtCoords({x:o.clientX,y:o.clientY},!1),a=c.state.doc.lineAt(r),d=r-a.from,h=d>fj?-1:d==a.length?R1e(c,o.clientX):iE(a.text,c.state.tabSize,r-a.from);return{line:a.number,col:h,off:d}}function L1e(c,o){let r=BY(c,o),a=c.state.selection;return r?{update(d){if(d.docChanged){let h=d.changes.mapPos(d.startState.doc.line(r.line).from),g=d.state.doc.lineAt(h);r={line:g.number,col:r.col,off:Math.min(r.off,g.length)},a=a.map(d.changes)}},get(d,h,g){let x=BY(c,d);if(!x)return a;let k=N1e(c.state,r,x);return k.length?g?qt.create(k.concat(a.ranges)):qt.create(k):a}}:null}function B1e(c){let o=r=>r.altKey&&r.button==0;return Jo.mouseSelectionStyle.of((r,a)=>o(a)?L1e(r,a):null)}const P1e={Alt:[18,c=>!!c.altKey],Control:[17,c=>!!c.ctrlKey],Shift:[16,c=>!!c.shiftKey],Meta:[91,c=>!!c.metaKey]},I1e={style:"cursor: crosshair"};function F1e(c={}){let[o,r]=P1e[c.key||"Alt"],a=Al.fromClass(class{constructor(d){this.view=d,this.isDown=!1}set(d){this.isDown!=d&&(this.isDown=d,this.view.update([]))}},{eventObservers:{keydown(d){this.set(d.keyCode==o||r(d))},keyup(d){(d.keyCode==o||!r(d))&&this.set(!1)},mousemove(d){this.set(r(d))}}});return[a,Jo.contentAttributes.of(d=>{var h;return!((h=d.plugin(a))===null||h===void 0)&&h.isDown?I1e:null})]}const mO="-10000px";class zee{constructor(o,r,a,d){this.facet=r,this.createTooltipView=a,this.removeTooltipView=d,this.input=o.state.facet(r),this.tooltips=this.input.filter(g=>g);let h=null;this.tooltipViews=this.tooltips.map(g=>h=a(g,h))}update(o,r){var a;let d=o.state.facet(this.facet),h=d.filter(k=>k);if(d===this.input){for(let k of this.tooltipViews)k.update&&k.update(o);return!1}let g=[],x=r?[]:null;for(let k=0;k<h.length;k++){let z=h[k],D=-1;if(z){for(let $=0;$<this.tooltips.length;$++){let K=this.tooltips[$];K&&K.create==z.create&&(D=$)}if(D<0)g[k]=this.createTooltipView(z,k?g[k-1]:null),x&&(x[k]=!!z.above);else{let $=g[k]=this.tooltipViews[D];x&&(x[k]=r[D]),$.update&&$.update(o)}}}for(let k of this.tooltipViews)g.indexOf(k)<0&&(this.removeTooltipView(k),(a=k.destroy)===null||a===void 0||a.call(k));return r&&(x.forEach((k,z)=>r[z]=k),r.length=x.length),this.input=d,this.tooltips=h,this.tooltipViews=g,!0}}function H1e(c){let o=c.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:o.clientHeight,right:o.clientWidth}}const lV=Yo.define({combine:c=>{var o,r,a;return{position:Go.ios?"absolute":((o=c.find(d=>d.position))===null||o===void 0?void 0:o.position)||"fixed",parent:((r=c.find(d=>d.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((a=c.find(d=>d.tooltipSpace))===null||a===void 0?void 0:a.tooltipSpace)||H1e}}}),PY=new WeakMap,rU=Al.fromClass(class{constructor(c){this.view=c,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let o=c.state.facet(lV);this.position=o.position,this.parent=o.parent,this.classes=c.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new zee(c,iU,(r,a)=>this.createTooltip(r,a),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),c.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let c of this.manager.tooltipViews)this.intersectionObserver.observe(c.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(c){c.transactions.length&&(this.lastTransaction=Date.now());let o=this.manager.update(c,this.above);o&&this.observeIntersection();let r=o||c.geometryChanged,a=c.state.facet(lV);if(a.position!=this.position&&!this.madeAbsolute){this.position=a.position;for(let d of this.manager.tooltipViews)d.dom.style.position=this.position;r=!0}if(a.parent!=this.parent){this.parent&&this.container.remove(),this.parent=a.parent,this.createContainer();for(let d of this.manager.tooltipViews)this.container.appendChild(d.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(c,o){let r=c.create(this.view),a=o?o.dom:null;if(r.dom.classList.add("cm-tooltip"),c.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let d=document.createElement("div");d.className="cm-tooltip-arrow",r.dom.appendChild(d)}return r.dom.style.position=this.position,r.dom.style.top=mO,r.dom.style.left="0px",this.container.insertBefore(r.dom,a),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var c,o,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let a of this.manager.tooltipViews)a.dom.remove(),(c=a.destroy)===null||c===void 0||c.call(a);this.parent&&this.container.remove(),(o=this.resizeObserver)===null||o===void 0||o.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let c=1,o=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:h}=this.manager.tooltipViews[0];if(Go.gecko)r=h.offsetParent!=this.container.ownerDocument.body;else if(h.style.top==mO&&h.style.left=="0px"){let g=h.getBoundingClientRect();r=Math.abs(g.top+1e4)>1||Math.abs(g.left)>1}}if(r||this.position=="absolute")if(this.parent){let h=this.parent.getBoundingClientRect();h.width&&h.height&&(c=h.width/this.parent.offsetWidth,o=h.height/this.parent.offsetHeight)}else({scaleX:c,scaleY:o}=this.view.viewState);let a=this.view.scrollDOM.getBoundingClientRect(),d=eU(this.view);return{visible:{left:a.left+d.left,top:a.top+d.top,right:a.right-d.right,bottom:a.bottom-d.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((h,g)=>{let x=this.manager.tooltipViews[g];return x.getCoords?x.getCoords(h.pos):this.view.coordsAtPos(h.pos)}),size:this.manager.tooltipViews.map(({dom:h})=>h.getBoundingClientRect()),space:this.view.state.facet(lV).tooltipSpace(this.view),scaleX:c,scaleY:o,makeAbsolute:r}}writeMeasure(c){var o;if(c.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let x of this.manager.tooltipViews)x.dom.style.position="absolute"}let{visible:r,space:a,scaleX:d,scaleY:h}=c,g=[];for(let x=0;x<this.manager.tooltips.length;x++){let k=this.manager.tooltips[x],z=this.manager.tooltipViews[x],{dom:D}=z,$=c.pos[x],K=c.size[x];if(!$||k.clip!==!1&&($.bottom<=Math.max(r.top,a.top)||$.top>=Math.min(r.bottom,a.bottom)||$.right<Math.max(r.left,a.left)-.1||$.left>Math.min(r.right,a.right)+.1)){D.style.top=mO;continue}let Y=k.arrow?z.dom.querySelector(".cm-tooltip-arrow"):null,ie=Y?7:0,ve=K.right-K.left,Ne=(o=PY.get(z))!==null&&o!==void 0?o:K.bottom-K.top,ye=z.offset||V1e,Je=this.view.textDirection==Ki.LTR,He=K.width>a.right-a.left?Je?a.left:a.right-K.width:Je?Math.max(a.left,Math.min($.left-(Y?14:0)+ye.x,a.right-ve)):Math.min(Math.max(a.left,$.left-ve+(Y?14:0)-ye.x),a.right-ve),ge=this.above[x];!k.strictSide&&(ge?$.top-Ne-ie-ye.y<a.top:$.bottom+Ne+ie+ye.y>a.bottom)&&ge==a.bottom-$.bottom>$.top-a.top&&(ge=this.above[x]=!ge);let Ie=(ge?$.top-a.top:a.bottom-$.bottom)-ie;if(Ie<Ne&&z.resize!==!1){if(Ie<this.view.defaultLineHeight){D.style.top=mO;continue}PY.set(z,Ne),D.style.height=(Ne=Ie)/h+"px"}else D.style.height&&(D.style.height="");let he=ge?$.top-Ne-ie-ye.y:$.bottom+ie+ye.y,Ve=He+ve;if(z.overlap!==!0)for(let bo of g)bo.left<Ve&&bo.right>He&&bo.top<he+Ne&&bo.bottom>he&&(he=ge?bo.top-Ne-2-ie:bo.bottom+ie+2);if(this.position=="absolute"?(D.style.top=(he-c.parent.top)/h+"px",IY(D,(He-c.parent.left)/d)):(D.style.top=he/h+"px",IY(D,He/d)),Y){let bo=$.left+(Je?ye.x:-ye.x)-(He+14-7);Y.style.left=bo/d+"px"}z.overlap!==!0&&g.push({left:He,top:he,right:Ve,bottom:he+Ne}),D.classList.toggle("cm-tooltip-above",ge),D.classList.toggle("cm-tooltip-below",!ge),z.positioned&&z.positioned(c.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let c of this.manager.tooltipViews)c.dom.style.top=mO}},{eventObservers:{scroll(){this.maybeMeasure()}}});function IY(c,o){let r=parseInt(c.style.left,10);(isNaN(r)||Math.abs(o-r)>1)&&(c.style.left=o+"px")}const $1e=Jo.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),V1e={x:0,y:0},iU=Yo.define({enables:[rU,$1e]}),hP=Yo.define({combine:c=>c.reduce((o,r)=>o.concat(r),[])});class WP{static create(o){return new WP(o)}constructor(o){this.view=o,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new zee(o,hP,(r,a)=>this.createHostedView(r,a),r=>r.dom.remove())}createHostedView(o,r){let a=o.create(this.view);return a.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(a.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&a.mount&&a.mount(this.view),a}mount(o){for(let r of this.manager.tooltipViews)r.mount&&r.mount(o);this.mounted=!0}positioned(o){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(o)}update(o){this.manager.update(o)}destroy(){var o;for(let r of this.manager.tooltipViews)(o=r.destroy)===null||o===void 0||o.call(r)}passProp(o){let r;for(let a of this.manager.tooltipViews){let d=a[o];if(d!==void 0){if(r===void 0)r=d;else if(r!==d)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const j1e=iU.compute([hP],c=>{let o=c.facet(hP);return o.length===0?null:{pos:Math.min(...o.map(r=>r.pos)),end:Math.max(...o.map(r=>{var a;return(a=r.end)!==null&&a!==void 0?a:r.pos})),create:WP.create,above:o[0].above,arrow:o.some(r=>r.arrow)}});class U1e{constructor(o,r,a,d,h){this.view=o,this.source=r,this.field=a,this.setHover=d,this.hoverTime=h,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:o.dom,time:0},this.checkHover=this.checkHover.bind(this),o.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),o.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let o=Date.now()-this.lastMove.time;o<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-o):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:o,lastMove:r}=this,a=o.docView.nearest(r.target);if(!a)return;let d,h=1;if(a instanceof cv)d=a.posAtStart;else{if(d=o.posAtCoords(r),d==null)return;let x=o.coordsAtPos(d);if(!x||r.y<x.top||r.y>x.bottom||r.x<x.left-o.defaultCharacterWidth||r.x>x.right+o.defaultCharacterWidth)return;let k=o.bidiSpans(o.state.doc.lineAt(d)).find(D=>D.from<=d&&D.to>=d),z=k&&k.dir==Ki.RTL?-1:1;h=r.x<x.left?-z:z}let g=this.source(o,d,h);if(g!=null&&g.then){let x=this.pending={pos:d};g.then(k=>{this.pending==x&&(this.pending=null,k&&!(Array.isArray(k)&&!k.length)&&o.dispatch({effects:this.setHover.of(Array.isArray(k)?k:[k])}))},k=>Hf(o.state,k,"hover tooltip"))}else g&&!(Array.isArray(g)&&!g.length)&&o.dispatch({effects:this.setHover.of(Array.isArray(g)?g:[g])})}get tooltip(){let o=this.view.plugin(rU),r=o?o.manager.tooltips.findIndex(a=>a.create==WP.create):-1;return r>-1?o.manager.tooltipViews[r]:null}mousemove(o){var r,a;this.lastMove={x:o.clientX,y:o.clientY,target:o.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:d,tooltip:h}=this;if(d.length&&h&&!W1e(h.dom,o)||this.pending){let{pos:g}=d[0]||this.pending,x=(a=(r=d[0])===null||r===void 0?void 0:r.end)!==null&&a!==void 0?a:g;(g==x?this.view.posAtCoords(this.lastMove)!=g:!Z1e(this.view,g,x,o.clientX,o.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(o){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:a}=this;a&&a.dom.contains(o.relatedTarget)?this.watchTooltipLeave(a.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(o){let r=a=>{o.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(a.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};o.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const TB=4;function W1e(c,o){let{left:r,right:a,top:d,bottom:h}=c.getBoundingClientRect(),g;if(g=c.querySelector(".cm-tooltip-arrow")){let x=g.getBoundingClientRect();d=Math.min(x.top,d),h=Math.max(x.bottom,h)}return o.clientX>=r-TB&&o.clientX<=a+TB&&o.clientY>=d-TB&&o.clientY<=h+TB}function Z1e(c,o,r,a,d,h){let g=c.scrollDOM.getBoundingClientRect(),x=c.documentTop+c.documentPadding.top+c.contentHeight;if(g.left>a||g.right<a||g.top>d||Math.min(g.bottom,x)<d)return!1;let k=c.posAtCoords({x:a,y:d},!1);return k>=o&&k<=r}function q1e(c,o={}){let r=As.define(),a=sd.define({create(){return[]},update(d,h){if(d.length&&(o.hideOnChange&&(h.docChanged||h.selection)?d=[]:o.hideOn&&(d=d.filter(g=>!o.hideOn(h,g))),h.docChanged)){let g=[];for(let x of d){let k=h.changes.mapPos(x.pos,-1,Nu.TrackDel);if(k!=null){let z=Object.assign(Object.create(null),x);z.pos=k,z.end!=null&&(z.end=h.changes.mapPos(z.end)),g.push(z)}}d=g}for(let g of h.effects)g.is(r)&&(d=g.value),g.is(K1e)&&(d=[]);return d},provide:d=>hP.from(d)});return{active:a,extension:[a,Al.define(d=>new U1e(d,c,a,r,o.hoverTime||300)),j1e]}}function Dee(c,o){let r=c.plugin(rU);if(!r)return null;let a=r.manager.tooltips.indexOf(o);return a<0?null:r.manager.tooltipViews[a]}const K1e=As.define(),FY=Yo.define({combine(c){let o,r;for(let a of c)o=o||a.topContainer,r=r||a.bottomContainer;return{topContainer:o,bottomContainer:r}}});function HO(c,o){let r=c.plugin(Mee),a=r?r.specs.indexOf(o):-1;return a>-1?r.panels[a]:null}const Mee=Al.fromClass(class{constructor(c){this.input=c.state.facet($O),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(c));let o=c.state.facet(FY);this.top=new OB(c,!0,o.topContainer),this.bottom=new OB(c,!1,o.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(c){let o=c.state.facet(FY);this.top.container!=o.topContainer&&(this.top.sync([]),this.top=new OB(c.view,!0,o.topContainer)),this.bottom.container!=o.bottomContainer&&(this.bottom.sync([]),this.bottom=new OB(c.view,!1,o.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=c.state.facet($O);if(r!=this.input){let a=r.filter(k=>k),d=[],h=[],g=[],x=[];for(let k of a){let z=this.specs.indexOf(k),D;z<0?(D=k(c.view),x.push(D)):(D=this.panels[z],D.update&&D.update(c)),d.push(D),(D.top?h:g).push(D)}this.specs=a,this.panels=d,this.top.sync(h),this.bottom.sync(g);for(let k of x)k.dom.classList.add("cm-panel"),k.mount&&k.mount()}else for(let a of this.panels)a.update&&a.update(c)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:c=>Jo.scrollMargins.of(o=>{let r=o.plugin(c);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class OB{constructor(o,r,a){this.view=o,this.top=r,this.container=a,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(o){for(let r of this.panels)r.destroy&&o.indexOf(r)<0&&r.destroy();this.panels=o,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let o=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;o!=r.dom;)o=HY(o);o=o.nextSibling}else this.dom.insertBefore(r.dom,o);for(;o;)o=HY(o)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let o of this.classes.split(" "))o&&this.container.classList.remove(o);for(let o of(this.classes=this.view.themeClasses).split(" "))o&&this.container.classList.add(o)}}}function HY(c){let o=c.nextSibling;return c.remove(),o}const $O=Yo.define({enables:Mee});class Gy extends $k{compare(o){return this==o||this.constructor==o.constructor&&this.eq(o)}eq(o){return!1}destroy(o){}}Gy.prototype.elementClass="";Gy.prototype.toDOM=void 0;Gy.prototype.mapMode=Nu.TrackBefore;Gy.prototype.startSide=Gy.prototype.endSide=-1;Gy.prototype.point=!0;const JB=Yo.define(),G1e=Yo.define(),Y1e={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>gr.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},zO=Yo.define();function X1e(c){return[Nee(),zO.of({...Y1e,...c})]}const $Y=Yo.define({combine:c=>c.some(o=>o)});function Nee(c){return[Q1e]}const Q1e=Al.fromClass(class{constructor(c){this.view=c,this.domAfter=null,this.prevViewport=c.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=c.state.facet(zO).map(o=>new jY(c,o)),this.fixed=!c.state.facet($Y);for(let o of this.gutters)o.config.side=="after"?this.getDOMAfter().appendChild(o.dom):this.dom.appendChild(o.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),c.scrollDOM.insertBefore(this.dom,c.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(c){if(this.updateGutters(c)){let o=this.prevViewport,r=c.view.viewport,a=Math.min(o.to,r.to)-Math.max(o.from,r.from);this.syncGutters(a<(r.to-r.from)*.8)}if(c.geometryChanged){let o=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=o,this.domAfter&&(this.domAfter.style.minHeight=o)}this.view.state.facet($Y)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=c.view.viewport}syncGutters(c){let o=this.dom.nextSibling;c&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let r=gr.iter(this.view.state.facet(JB),this.view.viewport.from),a=[],d=this.gutters.map(h=>new J1e(h,this.view.viewport,-this.view.documentPadding.top));for(let h of this.view.viewportLineBlocks)if(a.length&&(a=[]),Array.isArray(h.type)){let g=!0;for(let x of h.type)if(x.type==Bu.Text&&g){hj(r,a,x.from);for(let k of d)k.line(this.view,x,a);g=!1}else if(x.widget)for(let k of d)k.widget(this.view,x)}else if(h.type==Bu.Text){hj(r,a,h.from);for(let g of d)g.line(this.view,h,a)}else if(h.widget)for(let g of d)g.widget(this.view,h);for(let h of d)h.finish();c&&(this.view.scrollDOM.insertBefore(this.dom,o),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(c){let o=c.startState.facet(zO),r=c.state.facet(zO),a=c.docChanged||c.heightChanged||c.viewportChanged||!gr.eq(c.startState.facet(JB),c.state.facet(JB),c.view.viewport.from,c.view.viewport.to);if(o==r)for(let d of this.gutters)d.update(c)&&(a=!0);else{a=!0;let d=[];for(let h of r){let g=o.indexOf(h);g<0?d.push(new jY(this.view,h)):(this.gutters[g].update(c),d.push(this.gutters[g]))}for(let h of this.gutters)h.dom.remove(),d.indexOf(h)<0&&h.destroy();for(let h of d)h.config.side=="after"?this.getDOMAfter().appendChild(h.dom):this.dom.appendChild(h.dom);this.gutters=d}return a}destroy(){for(let c of this.gutters)c.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:c=>Jo.scrollMargins.of(o=>{let r=o.plugin(c);if(!r||r.gutters.length==0||!r.fixed)return null;let a=r.dom.offsetWidth*o.scaleX,d=r.domAfter?r.domAfter.offsetWidth*o.scaleX:0;return o.textDirection==Ki.LTR?{left:a,right:d}:{right:a,left:d}})});function VY(c){return Array.isArray(c)?c:[c]}function hj(c,o,r){for(;c.value&&c.from<=r;)c.from==r&&o.push(c.value),c.next()}class J1e{constructor(o,r,a){this.gutter=o,this.height=a,this.i=0,this.cursor=gr.iter(o.markers,r.from)}addElement(o,r,a){let{gutter:d}=this,h=(r.top-this.height)/o.scaleY,g=r.height/o.scaleY;if(this.i==d.elements.length){let x=new Ree(o,g,h,a);d.elements.push(x),d.dom.appendChild(x.dom)}else d.elements[this.i].update(o,g,h,a);this.height=r.bottom,this.i++}line(o,r,a){let d=[];hj(this.cursor,d,r.from),a.length&&(d=d.concat(a));let h=this.gutter.config.lineMarker(o,r,d);h&&d.unshift(h);let g=this.gutter;d.length==0&&!g.config.renderEmptyElements||this.addElement(o,r,d)}widget(o,r){let a=this.gutter.config.widgetMarker(o,r.widget,r),d=a?[a]:null;for(let h of o.state.facet(G1e)){let g=h(o,r.widget,r);g&&(d||(d=[])).push(g)}d&&this.addElement(o,r,d)}finish(){let o=this.gutter;for(;o.elements.length>this.i;){let r=o.elements.pop();o.dom.removeChild(r.dom),r.destroy()}}}class jY{constructor(o,r){this.view=o,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let a in r.domEventHandlers)this.dom.addEventListener(a,d=>{let h=d.target,g;if(h!=this.dom&&this.dom.contains(h)){for(;h.parentNode!=this.dom;)h=h.parentNode;let k=h.getBoundingClientRect();g=(k.top+k.bottom)/2}else g=d.clientY;let x=o.lineBlockAtHeight(g-o.documentTop);r.domEventHandlers[a](o,x,d)&&d.preventDefault()});this.markers=VY(r.markers(o)),r.initialSpacer&&(this.spacer=new Ree(o,0,0,[r.initialSpacer(o)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(o){let r=this.markers;if(this.markers=VY(this.config.markers(o.view)),this.spacer&&this.config.updateSpacer){let d=this.config.updateSpacer(this.spacer.markers[0],o);d!=this.spacer.markers[0]&&this.spacer.update(o.view,0,0,[d])}let a=o.view.viewport;return!gr.eq(this.markers,r,a.from,a.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(o):!1)}destroy(){for(let o of this.elements)o.destroy()}}class Ree{constructor(o,r,a,d){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(o,r,a,d)}update(o,r,a,d){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=a&&(this.dom.style.marginTop=(this.above=a)?a+"px":""),exe(this.markers,d)||this.setMarkers(o,d)}setMarkers(o,r){let a="cm-gutterElement",d=this.dom.firstChild;for(let h=0,g=0;;){let x=g,k=h<r.length?r[h++]:null,z=!1;if(k){let D=k.elementClass;D&&(a+=" "+D);for(let $=g;$<this.markers.length;$++)if(this.markers[$].compare(k)){x=$,z=!0;break}}else x=this.markers.length;for(;g<x;){let D=this.markers[g++];if(D.toDOM){D.destroy(d);let $=d.nextSibling;d.remove(),d=$}}if(!k)break;k.toDOM&&(z?d=d.nextSibling:this.dom.insertBefore(k.toDOM(o),d)),z&&g++}this.dom.className=a,this.markers=r}destroy(){this.setMarkers(null,[])}}function exe(c,o){if(c.length!=o.length)return!1;for(let r=0;r<c.length;r++)if(!c[r].compare(o[r]))return!1;return!0}const txe=Yo.define(),oxe=Yo.define(),LS=Yo.define({combine(c){return Rb(c,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(o,r){let a=Object.assign({},o);for(let d in r){let h=a[d],g=r[d];a[d]=h?(x,k,z)=>h(x,k,z)||g(x,k,z):g}return a}})}});class cV extends Gy{constructor(o){super(),this.number=o}eq(o){return this.number==o.number}toDOM(){return document.createTextNode(this.number)}}function dV(c,o){return c.state.facet(LS).formatNumber(o,c.state)}const nxe=zO.compute([LS],c=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(o){return o.state.facet(txe)},lineMarker(o,r,a){return a.some(d=>d.toDOM)?null:new cV(dV(o,o.state.doc.lineAt(r.from).number))},widgetMarker:(o,r,a)=>{for(let d of o.state.facet(oxe)){let h=d(o,r,a);if(h)return h}return null},lineMarkerChange:o=>o.startState.facet(LS)!=o.state.facet(LS),initialSpacer(o){return new cV(dV(o,UY(o.state.doc.lines)))},updateSpacer(o,r){let a=dV(r.view,UY(r.view.state.doc.lines));return a==o.number?o:new cV(a)},domEventHandlers:c.facet(LS).domEventHandlers,side:"before"}));function sxe(c={}){return[LS.of(c),Nee(),nxe]}function UY(c){let o=9;for(;o<c;)o=o*10+9;return o}const rxe=new class extends Gy{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},ixe=JB.compute(["selection"],c=>{let o=[],r=-1;for(let a of c.selection.ranges){let d=c.doc.lineAt(a.head).from;d>r&&(r=d,o.push(rxe.range(d)))}return gr.of(o)});function axe(){return ixe}const Lee=1024;let lxe=0,uV=class{constructor(o,r){this.from=o,this.to=r}};class js{constructor(o={}){this.id=lxe++,this.perNode=!!o.perNode,this.deserialize=o.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(o){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof o!="function"&&(o=Vf.match(o)),r=>{let a=o(r);return a===void 0?null:[this,a]}}}js.closedBy=new js({deserialize:c=>c.split(" ")});js.openedBy=new js({deserialize:c=>c.split(" ")});js.group=new js({deserialize:c=>c.split(" ")});js.isolate=new js({deserialize:c=>{if(c&&c!="rtl"&&c!="ltr"&&c!="auto")throw new RangeError("Invalid value for isolate: "+c);return c||"auto"}});js.contextHash=new js({perNode:!0});js.lookAhead=new js({perNode:!0});js.mounted=new js({perNode:!0});class pP{constructor(o,r,a){this.tree=o,this.overlay=r,this.parser=a}static get(o){return o&&o.props&&o.props[js.mounted.id]}}const cxe=Object.create(null);class Vf{constructor(o,r,a,d=0){this.name=o,this.props=r,this.id=a,this.flags=d}static define(o){let r=o.props&&o.props.length?Object.create(null):cxe,a=(o.top?1:0)|(o.skipped?2:0)|(o.error?4:0)|(o.name==null?8:0),d=new Vf(o.name||"",r,o.id,a);if(o.props){for(let h of o.props)if(Array.isArray(h)||(h=h(d)),h){if(h[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[h[0].id]=h[1]}}return d}prop(o){return this.props[o.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(o){if(typeof o=="string"){if(this.name==o)return!0;let r=this.prop(js.group);return r?r.indexOf(o)>-1:!1}return this.id==o}static match(o){let r=Object.create(null);for(let a in o)for(let d of a.split(" "))r[d]=o[a];return a=>{for(let d=a.prop(js.group),h=-1;h<(d?d.length:0);h++){let g=r[h<0?a.name:d[h]];if(g)return g}}}}Vf.none=new Vf("",Object.create(null),0,8);class aU{constructor(o){this.types=o;for(let r=0;r<o.length;r++)if(o[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...o){let r=[];for(let a of this.types){let d=null;for(let h of o){let g=h(a);g&&(d||(d=Object.assign({},a.props)),d[g[0].id]=g[1])}r.push(d?new Vf(a.name,d,a.id,a.flags):a)}return new aU(r)}}const zB=new WeakMap,WY=new WeakMap;var vc;(function(c){c[c.ExcludeBuffers=1]="ExcludeBuffers",c[c.IncludeAnonymous=2]="IncludeAnonymous",c[c.IgnoreMounts=4]="IgnoreMounts",c[c.IgnoreOverlays=8]="IgnoreOverlays"})(vc||(vc={}));class El{constructor(o,r,a,d,h){if(this.type=o,this.children=r,this.positions=a,this.length=d,this.props=null,h&&h.length){this.props=Object.create(null);for(let[g,x]of h)this.props[typeof g=="number"?g:g.id]=x}}toString(){let o=pP.get(this);if(o&&!o.overlay)return o.tree.toString();let r="";for(let a of this.children){let d=a.toString();d&&(r&&(r+=","),r+=d)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(o=0){return new mj(this.topNode,o)}cursorAt(o,r=0,a=0){let d=zB.get(this)||this.topNode,h=new mj(d);return h.moveTo(o,r),zB.set(this,h._tree),h}get topNode(){return new Hp(this,0,0,null)}resolve(o,r=0){let a=VO(zB.get(this)||this.topNode,o,r,!1);return zB.set(this,a),a}resolveInner(o,r=0){let a=VO(WY.get(this)||this.topNode,o,r,!0);return WY.set(this,a),a}resolveStack(o,r=0){return fxe(this,o,r)}iterate(o){let{enter:r,leave:a,from:d=0,to:h=this.length}=o,g=o.mode||0,x=(g&vc.IncludeAnonymous)>0;for(let k=this.cursor(g|vc.IncludeAnonymous);;){let z=!1;if(k.from<=h&&k.to>=d&&(!x&&k.type.isAnonymous||r(k)!==!1)){if(k.firstChild())continue;z=!0}for(;z&&a&&(x||!k.type.isAnonymous)&&a(k),!k.nextSibling();){if(!k.parent())return;z=!0}}}prop(o){return o.perNode?this.props?this.props[o.id]:void 0:this.type.prop(o)}get propValues(){let o=[];if(this.props)for(let r in this.props)o.push([+r,this.props[r]]);return o}balance(o={}){return this.children.length<=8?this:dU(Vf.none,this.children,this.positions,0,this.children.length,0,this.length,(r,a,d)=>new El(this.type,r,a,d,this.propValues),o.makeTree||((r,a,d)=>new El(Vf.none,r,a,d)))}static build(o){return hxe(o)}}El.empty=new El(Vf.none,[],[],0);class lU{constructor(o,r){this.buffer=o,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new lU(this.buffer,this.index)}}class vv{constructor(o,r,a){this.buffer=o,this.length=r,this.set=a}get type(){return Vf.none}toString(){let o=[];for(let r=0;r<this.buffer.length;)o.push(this.childString(r)),r=this.buffer[r+3];return o.join(",")}childString(o){let r=this.buffer[o],a=this.buffer[o+3],d=this.set.types[r],h=d.name;if(/\W/.test(h)&&!d.isError&&(h=JSON.stringify(h)),o+=4,a==o)return h;let g=[];for(;o<a;)g.push(this.childString(o)),o=this.buffer[o+3];return h+"("+g.join(",")+")"}findChild(o,r,a,d,h){let{buffer:g}=this,x=-1;for(let k=o;k!=r&&!(Bee(h,d,g[k+1],g[k+2])&&(x=k,a>0));k=g[k+3]);return x}slice(o,r,a){let d=this.buffer,h=new Uint16Array(r-o),g=0;for(let x=o,k=0;x<r;){h[k++]=d[x++],h[k++]=d[x++]-a;let z=h[k++]=d[x++]-a;h[k++]=d[x++]-o,g=Math.max(g,z)}return new vv(h,g,this.set)}}function Bee(c,o,r,a){switch(c){case-2:return r<o;case-1:return a>=o&&r<o;case 0:return r<o&&a>o;case 1:return r<=o&&a>o;case 2:return a>o;case 4:return!0}}function VO(c,o,r,a){for(var d;c.from==c.to||(r<1?c.from>=o:c.from>o)||(r>-1?c.to<=o:c.to<o);){let g=!a&&c instanceof Hp&&c.index<0?null:c.parent;if(!g)return c;c=g}let h=a?0:vc.IgnoreOverlays;if(a)for(let g=c,x=g.parent;x;g=x,x=g.parent)g instanceof Hp&&g.index<0&&((d=x.enter(o,r,h))===null||d===void 0?void 0:d.from)!=g.from&&(c=x);for(;;){let g=c.enter(o,r,h);if(!g)return c;c=g}}class Pee{cursor(o=0){return new mj(this,o)}getChild(o,r=null,a=null){let d=ZY(this,o,r,a);return d.length?d[0]:null}getChildren(o,r=null,a=null){return ZY(this,o,r,a)}resolve(o,r=0){return VO(this,o,r,!1)}resolveInner(o,r=0){return VO(this,o,r,!0)}matchContext(o){return pj(this.parent,o)}enterUnfinishedNodesBefore(o){let r=this.childBefore(o),a=this;for(;r;){let d=r.lastChild;if(!d||d.to!=r.to)break;d.type.isError&&d.from==d.to?(a=r,r=d.prevSibling):r=d}return a}get node(){return this}get next(){return this.parent}}class Hp extends Pee{constructor(o,r,a,d){super(),this._tree=o,this.from=r,this.index=a,this._parent=d}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(o,r,a,d,h=0){for(let g=this;;){for(let{children:x,positions:k}=g._tree,z=r>0?x.length:-1;o!=z;o+=r){let D=x[o],$=k[o]+g.from;if(Bee(d,a,$,$+D.length)){if(D instanceof vv){if(h&vc.ExcludeBuffers)continue;let K=D.findChild(0,D.buffer.length,r,a-$,d);if(K>-1)return new uv(new dxe(g,D,o,$),null,K)}else if(h&vc.IncludeAnonymous||!D.type.isAnonymous||cU(D)){let K;if(!(h&vc.IgnoreMounts)&&(K=pP.get(D))&&!K.overlay)return new Hp(K.tree,$,o,g);let Y=new Hp(D,$,o,g);return h&vc.IncludeAnonymous||!Y.type.isAnonymous?Y:Y.nextChild(r<0?D.children.length-1:0,r,a,d)}}}if(h&vc.IncludeAnonymous||!g.type.isAnonymous||(g.index>=0?o=g.index+r:o=r<0?-1:g._parent._tree.children.length,g=g._parent,!g))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(o){return this.nextChild(0,1,o,2)}childBefore(o){return this.nextChild(this._tree.children.length-1,-1,o,-2)}enter(o,r,a=0){let d;if(!(a&vc.IgnoreOverlays)&&(d=pP.get(this._tree))&&d.overlay){let h=o-this.from;for(let{from:g,to:x}of d.overlay)if((r>0?g<=h:g<h)&&(r<0?x>=h:x>h))return new Hp(d.tree,d.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,o,r,a)}nextSignificantParent(){let o=this;for(;o.type.isAnonymous&&o._parent;)o=o._parent;return o}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function ZY(c,o,r,a){let d=c.cursor(),h=[];if(!d.firstChild())return h;if(r!=null){for(let g=!1;!g;)if(g=d.type.is(r),!d.nextSibling())return h}for(;;){if(a!=null&&d.type.is(a))return h;if(d.type.is(o)&&h.push(d.node),!d.nextSibling())return a==null?h:[]}}function pj(c,o,r=o.length-1){for(let a=c;r>=0;a=a.parent){if(!a)return!1;if(!a.type.isAnonymous){if(o[r]&&o[r]!=a.name)return!1;r--}}return!0}class dxe{constructor(o,r,a,d){this.parent=o,this.buffer=r,this.index=a,this.start=d}}class uv extends Pee{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(o,r,a){super(),this.context=o,this._parent=r,this.index=a,this.type=o.buffer.set.types[o.buffer.buffer[a]]}child(o,r,a){let{buffer:d}=this.context,h=d.findChild(this.index+4,d.buffer[this.index+3],o,r-this.context.start,a);return h<0?null:new uv(this.context,this,h)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(o){return this.child(1,o,2)}childBefore(o){return this.child(-1,o,-2)}enter(o,r,a=0){if(a&vc.ExcludeBuffers)return null;let{buffer:d}=this.context,h=d.findChild(this.index+4,d.buffer[this.index+3],r>0?1:-1,o-this.context.start,r);return h<0?null:new uv(this.context,this,h)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(o){return this._parent?null:this.context.parent.nextChild(this.context.index+o,o,0,4)}get nextSibling(){let{buffer:o}=this.context,r=o.buffer[this.index+3];return r<(this._parent?o.buffer[this._parent.index+3]:o.buffer.length)?new uv(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:o}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new uv(this.context,this._parent,o.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let o=[],r=[],{buffer:a}=this.context,d=this.index+4,h=a.buffer[this.index+3];if(h>d){let g=a.buffer[this.index+1];o.push(a.slice(d,h,g)),r.push(0)}return new El(this.type,o,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Iee(c){if(!c.length)return null;let o=0,r=c[0];for(let h=1;h<c.length;h++){let g=c[h];(g.from>r.from||g.to<r.to)&&(r=g,o=h)}let a=r instanceof Hp&&r.index<0?null:r.parent,d=c.slice();return a?d[o]=a:d.splice(o,1),new uxe(d,r)}class uxe{constructor(o,r){this.heads=o,this.node=r}get next(){return Iee(this.heads)}}function fxe(c,o,r){let a=c.resolveInner(o,r),d=null;for(let h=a instanceof Hp?a:a.context.parent;h;h=h.parent)if(h.index<0){let g=h.parent;(d||(d=[a])).push(g.resolve(o,r)),h=g}else{let g=pP.get(h.tree);if(g&&g.overlay&&g.overlay[0].from<=o&&g.overlay[g.overlay.length-1].to>=o){let x=new Hp(g.tree,g.overlay[0].from+h.from,-1,h);(d||(d=[a])).push(VO(x,o,r,!1))}}return d?Iee(d):a}class mj{get name(){return this.type.name}constructor(o,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,o instanceof Hp)this.yieldNode(o);else{this._tree=o.context.parent,this.buffer=o.context;for(let a=o._parent;a;a=a._parent)this.stack.unshift(a.index);this.bufferNode=o,this.yieldBuf(o.index)}}yieldNode(o){return o?(this._tree=o,this.type=o.type,this.from=o.from,this.to=o.to,!0):!1}yieldBuf(o,r){this.index=o;let{start:a,buffer:d}=this.buffer;return this.type=r||d.set.types[d.buffer[o]],this.from=a+d.buffer[o+1],this.to=a+d.buffer[o+2],!0}yield(o){return o?o instanceof Hp?(this.buffer=null,this.yieldNode(o)):(this.buffer=o.context,this.yieldBuf(o.index,o.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(o,r,a){if(!this.buffer)return this.yield(this._tree.nextChild(o<0?this._tree._tree.children.length-1:0,o,r,a,this.mode));let{buffer:d}=this.buffer,h=d.findChild(this.index+4,d.buffer[this.index+3],o,r-this.buffer.start,a);return h<0?!1:(this.stack.push(this.index),this.yieldBuf(h))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(o){return this.enterChild(1,o,2)}childBefore(o){return this.enterChild(-1,o,-2)}enter(o,r,a=this.mode){return this.buffer?a&vc.ExcludeBuffers?!1:this.enterChild(1,o,r):this.yield(this._tree.enter(o,r,a))}parent(){if(!this.buffer)return this.yieldNode(this.mode&vc.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let o=this.mode&vc.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(o)}sibling(o){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+o,o,0,4,this.mode)):!1;let{buffer:r}=this.buffer,a=this.stack.length-1;if(o<0){let d=a<0?0:this.stack[a]+4;if(this.index!=d)return this.yieldBuf(r.findChild(d,this.index,-1,0,4))}else{let d=r.buffer[this.index+3];if(d<(a<0?r.buffer.length:r.buffer[this.stack[a]+3]))return this.yieldBuf(d)}return a<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+o,o,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(o){let r,a,{buffer:d}=this;if(d){if(o>0){if(this.index<d.buffer.buffer.length)return!1}else for(let h=0;h<this.index;h++)if(d.buffer.buffer[h+3]<this.index)return!1;({index:r,parent:a}=d)}else({index:r,_parent:a}=this._tree);for(;a;{index:r,_parent:a}=a)if(r>-1)for(let h=r+o,g=o<0?-1:a._tree.children.length;h!=g;h+=o){let x=a._tree.children[h];if(this.mode&vc.IncludeAnonymous||x instanceof vv||!x.type.isAnonymous||cU(x))return!1}return!0}move(o,r){if(r&&this.enterChild(o,0,4))return!0;for(;;){if(this.sibling(o))return!0;if(this.atLastNode(o)||!this.parent())return!1}}next(o=!0){return this.move(1,o)}prev(o=!0){return this.move(-1,o)}moveTo(o,r=0){for(;(this.from==this.to||(r<1?this.from>=o:this.from>o)||(r>-1?this.to<=o:this.to<o))&&this.parent(););for(;this.enterChild(1,o,r););return this}get node(){if(!this.buffer)return this._tree;let o=this.bufferNode,r=null,a=0;if(o&&o.context==this.buffer)e:for(let d=this.index,h=this.stack.length;h>=0;){for(let g=o;g;g=g._parent)if(g.index==d){if(d==this.index)return g;r=g,a=h+1;break e}d=this.stack[--h]}for(let d=a;d<this.stack.length;d++)r=new uv(this.buffer,r,this.stack[d]);return this.bufferNode=new uv(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(o,r){for(let a=0;;){let d=!1;if(this.type.isAnonymous||o(this)!==!1){if(this.firstChild()){a++;continue}this.type.isAnonymous||(d=!0)}for(;;){if(d&&r&&r(this),d=this.type.isAnonymous,!a)return;if(this.nextSibling())break;this.parent(),a--,d=!0}}}matchContext(o){if(!this.buffer)return pj(this.node.parent,o);let{buffer:r}=this.buffer,{types:a}=r.set;for(let d=o.length-1,h=this.stack.length-1;d>=0;h--){if(h<0)return pj(this._tree,o,d);let g=a[r.buffer[this.stack[h]]];if(!g.isAnonymous){if(o[d]&&o[d]!=g.name)return!1;d--}}return!0}}function cU(c){return c.children.some(o=>o instanceof vv||!o.type.isAnonymous||cU(o))}function hxe(c){var o;let{buffer:r,nodeSet:a,maxBufferLength:d=Lee,reused:h=[],minRepeatType:g=a.types.length}=c,x=Array.isArray(r)?new lU(r,r.length):r,k=a.types,z=0,D=0;function $(Ie,he,Ve,bo,lo,Kt){let{id:Me,start:yt,end:I,size:Mt}=x,Ft=D,zo=z;for(;Mt<0;)if(x.next(),Mt==-1){let Tt=h[Me];Ve.push(Tt),bo.push(yt-Ie);return}else if(Mt==-3){z=Me;return}else if(Mt==-4){D=Me;return}else throw new RangeError(`Unrecognized record size: ${Mt}`);let En=k[Me],ft,To,zs=yt-Ie;if(I-yt<=d&&(To=Ne(x.pos-he,lo))){let Tt=new Uint16Array(To.size-To.skip),Le=x.pos-To.size,Ge=Tt.length;for(;x.pos>Le;)Ge=ye(To.start,Tt,Ge);ft=new vv(Tt,I-To.start,a),zs=To.start-Ie}else{let Tt=x.pos-Mt;x.next();let Le=[],Ge=[],yo=Me>=g?Me:-1,to=0,_o=I;for(;x.pos>Tt;)yo>=0&&x.id==yo&&x.size>=0?(x.end<=_o-d&&(ie(Le,Ge,yt,to,x.end,_o,yo,Ft,zo),to=Le.length,_o=x.end),x.next()):Kt>2500?K(yt,Tt,Le,Ge):$(yt,Tt,Le,Ge,yo,Kt+1);if(yo>=0&&to>0&&to<Le.length&&ie(Le,Ge,yt,to,yt,_o,yo,Ft,zo),Le.reverse(),Ge.reverse(),yo>-1&&to>0){let fo=Y(En,zo);ft=dU(En,Le,Ge,0,Le.length,0,I-yt,fo,fo)}else ft=ve(En,Le,Ge,I-yt,Ft-I,zo)}Ve.push(ft),bo.push(zs)}function K(Ie,he,Ve,bo){let lo=[],Kt=0,Me=-1;for(;x.pos>he;){let{id:yt,start:I,end:Mt,size:Ft}=x;if(Ft>4)x.next();else{if(Me>-1&&I<Me)break;Me<0&&(Me=Mt-d),lo.push(yt,I,Mt),Kt++,x.next()}}if(Kt){let yt=new Uint16Array(Kt*4),I=lo[lo.length-2];for(let Mt=lo.length-3,Ft=0;Mt>=0;Mt-=3)yt[Ft++]=lo[Mt],yt[Ft++]=lo[Mt+1]-I,yt[Ft++]=lo[Mt+2]-I,yt[Ft++]=Ft;Ve.push(new vv(yt,lo[2]-I,a)),bo.push(I-Ie)}}function Y(Ie,he){return(Ve,bo,lo)=>{let Kt=0,Me=Ve.length-1,yt,I;if(Me>=0&&(yt=Ve[Me])instanceof El){if(!Me&&yt.type==Ie&&yt.length==lo)return yt;(I=yt.prop(js.lookAhead))&&(Kt=bo[Me]+yt.length+I)}return ve(Ie,Ve,bo,lo,Kt,he)}}function ie(Ie,he,Ve,bo,lo,Kt,Me,yt,I){let Mt=[],Ft=[];for(;Ie.length>bo;)Mt.push(Ie.pop()),Ft.push(he.pop()+Ve-lo);Ie.push(ve(a.types[Me],Mt,Ft,Kt-lo,yt-Kt,I)),he.push(lo-Ve)}function ve(Ie,he,Ve,bo,lo,Kt,Me){if(Kt){let yt=[js.contextHash,Kt];Me=Me?[yt].concat(Me):[yt]}if(lo>25){let yt=[js.lookAhead,lo];Me=Me?[yt].concat(Me):[yt]}return new El(Ie,he,Ve,bo,Me)}function Ne(Ie,he){let Ve=x.fork(),bo=0,lo=0,Kt=0,Me=Ve.end-d,yt={size:0,start:0,skip:0};e:for(let I=Ve.pos-Ie;Ve.pos>I;){let Mt=Ve.size;if(Ve.id==he&&Mt>=0){yt.size=bo,yt.start=lo,yt.skip=Kt,Kt+=4,bo+=4,Ve.next();continue}let Ft=Ve.pos-Mt;if(Mt<0||Ft<I||Ve.start<Me)break;let zo=Ve.id>=g?4:0,En=Ve.start;for(Ve.next();Ve.pos>Ft;){if(Ve.size<0)if(Ve.size==-3)zo+=4;else break e;else Ve.id>=g&&(zo+=4);Ve.next()}lo=En,bo+=Mt,Kt+=zo}return(he<0||bo==Ie)&&(yt.size=bo,yt.start=lo,yt.skip=Kt),yt.size>4?yt:void 0}function ye(Ie,he,Ve){let{id:bo,start:lo,end:Kt,size:Me}=x;if(x.next(),Me>=0&&bo<g){let yt=Ve;if(Me>4){let I=x.pos-(Me-4);for(;x.pos>I;)Ve=ye(Ie,he,Ve)}he[--Ve]=yt,he[--Ve]=Kt-Ie,he[--Ve]=lo-Ie,he[--Ve]=bo}else Me==-3?z=bo:Me==-4&&(D=bo);return Ve}let Je=[],He=[];for(;x.pos>0;)$(c.start||0,c.bufferStart||0,Je,He,-1,0);let ge=(o=c.length)!==null&&o!==void 0?o:Je.length?He[0]+Je[0].length:0;return new El(k[c.topID],Je.reverse(),He.reverse(),ge)}const qY=new WeakMap;function eP(c,o){if(!c.isAnonymous||o instanceof vv||o.type!=c)return 1;let r=qY.get(o);if(r==null){r=1;for(let a of o.children){if(a.type!=c||!(a instanceof El)){r=1;break}r+=eP(c,a)}qY.set(o,r)}return r}function dU(c,o,r,a,d,h,g,x,k){let z=0;for(let ie=a;ie<d;ie++)z+=eP(c,o[ie]);let D=Math.ceil(z*1.5/8),$=[],K=[];function Y(ie,ve,Ne,ye,Je){for(let He=Ne;He<ye;){let ge=He,Ie=ve[He],he=eP(c,ie[He]);for(He++;He<ye;He++){let Ve=eP(c,ie[He]);if(he+Ve>=D)break;he+=Ve}if(He==ge+1){if(he>D){let Ve=ie[ge];Y(Ve.children,Ve.positions,0,Ve.children.length,ve[ge]+Je);continue}$.push(ie[ge])}else{let Ve=ve[He-1]+ie[He-1].length-Ie;$.push(dU(c,ie,ve,ge,He,Ie,Ve,null,k))}K.push(Ie+Je-h)}}return Y(o,r,a,d,0),(x||k)($,K,g)}class Pk{constructor(o,r,a,d,h=!1,g=!1){this.from=o,this.to=r,this.tree=a,this.offset=d,this.open=(h?1:0)|(g?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(o,r=[],a=!1){let d=[new Pk(0,o.length,o,0,!1,a)];for(let h of r)h.to>o.length&&d.push(h);return d}static applyChanges(o,r,a=128){if(!r.length)return o;let d=[],h=1,g=o.length?o[0]:null;for(let x=0,k=0,z=0;;x++){let D=x<r.length?r[x]:null,$=D?D.fromA:1e9;if($-k>=a)for(;g&&g.from<$;){let K=g;if(k>=K.from||$<=K.to||z){let Y=Math.max(K.from,k)-z,ie=Math.min(K.to,$)-z;K=Y>=ie?null:new Pk(Y,ie,K.tree,K.offset+z,x>0,!!D)}if(K&&d.push(K),g.to>$)break;g=h<o.length?o[h++]:null}if(!D)break;k=D.toA,z=D.toA-D.toB}return d}}class Fee{startParse(o,r,a){return typeof o=="string"&&(o=new pxe(o)),a=a?a.length?a.map(d=>new uV(d.from,d.to)):[new uV(0,0)]:[new uV(0,o.length)],this.createParse(o,r||[],a)}parse(o,r,a){let d=this.startParse(o,r,a);for(;;){let h=d.advance();if(h)return h}}}class pxe{constructor(o){this.string=o}get length(){return this.string.length}chunk(o){return this.string.slice(o)}get lineChunks(){return!1}read(o,r){return this.string.slice(o,r)}}new js({perNode:!0});let mxe=0;class Lp{constructor(o,r,a,d){this.name=o,this.set=r,this.base=a,this.modified=d,this.id=mxe++}toString(){let{name:o}=this;for(let r of this.modified)r.name&&(o=`${r.name}(${o})`);return o}static define(o,r){let a=typeof o=="string"?o:"?";if(o instanceof Lp&&(r=o),r!=null&&r.base)throw new Error("Can not derive from a modified tag");let d=new Lp(a,[],null,[]);if(d.set.push(d),r)for(let h of r.set)d.set.push(h);return d}static defineModifier(o){let r=new mP(o);return a=>a.modified.indexOf(r)>-1?a:mP.get(a.base||a,a.modified.concat(r).sort((d,h)=>d.id-h.id))}}let gxe=0;class mP{constructor(o){this.name=o,this.instances=[],this.id=gxe++}static get(o,r){if(!r.length)return o;let a=r[0].instances.find(x=>x.base==o&&bxe(r,x.modified));if(a)return a;let d=[],h=new Lp(o.name,d,o,r);for(let x of r)x.instances.push(h);let g=yxe(r);for(let x of o.set)if(!x.modified.length)for(let k of g)d.push(mP.get(x,k));return h}}function bxe(c,o){return c.length==o.length&&c.every((r,a)=>r==o[a])}function yxe(c){let o=[[]];for(let r=0;r<c.length;r++)for(let a=0,d=o.length;a<d;a++)o.push(o[a].concat(c[r]));return o.sort((r,a)=>a.length-r.length)}function Hee(c){let o=Object.create(null);for(let r in c){let a=c[r];Array.isArray(a)||(a=[a]);for(let d of r.split(" "))if(d){let h=[],g=2,x=d;for(let $=0;;){if(x=="..."&&$>0&&$+3==d.length){g=1;break}let K=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(x);if(!K)throw new RangeError("Invalid path: "+d);if(h.push(K[0]=="*"?"":K[0][0]=='"'?JSON.parse(K[0]):K[0]),$+=K[0].length,$==d.length)break;let Y=d[$++];if($==d.length&&Y=="!"){g=0;break}if(Y!="/")throw new RangeError("Invalid path: "+d);x=d.slice($)}let k=h.length-1,z=h[k];if(!z)throw new RangeError("Invalid path: "+d);let D=new gP(a,g,k>0?h.slice(0,k):null);o[z]=D.sort(o[z])}}return $ee.add(o)}const $ee=new js;class gP{constructor(o,r,a,d){this.tags=o,this.mode=r,this.context=a,this.next=d}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(o){return!o||o.depth<this.depth?(this.next=o,this):(o.next=this.sort(o.next),o)}get depth(){return this.context?this.context.length:0}}gP.empty=new gP([],2,null);function Vee(c,o){let r=Object.create(null);for(let h of c)if(!Array.isArray(h.tag))r[h.tag.id]=h.class;else for(let g of h.tag)r[g.id]=h.class;let{scope:a,all:d=null}=o||{};return{style:h=>{let g=d;for(let x of h)for(let k of x.set){let z=r[k.id];if(z){g=g?g+" "+z:z;break}}return g},scope:a}}function xxe(c,o){let r=null;for(let a of c){let d=a.style(o);d&&(r=r?r+" "+d:d)}return r}function vxe(c,o,r,a=0,d=c.length){let h=new wxe(a,Array.isArray(o)?o:[o],r);h.highlightRange(c.cursor(),a,d,"",h.highlighters),h.flush(d)}class wxe{constructor(o,r,a){this.at=o,this.highlighters=r,this.span=a,this.class=""}startSpan(o,r){r!=this.class&&(this.flush(o),o>this.at&&(this.at=o),this.class=r)}flush(o){o>this.at&&this.class&&this.span(this.at,o,this.class)}highlightRange(o,r,a,d,h){let{type:g,from:x,to:k}=o;if(x>=a||k<=r)return;g.isTop&&(h=this.highlighters.filter(Y=>!Y.scope||Y.scope(g)));let z=d,D=kxe(o)||gP.empty,$=xxe(h,D.tags);if($&&(z&&(z+=" "),z+=$,D.mode==1&&(d+=(d?" ":"")+$)),this.startSpan(Math.max(r,x),z),D.opaque)return;let K=o.tree&&o.tree.prop(js.mounted);if(K&&K.overlay){let Y=o.node.enter(K.overlay[0].from+x,1),ie=this.highlighters.filter(Ne=>!Ne.scope||Ne.scope(K.tree.type)),ve=o.firstChild();for(let Ne=0,ye=x;;Ne++){let Je=Ne<K.overlay.length?K.overlay[Ne]:null,He=Je?Je.from+x:k,ge=Math.max(r,ye),Ie=Math.min(a,He);if(ge<Ie&&ve)for(;o.from<Ie&&(this.highlightRange(o,ge,Ie,d,h),this.startSpan(Math.min(Ie,o.to),z),!(o.to>=He||!o.nextSibling())););if(!Je||He>a)break;ye=Je.to+x,ye>r&&(this.highlightRange(Y.cursor(),Math.max(r,Je.from+x),Math.min(a,ye),"",ie),this.startSpan(Math.min(a,ye),z))}ve&&o.parent()}else if(o.firstChild()){K&&(d="");do if(!(o.to<=r)){if(o.from>=a)break;this.highlightRange(o,r,a,d,h),this.startSpan(Math.min(a,o.to),z)}while(o.nextSibling());o.parent()}}}function kxe(c){let o=c.type.prop($ee);for(;o&&o.context&&!c.matchContext(o.context);)o=o.next;return o||null}const Bo=Lp.define,DB=Bo(),sv=Bo(),KY=Bo(sv),GY=Bo(sv),rv=Bo(),MB=Bo(rv),fV=Bo(rv),_b=Bo(),Ok=Bo(_b),wb=Bo(),kb=Bo(),gj=Bo(),gO=Bo(gj),NB=Bo(),So={comment:DB,lineComment:Bo(DB),blockComment:Bo(DB),docComment:Bo(DB),name:sv,variableName:Bo(sv),typeName:KY,tagName:Bo(KY),propertyName:GY,attributeName:Bo(GY),className:Bo(sv),labelName:Bo(sv),namespace:Bo(sv),macroName:Bo(sv),literal:rv,string:MB,docString:Bo(MB),character:Bo(MB),attributeValue:Bo(MB),number:fV,integer:Bo(fV),float:Bo(fV),bool:Bo(rv),regexp:Bo(rv),escape:Bo(rv),color:Bo(rv),url:Bo(rv),keyword:wb,self:Bo(wb),null:Bo(wb),atom:Bo(wb),unit:Bo(wb),modifier:Bo(wb),operatorKeyword:Bo(wb),controlKeyword:Bo(wb),definitionKeyword:Bo(wb),moduleKeyword:Bo(wb),operator:kb,derefOperator:Bo(kb),arithmeticOperator:Bo(kb),logicOperator:Bo(kb),bitwiseOperator:Bo(kb),compareOperator:Bo(kb),updateOperator:Bo(kb),definitionOperator:Bo(kb),typeOperator:Bo(kb),controlOperator:Bo(kb),punctuation:gj,separator:Bo(gj),bracket:gO,angleBracket:Bo(gO),squareBracket:Bo(gO),paren:Bo(gO),brace:Bo(gO),content:_b,heading:Ok,heading1:Bo(Ok),heading2:Bo(Ok),heading3:Bo(Ok),heading4:Bo(Ok),heading5:Bo(Ok),heading6:Bo(Ok),contentSeparator:Bo(_b),list:Bo(_b),quote:Bo(_b),emphasis:Bo(_b),strong:Bo(_b),link:Bo(_b),monospace:Bo(_b),strikethrough:Bo(_b),inserted:Bo(),deleted:Bo(),changed:Bo(),invalid:Bo(),meta:NB,documentMeta:Bo(NB),annotation:Bo(NB),processingInstruction:Bo(NB),definition:Lp.defineModifier("definition"),constant:Lp.defineModifier("constant"),function:Lp.defineModifier("function"),standard:Lp.defineModifier("standard"),local:Lp.defineModifier("local"),special:Lp.defineModifier("special")};for(let c in So){let o=So[c];o instanceof Lp&&(o.name=c)}Vee([{tag:So.link,class:"tok-link"},{tag:So.heading,class:"tok-heading"},{tag:So.emphasis,class:"tok-emphasis"},{tag:So.strong,class:"tok-strong"},{tag:So.keyword,class:"tok-keyword"},{tag:So.atom,class:"tok-atom"},{tag:So.bool,class:"tok-bool"},{tag:So.url,class:"tok-url"},{tag:So.labelName,class:"tok-labelName"},{tag:So.inserted,class:"tok-inserted"},{tag:So.deleted,class:"tok-deleted"},{tag:So.literal,class:"tok-literal"},{tag:So.string,class:"tok-string"},{tag:So.number,class:"tok-number"},{tag:[So.regexp,So.escape,So.special(So.string)],class:"tok-string2"},{tag:So.variableName,class:"tok-variableName"},{tag:So.local(So.variableName),class:"tok-variableName tok-local"},{tag:So.definition(So.variableName),class:"tok-variableName tok-definition"},{tag:So.special(So.variableName),class:"tok-variableName2"},{tag:So.definition(So.propertyName),class:"tok-propertyName tok-definition"},{tag:So.typeName,class:"tok-typeName"},{tag:So.namespace,class:"tok-namespace"},{tag:So.className,class:"tok-className"},{tag:So.macroName,class:"tok-macroName"},{tag:So.propertyName,class:"tok-propertyName"},{tag:So.operator,class:"tok-operator"},{tag:So.comment,class:"tok-comment"},{tag:So.meta,class:"tok-meta"},{tag:So.invalid,class:"tok-invalid"},{tag:So.punctuation,class:"tok-punctuation"}]);var hV;const BS=new js;function _xe(c){return Yo.define({combine:c?o=>o.concat(c):void 0})}const Cxe=new js;class rg{constructor(o,r,a=[],d=""){this.data=o,this.name=d,Cr.prototype.hasOwnProperty("tree")||Object.defineProperty(Cr.prototype,"tree",{get(){return $d(this)}}),this.parser=r,this.extension=[wv.of(this),Cr.languageData.of((h,g,x)=>{let k=YY(h,g,x),z=k.type.prop(BS);if(!z)return[];let D=h.facet(z),$=k.type.prop(Cxe);if($){let K=k.resolve(g-k.from,x);for(let Y of $)if(Y.test(K,h)){let ie=h.facet(Y.facet);return Y.type=="replace"?ie:ie.concat(D)}}return D})].concat(a)}isActiveAt(o,r,a=-1){return YY(o,r,a).type.prop(BS)==this.data}findRegions(o){let r=o.facet(wv);if((r==null?void 0:r.data)==this.data)return[{from:0,to:o.doc.length}];if(!r||!r.allowsNesting)return[];let a=[],d=(h,g)=>{if(h.prop(BS)==this.data){a.push({from:g,to:g+h.length});return}let x=h.prop(js.mounted);if(x){if(x.tree.prop(BS)==this.data){if(x.overlay)for(let k of x.overlay)a.push({from:k.from+g,to:k.to+g});else a.push({from:g,to:g+h.length});return}else if(x.overlay){let k=a.length;if(d(x.tree,x.overlay[0].from+g),a.length>k)return}}for(let k=0;k<h.children.length;k++){let z=h.children[k];z instanceof El&&d(z,h.positions[k]+g)}};return d($d(o),0),a}get allowsNesting(){return!0}}rg.setState=As.define();function YY(c,o,r){let a=c.facet(wv),d=$d(c).topNode;if(!a||a.allowsNesting)for(let h=d;h;h=h.enter(o,r,vc.ExcludeBuffers))h.type.isTop&&(d=h);return d}class bP extends rg{constructor(o,r,a){super(o,r,[],a),this.parser=r}static define(o){let r=_xe(o.languageData);return new bP(r,o.parser.configure({props:[BS.add(a=>a.isTop?r:void 0)]}),o.name)}configure(o,r){return new bP(this.data,this.parser.configure(o),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function $d(c){let o=c.field(rg.state,!1);return o?o.tree:El.empty}class Sxe{constructor(o){this.doc=o,this.cursorPos=0,this.string="",this.cursor=o.iter()}get length(){return this.doc.length}syncTo(o){return this.string=this.cursor.next(o-this.cursorPos).value,this.cursorPos=o+this.string.length,this.cursorPos-this.string.length}chunk(o){return this.syncTo(o),this.string}get lineChunks(){return!0}read(o,r){let a=this.cursorPos-this.string.length;return o<a||r>=this.cursorPos?this.doc.sliceString(o,r):this.string.slice(o-a,r-a)}}let bO=null;class yP{constructor(o,r,a=[],d,h,g,x,k){this.parser=o,this.state=r,this.fragments=a,this.tree=d,this.treeLen=h,this.viewport=g,this.skipped=x,this.scheduleOn=k,this.parse=null,this.tempSkipped=[]}static create(o,r,a){return new yP(o,r,[],El.empty,0,a,[],null)}startParse(){return this.parser.startParse(new Sxe(this.state.doc),this.fragments)}work(o,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=El.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var a;if(typeof o=="number"){let d=Date.now()+o;o=()=>Date.now()>d}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let d=this.parse.advance();if(d)if(this.fragments=this.withoutTempSkipped(Pk.addTree(d,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(a=this.parse.stoppedAt)!==null&&a!==void 0?a:this.state.doc.length,this.tree=d,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(o())return!1}})}takeTree(){let o,r;this.parse&&(o=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>o)&&this.parse.stopAt(o),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=o,this.tree=r,this.fragments=this.withoutTempSkipped(Pk.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(o){let r=bO;bO=this;try{return o()}finally{bO=r}}withoutTempSkipped(o){for(let r;r=this.tempSkipped.pop();)o=XY(o,r.from,r.to);return o}changes(o,r){let{fragments:a,tree:d,treeLen:h,viewport:g,skipped:x}=this;if(this.takeTree(),!o.empty){let k=[];if(o.iterChangedRanges((z,D,$,K)=>k.push({fromA:z,toA:D,fromB:$,toB:K})),a=Pk.applyChanges(a,k),d=El.empty,h=0,g={from:o.mapPos(g.from,-1),to:o.mapPos(g.to,1)},this.skipped.length){x=[];for(let z of this.skipped){let D=o.mapPos(z.from,1),$=o.mapPos(z.to,-1);D<$&&x.push({from:D,to:$})}}}return new yP(this.parser,r,a,d,h,g,x,this.scheduleOn)}updateViewport(o){if(this.viewport.from==o.from&&this.viewport.to==o.to)return!1;this.viewport=o;let r=this.skipped.length;for(let a=0;a<this.skipped.length;a++){let{from:d,to:h}=this.skipped[a];d<o.to&&h>o.from&&(this.fragments=XY(this.fragments,d,h),this.skipped.splice(a--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(o,r){this.skipped.push({from:o,to:r})}static getSkippingParser(o){return new class extends Fee{createParse(r,a,d){let h=d[0].from,g=d[d.length-1].to;return{parsedPos:h,advance(){let k=bO;if(k){for(let z of d)k.tempSkipped.push(z);o&&(k.scheduleOn=k.scheduleOn?Promise.all([k.scheduleOn,o]):o)}return this.parsedPos=g,new El(Vf.none,[],[],g-h)},stoppedAt:null,stopAt(){}}}}}isDone(o){o=Math.min(o,this.state.doc.length);let r=this.fragments;return this.treeLen>=o&&r.length&&r[0].from==0&&r[0].to>=o}static get(){return bO}}function XY(c,o,r){return Pk.applyChanges(c,[{fromA:o,toA:r,fromB:o,toB:r}])}class eE{constructor(o){this.context=o,this.tree=o.tree}apply(o){if(!o.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(o.changes,o.state),a=this.context.treeLen==o.startState.doc.length?void 0:Math.max(o.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,a)||r.takeTree(),new eE(r)}static init(o){let r=Math.min(3e3,o.doc.length),a=yP.create(o.facet(wv).parser,o,{from:0,to:r});return a.work(20,r)||a.takeTree(),new eE(a)}}rg.state=sd.define({create:eE.init,update(c,o){for(let r of o.effects)if(r.is(rg.setState))return r.value;return o.startState.facet(wv)!=o.state.facet(wv)?eE.init(o.state):c.apply(o)}});let jee=c=>{let o=setTimeout(()=>c(),500);return()=>clearTimeout(o)};typeof requestIdleCallback<"u"&&(jee=c=>{let o=-1,r=setTimeout(()=>{o=requestIdleCallback(c,{timeout:400})},100);return()=>o<0?clearTimeout(r):cancelIdleCallback(o)});const pV=typeof navigator<"u"&&(!((hV=navigator.scheduling)===null||hV===void 0)&&hV.isInputPending)?()=>navigator.scheduling.isInputPending():null,Exe=Al.fromClass(class{constructor(o){this.view=o,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(o){let r=this.view.state.field(rg.state).context;(r.updateViewport(o.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(o.docChanged||o.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:o}=this.view,r=o.field(rg.state);(r.tree!=r.context.tree||!r.context.isDone(o.doc.length))&&(this.working=jee(this.work))}work(o){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:a,viewport:{to:d}}=this.view,h=a.field(rg.state);if(h.tree==h.context.tree&&h.context.isDone(d+1e5))return;let g=Date.now()+Math.min(this.chunkBudget,100,o&&!pV?Math.max(25,o.timeRemaining()-5):1e9),x=h.context.treeLen<d&&a.doc.length>d+1e3,k=h.context.work(()=>pV&&pV()||Date.now()>g,d+(x?0:1e5));this.chunkBudget-=Date.now()-r,(k||this.chunkBudget<=0)&&(h.context.takeTree(),this.view.dispatch({effects:rg.setState.of(new eE(h.context))})),this.chunkBudget>0&&!(k&&!x)&&this.scheduleWork(),this.checkAsyncSchedule(h.context)}checkAsyncSchedule(o){o.scheduleOn&&(this.workScheduled++,o.scheduleOn.then(()=>this.scheduleWork()).catch(r=>Hf(this.view.state,r)).then(()=>this.workScheduled--),o.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),wv=Yo.define({combine(c){return c.length?c[0]:null},enables:c=>[rg.state,Exe,Jo.contentAttributes.compute([c],o=>{let r=o.facet(c);return r&&r.name?{"data-language":r.name}:{}})]});class Axe{constructor(o,r=[]){this.language=o,this.support=r,this.extension=[o,r]}}const Txe=Yo.define(),uU=Yo.define({combine:c=>{if(!c.length)return"  ";let o=c[0];if(!o||/\S/.test(o)||Array.from(o).some(r=>r!=o[0]))throw new Error("Invalid indent unit: "+JSON.stringify(c[0]));return o}});function xP(c){let o=c.facet(uU);return o.charCodeAt(0)==9?c.tabSize*o.length:o.length}function jO(c,o){let r="",a=c.tabSize,d=c.facet(uU)[0];if(d=="	"){for(;o>=a;)r+="	",o-=a;d=" "}for(let h=0;h<o;h++)r+=d;return r}function fU(c,o){c instanceof Cr&&(c=new ZP(c));for(let a of c.state.facet(Txe)){let d=a(c,o);if(d!==void 0)return d}let r=$d(c.state);return r.length>=o?Oxe(c,r,o):null}class ZP{constructor(o,r={}){this.state=o,this.options=r,this.unit=xP(o)}lineAt(o,r=1){let a=this.state.doc.lineAt(o),{simulateBreak:d,simulateDoubleBreak:h}=this.options;return d!=null&&d>=a.from&&d<=a.to?h&&d==o?{text:"",from:o}:(r<0?d<o:d<=o)?{text:a.text.slice(d-a.from),from:d}:{text:a.text.slice(0,d-a.from),from:a.from}:a}textAfterPos(o,r=1){if(this.options.simulateDoubleBreak&&o==this.options.simulateBreak)return"";let{text:a,from:d}=this.lineAt(o,r);return a.slice(o-d,Math.min(a.length,o+100-d))}column(o,r=1){let{text:a,from:d}=this.lineAt(o,r),h=this.countColumn(a,o-d),g=this.options.overrideIndentation?this.options.overrideIndentation(d):-1;return g>-1&&(h+=g-this.countColumn(a,a.search(/\S|$/))),h}countColumn(o,r=o.length){return iE(o,this.state.tabSize,r)}lineIndent(o,r=1){let{text:a,from:d}=this.lineAt(o,r),h=this.options.overrideIndentation;if(h){let g=h(d);if(g>-1)return g}return this.countColumn(a,a.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Uee=new js;function Oxe(c,o,r){let a=o.resolveStack(r),d=o.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(d!=a.node){let h=[];for(let g=d;g&&!(g.from<a.node.from||g.to>a.node.to||g.from==a.node.from&&g.type==a.node.type);g=g.parent)h.push(g);for(let g=h.length-1;g>=0;g--)a={node:h[g],next:a}}return Wee(a,c,r)}function Wee(c,o,r){for(let a=c;a;a=a.next){let d=Dxe(a.node);if(d)return d(hU.create(o,r,a))}return 0}function zxe(c){return c.pos==c.options.simulateBreak&&c.options.simulateDoubleBreak}function Dxe(c){let o=c.type.prop(Uee);if(o)return o;let r=c.firstChild,a;if(r&&(a=r.type.prop(js.closedBy))){let d=c.lastChild,h=d&&a.indexOf(d.name)>-1;return g=>Lxe(g,!0,1,void 0,h&&!zxe(g)?d.from:void 0)}return c.parent==null?Mxe:null}function Mxe(){return 0}class hU extends ZP{constructor(o,r,a){super(o.state,o.options),this.base=o,this.pos=r,this.context=a}get node(){return this.context.node}static create(o,r,a){return new hU(o,r,a)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(o){let r=this.state.doc.lineAt(o.from);for(;;){let a=o.resolve(r.from);for(;a.parent&&a.parent.from==a.from;)a=a.parent;if(Nxe(a,o))break;r=this.state.doc.lineAt(a.from)}return this.lineIndent(r.from)}continue(){return Wee(this.context.next,this.base,this.pos)}}function Nxe(c,o){for(let r=o;r;r=r.parent)if(c==r)return!0;return!1}function Rxe(c){let o=c.node,r=o.childAfter(o.from),a=o.lastChild;if(!r)return null;let d=c.options.simulateBreak,h=c.state.doc.lineAt(r.from),g=d==null||d<=h.from?h.to:Math.min(h.to,d);for(let x=r.to;;){let k=o.childAfter(x);if(!k||k==a)return null;if(!k.type.isSkipped){if(k.from>=g)return null;let z=/^ */.exec(h.text.slice(r.to-h.from))[0].length;return{from:r.from,to:r.to+z}}x=k.to}}function Lxe(c,o,r,a,d){let h=c.textAfter,g=h.match(/^\s*/)[0].length,x=a&&h.slice(g,g+a.length)==a||d==c.pos+g,k=Rxe(c);return k?x?c.column(k.from):c.column(k.to):c.baseIndent+(x?0:c.unit*r)}function QY({except:c,units:o=1}={}){return r=>{let a=c&&c.test(r.textAfter);return r.baseIndent+(a?0:o*r.unit)}}const Bxe=200;function Pxe(){return Cr.transactionFilter.of(c=>{if(!c.docChanged||!c.isUserEvent("input.type")&&!c.isUserEvent("input.complete"))return c;let o=c.startState.languageDataAt("indentOnInput",c.startState.selection.main.head);if(!o.length)return c;let r=c.newDoc,{head:a}=c.newSelection.main,d=r.lineAt(a);if(a>d.from+Bxe)return c;let h=r.sliceString(d.from,a);if(!o.some(z=>z.test(h)))return c;let{state:g}=c,x=-1,k=[];for(let{head:z}of g.selection.ranges){let D=g.doc.lineAt(z);if(D.from==x)continue;x=D.from;let $=fU(g,D.from);if($==null)continue;let K=/^\s*/.exec(D.text)[0],Y=jO(g,$);K!=Y&&k.push({from:D.from,to:D.from+K.length,insert:Y})}return k.length?[c,{changes:k,sequential:!0}]:c})}const Ixe=Yo.define(),Zee=new js;function Fxe(c){let o=c.firstChild,r=c.lastChild;return o&&o.to<r.from?{from:o.to,to:r.type.isError?c.to:r.from}:null}function Hxe(c,o,r){let a=$d(c);if(a.length<r)return null;let d=a.resolveStack(r,1),h=null;for(let g=d;g;g=g.next){let x=g.node;if(x.to<=r||x.from>r)continue;if(h&&x.from<o)break;let k=x.type.prop(Zee);if(k&&(x.to<a.length-50||a.length==c.doc.length||!$xe(x))){let z=k(x,c);z&&z.from<=r&&z.from>=o&&z.to>r&&(h=z)}}return h}function $xe(c){let o=c.lastChild;return o&&o.to==c.to&&o.type.isError}function vP(c,o,r){for(let a of c.facet(Ixe)){let d=a(c,o,r);if(d)return d}return Hxe(c,o,r)}function qee(c,o){let r=o.mapPos(c.from,1),a=o.mapPos(c.to,-1);return r>=a?void 0:{from:r,to:a}}const qP=As.define({map:qee}),rz=As.define({map:qee});function Kee(c){let o=[];for(let{head:r}of c.state.selection.ranges)o.some(a=>a.from<=r&&a.to>=r)||o.push(c.lineBlockAt(r));return o}const Wk=sd.define({create(){return qn.none},update(c,o){o.isUserEvent("delete")&&o.changes.iterChangedRanges((r,a)=>c=JY(c,r,a)),c=c.map(o.changes);for(let r of o.effects)if(r.is(qP)&&!Vxe(c,r.value.from,r.value.to)){let{preparePlaceholder:a}=o.state.facet(Xee),d=a?qn.replace({widget:new Gxe(a(o.state,r.value))}):eX;c=c.update({add:[d.range(r.value.from,r.value.to)]})}else r.is(rz)&&(c=c.update({filter:(a,d)=>r.value.from!=a||r.value.to!=d,filterFrom:r.value.from,filterTo:r.value.to}));return o.selection&&(c=JY(c,o.selection.main.head)),c},provide:c=>Jo.decorations.from(c),toJSON(c,o){let r=[];return c.between(0,o.doc.length,(a,d)=>{r.push(a,d)}),r},fromJSON(c){if(!Array.isArray(c)||c.length%2)throw new RangeError("Invalid JSON for fold state");let o=[];for(let r=0;r<c.length;){let a=c[r++],d=c[r++];if(typeof a!="number"||typeof d!="number")throw new RangeError("Invalid JSON for fold state");o.push(eX.range(a,d))}return qn.set(o,!0)}});function JY(c,o,r=o){let a=!1;return c.between(o,r,(d,h)=>{d<r&&h>o&&(a=!0)}),a?c.update({filterFrom:o,filterTo:r,filter:(d,h)=>d>=r||h<=o}):c}function wP(c,o,r){var a;let d=null;return(a=c.field(Wk,!1))===null||a===void 0||a.between(o,r,(h,g)=>{(!d||d.from>h)&&(d={from:h,to:g})}),d}function Vxe(c,o,r){let a=!1;return c.between(o,o,(d,h)=>{d==o&&h==r&&(a=!0)}),a}function Gee(c,o){return c.field(Wk,!1)?o:o.concat(As.appendConfig.of(Qee()))}const jxe=c=>{for(let o of Kee(c)){let r=vP(c.state,o.from,o.to);if(r)return c.dispatch({effects:Gee(c.state,[qP.of(r),Yee(c,r)])}),!0}return!1},Uxe=c=>{if(!c.state.field(Wk,!1))return!1;let o=[];for(let r of Kee(c)){let a=wP(c.state,r.from,r.to);a&&o.push(rz.of(a),Yee(c,a,!1))}return o.length&&c.dispatch({effects:o}),o.length>0};function Yee(c,o,r=!0){let a=c.state.doc.lineAt(o.from).number,d=c.state.doc.lineAt(o.to).number;return Jo.announce.of(`${c.state.phrase(r?"Folded lines":"Unfolded lines")} ${a} ${c.state.phrase("to")} ${d}.`)}const Wxe=c=>{let{state:o}=c,r=[];for(let a=0;a<o.doc.length;){let d=c.lineBlockAt(a),h=vP(o,d.from,d.to);h&&r.push(qP.of(h)),a=(h?c.lineBlockAt(h.to):d).to+1}return r.length&&c.dispatch({effects:Gee(c.state,r)}),!!r.length},Zxe=c=>{let o=c.state.field(Wk,!1);if(!o||!o.size)return!1;let r=[];return o.between(0,c.state.doc.length,(a,d)=>{r.push(rz.of({from:a,to:d}))}),c.dispatch({effects:r}),!0},qxe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:jxe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Uxe},{key:"Ctrl-Alt-[",run:Wxe},{key:"Ctrl-Alt-]",run:Zxe}],Kxe={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Xee=Yo.define({combine(c){return Rb(c,Kxe)}});function Qee(c){return[Wk,Qxe]}function Jee(c,o){let{state:r}=c,a=r.facet(Xee),d=g=>{let x=c.lineBlockAt(c.posAtDOM(g.target)),k=wP(c.state,x.from,x.to);k&&c.dispatch({effects:rz.of(k)}),g.preventDefault()};if(a.placeholderDOM)return a.placeholderDOM(c,d,o);let h=document.createElement("span");return h.textContent=a.placeholderText,h.setAttribute("aria-label",r.phrase("folded code")),h.title=r.phrase("unfold"),h.className="cm-foldPlaceholder",h.onclick=d,h}const eX=qn.replace({widget:new class extends Sv{toDOM(c){return Jee(c,null)}}});class Gxe extends Sv{constructor(o){super(),this.value=o}eq(o){return this.value==o.value}toDOM(o){return Jee(o,this.value)}}const Yxe={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class mV extends Gy{constructor(o,r){super(),this.config=o,this.open=r}eq(o){return this.config==o.config&&this.open==o.open}toDOM(o){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=o.state.phrase(this.open?"Fold line":"Unfold line"),r}}function Xxe(c={}){let o={...Yxe,...c},r=new mV(o,!0),a=new mV(o,!1),d=Al.fromClass(class{constructor(g){this.from=g.viewport.from,this.markers=this.buildMarkers(g)}update(g){(g.docChanged||g.viewportChanged||g.startState.facet(wv)!=g.state.facet(wv)||g.startState.field(Wk,!1)!=g.state.field(Wk,!1)||$d(g.startState)!=$d(g.state)||o.foldingChanged(g))&&(this.markers=this.buildMarkers(g.view))}buildMarkers(g){let x=new qy;for(let k of g.viewportLineBlocks){let z=wP(g.state,k.from,k.to)?a:vP(g.state,k.from,k.to)?r:null;z&&x.add(k.from,k.from,z)}return x.finish()}}),{domEventHandlers:h}=o;return[d,X1e({class:"cm-foldGutter",markers(g){var x;return((x=g.plugin(d))===null||x===void 0?void 0:x.markers)||gr.empty},initialSpacer(){return new mV(o,!1)},domEventHandlers:{...h,click:(g,x,k)=>{if(h.click&&h.click(g,x,k))return!0;let z=wP(g.state,x.from,x.to);if(z)return g.dispatch({effects:rz.of(z)}),!0;let D=vP(g.state,x.from,x.to);return D?(g.dispatch({effects:qP.of(D)}),!0):!1}}}),Qee()]}const Qxe=Jo.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class KP{constructor(o,r){this.specs=o;let a;function d(x){let k=bv.newName();return(a||(a=Object.create(null)))["."+k]=x,k}const h=typeof r.all=="string"?r.all:r.all?d(r.all):void 0,g=r.scope;this.scope=g instanceof rg?x=>x.prop(BS)==g.data:g?x=>x==g:void 0,this.style=Vee(o.map(x=>({tag:x.tag,class:x.class||d(Object.assign({},x,{tag:null}))})),{all:h}).style,this.module=a?new bv(a):null,this.themeType=r.themeType}static define(o,r){return new KP(o,r||{})}}const bj=Yo.define(),ete=Yo.define({combine(c){return c.length?[c[0]]:null}});function gV(c){let o=c.facet(bj);return o.length?o:c.facet(ete)}function Jxe(c,o){let r=[tve],a;return c instanceof KP&&(c.module&&r.push(Jo.styleModule.of(c.module)),a=c.themeType),o!=null&&o.fallback?r.push(ete.of(c)):a?r.push(bj.computeN([Jo.darkTheme],d=>d.facet(Jo.darkTheme)==(a=="dark")?[c]:[])):r.push(bj.of(c)),r}class eve{constructor(o){this.markCache=Object.create(null),this.tree=$d(o.state),this.decorations=this.buildDeco(o,gV(o.state)),this.decoratedTo=o.viewport.to}update(o){let r=$d(o.state),a=gV(o.state),d=a!=gV(o.startState),{viewport:h}=o.view,g=o.changes.mapPos(this.decoratedTo,1);r.length<h.to&&!d&&r.type==this.tree.type&&g>=h.to?(this.decorations=this.decorations.map(o.changes),this.decoratedTo=g):(r!=this.tree||o.viewportChanged||d)&&(this.tree=r,this.decorations=this.buildDeco(o.view,a),this.decoratedTo=h.to)}buildDeco(o,r){if(!r||!this.tree.length)return qn.none;let a=new qy;for(let{from:d,to:h}of o.visibleRanges)vxe(this.tree,r,(g,x,k)=>{a.add(g,x,this.markCache[k]||(this.markCache[k]=qn.mark({class:k})))},d,h);return a.finish()}}const tve=Gk.high(Al.fromClass(eve,{decorations:c=>c.decorations})),ove=KP.define([{tag:So.meta,color:"#404740"},{tag:So.link,textDecoration:"underline"},{tag:So.heading,textDecoration:"underline",fontWeight:"bold"},{tag:So.emphasis,fontStyle:"italic"},{tag:So.strong,fontWeight:"bold"},{tag:So.strikethrough,textDecoration:"line-through"},{tag:So.keyword,color:"#708"},{tag:[So.atom,So.bool,So.url,So.contentSeparator,So.labelName],color:"#219"},{tag:[So.literal,So.inserted],color:"#164"},{tag:[So.string,So.deleted],color:"#a11"},{tag:[So.regexp,So.escape,So.special(So.string)],color:"#e40"},{tag:So.definition(So.variableName),color:"#00f"},{tag:So.local(So.variableName),color:"#30a"},{tag:[So.typeName,So.namespace],color:"#085"},{tag:So.className,color:"#167"},{tag:[So.special(So.variableName),So.macroName],color:"#256"},{tag:So.definition(So.propertyName),color:"#00c"},{tag:So.comment,color:"#940"},{tag:So.invalid,color:"#f00"}]),nve=Jo.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),tte=1e4,ote="()[]{}",nte=Yo.define({combine(c){return Rb(c,{afterCursor:!0,brackets:ote,maxScanDistance:tte,renderMatch:ive})}}),sve=qn.mark({class:"cm-matchingBracket"}),rve=qn.mark({class:"cm-nonmatchingBracket"});function ive(c){let o=[],r=c.matched?sve:rve;return o.push(r.range(c.start.from,c.start.to)),c.end&&o.push(r.range(c.end.from,c.end.to)),o}const ave=sd.define({create(){return qn.none},update(c,o){if(!o.docChanged&&!o.selection)return c;let r=[],a=o.state.facet(nte);for(let d of o.state.selection.ranges){if(!d.empty)continue;let h=Ab(o.state,d.head,-1,a)||d.head>0&&Ab(o.state,d.head-1,1,a)||a.afterCursor&&(Ab(o.state,d.head,1,a)||d.head<o.state.doc.length&&Ab(o.state,d.head+1,-1,a));h&&(r=r.concat(a.renderMatch(h,o.state)))}return qn.set(r,!0)},provide:c=>Jo.decorations.from(c)}),lve=[ave,nve];function cve(c={}){return[nte.of(c),lve]}const dve=new js;function yj(c,o,r){let a=c.prop(o<0?js.openedBy:js.closedBy);if(a)return a;if(c.name.length==1){let d=r.indexOf(c.name);if(d>-1&&d%2==(o<0?1:0))return[r[d+o]]}return null}function xj(c){let o=c.type.prop(dve);return o?o(c.node):c}function Ab(c,o,r,a={}){let d=a.maxScanDistance||tte,h=a.brackets||ote,g=$d(c),x=g.resolveInner(o,r);for(let k=x;k;k=k.parent){let z=yj(k.type,r,h);if(z&&k.from<k.to){let D=xj(k);if(D&&(r>0?o>=D.from&&o<D.to:o>D.from&&o<=D.to))return uve(c,o,r,k,D,z,h)}}return fve(c,o,r,g,x.type,d,h)}function uve(c,o,r,a,d,h,g){let x=a.parent,k={from:d.from,to:d.to},z=0,D=x==null?void 0:x.cursor();if(D&&(r<0?D.childBefore(a.from):D.childAfter(a.to)))do if(r<0?D.to<=a.from:D.from>=a.to){if(z==0&&h.indexOf(D.type.name)>-1&&D.from<D.to){let $=xj(D);return{start:k,end:$?{from:$.from,to:$.to}:void 0,matched:!0}}else if(yj(D.type,r,g))z++;else if(yj(D.type,-r,g)){if(z==0){let $=xj(D);return{start:k,end:$&&$.from<$.to?{from:$.from,to:$.to}:void 0,matched:!1}}z--}}while(r<0?D.prevSibling():D.nextSibling());return{start:k,matched:!1}}function fve(c,o,r,a,d,h,g){let x=r<0?c.sliceDoc(o-1,o):c.sliceDoc(o,o+1),k=g.indexOf(x);if(k<0||k%2==0!=r>0)return null;let z={from:r<0?o-1:o,to:r>0?o+1:o},D=c.doc.iterRange(o,r>0?c.doc.length:0),$=0;for(let K=0;!D.next().done&&K<=h;){let Y=D.value;r<0&&(K+=Y.length);let ie=o+K*r;for(let ve=r>0?0:Y.length-1,Ne=r>0?Y.length:-1;ve!=Ne;ve+=r){let ye=g.indexOf(Y[ve]);if(!(ye<0||a.resolveInner(ie+ve,1).type!=d))if(ye%2==0==r>0)$++;else{if($==1)return{start:z,end:{from:ie+ve,to:ie+ve+1},matched:ye>>1==k>>1};$--}}r>0&&(K+=Y.length)}return D.done?{start:z,matched:!1}:null}const hve=Object.create(null),tX=[Vf.none],oX=[],nX=Object.create(null),pve=Object.create(null);for(let[c,o]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])pve[c]=mve(hve,o);function bV(c,o){oX.indexOf(c)>-1||(oX.push(c),console.warn(o))}function mve(c,o){let r=[];for(let x of o.split(" ")){let k=[];for(let z of x.split(".")){let D=c[z]||So[z];D?typeof D=="function"?k.length?k=k.map(D):bV(z,`Modifier ${z} used at start of tag`):k.length?bV(z,`Tag ${z} used as modifier`):k=Array.isArray(D)?D:[D]:bV(z,`Unknown highlighting tag ${z}`)}for(let z of k)r.push(z)}if(!r.length)return 0;let a=o.replace(/ /g,"_"),d=a+" "+r.map(x=>x.id),h=nX[d];if(h)return h.id;let g=nX[d]=Vf.define({id:tX.length,name:a,props:[Hee({[a]:r})]});return tX.push(g),g.id}Ki.RTL,Ki.LTR;const gve=c=>{let{state:o}=c,r=o.doc.lineAt(o.selection.main.from),a=mU(c.state,r.from);return a.line?bve(c):a.block?xve(c):!1};function pU(c,o){return({state:r,dispatch:a})=>{if(r.readOnly)return!1;let d=c(o,r);return d?(a(r.update(d)),!0):!1}}const bve=pU(kve,0),yve=pU(ste,0),xve=pU((c,o)=>ste(c,o,wve(o)),0);function mU(c,o){let r=c.languageDataAt("commentTokens",o,1);return r.length?r[0]:{}}const yO=50;function vve(c,{open:o,close:r},a,d){let h=c.sliceDoc(a-yO,a),g=c.sliceDoc(d,d+yO),x=/\s*$/.exec(h)[0].length,k=/^\s*/.exec(g)[0].length,z=h.length-x;if(h.slice(z-o.length,z)==o&&g.slice(k,k+r.length)==r)return{open:{pos:a-x,margin:x&&1},close:{pos:d+k,margin:k&&1}};let D,$;d-a<=2*yO?D=$=c.sliceDoc(a,d):(D=c.sliceDoc(a,a+yO),$=c.sliceDoc(d-yO,d));let K=/^\s*/.exec(D)[0].length,Y=/\s*$/.exec($)[0].length,ie=$.length-Y-r.length;return D.slice(K,K+o.length)==o&&$.slice(ie,ie+r.length)==r?{open:{pos:a+K+o.length,margin:/\s/.test(D.charAt(K+o.length))?1:0},close:{pos:d-Y-r.length,margin:/\s/.test($.charAt(ie-1))?1:0}}:null}function wve(c){let o=[];for(let r of c.selection.ranges){let a=c.doc.lineAt(r.from),d=r.to<=a.to?a:c.doc.lineAt(r.to);d.from>a.from&&d.from==r.to&&(d=r.to==a.to+1?a:c.doc.lineAt(r.to-1));let h=o.length-1;h>=0&&o[h].to>a.from?o[h].to=d.to:o.push({from:a.from+/^\s*/.exec(a.text)[0].length,to:d.to})}return o}function ste(c,o,r=o.selection.ranges){let a=r.map(h=>mU(o,h.from).block);if(!a.every(h=>h))return null;let d=r.map((h,g)=>vve(o,a[g],h.from,h.to));if(c!=2&&!d.every(h=>h))return{changes:o.changes(r.map((h,g)=>d[g]?[]:[{from:h.from,insert:a[g].open+" "},{from:h.to,insert:" "+a[g].close}]))};if(c!=1&&d.some(h=>h)){let h=[];for(let g=0,x;g<d.length;g++)if(x=d[g]){let k=a[g],{open:z,close:D}=x;h.push({from:z.pos-k.open.length,to:z.pos+z.margin},{from:D.pos-D.margin,to:D.pos+k.close.length})}return{changes:h}}return null}function kve(c,o,r=o.selection.ranges){let a=[],d=-1;for(let{from:h,to:g}of r){let x=a.length,k=1e9,z=mU(o,h).line;if(z){for(let D=h;D<=g;){let $=o.doc.lineAt(D);if($.from>d&&(h==g||g>$.from)){d=$.from;let K=/^\s*/.exec($.text)[0].length,Y=K==$.length,ie=$.text.slice(K,K+z.length)==z?K:-1;K<$.text.length&&K<k&&(k=K),a.push({line:$,comment:ie,token:z,indent:K,empty:Y,single:!1})}D=$.to+1}if(k<1e9)for(let D=x;D<a.length;D++)a[D].indent<a[D].line.text.length&&(a[D].indent=k);a.length==x+1&&(a[x].single=!0)}}if(c!=2&&a.some(h=>h.comment<0&&(!h.empty||h.single))){let h=[];for(let{line:x,token:k,indent:z,empty:D,single:$}of a)($||!D)&&h.push({from:x.from+z,insert:k+" "});let g=o.changes(h);return{changes:g,selection:o.selection.map(g,1)}}else if(c!=1&&a.some(h=>h.comment>=0)){let h=[];for(let{line:g,comment:x,token:k}of a)if(x>=0){let z=g.from+x,D=z+k.length;g.text[D-g.from]==" "&&D++,h.push({from:z,to:D})}return{changes:h}}return null}const vj=Xy.define(),_ve=Xy.define(),Cve=Yo.define(),rte=Yo.define({combine(c){return Rb(c,{minDepth:100,newGroupDelay:500,joinToEvent:(o,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(o,r)=>(a,d)=>o(a,d)||r(a,d)})}}),ite=sd.define({create(){return Tb.empty},update(c,o){let r=o.state.facet(rte),a=o.annotation(vj);if(a){let k=$f.fromTransaction(o,a.selection),z=a.side,D=z==0?c.undone:c.done;return k?D=kP(D,D.length,r.minDepth,k):D=cte(D,o.startState.selection),new Tb(z==0?a.rest:D,z==0?D:a.rest)}let d=o.annotation(_ve);if((d=="full"||d=="before")&&(c=c.isolate()),o.annotation(Gl.addToHistory)===!1)return o.changes.empty?c:c.addMapping(o.changes.desc);let h=$f.fromTransaction(o),g=o.annotation(Gl.time),x=o.annotation(Gl.userEvent);return h?c=c.addChanges(h,g,x,r,o):o.selection&&(c=c.addSelection(o.startState.selection,g,x,r.newGroupDelay)),(d=="full"||d=="after")&&(c=c.isolate()),c},toJSON(c){return{done:c.done.map(o=>o.toJSON()),undone:c.undone.map(o=>o.toJSON())}},fromJSON(c){return new Tb(c.done.map($f.fromJSON),c.undone.map($f.fromJSON))}});function Sve(c={}){return[ite,rte.of(c),Jo.domEventHandlers({beforeinput(o,r){let a=o.inputType=="historyUndo"?ate:o.inputType=="historyRedo"?wj:null;return a?(o.preventDefault(),a(r)):!1}})]}function GP(c,o){return function({state:r,dispatch:a}){if(!o&&r.readOnly)return!1;let d=r.field(ite,!1);if(!d)return!1;let h=d.pop(c,r,o);return h?(a(h),!0):!1}}const ate=GP(0,!1),wj=GP(1,!1),Eve=GP(0,!0),Ave=GP(1,!0);class $f{constructor(o,r,a,d,h){this.changes=o,this.effects=r,this.mapped=a,this.startSelection=d,this.selectionsAfter=h}setSelAfter(o){return new $f(this.changes,this.effects,this.mapped,this.startSelection,o)}toJSON(){var o,r,a;return{changes:(o=this.changes)===null||o===void 0?void 0:o.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(a=this.startSelection)===null||a===void 0?void 0:a.toJSON(),selectionsAfter:this.selectionsAfter.map(d=>d.toJSON())}}static fromJSON(o){return new $f(o.changes&&Kl.fromJSON(o.changes),[],o.mapped&&Db.fromJSON(o.mapped),o.startSelection&&qt.fromJSON(o.startSelection),o.selectionsAfter.map(qt.fromJSON))}static fromTransaction(o,r){let a=Bp;for(let d of o.startState.facet(Cve)){let h=d(o);h.length&&(a=a.concat(h))}return!a.length&&o.changes.empty?null:new $f(o.changes.invert(o.startState.doc),a,void 0,r||o.startState.selection,Bp)}static selection(o){return new $f(void 0,Bp,void 0,void 0,o)}}function kP(c,o,r,a){let d=o+1>r+20?o-r-1:0,h=c.slice(d,o);return h.push(a),h}function Tve(c,o){let r=[],a=!1;return c.iterChangedRanges((d,h)=>r.push(d,h)),o.iterChangedRanges((d,h,g,x)=>{for(let k=0;k<r.length;){let z=r[k++],D=r[k++];x>=z&&g<=D&&(a=!0)}}),a}function Ove(c,o){return c.ranges.length==o.ranges.length&&c.ranges.filter((r,a)=>r.empty!=o.ranges[a].empty).length===0}function lte(c,o){return c.length?o.length?c.concat(o):c:o}const Bp=[],zve=200;function cte(c,o){if(c.length){let r=c[c.length-1],a=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-zve));return a.length&&a[a.length-1].eq(o)?c:(a.push(o),kP(c,c.length-1,1e9,r.setSelAfter(a)))}else return[$f.selection([o])]}function Dve(c){let o=c[c.length-1],r=c.slice();return r[c.length-1]=o.setSelAfter(o.selectionsAfter.slice(0,o.selectionsAfter.length-1)),r}function yV(c,o){if(!c.length)return c;let r=c.length,a=Bp;for(;r;){let d=Mve(c[r-1],o,a);if(d.changes&&!d.changes.empty||d.effects.length){let h=c.slice(0,r);return h[r-1]=d,h}else o=d.mapped,r--,a=d.selectionsAfter}return a.length?[$f.selection(a)]:Bp}function Mve(c,o,r){let a=lte(c.selectionsAfter.length?c.selectionsAfter.map(x=>x.map(o)):Bp,r);if(!c.changes)return $f.selection(a);let d=c.changes.map(o),h=o.mapDesc(c.changes,!0),g=c.mapped?c.mapped.composeDesc(h):h;return new $f(d,As.mapEffects(c.effects,o),g,c.startSelection.map(h),a)}const Nve=/^(input\.type|delete)($|\.)/;class Tb{constructor(o,r,a=0,d=void 0){this.done=o,this.undone=r,this.prevTime=a,this.prevUserEvent=d}isolate(){return this.prevTime?new Tb(this.done,this.undone):this}addChanges(o,r,a,d,h){let g=this.done,x=g[g.length-1];return x&&x.changes&&!x.changes.empty&&o.changes&&(!a||Nve.test(a))&&(!x.selectionsAfter.length&&r-this.prevTime<d.newGroupDelay&&d.joinToEvent(h,Tve(x.changes,o.changes))||a=="input.type.compose")?g=kP(g,g.length-1,d.minDepth,new $f(o.changes.compose(x.changes),lte(As.mapEffects(o.effects,x.changes),x.effects),x.mapped,x.startSelection,Bp)):g=kP(g,g.length,d.minDepth,o),new Tb(g,Bp,r,a)}addSelection(o,r,a,d){let h=this.done.length?this.done[this.done.length-1].selectionsAfter:Bp;return h.length>0&&r-this.prevTime<d&&a==this.prevUserEvent&&a&&/^select($|\.)/.test(a)&&Ove(h[h.length-1],o)?this:new Tb(cte(this.done,o),this.undone,r,a)}addMapping(o){return new Tb(yV(this.done,o),yV(this.undone,o),this.prevTime,this.prevUserEvent)}pop(o,r,a){let d=o==0?this.done:this.undone;if(d.length==0)return null;let h=d[d.length-1],g=h.selectionsAfter[0]||r.selection;if(a&&h.selectionsAfter.length)return r.update({selection:h.selectionsAfter[h.selectionsAfter.length-1],annotations:vj.of({side:o,rest:Dve(d),selection:g}),userEvent:o==0?"select.undo":"select.redo",scrollIntoView:!0});if(h.changes){let x=d.length==1?Bp:d.slice(0,d.length-1);return h.mapped&&(x=yV(x,h.mapped)),r.update({changes:h.changes,selection:h.startSelection,effects:h.effects,annotations:vj.of({side:o,rest:x,selection:g}),filter:!1,userEvent:o==0?"undo":"redo",scrollIntoView:!0})}else return null}}Tb.empty=new Tb(Bp,Bp);const Rve=[{key:"Mod-z",run:ate,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:wj,preventDefault:!0},{linux:"Ctrl-Shift-z",run:wj,preventDefault:!0},{key:"Mod-u",run:Eve,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Ave,preventDefault:!0}];function aE(c,o){return qt.create(c.ranges.map(o),c.mainIndex)}function Lb(c,o){return c.update({selection:o,scrollIntoView:!0,userEvent:"select"})}function cg({state:c,dispatch:o},r){let a=aE(c.selection,r);return a.eq(c.selection,!0)?!1:(o(Lb(c,a)),!0)}function YP(c,o){return qt.cursor(o?c.to:c.from)}function dte(c,o){return cg(c,r=>r.empty?c.moveByChar(r,o):YP(r,o))}function Vd(c){return c.textDirectionAt(c.state.selection.main.head)==Ki.LTR}const ute=c=>dte(c,!Vd(c)),fte=c=>dte(c,Vd(c));function hte(c,o){return cg(c,r=>r.empty?c.moveByGroup(r,o):YP(r,o))}const Lve=c=>hte(c,!Vd(c)),Bve=c=>hte(c,Vd(c));function Pve(c,o,r){if(o.type.prop(r))return!0;let a=o.to-o.from;return a&&(a>2||/[^\s,.;:]/.test(c.sliceDoc(o.from,o.to)))||o.firstChild}function XP(c,o,r){let a=$d(c).resolveInner(o.head),d=r?js.closedBy:js.openedBy;for(let k=o.head;;){let z=r?a.childAfter(k):a.childBefore(k);if(!z)break;Pve(c,z,d)?a=z:k=r?z.to:z.from}let h=a.type.prop(d),g,x;return h&&(g=r?Ab(c,a.from,1):Ab(c,a.to,-1))&&g.matched?x=r?g.end.to:g.end.from:x=r?a.to:a.from,qt.cursor(x,r?-1:1)}const Ive=c=>cg(c,o=>XP(c.state,o,!Vd(c))),Fve=c=>cg(c,o=>XP(c.state,o,Vd(c)));function pte(c,o){return cg(c,r=>{if(!r.empty)return YP(r,o);let a=c.moveVertically(r,o);return a.head!=r.head?a:c.moveToLineBoundary(r,o)})}const mte=c=>pte(c,!1),gte=c=>pte(c,!0);function bte(c){let o=c.scrollDOM.clientHeight<c.scrollDOM.scrollHeight-2,r=0,a=0,d;if(o){for(let h of c.state.facet(Jo.scrollMargins)){let g=h(c);g!=null&&g.top&&(r=Math.max(g==null?void 0:g.top,r)),g!=null&&g.bottom&&(a=Math.max(g==null?void 0:g.bottom,a))}d=c.scrollDOM.clientHeight-r-a}else d=(c.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:a,selfScroll:o,height:Math.max(c.defaultLineHeight,d-5)}}function yte(c,o){let r=bte(c),{state:a}=c,d=aE(a.selection,g=>g.empty?c.moveVertically(g,o,r.height):YP(g,o));if(d.eq(a.selection))return!1;let h;if(r.selfScroll){let g=c.coordsAtPos(a.selection.main.head),x=c.scrollDOM.getBoundingClientRect(),k=x.top+r.marginTop,z=x.bottom-r.marginBottom;g&&g.top>k&&g.bottom<z&&(h=Jo.scrollIntoView(d.main.head,{y:"start",yMargin:g.top-k}))}return c.dispatch(Lb(a,d),{effects:h}),!0}const sX=c=>yte(c,!1),kj=c=>yte(c,!0);function Ev(c,o,r){let a=c.lineBlockAt(o.head),d=c.moveToLineBoundary(o,r);if(d.head==o.head&&d.head!=(r?a.to:a.from)&&(d=c.moveToLineBoundary(o,r,!1)),!r&&d.head==a.from&&a.length){let h=/^\s*/.exec(c.state.sliceDoc(a.from,Math.min(a.from+100,a.to)))[0].length;h&&o.head!=a.from+h&&(d=qt.cursor(a.from+h))}return d}const Hve=c=>cg(c,o=>Ev(c,o,!0)),$ve=c=>cg(c,o=>Ev(c,o,!1)),Vve=c=>cg(c,o=>Ev(c,o,!Vd(c))),jve=c=>cg(c,o=>Ev(c,o,Vd(c))),Uve=c=>cg(c,o=>qt.cursor(c.lineBlockAt(o.head).from,1)),Wve=c=>cg(c,o=>qt.cursor(c.lineBlockAt(o.head).to,-1));function Zve(c,o,r){let a=!1,d=aE(c.selection,h=>{let g=Ab(c,h.head,-1)||Ab(c,h.head,1)||h.head>0&&Ab(c,h.head-1,1)||h.head<c.doc.length&&Ab(c,h.head+1,-1);if(!g||!g.end)return h;a=!0;let x=g.start.from==h.head?g.end.to:g.end.from;return qt.cursor(x)});return a?(o(Lb(c,d)),!0):!1}const qve=({state:c,dispatch:o})=>Zve(c,o);function Wp(c,o){let r=aE(c.state.selection,a=>{let d=o(a);return qt.range(a.anchor,d.head,d.goalColumn,d.bidiLevel||void 0)});return r.eq(c.state.selection)?!1:(c.dispatch(Lb(c.state,r)),!0)}function xte(c,o){return Wp(c,r=>c.moveByChar(r,o))}const vte=c=>xte(c,!Vd(c)),wte=c=>xte(c,Vd(c));function kte(c,o){return Wp(c,r=>c.moveByGroup(r,o))}const Kve=c=>kte(c,!Vd(c)),Gve=c=>kte(c,Vd(c)),Yve=c=>Wp(c,o=>XP(c.state,o,!Vd(c))),Xve=c=>Wp(c,o=>XP(c.state,o,Vd(c)));function _te(c,o){return Wp(c,r=>c.moveVertically(r,o))}const Cte=c=>_te(c,!1),Ste=c=>_te(c,!0);function Ete(c,o){return Wp(c,r=>c.moveVertically(r,o,bte(c).height))}const rX=c=>Ete(c,!1),iX=c=>Ete(c,!0),Qve=c=>Wp(c,o=>Ev(c,o,!0)),Jve=c=>Wp(c,o=>Ev(c,o,!1)),ewe=c=>Wp(c,o=>Ev(c,o,!Vd(c))),twe=c=>Wp(c,o=>Ev(c,o,Vd(c))),owe=c=>Wp(c,o=>qt.cursor(c.lineBlockAt(o.head).from)),nwe=c=>Wp(c,o=>qt.cursor(c.lineBlockAt(o.head).to)),aX=({state:c,dispatch:o})=>(o(Lb(c,{anchor:0})),!0),lX=({state:c,dispatch:o})=>(o(Lb(c,{anchor:c.doc.length})),!0),cX=({state:c,dispatch:o})=>(o(Lb(c,{anchor:c.selection.main.anchor,head:0})),!0),dX=({state:c,dispatch:o})=>(o(Lb(c,{anchor:c.selection.main.anchor,head:c.doc.length})),!0),swe=({state:c,dispatch:o})=>(o(c.update({selection:{anchor:0,head:c.doc.length},userEvent:"select"})),!0),rwe=({state:c,dispatch:o})=>{let r=QP(c).map(({from:a,to:d})=>qt.range(a,Math.min(d+1,c.doc.length)));return o(c.update({selection:qt.create(r),userEvent:"select"})),!0},iwe=({state:c,dispatch:o})=>{let r=aE(c.selection,a=>{let d=$d(c),h=d.resolveStack(a.from,1);if(a.empty){let g=d.resolveStack(a.from,-1);g.node.from>=h.node.from&&g.node.to<=h.node.to&&(h=g)}for(let g=h;g;g=g.next){let{node:x}=g;if((x.from<a.from&&x.to>=a.to||x.to>a.to&&x.from<=a.from)&&g.next)return qt.range(x.to,x.from)}return a});return r.eq(c.selection)?!1:(o(Lb(c,r)),!0)},awe=({state:c,dispatch:o})=>{let r=c.selection,a=null;return r.ranges.length>1?a=qt.create([r.main]):r.main.empty||(a=qt.create([qt.cursor(r.main.head)])),a?(o(Lb(c,a)),!0):!1};function iz(c,o){if(c.state.readOnly)return!1;let r="delete.selection",{state:a}=c,d=a.changeByRange(h=>{let{from:g,to:x}=h;if(g==x){let k=o(h);k<g?(r="delete.backward",k=RB(c,k,!1)):k>g&&(r="delete.forward",k=RB(c,k,!0)),g=Math.min(g,k),x=Math.max(x,k)}else g=RB(c,g,!1),x=RB(c,x,!0);return g==x?{range:h}:{changes:{from:g,to:x},range:qt.cursor(g,g<h.head?-1:1)}});return d.changes.empty?!1:(c.dispatch(a.update(d,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?Jo.announce.of(a.phrase("Selection deleted")):void 0})),!0)}function RB(c,o,r){if(c instanceof Jo)for(let a of c.state.facet(Jo.atomicRanges).map(d=>d(c)))a.between(o,o,(d,h)=>{d<o&&h>o&&(o=r?h:d)});return o}const Ate=(c,o,r)=>iz(c,a=>{let d=a.from,{state:h}=c,g=h.doc.lineAt(d),x,k;if(r&&!o&&d>g.from&&d<g.from+200&&!/[^ \t]/.test(x=g.text.slice(0,d-g.from))){if(x[x.length-1]=="	")return d-1;let z=iE(x,h.tabSize),D=z%xP(h)||xP(h);for(let $=0;$<D&&x[x.length-1-$]==" ";$++)d--;k=d}else k=nd(g.text,d-g.from,o,o)+g.from,k==d&&g.number!=(o?h.doc.lines:1)?k+=o?1:-1:!o&&/[\ufe00-\ufe0f]/.test(g.text.slice(k-g.from,d-g.from))&&(k=nd(g.text,k-g.from,!1,!1)+g.from);return k}),_j=c=>Ate(c,!1,!0),Tte=c=>Ate(c,!0,!1),Ote=(c,o)=>iz(c,r=>{let a=r.head,{state:d}=c,h=d.doc.lineAt(a),g=d.charCategorizer(a);for(let x=null;;){if(a==(o?h.to:h.from)){a==r.head&&h.number!=(o?d.doc.lines:1)&&(a+=o?1:-1);break}let k=nd(h.text,a-h.from,o)+h.from,z=h.text.slice(Math.min(a,k)-h.from,Math.max(a,k)-h.from),D=g(z);if(x!=null&&D!=x)break;(z!=" "||a!=r.head)&&(x=D),a=k}return a}),zte=c=>Ote(c,!1),lwe=c=>Ote(c,!0),cwe=c=>iz(c,o=>{let r=c.lineBlockAt(o.head).to;return o.head<r?r:Math.min(c.state.doc.length,o.head+1)}),dwe=c=>iz(c,o=>{let r=c.moveToLineBoundary(o,!1).head;return o.head>r?r:Math.max(0,o.head-1)}),uwe=c=>iz(c,o=>{let r=c.moveToLineBoundary(o,!0).head;return o.head<r?r:Math.min(c.state.doc.length,o.head+1)}),fwe=({state:c,dispatch:o})=>{if(c.readOnly)return!1;let r=c.changeByRange(a=>({changes:{from:a.from,to:a.to,insert:br.of(["",""])},range:qt.cursor(a.from)}));return o(c.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},hwe=({state:c,dispatch:o})=>{if(c.readOnly)return!1;let r=c.changeByRange(a=>{if(!a.empty||a.from==0||a.from==c.doc.length)return{range:a};let d=a.from,h=c.doc.lineAt(d),g=d==h.from?d-1:nd(h.text,d-h.from,!1)+h.from,x=d==h.to?d+1:nd(h.text,d-h.from,!0)+h.from;return{changes:{from:g,to:x,insert:c.doc.slice(d,x).append(c.doc.slice(g,d))},range:qt.cursor(x)}});return r.changes.empty?!1:(o(c.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function QP(c){let o=[],r=-1;for(let a of c.selection.ranges){let d=c.doc.lineAt(a.from),h=c.doc.lineAt(a.to);if(!a.empty&&a.to==h.from&&(h=c.doc.lineAt(a.to-1)),r>=d.number){let g=o[o.length-1];g.to=h.to,g.ranges.push(a)}else o.push({from:d.from,to:h.to,ranges:[a]});r=h.number+1}return o}function Dte(c,o,r){if(c.readOnly)return!1;let a=[],d=[];for(let h of QP(c)){if(r?h.to==c.doc.length:h.from==0)continue;let g=c.doc.lineAt(r?h.to+1:h.from-1),x=g.length+1;if(r){a.push({from:h.to,to:g.to},{from:h.from,insert:g.text+c.lineBreak});for(let k of h.ranges)d.push(qt.range(Math.min(c.doc.length,k.anchor+x),Math.min(c.doc.length,k.head+x)))}else{a.push({from:g.from,to:h.from},{from:h.to,insert:c.lineBreak+g.text});for(let k of h.ranges)d.push(qt.range(k.anchor-x,k.head-x))}}return a.length?(o(c.update({changes:a,scrollIntoView:!0,selection:qt.create(d,c.selection.mainIndex),userEvent:"move.line"})),!0):!1}const pwe=({state:c,dispatch:o})=>Dte(c,o,!1),mwe=({state:c,dispatch:o})=>Dte(c,o,!0);function Mte(c,o,r){if(c.readOnly)return!1;let a=[];for(let d of QP(c))r?a.push({from:d.from,insert:c.doc.slice(d.from,d.to)+c.lineBreak}):a.push({from:d.to,insert:c.lineBreak+c.doc.slice(d.from,d.to)});return o(c.update({changes:a,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const gwe=({state:c,dispatch:o})=>Mte(c,o,!1),bwe=({state:c,dispatch:o})=>Mte(c,o,!0),ywe=c=>{if(c.state.readOnly)return!1;let{state:o}=c,r=o.changes(QP(o).map(({from:d,to:h})=>(d>0?d--:h<o.doc.length&&h++,{from:d,to:h}))),a=aE(o.selection,d=>{let h;if(c.lineWrapping){let g=c.lineBlockAt(d.head),x=c.coordsAtPos(d.head,d.assoc||1);x&&(h=g.bottom+c.documentTop-x.bottom+c.defaultLineHeight/2)}return c.moveVertically(d,!0,h)}).map(r);return c.dispatch({changes:r,selection:a,scrollIntoView:!0,userEvent:"delete.line"}),!0};function xwe(c,o){if(/\(\)|\[\]|\{\}/.test(c.sliceDoc(o-1,o+1)))return{from:o,to:o};let r=$d(c).resolveInner(o),a=r.childBefore(o),d=r.childAfter(o),h;return a&&d&&a.to<=o&&d.from>=o&&(h=a.type.prop(js.closedBy))&&h.indexOf(d.name)>-1&&c.doc.lineAt(a.to).from==c.doc.lineAt(d.from).from&&!/\S/.test(c.sliceDoc(a.to,d.from))?{from:a.to,to:d.from}:null}const uX=Nte(!1),vwe=Nte(!0);function Nte(c){return({state:o,dispatch:r})=>{if(o.readOnly)return!1;let a=o.changeByRange(d=>{let{from:h,to:g}=d,x=o.doc.lineAt(h),k=!c&&h==g&&xwe(o,h);c&&(h=g=(g<=x.to?x:o.doc.lineAt(g)).to);let z=new ZP(o,{simulateBreak:h,simulateDoubleBreak:!!k}),D=fU(z,h);for(D==null&&(D=iE(/^\s*/.exec(o.doc.lineAt(h).text)[0],o.tabSize));g<x.to&&/\s/.test(x.text[g-x.from]);)g++;k?{from:h,to:g}=k:h>x.from&&h<x.from+100&&!/\S/.test(x.text.slice(0,h))&&(h=x.from);let $=["",jO(o,D)];return k&&$.push(jO(o,z.lineIndent(x.from,-1))),{changes:{from:h,to:g,insert:br.of($)},range:qt.cursor(h+1+$[1].length)}});return r(o.update(a,{scrollIntoView:!0,userEvent:"input"})),!0}}function gU(c,o){let r=-1;return c.changeByRange(a=>{let d=[];for(let g=a.from;g<=a.to;){let x=c.doc.lineAt(g);x.number>r&&(a.empty||a.to>x.from)&&(o(x,d,a),r=x.number),g=x.to+1}let h=c.changes(d);return{changes:d,range:qt.range(h.mapPos(a.anchor,1),h.mapPos(a.head,1))}})}const wwe=({state:c,dispatch:o})=>{if(c.readOnly)return!1;let r=Object.create(null),a=new ZP(c,{overrideIndentation:h=>{let g=r[h];return g??-1}}),d=gU(c,(h,g,x)=>{let k=fU(a,h.from);if(k==null)return;/\S/.test(h.text)||(k=0);let z=/^\s*/.exec(h.text)[0],D=jO(c,k);(z!=D||x.from<h.from+z.length)&&(r[h.from]=k,g.push({from:h.from,to:h.from+z.length,insert:D}))});return d.changes.empty||o(c.update(d,{userEvent:"indent"})),!0},kwe=({state:c,dispatch:o})=>c.readOnly?!1:(o(c.update(gU(c,(r,a)=>{a.push({from:r.from,insert:c.facet(uU)})}),{userEvent:"input.indent"})),!0),_we=({state:c,dispatch:o})=>c.readOnly?!1:(o(c.update(gU(c,(r,a)=>{let d=/^\s*/.exec(r.text)[0];if(!d)return;let h=iE(d,c.tabSize),g=0,x=jO(c,Math.max(0,h-xP(c)));for(;g<d.length&&g<x.length&&d.charCodeAt(g)==x.charCodeAt(g);)g++;a.push({from:r.from+g,to:r.from+d.length,insert:x.slice(g)})}),{userEvent:"delete.dedent"})),!0),Cwe=c=>(c.setTabFocusMode(),!0),Swe=[{key:"Ctrl-b",run:ute,shift:vte,preventDefault:!0},{key:"Ctrl-f",run:fte,shift:wte},{key:"Ctrl-p",run:mte,shift:Cte},{key:"Ctrl-n",run:gte,shift:Ste},{key:"Ctrl-a",run:Uve,shift:owe},{key:"Ctrl-e",run:Wve,shift:nwe},{key:"Ctrl-d",run:Tte},{key:"Ctrl-h",run:_j},{key:"Ctrl-k",run:cwe},{key:"Ctrl-Alt-h",run:zte},{key:"Ctrl-o",run:fwe},{key:"Ctrl-t",run:hwe},{key:"Ctrl-v",run:kj}],Ewe=[{key:"ArrowLeft",run:ute,shift:vte,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Lve,shift:Kve,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Vve,shift:ewe,preventDefault:!0},{key:"ArrowRight",run:fte,shift:wte,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Bve,shift:Gve,preventDefault:!0},{mac:"Cmd-ArrowRight",run:jve,shift:twe,preventDefault:!0},{key:"ArrowUp",run:mte,shift:Cte,preventDefault:!0},{mac:"Cmd-ArrowUp",run:aX,shift:cX},{mac:"Ctrl-ArrowUp",run:sX,shift:rX},{key:"ArrowDown",run:gte,shift:Ste,preventDefault:!0},{mac:"Cmd-ArrowDown",run:lX,shift:dX},{mac:"Ctrl-ArrowDown",run:kj,shift:iX},{key:"PageUp",run:sX,shift:rX},{key:"PageDown",run:kj,shift:iX},{key:"Home",run:$ve,shift:Jve,preventDefault:!0},{key:"Mod-Home",run:aX,shift:cX},{key:"End",run:Hve,shift:Qve,preventDefault:!0},{key:"Mod-End",run:lX,shift:dX},{key:"Enter",run:uX,shift:uX},{key:"Mod-a",run:swe},{key:"Backspace",run:_j,shift:_j},{key:"Delete",run:Tte},{key:"Mod-Backspace",mac:"Alt-Backspace",run:zte},{key:"Mod-Delete",mac:"Alt-Delete",run:lwe},{mac:"Mod-Backspace",run:dwe},{mac:"Mod-Delete",run:uwe}].concat(Swe.map(c=>({mac:c.key,run:c.run,shift:c.shift}))),Awe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Ive,shift:Yve},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Fve,shift:Xve},{key:"Alt-ArrowUp",run:pwe},{key:"Shift-Alt-ArrowUp",run:gwe},{key:"Alt-ArrowDown",run:mwe},{key:"Shift-Alt-ArrowDown",run:bwe},{key:"Escape",run:awe},{key:"Mod-Enter",run:vwe},{key:"Alt-l",mac:"Ctrl-l",run:rwe},{key:"Mod-i",run:iwe,preventDefault:!0},{key:"Mod-[",run:_we},{key:"Mod-]",run:kwe},{key:"Mod-Alt-\\",run:wwe},{key:"Shift-Mod-k",run:ywe},{key:"Shift-Mod-\\",run:qve},{key:"Mod-/",run:gve},{key:"Alt-A",run:yve},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Cwe}].concat(Ewe),fX=typeof String.prototype.normalize=="function"?c=>c.normalize("NFKD"):c=>c;class tE{constructor(o,r,a=0,d=o.length,h,g){this.test=g,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=o.iterRange(a,d),this.bufferStart=a,this.normalize=h?x=>h(fX(x)):fX,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Bf(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let o=this.peek();if(o<0)return this.done=!0,this;let r=Uj(o),a=this.bufferStart+this.bufferPos;this.bufferPos+=Sb(o);let d=this.normalize(r);if(d.length)for(let h=0,g=a;;h++){let x=d.charCodeAt(h),k=this.match(x,g,this.bufferPos+this.bufferStart);if(h==d.length-1){if(k)return this.value=k,this;break}g==a&&h<r.length&&r.charCodeAt(h)==x&&g++}}}match(o,r,a){let d=null;for(let h=0;h<this.matches.length;h+=2){let g=this.matches[h],x=!1;this.query.charCodeAt(g)==o&&(g==this.query.length-1?d={from:this.matches[h+1],to:a}:(this.matches[h]++,x=!0)),x||(this.matches.splice(h,2),h-=2)}return this.query.charCodeAt(0)==o&&(this.query.length==1?d={from:r,to:a}:this.matches.push(1,r)),d&&this.test&&!this.test(d.from,d.to,this.buffer,this.bufferStart)&&(d=null),d}}typeof Symbol<"u"&&(tE.prototype[Symbol.iterator]=function(){return this});const Rte={from:-1,to:-1,match:/.*/.exec("")},bU="gm"+(/x/.unicode==null?"":"u");class Lte{constructor(o,r,a,d=0,h=o.length){if(this.text=o,this.to=h,this.curLine="",this.done=!1,this.value=Rte,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new Bte(o,r,a,d,h);this.re=new RegExp(r,bU+(a!=null&&a.ignoreCase?"i":"")),this.test=a==null?void 0:a.test,this.iter=o.iter();let g=o.lineAt(d);this.curLineStart=g.from,this.matchPos=_P(o,d),this.getLine(this.curLineStart)}getLine(o){this.iter.next(o),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let o=this.matchPos-this.curLineStart;;){this.re.lastIndex=o;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let a=this.curLineStart+r.index,d=a+r[0].length;if(this.matchPos=_P(this.text,d+(a==d?1:0)),a==this.curLineStart+this.curLine.length&&this.nextLine(),(a<d||a>this.value.to)&&(!this.test||this.test(a,d,r)))return this.value={from:a,to:d,match:r},this;o=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),o=0;else return this.done=!0,this}}}const xV=new WeakMap;class $S{constructor(o,r){this.from=o,this.text=r}get to(){return this.from+this.text.length}static get(o,r,a){let d=xV.get(o);if(!d||d.from>=a||d.to<=r){let x=new $S(r,o.sliceString(r,a));return xV.set(o,x),x}if(d.from==r&&d.to==a)return d;let{text:h,from:g}=d;return g>r&&(h=o.sliceString(r,g)+h,g=r),d.to<a&&(h+=o.sliceString(d.to,a)),xV.set(o,new $S(g,h)),new $S(r,h.slice(r-g,a-g))}}class Bte{constructor(o,r,a,d,h){this.text=o,this.to=h,this.done=!1,this.value=Rte,this.matchPos=_P(o,d),this.re=new RegExp(r,bU+(a!=null&&a.ignoreCase?"i":"")),this.test=a==null?void 0:a.test,this.flat=$S.get(o,d,this.chunkEnd(d+5e3))}chunkEnd(o){return o>=this.to?this.to:this.text.lineAt(o).to}next(){for(;;){let o=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==o&&(this.re.lastIndex=o+1,r=this.re.exec(this.flat.text)),r){let a=this.flat.from+r.index,d=a+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(a,d,r)))return this.value={from:a,to:d,match:r},this.matchPos=_P(this.text,d+(a==d?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=$S.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Lte.prototype[Symbol.iterator]=Bte.prototype[Symbol.iterator]=function(){return this});function Twe(c){try{return new RegExp(c,bU),!0}catch{return!1}}function _P(c,o){if(o>=c.length)return o;let r=c.lineAt(o),a;for(;o<r.to&&(a=r.text.charCodeAt(o-r.from))>=56320&&a<57344;)o++;return o}function Cj(c){let o=String(c.state.doc.lineAt(c.state.selection.main.head).number),r=wi("input",{class:"cm-textfield",name:"line",value:o}),a=wi("form",{class:"cm-gotoLine",onkeydown:h=>{h.keyCode==27?(h.preventDefault(),c.dispatch({effects:DO.of(!1)}),c.focus()):h.keyCode==13&&(h.preventDefault(),d())},onsubmit:h=>{h.preventDefault(),d()}},wi("label",c.state.phrase("Go to line"),": ",r)," ",wi("button",{class:"cm-button",type:"submit"},c.state.phrase("go")),wi("button",{name:"close",onclick:()=>{c.dispatch({effects:DO.of(!1)}),c.focus()},"aria-label":c.state.phrase("close"),type:"button"},[""]));function d(){let h=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!h)return;let{state:g}=c,x=g.doc.lineAt(g.selection.main.head),[,k,z,D,$]=h,K=D?+D.slice(1):0,Y=z?+z:x.number;if(z&&$){let Ne=Y/100;k&&(Ne=Ne*(k=="-"?-1:1)+x.number/g.doc.lines),Y=Math.round(g.doc.lines*Ne)}else z&&k&&(Y=Y*(k=="-"?-1:1)+x.number);let ie=g.doc.line(Math.max(1,Math.min(g.doc.lines,Y))),ve=qt.cursor(ie.from+Math.max(0,Math.min(K,ie.length)));c.dispatch({effects:[DO.of(!1),Jo.scrollIntoView(ve.from,{y:"center"})],selection:ve}),c.focus()}return{dom:a}}const DO=As.define(),hX=sd.define({create(){return!0},update(c,o){for(let r of o.effects)r.is(DO)&&(c=r.value);return c},provide:c=>$O.from(c,o=>o?Cj:null)}),Owe=c=>{let o=HO(c,Cj);if(!o){let r=[DO.of(!0)];c.state.field(hX,!1)==null&&r.push(As.appendConfig.of([hX,zwe])),c.dispatch({effects:r}),o=HO(c,Cj)}return o&&o.dom.querySelector("input").select(),!0},zwe=Jo.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),Dwe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Mwe=Yo.define({combine(c){return Rb(c,Dwe,{highlightWordAroundCursor:(o,r)=>o||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function Nwe(c){return[Iwe,Pwe]}const Rwe=qn.mark({class:"cm-selectionMatch"}),Lwe=qn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function pX(c,o,r,a){return(r==0||c(o.sliceDoc(r-1,r))!=ua.Word)&&(a==o.doc.length||c(o.sliceDoc(a,a+1))!=ua.Word)}function Bwe(c,o,r,a){return c(o.sliceDoc(r,r+1))==ua.Word&&c(o.sliceDoc(a-1,a))==ua.Word}const Pwe=Al.fromClass(class{constructor(c){this.decorations=this.getDeco(c)}update(c){(c.selectionSet||c.docChanged||c.viewportChanged)&&(this.decorations=this.getDeco(c.view))}getDeco(c){let o=c.state.facet(Mwe),{state:r}=c,a=r.selection;if(a.ranges.length>1)return qn.none;let d=a.main,h,g=null;if(d.empty){if(!o.highlightWordAroundCursor)return qn.none;let k=r.wordAt(d.head);if(!k)return qn.none;g=r.charCategorizer(d.head),h=r.sliceDoc(k.from,k.to)}else{let k=d.to-d.from;if(k<o.minSelectionLength||k>200)return qn.none;if(o.wholeWords){if(h=r.sliceDoc(d.from,d.to),g=r.charCategorizer(d.head),!(pX(g,r,d.from,d.to)&&Bwe(g,r,d.from,d.to)))return qn.none}else if(h=r.sliceDoc(d.from,d.to),!h)return qn.none}let x=[];for(let k of c.visibleRanges){let z=new tE(r.doc,h,k.from,k.to);for(;!z.next().done;){let{from:D,to:$}=z.value;if((!g||pX(g,r,D,$))&&(d.empty&&D<=d.from&&$>=d.to?x.push(Lwe.range(D,$)):(D>=d.to||$<=d.from)&&x.push(Rwe.range(D,$)),x.length>o.maxMatches))return qn.none}}return qn.set(x)}},{decorations:c=>c.decorations}),Iwe=Jo.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Fwe=({state:c,dispatch:o})=>{let{selection:r}=c,a=qt.create(r.ranges.map(d=>c.wordAt(d.head)||qt.cursor(d.head)),r.mainIndex);return a.eq(r)?!1:(o(c.update({selection:a})),!0)};function Hwe(c,o){let{main:r,ranges:a}=c.selection,d=c.wordAt(r.head),h=d&&d.from==r.from&&d.to==r.to;for(let g=!1,x=new tE(c.doc,o,a[a.length-1].to);;)if(x.next(),x.done){if(g)return null;x=new tE(c.doc,o,0,Math.max(0,a[a.length-1].from-1)),g=!0}else{if(g&&a.some(k=>k.from==x.value.from))continue;if(h){let k=c.wordAt(x.value.from);if(!k||k.from!=x.value.from||k.to!=x.value.to)continue}return x.value}}const $we=({state:c,dispatch:o})=>{let{ranges:r}=c.selection;if(r.some(h=>h.from===h.to))return Fwe({state:c,dispatch:o});let a=c.sliceDoc(r[0].from,r[0].to);if(c.selection.ranges.some(h=>c.sliceDoc(h.from,h.to)!=a))return!1;let d=Hwe(c,a);return d?(o(c.update({selection:c.selection.addRange(qt.range(d.from,d.to),!1),effects:Jo.scrollIntoView(d.to)})),!0):!1},lE=Yo.define({combine(c){return Rb(c,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:o=>new Jwe(o),scrollToMatch:o=>Jo.scrollIntoView(o)})}});class Pte{constructor(o){this.search=o.search,this.caseSensitive=!!o.caseSensitive,this.literal=!!o.literal,this.regexp=!!o.regexp,this.replace=o.replace||"",this.valid=!!this.search&&(!this.regexp||Twe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!o.wholeWord}unquote(o){return this.literal?o:o.replace(/\\([nrt\\])/g,(r,a)=>a=="n"?`
`:a=="r"?"\r":a=="t"?"	":"\\")}eq(o){return this.search==o.search&&this.replace==o.replace&&this.caseSensitive==o.caseSensitive&&this.regexp==o.regexp&&this.wholeWord==o.wholeWord}create(){return this.regexp?new Wwe(this):new jwe(this)}getCursor(o,r=0,a){let d=o.doc?o:Cr.create({doc:o});return a==null&&(a=d.doc.length),this.regexp?MS(this,d,r,a):DS(this,d,r,a)}}class Ite{constructor(o){this.spec=o}}function DS(c,o,r,a){return new tE(o.doc,c.unquoted,r,a,c.caseSensitive?void 0:d=>d.toLowerCase(),c.wholeWord?Vwe(o.doc,o.charCategorizer(o.selection.main.head)):void 0)}function Vwe(c,o){return(r,a,d,h)=>((h>r||h+d.length<a)&&(h=Math.max(0,r-2),d=c.sliceString(h,Math.min(c.length,a+2))),(o(CP(d,r-h))!=ua.Word||o(SP(d,r-h))!=ua.Word)&&(o(SP(d,a-h))!=ua.Word||o(CP(d,a-h))!=ua.Word))}class jwe extends Ite{constructor(o){super(o)}nextMatch(o,r,a){let d=DS(this.spec,o,a,o.doc.length).nextOverlapping();if(d.done){let h=Math.min(o.doc.length,r+this.spec.unquoted.length);d=DS(this.spec,o,0,h).nextOverlapping()}return d.done||d.value.from==r&&d.value.to==a?null:d.value}prevMatchInRange(o,r,a){for(let d=a;;){let h=Math.max(r,d-1e4-this.spec.unquoted.length),g=DS(this.spec,o,h,d),x=null;for(;!g.nextOverlapping().done;)x=g.value;if(x)return x;if(h==r)return null;d-=1e4}}prevMatch(o,r,a){let d=this.prevMatchInRange(o,0,r);return d||(d=this.prevMatchInRange(o,Math.max(0,a-this.spec.unquoted.length),o.doc.length)),d&&(d.from!=r||d.to!=a)?d:null}getReplacement(o){return this.spec.unquote(this.spec.replace)}matchAll(o,r){let a=DS(this.spec,o,0,o.doc.length),d=[];for(;!a.next().done;){if(d.length>=r)return null;d.push(a.value)}return d}highlight(o,r,a,d){let h=DS(this.spec,o,Math.max(0,r-this.spec.unquoted.length),Math.min(a+this.spec.unquoted.length,o.doc.length));for(;!h.next().done;)d(h.value.from,h.value.to)}}function MS(c,o,r,a){return new Lte(o.doc,c.search,{ignoreCase:!c.caseSensitive,test:c.wholeWord?Uwe(o.charCategorizer(o.selection.main.head)):void 0},r,a)}function CP(c,o){return c.slice(nd(c,o,!1),o)}function SP(c,o){return c.slice(o,nd(c,o))}function Uwe(c){return(o,r,a)=>!a[0].length||(c(CP(a.input,a.index))!=ua.Word||c(SP(a.input,a.index))!=ua.Word)&&(c(SP(a.input,a.index+a[0].length))!=ua.Word||c(CP(a.input,a.index+a[0].length))!=ua.Word)}class Wwe extends Ite{nextMatch(o,r,a){let d=MS(this.spec,o,a,o.doc.length).next();return d.done&&(d=MS(this.spec,o,0,r).next()),d.done?null:d.value}prevMatchInRange(o,r,a){for(let d=1;;d++){let h=Math.max(r,a-d*1e4),g=MS(this.spec,o,h,a),x=null;for(;!g.next().done;)x=g.value;if(x&&(h==r||x.from>h+10))return x;if(h==r)return null}}prevMatch(o,r,a){return this.prevMatchInRange(o,0,r)||this.prevMatchInRange(o,a,o.doc.length)}getReplacement(o){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(r,a)=>{if(a=="&")return o.match[0];if(a=="$")return"$";for(let d=a.length;d>0;d--){let h=+a.slice(0,d);if(h>0&&h<o.match.length)return o.match[h]+a.slice(d)}return r})}matchAll(o,r){let a=MS(this.spec,o,0,o.doc.length),d=[];for(;!a.next().done;){if(d.length>=r)return null;d.push(a.value)}return d}highlight(o,r,a,d){let h=MS(this.spec,o,Math.max(0,r-250),Math.min(a+250,o.doc.length));for(;!h.next().done;)d(h.value.from,h.value.to)}}const UO=As.define(),yU=As.define(),fv=sd.define({create(c){return new vV(Sj(c).create(),null)},update(c,o){for(let r of o.effects)r.is(UO)?c=new vV(r.value.create(),c.panel):r.is(yU)&&(c=new vV(c.query,r.value?xU:null));return c},provide:c=>$O.from(c,o=>o.panel)});class vV{constructor(o,r){this.query=o,this.panel=r}}const Zwe=qn.mark({class:"cm-searchMatch"}),qwe=qn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Kwe=Al.fromClass(class{constructor(c){this.view=c,this.decorations=this.highlight(c.state.field(fv))}update(c){let o=c.state.field(fv);(o!=c.startState.field(fv)||c.docChanged||c.selectionSet||c.viewportChanged)&&(this.decorations=this.highlight(o))}highlight({query:c,panel:o}){if(!o||!c.spec.valid)return qn.none;let{view:r}=this,a=new qy;for(let d=0,h=r.visibleRanges,g=h.length;d<g;d++){let{from:x,to:k}=h[d];for(;d<g-1&&k>h[d+1].from-2*250;)k=h[++d].to;c.highlight(r.state,x,k,(z,D)=>{let $=r.state.selection.ranges.some(K=>K.from==z&&K.to==D);a.add(z,D,$?qwe:Zwe)})}return a.finish()}},{decorations:c=>c.decorations});function az(c){return o=>{let r=o.state.field(fv,!1);return r&&r.query.spec.valid?c(o,r):$te(o)}}const EP=az((c,{query:o})=>{let{to:r}=c.state.selection.main,a=o.nextMatch(c.state,r,r);if(!a)return!1;let d=qt.single(a.from,a.to),h=c.state.facet(lE);return c.dispatch({selection:d,effects:[vU(c,a),h.scrollToMatch(d.main,c)],userEvent:"select.search"}),Hte(c),!0}),AP=az((c,{query:o})=>{let{state:r}=c,{from:a}=r.selection.main,d=o.prevMatch(r,a,a);if(!d)return!1;let h=qt.single(d.from,d.to),g=c.state.facet(lE);return c.dispatch({selection:h,effects:[vU(c,d),g.scrollToMatch(h.main,c)],userEvent:"select.search"}),Hte(c),!0}),Gwe=az((c,{query:o})=>{let r=o.matchAll(c.state,1e3);return!r||!r.length?!1:(c.dispatch({selection:qt.create(r.map(a=>qt.range(a.from,a.to))),userEvent:"select.search.matches"}),!0)}),Ywe=({state:c,dispatch:o})=>{let r=c.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:a,to:d}=r.main,h=[],g=0;for(let x=new tE(c.doc,c.sliceDoc(a,d));!x.next().done;){if(h.length>1e3)return!1;x.value.from==a&&(g=h.length),h.push(qt.range(x.value.from,x.value.to))}return o(c.update({selection:qt.create(h,g),userEvent:"select.search.matches"})),!0},mX=az((c,{query:o})=>{let{state:r}=c,{from:a,to:d}=r.selection.main;if(r.readOnly)return!1;let h=o.nextMatch(r,a,a);if(!h)return!1;let g=h,x=[],k,z,D=[];g.from==a&&g.to==d&&(z=r.toText(o.getReplacement(g)),x.push({from:g.from,to:g.to,insert:z}),g=o.nextMatch(r,g.from,g.to),D.push(Jo.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(a).number)+".")));let $=c.state.changes(x);return g&&(k=qt.single(g.from,g.to).map($),D.push(vU(c,g)),D.push(r.facet(lE).scrollToMatch(k.main,c))),c.dispatch({changes:$,selection:k,effects:D,userEvent:"input.replace"}),!0}),Xwe=az((c,{query:o})=>{if(c.state.readOnly)return!1;let r=o.matchAll(c.state,1e9).map(d=>{let{from:h,to:g}=d;return{from:h,to:g,insert:o.getReplacement(d)}});if(!r.length)return!1;let a=c.state.phrase("replaced $ matches",r.length)+".";return c.dispatch({changes:r,effects:Jo.announce.of(a),userEvent:"input.replace.all"}),!0});function xU(c){return c.state.facet(lE).createPanel(c)}function Sj(c,o){var r,a,d,h,g;let x=c.selection.main,k=x.empty||x.to>x.from+100?"":c.sliceDoc(x.from,x.to);if(o&&!k)return o;let z=c.facet(lE);return new Pte({search:((r=o==null?void 0:o.literal)!==null&&r!==void 0?r:z.literal)?k:k.replace(/\n/g,"\\n"),caseSensitive:(a=o==null?void 0:o.caseSensitive)!==null&&a!==void 0?a:z.caseSensitive,literal:(d=o==null?void 0:o.literal)!==null&&d!==void 0?d:z.literal,regexp:(h=o==null?void 0:o.regexp)!==null&&h!==void 0?h:z.regexp,wholeWord:(g=o==null?void 0:o.wholeWord)!==null&&g!==void 0?g:z.wholeWord})}function Fte(c){let o=HO(c,xU);return o&&o.dom.querySelector("[main-field]")}function Hte(c){let o=Fte(c);o&&o==c.root.activeElement&&o.select()}const $te=c=>{let o=c.state.field(fv,!1);if(o&&o.panel){let r=Fte(c);if(r&&r!=c.root.activeElement){let a=Sj(c.state,o.query.spec);a.valid&&c.dispatch({effects:UO.of(a)}),r.focus(),r.select()}}else c.dispatch({effects:[yU.of(!0),o?UO.of(Sj(c.state,o.query.spec)):As.appendConfig.of(tke)]});return!0},Vte=c=>{let o=c.state.field(fv,!1);if(!o||!o.panel)return!1;let r=HO(c,xU);return r&&r.dom.contains(c.root.activeElement)&&c.focus(),c.dispatch({effects:yU.of(!1)}),!0},Qwe=[{key:"Mod-f",run:$te,scope:"editor search-panel"},{key:"F3",run:EP,shift:AP,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:EP,shift:AP,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Vte,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Ywe},{key:"Mod-Alt-g",run:Owe},{key:"Mod-d",run:$we,preventDefault:!0}];class Jwe{constructor(o){this.view=o;let r=this.query=o.state.field(fv).query.spec;this.commit=this.commit.bind(this),this.searchField=wi("input",{value:r.search,placeholder:zh(o,"Find"),"aria-label":zh(o,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=wi("input",{value:r.replace,placeholder:zh(o,"Replace"),"aria-label":zh(o,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=wi("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=wi("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=wi("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function a(d,h,g){return wi("button",{class:"cm-button",name:d,onclick:h,type:"button"},g)}this.dom=wi("div",{onkeydown:d=>this.keydown(d),class:"cm-search"},[this.searchField,a("next",()=>EP(o),[zh(o,"next")]),a("prev",()=>AP(o),[zh(o,"previous")]),a("select",()=>Gwe(o),[zh(o,"all")]),wi("label",null,[this.caseField,zh(o,"match case")]),wi("label",null,[this.reField,zh(o,"regexp")]),wi("label",null,[this.wordField,zh(o,"by word")]),...o.state.readOnly?[]:[wi("br"),this.replaceField,a("replace",()=>mX(o),[zh(o,"replace")]),a("replaceAll",()=>Xwe(o),[zh(o,"replace all")])],wi("button",{name:"close",onclick:()=>Vte(o),"aria-label":zh(o,"close"),type:"button"},[""])])}commit(){let o=new Pte({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});o.eq(this.query)||(this.query=o,this.view.dispatch({effects:UO.of(o)}))}keydown(o){a1e(this.view,o,"search-panel")?o.preventDefault():o.keyCode==13&&o.target==this.searchField?(o.preventDefault(),(o.shiftKey?AP:EP)(this.view)):o.keyCode==13&&o.target==this.replaceField&&(o.preventDefault(),mX(this.view))}update(o){for(let r of o.transactions)for(let a of r.effects)a.is(UO)&&!a.value.eq(this.query)&&this.setQuery(a.value)}setQuery(o){this.query=o,this.searchField.value=o.search,this.replaceField.value=o.replace,this.caseField.checked=o.caseSensitive,this.reField.checked=o.regexp,this.wordField.checked=o.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(lE).top}}function zh(c,o){return c.state.phrase(o)}const LB=30,BB=/[\s\.,:;?!]/;function vU(c,{from:o,to:r}){let a=c.state.doc.lineAt(o),d=c.state.doc.lineAt(r).to,h=Math.max(a.from,o-LB),g=Math.min(d,r+LB),x=c.state.sliceDoc(h,g);if(h!=a.from){for(let k=0;k<LB;k++)if(!BB.test(x[k+1])&&BB.test(x[k])){x=x.slice(k);break}}if(g!=d){for(let k=x.length-1;k>x.length-LB;k--)if(!BB.test(x[k-1])&&BB.test(x[k])){x=x.slice(0,k);break}}return Jo.announce.of(`${c.state.phrase("current match")}. ${x} ${c.state.phrase("on line")} ${a.number}.`)}const eke=Jo.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),tke=[fv,Gk.low(Kwe),eke];class jte{constructor(o,r,a,d){this.state=o,this.pos=r,this.explicit=a,this.view=d,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(o){let r=$d(this.state).resolveInner(this.pos,-1);for(;r&&o.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(o){let r=this.state.doc.lineAt(this.pos),a=Math.max(r.from,this.pos-250),d=r.text.slice(a-r.from,this.pos-r.from),h=d.search(Ute(o,!1));return h<0?null:{from:a+h,to:this.pos,text:d.slice(h)}}get aborted(){return this.abortListeners==null}addEventListener(o,r,a){o=="abort"&&this.abortListeners&&(this.abortListeners.push(r),a&&a.onDocChange&&(this.abortOnDocChange=!0))}}function gX(c){let o=Object.keys(c).join(""),r=/\w/.test(o);return r&&(o=o.replace(/\w/g,"")),`[${r?"\\w":""}${o.replace(/[^\w\s]/g,"\\$&")}]`}function oke(c){let o=Object.create(null),r=Object.create(null);for(let{label:d}of c){o[d[0]]=!0;for(let h=1;h<d.length;h++)r[d[h]]=!0}let a=gX(o)+gX(r)+"*$";return[new RegExp("^"+a),new RegExp(a)]}function nke(c){let o=c.map(d=>typeof d=="string"?{label:d}:d),[r,a]=o.every(d=>/^\w+$/.test(d.label))?[/\w*$/,/\w+$/]:oke(o);return d=>{let h=d.matchBefore(a);return h||d.explicit?{from:h?h.from:d.pos,options:o,validFor:r}:null}}class bX{constructor(o,r,a,d){this.completion=o,this.source=r,this.match=a,this.score=d}}function Ik(c){return c.selection.main.from}function Ute(c,o){var r;let{source:a}=c,d=o&&a[0]!="^",h=a[a.length-1]!="$";return!d&&!h?c:new RegExp(`${d?"^":""}(?:${a})${h?"$":""}`,(r=c.flags)!==null&&r!==void 0?r:c.ignoreCase?"i":"")}const Wte=Xy.define();function ske(c,o,r,a){let{main:d}=c.selection,h=r-d.from,g=a-d.from;return Object.assign(Object.assign({},c.changeByRange(x=>{if(x!=d&&r!=a&&c.sliceDoc(x.from+h,x.from+g)!=c.sliceDoc(r,a))return{range:x};let k=c.toText(o);return{changes:{from:x.from+h,to:a==d.from?x.to:x.from+g,insert:k},range:qt.cursor(x.from+h+k.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const yX=new WeakMap;function rke(c){if(!Array.isArray(c))return c;let o=yX.get(c);return o||yX.set(c,o=nke(c)),o}const TP=As.define(),WO=As.define();class ike{constructor(o){this.pattern=o,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<o.length;){let a=Bf(o,r),d=Sb(a);this.chars.push(a);let h=o.slice(r,r+d),g=h.toUpperCase();this.folded.push(Bf(g==h?h.toLowerCase():g,0)),r+=d}this.astral=o.length!=this.chars.length}ret(o,r){return this.score=o,this.matched=r,this}match(o){if(this.pattern.length==0)return this.ret(-100,[]);if(o.length<this.pattern.length)return null;let{chars:r,folded:a,any:d,precise:h,byWord:g}=this;if(r.length==1){let Je=Bf(o,0),He=Sb(Je),ge=He==o.length?0:-100;if(Je!=r[0])if(Je==a[0])ge+=-200;else return null;return this.ret(ge,[0,He])}let x=o.indexOf(this.pattern);if(x==0)return this.ret(o.length==this.pattern.length?0:-100,[0,this.pattern.length]);let k=r.length,z=0;if(x<0){for(let Je=0,He=Math.min(o.length,200);Je<He&&z<k;){let ge=Bf(o,Je);(ge==r[z]||ge==a[z])&&(d[z++]=Je),Je+=Sb(ge)}if(z<k)return null}let D=0,$=0,K=!1,Y=0,ie=-1,ve=-1,Ne=/[a-z]/.test(o),ye=!0;for(let Je=0,He=Math.min(o.length,200),ge=0;Je<He&&$<k;){let Ie=Bf(o,Je);x<0&&(D<k&&Ie==r[D]&&(h[D++]=Je),Y<k&&(Ie==r[Y]||Ie==a[Y]?(Y==0&&(ie=Je),ve=Je+1,Y++):Y=0));let he,Ve=Ie<255?Ie>=48&&Ie<=57||Ie>=97&&Ie<=122?2:Ie>=65&&Ie<=90?1:0:(he=Uj(Ie))!=he.toLowerCase()?1:he!=he.toUpperCase()?2:0;(!Je||Ve==1&&Ne||ge==0&&Ve!=0)&&(r[$]==Ie||a[$]==Ie&&(K=!0)?g[$++]=Je:g.length&&(ye=!1)),ge=Ve,Je+=Sb(Ie)}return $==k&&g[0]==0&&ye?this.result(-100+(K?-200:0),g,o):Y==k&&ie==0?this.ret(-200-o.length+(ve==o.length?0:-100),[0,ve]):x>-1?this.ret(-700-o.length,[x,x+this.pattern.length]):Y==k?this.ret(-900-o.length,[ie,ve]):$==k?this.result(-100+(K?-200:0)+-700+(ye?0:-1100),g,o):r.length==2?null:this.result((d[0]?-700:0)+-200+-1100,d,o)}result(o,r,a){let d=[],h=0;for(let g of r){let x=g+(this.astral?Sb(Bf(a,g)):1);h&&d[h-1]==g?d[h-1]=x:(d[h++]=g,d[h++]=x)}return this.ret(o-a.length,d)}}class ake{constructor(o){this.pattern=o,this.matched=[],this.score=0,this.folded=o.toLowerCase()}match(o){if(o.length<this.pattern.length)return null;let r=o.slice(0,this.pattern.length),a=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return a==null?null:(this.matched=[0,r.length],this.score=a+(o.length==this.pattern.length?0:-100),this)}}const wc=Yo.define({combine(c){return Rb(c,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:lke,filterStrict:!1,compareCompletions:(o,r)=>o.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(o,r)=>o&&r,closeOnBlur:(o,r)=>o&&r,icons:(o,r)=>o&&r,tooltipClass:(o,r)=>a=>xX(o(a),r(a)),optionClass:(o,r)=>a=>xX(o(a),r(a)),addToOptions:(o,r)=>o.concat(r),filterStrict:(o,r)=>o||r})}});function xX(c,o){return c?o?c+" "+o:c:o}function lke(c,o,r,a,d,h){let g=c.textDirection==Ki.RTL,x=g,k=!1,z="top",D,$,K=o.left-d.left,Y=d.right-o.right,ie=a.right-a.left,ve=a.bottom-a.top;if(x&&K<Math.min(ie,Y)?x=!1:!x&&Y<Math.min(ie,K)&&(x=!0),ie<=(x?K:Y))D=Math.max(d.top,Math.min(r.top,d.bottom-ve))-o.top,$=Math.min(400,x?K:Y);else{k=!0,$=Math.min(400,(g?o.right:d.right-o.left)-30);let Je=d.bottom-o.bottom;Je>=ve||Je>o.top?D=r.bottom-o.top:(z="bottom",D=o.bottom-r.top)}let Ne=(o.bottom-o.top)/h.offsetHeight,ye=(o.right-o.left)/h.offsetWidth;return{style:`${z}: ${D/Ne}px; max-width: ${$/ye}px`,class:"cm-completionInfo-"+(k?g?"left-narrow":"right-narrow":x?"left":"right")}}function cke(c){let o=c.addToOptions.slice();return c.icons&&o.push({render(r){let a=document.createElement("div");return a.classList.add("cm-completionIcon"),r.type&&a.classList.add(...r.type.split(/\s+/g).map(d=>"cm-completionIcon-"+d)),a.setAttribute("aria-hidden","true"),a},position:20}),o.push({render(r,a,d,h){let g=document.createElement("span");g.className="cm-completionLabel";let x=r.displayLabel||r.label,k=0;for(let z=0;z<h.length;){let D=h[z++],$=h[z++];D>k&&g.appendChild(document.createTextNode(x.slice(k,D)));let K=g.appendChild(document.createElement("span"));K.appendChild(document.createTextNode(x.slice(D,$))),K.className="cm-completionMatchedText",k=$}return k<x.length&&g.appendChild(document.createTextNode(x.slice(k))),g},position:50},{render(r){if(!r.detail)return null;let a=document.createElement("span");return a.className="cm-completionDetail",a.textContent=r.detail,a},position:80}),o.sort((r,a)=>r.position-a.position).map(r=>r.render)}function wV(c,o,r){if(c<=r)return{from:0,to:c};if(o<0&&(o=0),o<=c>>1){let d=Math.floor(o/r);return{from:d*r,to:(d+1)*r}}let a=Math.floor((c-o)/r);return{from:c-(a+1)*r,to:c-a*r}}class dke{constructor(o,r,a){this.view=o,this.stateField=r,this.applyCompletion=a,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:k=>this.placeInfo(k),key:this},this.space=null,this.currentClass="";let d=o.state.field(r),{options:h,selected:g}=d.open,x=o.state.facet(wc);this.optionContent=cke(x),this.optionClass=x.optionClass,this.tooltipClass=x.tooltipClass,this.range=wV(h.length,g,x.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(o.state),this.dom.addEventListener("mousedown",k=>{let{options:z}=o.state.field(r).open;for(let D=k.target,$;D&&D!=this.dom;D=D.parentNode)if(D.nodeName=="LI"&&($=/-(\d+)$/.exec(D.id))&&+$[1]<z.length){this.applyCompletion(o,z[+$[1]]),k.preventDefault();return}}),this.dom.addEventListener("focusout",k=>{let z=o.state.field(this.stateField,!1);z&&z.tooltip&&o.state.facet(wc).closeOnBlur&&k.relatedTarget!=o.contentDOM&&o.dispatch({effects:WO.of(null)})}),this.showOptions(h,d.id)}mount(){this.updateSel()}showOptions(o,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(o,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(o){var r;let a=o.state.field(this.stateField),d=o.startState.field(this.stateField);if(this.updateTooltipClass(o.state),a!=d){let{options:h,selected:g,disabled:x}=a.open;(!d.open||d.open.options!=h)&&(this.range=wV(h.length,g,o.state.facet(wc).maxRenderedOptions),this.showOptions(h,a.id)),this.updateSel(),x!=((r=d.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!x)}}updateTooltipClass(o){let r=this.tooltipClass(o);if(r!=this.currentClass){for(let a of this.currentClass.split(" "))a&&this.dom.classList.remove(a);for(let a of r.split(" "))a&&this.dom.classList.add(a);this.currentClass=r}}positioned(o){this.space=o,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let o=this.view.state.field(this.stateField),r=o.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=wV(r.options.length,r.selected,this.view.state.facet(wc).maxRenderedOptions),this.showOptions(r.options,o.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:a}=r.options[r.selected],{info:d}=a;if(!d)return;let h=typeof d=="string"?document.createTextNode(d):d(a);if(!h)return;"then"in h?h.then(g=>{g&&this.view.state.field(this.stateField,!1)==o&&this.addInfoPane(g,a)}).catch(g=>Hf(this.view.state,g,"completion info")):this.addInfoPane(h,a)}}addInfoPane(o,r){this.destroyInfo();let a=this.info=document.createElement("div");if(a.className="cm-tooltip cm-completionInfo",o.nodeType!=null)a.appendChild(o),this.infoDestroy=null;else{let{dom:d,destroy:h}=o;a.appendChild(d),this.infoDestroy=h||null}this.dom.appendChild(a),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(o){let r=null;for(let a=this.list.firstChild,d=this.range.from;a;a=a.nextSibling,d++)a.nodeName!="LI"||!a.id?d--:d==o?a.hasAttribute("aria-selected")||(a.setAttribute("aria-selected","true"),r=a):a.hasAttribute("aria-selected")&&a.removeAttribute("aria-selected");return r&&fke(this.list,r),r}measureInfo(){let o=this.dom.querySelector("[aria-selected]");if(!o||!this.info)return null;let r=this.dom.getBoundingClientRect(),a=this.info.getBoundingClientRect(),d=o.getBoundingClientRect(),h=this.space;if(!h){let g=this.dom.ownerDocument.documentElement;h={left:0,top:0,right:g.clientWidth,bottom:g.clientHeight}}return d.top>Math.min(h.bottom,r.bottom)-10||d.bottom<Math.max(h.top,r.top)+10?null:this.view.state.facet(wc).positionInfo(this.view,r,d,a,h,this.dom)}placeInfo(o){this.info&&(o?(o.style&&(this.info.style.cssText=o.style),this.info.className="cm-tooltip cm-completionInfo "+(o.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(o,r,a){const d=document.createElement("ul");d.id=r,d.setAttribute("role","listbox"),d.setAttribute("aria-expanded","true"),d.setAttribute("aria-label",this.view.state.phrase("Completions")),d.addEventListener("mousedown",g=>{g.target==d&&g.preventDefault()});let h=null;for(let g=a.from;g<a.to;g++){let{completion:x,match:k}=o[g],{section:z}=x;if(z){let K=typeof z=="string"?z:z.name;if(K!=h&&(g>a.from||a.from==0))if(h=K,typeof z!="string"&&z.header)d.appendChild(z.header(z));else{let Y=d.appendChild(document.createElement("completion-section"));Y.textContent=K}}const D=d.appendChild(document.createElement("li"));D.id=r+"-"+g,D.setAttribute("role","option");let $=this.optionClass(x);$&&(D.className=$);for(let K of this.optionContent){let Y=K(x,this.view.state,this.view,k);Y&&D.appendChild(Y)}}return a.from&&d.classList.add("cm-completionListIncompleteTop"),a.to<o.length&&d.classList.add("cm-completionListIncompleteBottom"),d}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function uke(c,o){return r=>new dke(r,c,o)}function fke(c,o){let r=c.getBoundingClientRect(),a=o.getBoundingClientRect(),d=r.height/c.offsetHeight;a.top<r.top?c.scrollTop-=(r.top-a.top)/d:a.bottom>r.bottom&&(c.scrollTop+=(a.bottom-r.bottom)/d)}function vX(c){return(c.boost||0)*100+(c.apply?10:0)+(c.info?5:0)+(c.type?1:0)}function hke(c,o){let r=[],a=null,d=z=>{r.push(z);let{section:D}=z.completion;if(D){a||(a=[]);let $=typeof D=="string"?D:D.name;a.some(K=>K.name==$)||a.push(typeof D=="string"?{name:$}:D)}},h=o.facet(wc);for(let z of c)if(z.hasResult()){let D=z.result.getMatch;if(z.result.filter===!1)for(let $ of z.result.options)d(new bX($,z.source,D?D($):[],1e9-r.length));else{let $=o.sliceDoc(z.from,z.to),K,Y=h.filterStrict?new ake($):new ike($);for(let ie of z.result.options)if(K=Y.match(ie.label)){let ve=ie.displayLabel?D?D(ie,K.matched):[]:K.matched;d(new bX(ie,z.source,ve,K.score+(ie.boost||0)))}}}if(a){let z=Object.create(null),D=0,$=(K,Y)=>{var ie,ve;return((ie=K.rank)!==null&&ie!==void 0?ie:1e9)-((ve=Y.rank)!==null&&ve!==void 0?ve:1e9)||(K.name<Y.name?-1:1)};for(let K of a.sort($))D-=1e5,z[K.name]=D;for(let K of r){let{section:Y}=K.completion;Y&&(K.score+=z[typeof Y=="string"?Y:Y.name])}}let g=[],x=null,k=h.compareCompletions;for(let z of r.sort((D,$)=>$.score-D.score||k(D.completion,$.completion))){let D=z.completion;!x||x.label!=D.label||x.detail!=D.detail||x.type!=null&&D.type!=null&&x.type!=D.type||x.apply!=D.apply||x.boost!=D.boost?g.push(z):vX(z.completion)>vX(x)&&(g[g.length-1]=z),x=z.completion}return g}class PS{constructor(o,r,a,d,h,g){this.options=o,this.attrs=r,this.tooltip=a,this.timestamp=d,this.selected=h,this.disabled=g}setSelected(o,r){return o==this.selected||o>=this.options.length?this:new PS(this.options,wX(r,o),this.tooltip,this.timestamp,o,this.disabled)}static build(o,r,a,d,h,g){if(d&&!g&&o.some(z=>z.isPending))return d.setDisabled();let x=hke(o,r);if(!x.length)return d&&o.some(z=>z.isPending)?d.setDisabled():null;let k=r.facet(wc).selectOnOpen?0:-1;if(d&&d.selected!=k&&d.selected!=-1){let z=d.options[d.selected].completion;for(let D=0;D<x.length;D++)if(x[D].completion==z){k=D;break}}return new PS(x,wX(a,k),{pos:o.reduce((z,D)=>D.hasResult()?Math.min(z,D.from):z,1e8),create:xke,above:h.aboveCursor},d?d.timestamp:Date.now(),k,!1)}map(o){return new PS(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:o.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new PS(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class OP{constructor(o,r,a){this.active=o,this.id=r,this.open=a}static start(){return new OP(bke,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(o){let{state:r}=o,a=r.facet(wc),h=(a.override||r.languageDataAt("autocomplete",Ik(r)).map(rke)).map(k=>(this.active.find(D=>D.source==k)||new Pp(k,this.active.some(D=>D.state!=0)?1:0)).update(o,a));h.length==this.active.length&&h.every((k,z)=>k==this.active[z])&&(h=this.active);let g=this.open,x=o.effects.some(k=>k.is(wU));g&&o.docChanged&&(g=g.map(o.changes)),o.selection||h.some(k=>k.hasResult()&&o.changes.touchesRange(k.from,k.to))||!pke(h,this.active)||x?g=PS.build(h,r,this.id,g,a,x):g&&g.disabled&&!h.some(k=>k.isPending)&&(g=null),!g&&h.every(k=>!k.isPending)&&h.some(k=>k.hasResult())&&(h=h.map(k=>k.hasResult()?new Pp(k.source,0):k));for(let k of o.effects)k.is(qte)&&(g=g&&g.setSelected(k.value,this.id));return h==this.active&&g==this.open?this:new OP(h,this.id,g)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?mke:gke}}function pke(c,o){if(c==o)return!0;for(let r=0,a=0;;){for(;r<c.length&&!c[r].hasResult();)r++;for(;a<o.length&&!o[a].hasResult();)a++;let d=r==c.length,h=a==o.length;if(d||h)return d==h;if(c[r++].result!=o[a++].result)return!1}}const mke={"aria-autocomplete":"list"},gke={};function wX(c,o){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":c};return o>-1&&(r["aria-activedescendant"]=c+"-"+o),r}const bke=[];function Zte(c,o){if(c.isUserEvent("input.complete")){let a=c.annotation(Wte);if(a&&o.activateOnCompletion(a))return 12}let r=c.isUserEvent("input.type");return r&&o.activateOnTyping?5:r?1:c.isUserEvent("delete.backward")?2:c.selection?8:c.docChanged?16:0}class Pp{constructor(o,r,a=!1){this.source=o,this.state=r,this.explicit=a}hasResult(){return!1}get isPending(){return this.state==1}update(o,r){let a=Zte(o,r),d=this;(a&8||a&16&&this.touches(o))&&(d=new Pp(d.source,0)),a&4&&d.state==0&&(d=new Pp(this.source,1)),d=d.updateFor(o,a);for(let h of o.effects)if(h.is(TP))d=new Pp(d.source,1,h.value);else if(h.is(WO))d=new Pp(d.source,0);else if(h.is(wU))for(let g of h.value)g.source==d.source&&(d=g);return d}updateFor(o,r){return this.map(o.changes)}map(o){return this}touches(o){return o.changes.touchesRange(Ik(o.state))}}class VS extends Pp{constructor(o,r,a,d,h,g){super(o,3,r),this.limit=a,this.result=d,this.from=h,this.to=g}hasResult(){return!0}updateFor(o,r){var a;if(!(r&3))return this.map(o.changes);let d=this.result;d.map&&!o.changes.empty&&(d=d.map(d,o.changes));let h=o.changes.mapPos(this.from),g=o.changes.mapPos(this.to,1),x=Ik(o.state);if(x>g||!d||r&2&&(Ik(o.startState)==this.from||x<this.limit))return new Pp(this.source,r&4?1:0);let k=o.changes.mapPos(this.limit);return yke(d.validFor,o.state,h,g)?new VS(this.source,this.explicit,k,d,h,g):d.update&&(d=d.update(d,h,g,new jte(o.state,x,!1)))?new VS(this.source,this.explicit,k,d,d.from,(a=d.to)!==null&&a!==void 0?a:Ik(o.state)):new Pp(this.source,1,this.explicit)}map(o){return o.empty?this:(this.result.map?this.result.map(this.result,o):this.result)?new VS(this.source,this.explicit,o.mapPos(this.limit),this.result,o.mapPos(this.from),o.mapPos(this.to,1)):new Pp(this.source,0)}touches(o){return o.changes.touchesRange(this.from,this.to)}}function yke(c,o,r,a){if(!c)return!1;let d=o.sliceDoc(r,a);return typeof c=="function"?c(d,r,a,o):Ute(c,!0).test(d)}const wU=As.define({map(c,o){return c.map(r=>r.map(o))}}),qte=As.define(),If=sd.define({create(){return OP.start()},update(c,o){return c.update(o)},provide:c=>[iU.from(c,o=>o.tooltip),Jo.contentAttributes.from(c,o=>o.attrs)]});function kU(c,o){const r=o.completion.apply||o.completion.label;let a=c.state.field(If).active.find(d=>d.source==o.source);return a instanceof VS?(typeof r=="string"?c.dispatch(Object.assign(Object.assign({},ske(c.state,r,a.from,a.to)),{annotations:Wte.of(o.completion)})):r(c,o.completion,a.from,a.to),!0):!1}const xke=uke(If,kU);function PB(c,o="option"){return r=>{let a=r.state.field(If,!1);if(!a||!a.open||a.open.disabled||Date.now()-a.open.timestamp<r.state.facet(wc).interactionDelay)return!1;let d=1,h;o=="page"&&(h=Dee(r,a.open.tooltip))&&(d=Math.max(2,Math.floor(h.dom.offsetHeight/h.dom.querySelector("li").offsetHeight)-1));let{length:g}=a.open.options,x=a.open.selected>-1?a.open.selected+d*(c?1:-1):c?0:g-1;return x<0?x=o=="page"?0:g-1:x>=g&&(x=o=="page"?g-1:0),r.dispatch({effects:qte.of(x)}),!0}}const vke=c=>{let o=c.state.field(If,!1);return c.state.readOnly||!o||!o.open||o.open.selected<0||o.open.disabled||Date.now()-o.open.timestamp<c.state.facet(wc).interactionDelay?!1:kU(c,o.open.options[o.open.selected])},kX=c=>c.state.field(If,!1)?(c.dispatch({effects:TP.of(!0)}),!0):!1,wke=c=>{let o=c.state.field(If,!1);return!o||!o.active.some(r=>r.state!=0)?!1:(c.dispatch({effects:WO.of(null)}),!0)};class kke{constructor(o,r){this.active=o,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const _ke=50,Cke=1e3,Ske=Al.fromClass(class{constructor(c){this.view=c,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let o of c.state.field(If).active)o.isPending&&this.startQuery(o)}update(c){let o=c.state.field(If),r=c.state.facet(wc);if(!c.selectionSet&&!c.docChanged&&c.startState.field(If)==o)return;let a=c.transactions.some(h=>{let g=Zte(h,r);return g&8||(h.selection||h.docChanged)&&!(g&3)});for(let h=0;h<this.running.length;h++){let g=this.running[h];if(a||g.context.abortOnDocChange&&c.docChanged||g.updates.length+c.transactions.length>_ke&&Date.now()-g.time>Cke){for(let x of g.context.abortListeners)try{x()}catch(k){Hf(this.view.state,k)}g.context.abortListeners=null,this.running.splice(h--,1)}else g.updates.push(...c.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),c.transactions.some(h=>h.effects.some(g=>g.is(TP)))&&(this.pendingStart=!0);let d=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=o.active.some(h=>h.isPending&&!this.running.some(g=>g.active.source==h.source))?setTimeout(()=>this.startUpdate(),d):-1,this.composing!=0)for(let h of c.transactions)h.isUserEvent("input.type")?this.composing=2:this.composing==2&&h.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:c}=this.view,o=c.field(If);for(let r of o.active)r.isPending&&!this.running.some(a=>a.active.source==r.source)&&this.startQuery(r);this.running.length&&o.open&&o.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(wc).updateSyncTime))}startQuery(c){let{state:o}=this.view,r=Ik(o),a=new jte(o,r,c.explicit,this.view),d=new kke(c,a);this.running.push(d),Promise.resolve(c.source(a)).then(h=>{d.context.aborted||(d.done=h||null,this.scheduleAccept())},h=>{this.view.dispatch({effects:WO.of(null)}),Hf(this.view.state,h)})}scheduleAccept(){this.running.every(c=>c.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(wc).updateSyncTime))}accept(){var c;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let o=[],r=this.view.state.facet(wc),a=this.view.state.field(If);for(let d=0;d<this.running.length;d++){let h=this.running[d];if(h.done===void 0)continue;if(this.running.splice(d--,1),h.done){let x=Ik(h.updates.length?h.updates[0].startState:this.view.state),k=Math.min(x,h.done.from+(h.active.explicit?0:1)),z=new VS(h.active.source,h.active.explicit,k,h.done,h.done.from,(c=h.done.to)!==null&&c!==void 0?c:x);for(let D of h.updates)z=z.update(D,r);if(z.hasResult()){o.push(z);continue}}let g=a.active.find(x=>x.source==h.active.source);if(g&&g.isPending)if(h.done==null){let x=new Pp(h.active.source,0);for(let k of h.updates)x=x.update(k,r);x.isPending||o.push(x)}else this.startQuery(g)}(o.length||a.open&&a.open.disabled)&&this.view.dispatch({effects:wU.of(o)})}},{eventHandlers:{blur(c){let o=this.view.state.field(If,!1);if(o&&o.tooltip&&this.view.state.facet(wc).closeOnBlur){let r=o.open&&Dee(this.view,o.open.tooltip);(!r||!r.dom.contains(c.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:WO.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:TP.of(!1)}),20),this.composing=0}}}),Eke=typeof navigator=="object"&&/Win/.test(navigator.platform),Ake=Gk.highest(Jo.domEventHandlers({keydown(c,o){let r=o.state.field(If,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||c.key.length>1||c.ctrlKey&&!(Eke&&c.altKey)||c.metaKey)return!1;let a=r.open.options[r.open.selected],d=r.active.find(g=>g.source==a.source),h=a.completion.commitCharacters||d.result.commitCharacters;return h&&h.indexOf(c.key)>-1&&kU(o,a),!1}})),Tke=Jo.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),ZO={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Lk=As.define({map(c,o){let r=o.mapPos(c,-1,Nu.TrackAfter);return r??void 0}}),_U=new class extends $k{};_U.startSide=1;_U.endSide=-1;const Kte=sd.define({create(){return gr.empty},update(c,o){if(c=c.map(o.changes),o.selection){let r=o.state.doc.lineAt(o.selection.main.head);c=c.update({filter:a=>a>=r.from&&a<=r.to})}for(let r of o.effects)r.is(Lk)&&(c=c.update({add:[_U.range(r.value,r.value+1)]}));return c}});function Oke(){return[Dke,Kte]}const kV="()[]{}<>";function Gte(c){for(let o=0;o<kV.length;o+=2)if(kV.charCodeAt(o)==c)return kV.charAt(o+1);return Uj(c<128?c:c+1)}function Yte(c,o){return c.languageDataAt("closeBrackets",o)[0]||ZO}const zke=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Dke=Jo.inputHandler.of((c,o,r,a)=>{if((zke?c.composing:c.compositionStarted)||c.state.readOnly)return!1;let d=c.state.selection.main;if(a.length>2||a.length==2&&Sb(Bf(a,0))==1||o!=d.from||r!=d.to)return!1;let h=Rke(c.state,a);return h?(c.dispatch(h),!0):!1}),Mke=({state:c,dispatch:o})=>{if(c.readOnly)return!1;let a=Yte(c,c.selection.main.head).brackets||ZO.brackets,d=null,h=c.changeByRange(g=>{if(g.empty){let x=Lke(c.doc,g.head);for(let k of a)if(k==x&&JP(c.doc,g.head)==Gte(Bf(k,0)))return{changes:{from:g.head-k.length,to:g.head+k.length},range:qt.cursor(g.head-k.length)}}return{range:d=g}});return d||o(c.update(h,{scrollIntoView:!0,userEvent:"delete.backward"})),!d},Nke=[{key:"Backspace",run:Mke}];function Rke(c,o){let r=Yte(c,c.selection.main.head),a=r.brackets||ZO.brackets;for(let d of a){let h=Gte(Bf(d,0));if(o==d)return h==d?Ike(c,d,a.indexOf(d+d+d)>-1,r):Bke(c,d,h,r.before||ZO.before);if(o==h&&Xte(c,c.selection.main.from))return Pke(c,d,h)}return null}function Xte(c,o){let r=!1;return c.field(Kte).between(0,c.doc.length,a=>{a==o&&(r=!0)}),r}function JP(c,o){let r=c.sliceString(o,o+2);return r.slice(0,Sb(Bf(r,0)))}function Lke(c,o){let r=c.sliceString(o-2,o);return Sb(Bf(r,0))==r.length?r:r.slice(1)}function Bke(c,o,r,a){let d=null,h=c.changeByRange(g=>{if(!g.empty)return{changes:[{insert:o,from:g.from},{insert:r,from:g.to}],effects:Lk.of(g.to+o.length),range:qt.range(g.anchor+o.length,g.head+o.length)};let x=JP(c.doc,g.head);return!x||/\s/.test(x)||a.indexOf(x)>-1?{changes:{insert:o+r,from:g.head},effects:Lk.of(g.head+o.length),range:qt.cursor(g.head+o.length)}:{range:d=g}});return d?null:c.update(h,{scrollIntoView:!0,userEvent:"input.type"})}function Pke(c,o,r){let a=null,d=c.changeByRange(h=>h.empty&&JP(c.doc,h.head)==r?{changes:{from:h.head,to:h.head+r.length,insert:r},range:qt.cursor(h.head+r.length)}:a={range:h});return a?null:c.update(d,{scrollIntoView:!0,userEvent:"input.type"})}function Ike(c,o,r,a){let d=a.stringPrefixes||ZO.stringPrefixes,h=null,g=c.changeByRange(x=>{if(!x.empty)return{changes:[{insert:o,from:x.from},{insert:o,from:x.to}],effects:Lk.of(x.to+o.length),range:qt.range(x.anchor+o.length,x.head+o.length)};let k=x.head,z=JP(c.doc,k),D;if(z==o){if(_X(c,k))return{changes:{insert:o+o,from:k},effects:Lk.of(k+o.length),range:qt.cursor(k+o.length)};if(Xte(c,k)){let K=r&&c.sliceDoc(k,k+o.length*3)==o+o+o?o+o+o:o;return{changes:{from:k,to:k+K.length,insert:K},range:qt.cursor(k+K.length)}}}else{if(r&&c.sliceDoc(k-2*o.length,k)==o+o&&(D=CX(c,k-2*o.length,d))>-1&&_X(c,D))return{changes:{insert:o+o+o+o,from:k},effects:Lk.of(k+o.length),range:qt.cursor(k+o.length)};if(c.charCategorizer(k)(z)!=ua.Word&&CX(c,k,d)>-1&&!Fke(c,k,o,d))return{changes:{insert:o+o,from:k},effects:Lk.of(k+o.length),range:qt.cursor(k+o.length)}}return{range:h=x}});return h?null:c.update(g,{scrollIntoView:!0,userEvent:"input.type"})}function _X(c,o){let r=$d(c).resolveInner(o+1);return r.parent&&r.from==o}function Fke(c,o,r,a){let d=$d(c).resolveInner(o,-1),h=a.reduce((g,x)=>Math.max(g,x.length),0);for(let g=0;g<5;g++){let x=c.sliceDoc(d.from,Math.min(d.to,d.from+r.length+h)),k=x.indexOf(r);if(!k||k>-1&&a.indexOf(x.slice(0,k))>-1){let D=d.firstChild;for(;D&&D.from==d.from&&D.to-D.from>r.length+k;){if(c.sliceDoc(D.to-r.length,D.to)==r)return!1;D=D.firstChild}return!0}let z=d.to==o&&d.parent;if(!z)break;d=z}return!1}function CX(c,o,r){let a=c.charCategorizer(o);if(a(c.sliceDoc(o-1,o))!=ua.Word)return o;for(let d of r){let h=o-d.length;if(c.sliceDoc(h,o)==d&&a(c.sliceDoc(h-1,h))!=ua.Word)return h}return-1}function Hke(c={}){return[Ake,If,wc.of(c),Ske,$ke,Tke]}const Qte=[{key:"Ctrl-Space",run:kX},{mac:"Alt-`",run:kX},{key:"Escape",run:wke},{key:"ArrowDown",run:PB(!0)},{key:"ArrowUp",run:PB(!1)},{key:"PageDown",run:PB(!0,"page")},{key:"PageUp",run:PB(!1,"page")},{key:"Enter",run:vke}],$ke=Gk.highest(sU.computeN([wc],c=>c.facet(wc).defaultKeymap?[Qte]:[]));class SX{constructor(o,r,a){this.from=o,this.to=r,this.diagnostic=a}}class Dk{constructor(o,r,a){this.diagnostics=o,this.panel=r,this.selected=a}static init(o,r,a){let d=a.facet(qO).markerFilter;d&&(o=d(o,a));let h=o.slice().sort((D,$)=>D.from-$.from||D.to-$.to),g=new qy,x=[],k=0;for(let D=0;;){let $=D==h.length?null:h[D];if(!$&&!x.length)break;let K,Y;for(x.length?(K=k,Y=x.reduce((ve,Ne)=>Math.min(ve,Ne.to),$&&$.from>K?$.from:1e8)):(K=$.from,Y=$.to,x.push($),D++);D<h.length;){let ve=h[D];if(ve.from==K&&(ve.to>ve.from||ve.to==K))x.push(ve),D++,Y=Math.min(ve.to,Y);else{Y=Math.min(ve.from,Y);break}}let ie=e_e(x);if(x.some(ve=>ve.from==ve.to||ve.from==ve.to-1&&a.doc.lineAt(ve.from).to==ve.from))g.add(K,K,qn.widget({widget:new Yke(ie),diagnostics:x.slice()}));else{let ve=x.reduce((Ne,ye)=>ye.markClass?Ne+" "+ye.markClass:Ne,"");g.add(K,Y,qn.mark({class:"cm-lintRange cm-lintRange-"+ie+ve,diagnostics:x.slice(),inclusiveEnd:x.some(Ne=>Ne.to>Y)}))}k=Y;for(let ve=0;ve<x.length;ve++)x[ve].to<=k&&x.splice(ve--,1)}let z=g.finish();return new Dk(z,r,oE(z))}}function oE(c,o=null,r=0){let a=null;return c.between(r,1e9,(d,h,{spec:g})=>{if(!(o&&g.diagnostics.indexOf(o)<0))if(!a)a=new SX(d,h,o||g.diagnostics[0]);else{if(g.diagnostics.indexOf(a.diagnostic)<0)return!1;a=new SX(a.from,h,a.diagnostic)}}),a}function Vke(c,o){let r=o.pos,a=o.end||r,d=c.state.facet(qO).hideOn(c,r,a);if(d!=null)return d;let h=c.startState.doc.lineAt(o.pos);return!!(c.effects.some(g=>g.is(Jte))||c.changes.touchesRange(h.from,Math.max(h.to,a)))}function jke(c,o){return c.field(Nh,!1)?o:o.concat(As.appendConfig.of(t_e))}const Jte=As.define(),CU=As.define(),eoe=As.define(),Nh=sd.define({create(){return new Dk(qn.none,null,null)},update(c,o){if(o.docChanged&&c.diagnostics.size){let r=c.diagnostics.map(o.changes),a=null,d=c.panel;if(c.selected){let h=o.changes.mapPos(c.selected.from,1);a=oE(r,c.selected.diagnostic,h)||oE(r,null,h)}!r.size&&d&&o.state.facet(qO).autoPanel&&(d=null),c=new Dk(r,d,a)}for(let r of o.effects)if(r.is(Jte)){let a=o.state.facet(qO).autoPanel?r.value.length?KO.open:null:c.panel;c=Dk.init(r.value,a,o.state)}else r.is(CU)?c=new Dk(c.diagnostics,r.value?KO.open:null,c.selected):r.is(eoe)&&(c=new Dk(c.diagnostics,c.panel,r.value));return c},provide:c=>[$O.from(c,o=>o.panel),Jo.decorations.from(c,o=>o.diagnostics)]}),Uke=qn.mark({class:"cm-lintRange cm-lintRange-active"});function Wke(c,o,r){let{diagnostics:a}=c.state.field(Nh),d,h=-1,g=-1;a.between(o-(r<0?1:0),o+(r>0?1:0),(k,z,{spec:D})=>{if(o>=k&&o<=z&&(k==z||(o>k||r>0)&&(o<z||r<0)))return d=D.diagnostics,h=k,g=z,!1});let x=c.state.facet(qO).tooltipFilter;return d&&x&&(d=x(d,c.state)),d?{pos:h,end:g,above:c.state.doc.lineAt(h).to<g,create(){return{dom:Zke(c,d)}}}:null}function Zke(c,o){return wi("ul",{class:"cm-tooltip-lint"},o.map(r=>ooe(c,r,!1)))}const qke=c=>{let o=c.state.field(Nh,!1);(!o||!o.panel)&&c.dispatch({effects:jke(c.state,[CU.of(!0)])});let r=HO(c,KO.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},EX=c=>{let o=c.state.field(Nh,!1);return!o||!o.panel?!1:(c.dispatch({effects:CU.of(!1)}),!0)},Kke=c=>{let o=c.state.field(Nh,!1);if(!o)return!1;let r=c.state.selection.main,a=o.diagnostics.iter(r.to+1);return!a.value&&(a=o.diagnostics.iter(0),!a.value||a.from==r.from&&a.to==r.to)?!1:(c.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0}),!0)},Gke=[{key:"Mod-Shift-m",run:qke,preventDefault:!0},{key:"F8",run:Kke}],qO=Yo.define({combine(c){return Object.assign({sources:c.map(o=>o.source).filter(o=>o!=null)},Rb(c.map(o=>o.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(o,r)=>o?r?a=>o(a)||r(a):o:r}))}});function toe(c){let o=[];if(c)e:for(let{name:r}of c){for(let a=0;a<r.length;a++){let d=r[a];if(/[a-zA-Z]/.test(d)&&!o.some(h=>h.toLowerCase()==d.toLowerCase())){o.push(d);continue e}}o.push("")}return o}function ooe(c,o,r){var a;let d=r?toe(o.actions):[];return wi("li",{class:"cm-diagnostic cm-diagnostic-"+o.severity},wi("span",{class:"cm-diagnosticText"},o.renderMessage?o.renderMessage(c):o.message),(a=o.actions)===null||a===void 0?void 0:a.map((h,g)=>{let x=!1,k=K=>{if(K.preventDefault(),x)return;x=!0;let Y=oE(c.state.field(Nh).diagnostics,o);Y&&h.apply(c,Y.from,Y.to)},{name:z}=h,D=d[g]?z.indexOf(d[g]):-1,$=D<0?z:[z.slice(0,D),wi("u",z.slice(D,D+1)),z.slice(D+1)];return wi("button",{type:"button",class:"cm-diagnosticAction",onclick:k,onmousedown:k,"aria-label":` Action: ${z}${D<0?"":` (access key "${d[g]})"`}.`},$)}),o.source&&wi("div",{class:"cm-diagnosticSource"},o.source))}class Yke extends Sv{constructor(o){super(),this.sev=o}eq(o){return o.sev==this.sev}toDOM(){return wi("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class AX{constructor(o,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=ooe(o,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class KO{constructor(o){this.view=o,this.items=[];let r=d=>{if(d.keyCode==27)EX(this.view),this.view.focus();else if(d.keyCode==38||d.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(d.keyCode==40||d.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(d.keyCode==36)this.moveSelection(0);else if(d.keyCode==35)this.moveSelection(this.items.length-1);else if(d.keyCode==13)this.view.focus();else if(d.keyCode>=65&&d.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:h}=this.items[this.selectedIndex],g=toe(h.actions);for(let x=0;x<g.length;x++)if(g[x].toUpperCase().charCodeAt(0)==d.keyCode){let k=oE(this.view.state.field(Nh).diagnostics,h);k&&h.actions[x].apply(o,k.from,k.to)}}else return;d.preventDefault()},a=d=>{for(let h=0;h<this.items.length;h++)this.items[h].dom.contains(d.target)&&this.moveSelection(h)};this.list=wi("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:a}),this.dom=wi("div",{class:"cm-panel-lint"},this.list,wi("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>EX(this.view)},"")),this.update()}get selectedIndex(){let o=this.view.state.field(Nh).selected;if(!o)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==o.diagnostic)return r;return-1}update(){let{diagnostics:o,selected:r}=this.view.state.field(Nh),a=0,d=!1,h=null,g=new Set;for(o.between(0,this.view.state.doc.length,(x,k,{spec:z})=>{for(let D of z.diagnostics){if(g.has(D))continue;g.add(D);let $=-1,K;for(let Y=a;Y<this.items.length;Y++)if(this.items[Y].diagnostic==D){$=Y;break}$<0?(K=new AX(this.view,D),this.items.splice(a,0,K),d=!0):(K=this.items[$],$>a&&(this.items.splice(a,$-a),d=!0)),r&&K.diagnostic==r.diagnostic?K.dom.hasAttribute("aria-selected")||(K.dom.setAttribute("aria-selected","true"),h=K):K.dom.hasAttribute("aria-selected")&&K.dom.removeAttribute("aria-selected"),a++}});a<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)d=!0,this.items.pop();this.items.length==0&&(this.items.push(new AX(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),d=!0),h?(this.list.setAttribute("aria-activedescendant",h.id),this.view.requestMeasure({key:this,read:()=>({sel:h.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:x,panel:k})=>{let z=k.height/this.list.offsetHeight;x.top<k.top?this.list.scrollTop-=(k.top-x.top)/z:x.bottom>k.bottom&&(this.list.scrollTop+=(x.bottom-k.bottom)/z)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),d&&this.sync()}sync(){let o=this.list.firstChild;function r(){let a=o;o=a.nextSibling,a.remove()}for(let a of this.items)if(a.dom.parentNode==this.list){for(;o!=a.dom;)r();o=a.dom.nextSibling}else this.list.insertBefore(a.dom,o);for(;o;)r()}moveSelection(o){if(this.selectedIndex<0)return;let r=this.view.state.field(Nh),a=oE(r.diagnostics,this.items[o].diagnostic);a&&this.view.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0,effects:eoe.of(a)})}static open(o){return new KO(o)}}function Xke(c,o='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${o}>${encodeURIComponent(c)}</svg>')`}function IB(c){return Xke(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${c}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Qke=Jo.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:IB("#d11")},".cm-lintRange-warning":{backgroundImage:IB("orange")},".cm-lintRange-info":{backgroundImage:IB("#999")},".cm-lintRange-hint":{backgroundImage:IB("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Jke(c){return c=="error"?4:c=="warning"?3:c=="info"?2:1}function e_e(c){let o="hint",r=1;for(let a of c){let d=Jke(a.severity);d>r&&(r=d,o=a.severity)}return o}const t_e=[Nh,Jo.decorations.compute([Nh],c=>{let{selected:o,panel:r}=c.field(Nh);return!o||!r||o.from==o.to?qn.none:qn.set([Uke.range(o.from,o.to)])}),q1e(Wke,{hideOn:Vke}),Qke],o_e=[sxe(),axe(),C1e(),Sve(),Xxe(),h1e(),y1e(),Cr.allowMultipleSelections.of(!0),Pxe(),Jxe(ove,{fallback:!0}),cve(),Oke(),Hke(),B1e(),F1e(),z1e(),Nwe(),sU.of([...Nke,...Awe,...Qwe,...Rve,...qxe,...Qte,...Gke])];var TX={};class zP{constructor(o,r,a,d,h,g,x,k,z,D=0,$){this.p=o,this.stack=r,this.state=a,this.reducePos=d,this.pos=h,this.score=g,this.buffer=x,this.bufferBase=k,this.curContext=z,this.lookAhead=D,this.parent=$}toString(){return`[${this.stack.filter((o,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(o,r,a=0){let d=o.parser.context;return new zP(o,[],r,a,a,0,[],0,d?new OX(d,d.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(o,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=o}reduce(o){var r;let a=o>>19,d=o&65535,{parser:h}=this.p,g=this.reducePos<this.pos-25;g&&this.setLookAhead(this.pos);let x=h.dynamicPrecedence(d);if(x&&(this.score+=x),a==0){this.pushState(h.getGoto(this.state,d,!0),this.reducePos),d<h.minRepeatTerm&&this.storeNode(d,this.reducePos,this.reducePos,g?8:4,!0),this.reduceContext(d,this.reducePos);return}let k=this.stack.length-(a-1)*3-(o&262144?6:0),z=k?this.stack[k-2]:this.p.ranges[0].from,D=this.reducePos-z;D>=2e3&&!(!((r=this.p.parser.nodeSet.types[d])===null||r===void 0)&&r.isAnonymous)&&(z==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=D):this.p.lastBigReductionSize<D&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=z,this.p.lastBigReductionSize=D));let $=k?this.stack[k-1]:0,K=this.bufferBase+this.buffer.length-$;if(d<h.minRepeatTerm||o&131072){let Y=h.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(d,z,Y,K+4,!0)}if(o&262144)this.state=this.stack[k];else{let Y=this.stack[k-3];this.state=h.getGoto(Y,d,!0)}for(;this.stack.length>k;)this.stack.pop();this.reduceContext(d,z)}storeNode(o,r,a,d=4,h=!1){if(o==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let g=this,x=this.buffer.length;if(x==0&&g.parent&&(x=g.bufferBase-g.parent.bufferBase,g=g.parent),x>0&&g.buffer[x-4]==0&&g.buffer[x-1]>-1){if(r==a)return;if(g.buffer[x-2]>=r){g.buffer[x-2]=a;return}}}if(!h||this.pos==a)this.buffer.push(o,r,a,d);else{let g=this.buffer.length;if(g>0&&this.buffer[g-4]!=0){let x=!1;for(let k=g;k>0&&this.buffer[k-2]>a;k-=4)if(this.buffer[k-1]>=0){x=!0;break}if(x)for(;g>0&&this.buffer[g-2]>a;)this.buffer[g]=this.buffer[g-4],this.buffer[g+1]=this.buffer[g-3],this.buffer[g+2]=this.buffer[g-2],this.buffer[g+3]=this.buffer[g-1],g-=4,d>4&&(d-=4)}this.buffer[g]=o,this.buffer[g+1]=r,this.buffer[g+2]=a,this.buffer[g+3]=d}}shift(o,r,a,d){if(o&131072)this.pushState(o&65535,this.pos);else if((o&262144)==0){let h=o,{parser:g}=this.p;(d>this.pos||r<=g.maxNode)&&(this.pos=d,g.stateFlag(h,1)||(this.reducePos=d)),this.pushState(h,a),this.shiftContext(r,a),r<=g.maxNode&&this.buffer.push(r,a,d,4)}else this.pos=d,this.shiftContext(r,a),r<=this.p.parser.maxNode&&this.buffer.push(r,a,d,4)}apply(o,r,a,d){o&65536?this.reduce(o):this.shift(o,r,a,d)}useNode(o,r){let a=this.p.reused.length-1;(a<0||this.p.reused[a]!=o)&&(this.p.reused.push(o),a++);let d=this.pos;this.reducePos=this.pos=d+o.length,this.pushState(r,d),this.buffer.push(a,d,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,o,this,this.p.stream.reset(this.pos-o.length)))}split(){let o=this,r=o.buffer.length;for(;r>0&&o.buffer[r-2]>o.reducePos;)r-=4;let a=o.buffer.slice(r),d=o.bufferBase+r;for(;o&&d==o.bufferBase;)o=o.parent;return new zP(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,a,d,this.curContext,this.lookAhead,o)}recoverByDelete(o,r){let a=o<=this.p.parser.maxNode;a&&this.storeNode(o,this.pos,r,4),this.storeNode(0,this.pos,r,a?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(o){for(let r=new n_e(this);;){let a=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,o);if(a==0)return!1;if((a&65536)==0)return!0;r.reduce(a)}}recoverByInsert(o){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let d=[];for(let h=0,g;h<r.length;h+=2)(g=r[h+1])!=this.state&&this.p.parser.hasAction(g,o)&&d.push(r[h],g);if(this.stack.length<120)for(let h=0;d.length<8&&h<r.length;h+=2){let g=r[h+1];d.some((x,k)=>k&1&&x==g)||d.push(r[h],g)}r=d}let a=[];for(let d=0;d<r.length&&a.length<4;d+=2){let h=r[d+1];if(h==this.state)continue;let g=this.split();g.pushState(h,this.pos),g.storeNode(0,g.pos,g.pos,4,!0),g.shiftContext(r[d],this.pos),g.reducePos=this.pos,g.score-=200,a.push(g)}return a}forceReduce(){let{parser:o}=this.p,r=o.stateSlot(this.state,5);if((r&65536)==0)return!1;if(!o.validAction(this.state,r)){let a=r>>19,d=r&65535,h=this.stack.length-a*3;if(h<0||o.getGoto(this.stack[h],d,!1)<0){let g=this.findForcedReduction();if(g==null)return!1;r=g}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:o}=this.p,r=[],a=(d,h)=>{if(!r.includes(d))return r.push(d),o.allActions(d,g=>{if(!(g&393216))if(g&65536){let x=(g>>19)-h;if(x>1){let k=g&65535,z=this.stack.length-x*3;if(z>=0&&o.getGoto(this.stack[z],k,!1)>=0)return x<<19|65536|k}}else{let x=a(g,h+1);if(x!=null)return x}})};return a(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:o}=this.p;return o.data[o.stateSlot(this.state,1)]==65535&&!o.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(o){if(this.state!=o.state||this.stack.length!=o.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=o.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(o){return this.p.parser.dialect.flags[o]}shiftContext(o,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,o,this,this.p.stream.reset(r)))}reduceContext(o,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,o,this,this.p.stream.reset(r)))}emitContext(){let o=this.buffer.length-1;(o<0||this.buffer[o]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let o=this.buffer.length-1;(o<0||this.buffer[o]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(o){if(o!=this.curContext.context){let r=new OX(this.curContext.tracker,o);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(o){o>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=o)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class OX{constructor(o,r){this.tracker=o,this.context=r,this.hash=o.strict?o.hash(r):0}}class n_e{constructor(o){this.start=o,this.state=o.state,this.stack=o.stack,this.base=this.stack.length}reduce(o){let r=o&65535,a=o>>19;a==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(a-1)*3;let d=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=d}}class DP{constructor(o,r,a){this.stack=o,this.pos=r,this.index=a,this.buffer=o.buffer,this.index==0&&this.maybeNext()}static create(o,r=o.bufferBase+o.buffer.length){return new DP(o,r,r-o.bufferBase)}maybeNext(){let o=this.stack.parent;o!=null&&(this.index=this.stack.bufferBase-o.bufferBase,this.stack=o,this.buffer=o.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new DP(this.stack,this.pos,this.index)}}function FB(c,o=Uint16Array){if(typeof c!="string")return c;let r=null;for(let a=0,d=0;a<c.length;){let h=0;for(;;){let g=c.charCodeAt(a++),x=!1;if(g==126){h=65535;break}g>=92&&g--,g>=34&&g--;let k=g-32;if(k>=46&&(k-=46,x=!0),h+=k,x)break;h*=46}r?r[d++]=h:r=new o(h)}return r}class tP{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const zX=new tP;class s_e{constructor(o,r){this.input=o,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=zX,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(o,r){let a=this.range,d=this.rangeIndex,h=this.pos+o;for(;h<a.from;){if(!d)return null;let g=this.ranges[--d];h-=a.from-g.to,a=g}for(;r<0?h>a.to:h>=a.to;){if(d==this.ranges.length-1)return null;let g=this.ranges[++d];h+=g.from-a.to,a=g}return h}clipPos(o){if(o>=this.range.from&&o<this.range.to)return o;for(let r of this.ranges)if(r.to>o)return Math.max(o,r.from);return this.end}peek(o){let r=this.chunkOff+o,a,d;if(r>=0&&r<this.chunk.length)a=this.pos+o,d=this.chunk.charCodeAt(r);else{let h=this.resolveOffset(o,1);if(h==null)return-1;if(a=h,a>=this.chunk2Pos&&a<this.chunk2Pos+this.chunk2.length)d=this.chunk2.charCodeAt(a-this.chunk2Pos);else{let g=this.rangeIndex,x=this.range;for(;x.to<=a;)x=this.ranges[++g];this.chunk2=this.input.chunk(this.chunk2Pos=a),a+this.chunk2.length>x.to&&(this.chunk2=this.chunk2.slice(0,x.to-a)),d=this.chunk2.charCodeAt(0)}}return a>=this.token.lookAhead&&(this.token.lookAhead=a+1),d}acceptToken(o,r=0){let a=r?this.resolveOffset(r,-1):this.pos;if(a==null||a<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=o,this.token.end=a}acceptTokenTo(o,r){this.token.value=o,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:o,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=o,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let o=this.input.chunk(this.pos),r=this.pos+o.length;this.chunk=r>this.range.to?o.slice(0,this.range.to-this.pos):o,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(o=1){for(this.chunkOff+=o;this.pos+o>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();o-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=o,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(o,r){if(r?(this.token=r,r.start=o,r.lookAhead=o+1,r.value=r.extended=-1):this.token=zX,this.pos!=o){if(this.pos=o,o==this.end)return this.setDone(),this;for(;o<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;o>=this.range.to;)this.range=this.ranges[++this.rangeIndex];o>=this.chunkPos&&o<this.chunkPos+this.chunk.length?this.chunkOff=o-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(o,r){if(o>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(o-this.chunkPos,r-this.chunkPos);if(o>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(o-this.chunk2Pos,r-this.chunk2Pos);if(o>=this.range.from&&r<=this.range.to)return this.input.read(o,r);let a="";for(let d of this.ranges){if(d.from>=r)break;d.to>o&&(a+=this.input.read(Math.max(d.from,o),Math.min(d.to,r)))}return a}}class jS{constructor(o,r){this.data=o,this.id=r}token(o,r){let{parser:a}=r.p;r_e(this.data,o,r,this.id,a.data,a.tokenPrecTable)}}jS.prototype.contextual=jS.prototype.fallback=jS.prototype.extend=!1;jS.prototype.fallback=jS.prototype.extend=!1;function r_e(c,o,r,a,d,h){let g=0,x=1<<a,{dialect:k}=r.p.parser;e:for(;(x&c[g])!=0;){let z=c[g+1];for(let Y=g+3;Y<z;Y+=2)if((c[Y+1]&x)>0){let ie=c[Y];if(k.allows(ie)&&(o.token.value==-1||o.token.value==ie||i_e(ie,o.token.value,d,h))){o.acceptToken(ie);break}}let D=o.next,$=0,K=c[g+2];if(o.next<0&&K>$&&c[z+K*3-3]==65535){g=c[z+K*3-1];continue e}for(;$<K;){let Y=$+K>>1,ie=z+Y+(Y<<1),ve=c[ie],Ne=c[ie+1]||65536;if(D<ve)K=Y;else if(D>=Ne)$=Y+1;else{g=c[ie+2],o.advance();continue e}}break}}function DX(c,o,r){for(let a=o,d;(d=c[a])!=65535;a++)if(d==r)return a-o;return-1}function i_e(c,o,r,a){let d=DX(r,a,o);return d<0||DX(r,a,c)<d}const Dh=typeof process<"u"&&TX&&/\bparse\b/.test(TX.LOG);let _V=null;function MX(c,o,r){let a=c.cursor(vc.IncludeAnonymous);for(a.moveTo(o);;)if(!(r<0?a.childBefore(o):a.childAfter(o)))for(;;){if((r<0?a.to<o:a.from>o)&&!a.type.isError)return r<0?Math.max(0,Math.min(a.to-1,o-25)):Math.min(c.length,Math.max(a.from+1,o+25));if(r<0?a.prevSibling():a.nextSibling())break;if(!a.parent())return r<0?0:c.length}}class a_e{constructor(o,r){this.fragments=o,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let o=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(o){for(this.safeFrom=o.openStart?MX(o.tree,o.from+o.offset,1)-o.offset:o.from,this.safeTo=o.openEnd?MX(o.tree,o.to+o.offset,-1)-o.offset:o.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(o.tree),this.start.push(-o.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(o){if(o<this.nextStart)return null;for(;this.fragment&&this.safeTo<=o;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let a=this.trees[r],d=this.index[r];if(d==a.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let h=a.children[d],g=this.start[r]+a.positions[d];if(g>o)return this.nextStart=g,null;if(h instanceof El){if(g==o){if(g<this.safeFrom)return null;let x=g+h.length;if(x<=this.safeTo){let k=h.prop(js.lookAhead);if(!k||x+k<this.fragment.to)return h}}this.index[r]++,g+h.length>=Math.max(this.safeFrom,o)&&(this.trees.push(h),this.start.push(g),this.index.push(0))}else this.index[r]++,this.nextStart=g+h.length}}}class l_e{constructor(o,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=o.tokenizers.map(a=>new tP)}getActions(o){let r=0,a=null,{parser:d}=o.p,{tokenizers:h}=d,g=d.stateSlot(o.state,3),x=o.curContext?o.curContext.hash:0,k=0;for(let z=0;z<h.length;z++){if((1<<z&g)==0)continue;let D=h[z],$=this.tokens[z];if(!(a&&!D.fallback)&&((D.contextual||$.start!=o.pos||$.mask!=g||$.context!=x)&&(this.updateCachedToken($,D,o),$.mask=g,$.context=x),$.lookAhead>$.end+25&&(k=Math.max($.lookAhead,k)),$.value!=0)){let K=r;if($.extended>-1&&(r=this.addActions(o,$.extended,$.end,r)),r=this.addActions(o,$.value,$.end,r),!D.extend&&(a=$,r>K))break}}for(;this.actions.length>r;)this.actions.pop();return k&&o.setLookAhead(k),!a&&o.pos==this.stream.end&&(a=new tP,a.value=o.p.parser.eofTerm,a.start=a.end=o.pos,r=this.addActions(o,a.value,a.end,r)),this.mainToken=a,this.actions}getMainToken(o){if(this.mainToken)return this.mainToken;let r=new tP,{pos:a,p:d}=o;return r.start=a,r.end=Math.min(a+1,d.stream.end),r.value=a==d.stream.end?d.parser.eofTerm:0,r}updateCachedToken(o,r,a){let d=this.stream.clipPos(a.pos);if(r.token(this.stream.reset(d,o),a),o.value>-1){let{parser:h}=a.p;for(let g=0;g<h.specialized.length;g++)if(h.specialized[g]==o.value){let x=h.specializers[g](this.stream.read(o.start,o.end),a);if(x>=0&&a.p.parser.dialect.allows(x>>1)){(x&1)==0?o.value=x>>1:o.extended=x>>1;break}}}else o.value=0,o.end=this.stream.clipPos(d+1)}putAction(o,r,a,d){for(let h=0;h<d;h+=3)if(this.actions[h]==o)return d;return this.actions[d++]=o,this.actions[d++]=r,this.actions[d++]=a,d}addActions(o,r,a,d){let{state:h}=o,{parser:g}=o.p,{data:x}=g;for(let k=0;k<2;k++)for(let z=g.stateSlot(h,k?2:1);;z+=3){if(x[z]==65535)if(x[z+1]==1)z=$y(x,z+2);else{d==0&&x[z+1]==2&&(d=this.putAction($y(x,z+2),r,a,d));break}x[z]==r&&(d=this.putAction($y(x,z+1),r,a,d))}return d}}class c_e{constructor(o,r,a,d){this.parser=o,this.input=r,this.ranges=d,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new s_e(r,d),this.tokens=new l_e(o,this.stream),this.topTerm=o.top[1];let{from:h}=d[0];this.stacks=[zP.start(this,o.top[0],h)],this.fragments=a.length&&this.stream.end-h>o.bufferLength*4?new a_e(a,o.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let o=this.stacks,r=this.minStackPos,a=this.stacks=[],d,h;if(this.bigReductionCount>300&&o.length==1){let[g]=o;for(;g.forceReduce()&&g.stack.length&&g.stack[g.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let g=0;g<o.length;g++){let x=o[g];for(;;){if(this.tokens.mainToken=null,x.pos>r)a.push(x);else{if(this.advanceStack(x,a,o))continue;{d||(d=[],h=[]),d.push(x);let k=this.tokens.getMainToken(x);h.push(k.value,k.end)}}break}}if(!a.length){let g=d&&u_e(d);if(g)return Dh&&console.log("Finish with "+this.stackID(g)),this.stackToTree(g);if(this.parser.strict)throw Dh&&d&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&d){let g=this.stoppedAt!=null&&d[0].pos>this.stoppedAt?d[0]:this.runRecovery(d,h,a);if(g)return Dh&&console.log("Force-finish "+this.stackID(g)),this.stackToTree(g.forceAll())}if(this.recovering){let g=this.recovering==1?1:this.recovering*3;if(a.length>g)for(a.sort((x,k)=>k.score-x.score);a.length>g;)a.pop();a.some(x=>x.reducePos>r)&&this.recovering--}else if(a.length>1){e:for(let g=0;g<a.length-1;g++){let x=a[g];for(let k=g+1;k<a.length;k++){let z=a[k];if(x.sameState(z)||x.buffer.length>500&&z.buffer.length>500)if((x.score-z.score||x.buffer.length-z.buffer.length)>0)a.splice(k--,1);else{a.splice(g--,1);continue e}}}a.length>12&&a.splice(12,a.length-12)}this.minStackPos=a[0].pos;for(let g=1;g<a.length;g++)a[g].pos<this.minStackPos&&(this.minStackPos=a[g].pos);return null}stopAt(o){if(this.stoppedAt!=null&&this.stoppedAt<o)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=o}advanceStack(o,r,a){let d=o.pos,{parser:h}=this,g=Dh?this.stackID(o)+" -> ":"";if(this.stoppedAt!=null&&d>this.stoppedAt)return o.forceReduce()?o:null;if(this.fragments){let z=o.curContext&&o.curContext.tracker.strict,D=z?o.curContext.hash:0;for(let $=this.fragments.nodeAt(d);$;){let K=this.parser.nodeSet.types[$.type.id]==$.type?h.getGoto(o.state,$.type.id):-1;if(K>-1&&$.length&&(!z||($.prop(js.contextHash)||0)==D))return o.useNode($,K),Dh&&console.log(g+this.stackID(o)+` (via reuse of ${h.getName($.type.id)})`),!0;if(!($ instanceof El)||$.children.length==0||$.positions[0]>0)break;let Y=$.children[0];if(Y instanceof El&&$.positions[0]==0)$=Y;else break}}let x=h.stateSlot(o.state,4);if(x>0)return o.reduce(x),Dh&&console.log(g+this.stackID(o)+` (via always-reduce ${h.getName(x&65535)})`),!0;if(o.stack.length>=8400)for(;o.stack.length>6e3&&o.forceReduce(););let k=this.tokens.getActions(o);for(let z=0;z<k.length;){let D=k[z++],$=k[z++],K=k[z++],Y=z==k.length||!a,ie=Y?o:o.split(),ve=this.tokens.mainToken;if(ie.apply(D,$,ve?ve.start:ie.pos,K),Dh&&console.log(g+this.stackID(ie)+` (via ${(D&65536)==0?"shift":`reduce of ${h.getName(D&65535)}`} for ${h.getName($)} @ ${d}${ie==o?"":", split"})`),Y)return!0;ie.pos>d?r.push(ie):a.push(ie)}return!1}advanceFully(o,r){let a=o.pos;for(;;){if(!this.advanceStack(o,null,null))return!1;if(o.pos>a)return NX(o,r),!0}}runRecovery(o,r,a){let d=null,h=!1;for(let g=0;g<o.length;g++){let x=o[g],k=r[g<<1],z=r[(g<<1)+1],D=Dh?this.stackID(x)+" -> ":"";if(x.deadEnd&&(h||(h=!0,x.restart(),Dh&&console.log(D+this.stackID(x)+" (restarted)"),this.advanceFully(x,a))))continue;let $=x.split(),K=D;for(let Y=0;$.forceReduce()&&Y<10&&(Dh&&console.log(K+this.stackID($)+" (via force-reduce)"),!this.advanceFully($,a));Y++)Dh&&(K=this.stackID($)+" -> ");for(let Y of x.recoverByInsert(k))Dh&&console.log(D+this.stackID(Y)+" (via recover-insert)"),this.advanceFully(Y,a);this.stream.end>x.pos?(z==x.pos&&(z++,k=0),x.recoverByDelete(k,z),Dh&&console.log(D+this.stackID(x)+` (via recover-delete ${this.parser.getName(k)})`),NX(x,a)):(!d||d.score<x.score)&&(d=x)}return d}stackToTree(o){return o.close(),El.build({buffer:DP.create(o),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:o.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(o){let r=(_V||(_V=new WeakMap)).get(o);return r||_V.set(o,r=String.fromCodePoint(this.nextStackID++)),r+o}}function NX(c,o){for(let r=0;r<o.length;r++){let a=o[r];if(a.pos==c.pos&&a.sameState(c)){o[r].score<c.score&&(o[r]=c);return}}o.push(c)}class d_e{constructor(o,r,a){this.source=o,this.flags=r,this.disabled=a}allows(o){return!this.disabled||this.disabled[o]==0}}class MP extends Fee{constructor(o){if(super(),this.wrappers=[],o.version!=14)throw new RangeError(`Parser version (${o.version}) doesn't match runtime version (14)`);let r=o.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let x=0;x<o.repeatNodeCount;x++)r.push("");let a=Object.keys(o.topRules).map(x=>o.topRules[x][1]),d=[];for(let x=0;x<r.length;x++)d.push([]);function h(x,k,z){d[x].push([k,k.deserialize(String(z))])}if(o.nodeProps)for(let x of o.nodeProps){let k=x[0];typeof k=="string"&&(k=js[k]);for(let z=1;z<x.length;){let D=x[z++];if(D>=0)h(D,k,x[z++]);else{let $=x[z+-D];for(let K=-D;K>0;K--)h(x[z++],k,$);z++}}}this.nodeSet=new aU(r.map((x,k)=>Vf.define({name:k>=this.minRepeatTerm?void 0:x,id:k,props:d[k],top:a.indexOf(k)>-1,error:k==0,skipped:o.skippedNodes&&o.skippedNodes.indexOf(k)>-1}))),o.propSources&&(this.nodeSet=this.nodeSet.extend(...o.propSources)),this.strict=!1,this.bufferLength=Lee;let g=FB(o.tokenData);this.context=o.context,this.specializerSpecs=o.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let x=0;x<this.specializerSpecs.length;x++)this.specialized[x]=this.specializerSpecs[x].term;this.specializers=this.specializerSpecs.map(RX),this.states=FB(o.states,Uint32Array),this.data=FB(o.stateData),this.goto=FB(o.goto),this.maxTerm=o.maxTerm,this.tokenizers=o.tokenizers.map(x=>typeof x=="number"?new jS(g,x):x),this.topRules=o.topRules,this.dialects=o.dialects||{},this.dynamicPrecedences=o.dynamicPrecedences||null,this.tokenPrecTable=o.tokenPrec,this.termNames=o.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(o,r,a){let d=new c_e(this,o,r,a);for(let h of this.wrappers)d=h(d,o,r,a);return d}getGoto(o,r,a=!1){let d=this.goto;if(r>=d[0])return-1;for(let h=d[r+1];;){let g=d[h++],x=g&1,k=d[h++];if(x&&a)return k;for(let z=h+(g>>1);h<z;h++)if(d[h]==o)return k;if(x)return-1}}hasAction(o,r){let a=this.data;for(let d=0;d<2;d++)for(let h=this.stateSlot(o,d?2:1),g;;h+=3){if((g=a[h])==65535)if(a[h+1]==1)g=a[h=$y(a,h+2)];else{if(a[h+1]==2)return $y(a,h+2);break}if(g==r||g==0)return $y(a,h+1)}return 0}stateSlot(o,r){return this.states[o*6+r]}stateFlag(o,r){return(this.stateSlot(o,0)&r)>0}validAction(o,r){return!!this.allActions(o,a=>a==r?!0:null)}allActions(o,r){let a=this.stateSlot(o,4),d=a?r(a):void 0;for(let h=this.stateSlot(o,1);d==null;h+=3){if(this.data[h]==65535)if(this.data[h+1]==1)h=$y(this.data,h+2);else break;d=r($y(this.data,h+1))}return d}nextStates(o){let r=[];for(let a=this.stateSlot(o,1);;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=$y(this.data,a+2);else break;if((this.data[a+2]&1)==0){let d=this.data[a+1];r.some((h,g)=>g&1&&h==d)||r.push(this.data[a],d)}}return r}configure(o){let r=Object.assign(Object.create(MP.prototype),this);if(o.props&&(r.nodeSet=this.nodeSet.extend(...o.props)),o.top){let a=this.topRules[o.top];if(!a)throw new RangeError(`Invalid top rule name ${o.top}`);r.top=a}return o.tokenizers&&(r.tokenizers=this.tokenizers.map(a=>{let d=o.tokenizers.find(h=>h.from==a);return d?d.to:a})),o.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((a,d)=>{let h=o.specializers.find(x=>x.from==a.external);if(!h)return a;let g=Object.assign(Object.assign({},a),{external:h.to});return r.specializers[d]=RX(g),g})),o.contextTracker&&(r.context=o.contextTracker),o.dialect&&(r.dialect=this.parseDialect(o.dialect)),o.strict!=null&&(r.strict=o.strict),o.wrap&&(r.wrappers=r.wrappers.concat(o.wrap)),o.bufferLength!=null&&(r.bufferLength=o.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(o){return this.termNames?this.termNames[o]:String(o<=this.maxNode&&this.nodeSet.types[o].name||o)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(o){let r=this.dynamicPrecedences;return r==null?0:r[o]||0}parseDialect(o){let r=Object.keys(this.dialects),a=r.map(()=>!1);if(o)for(let h of o.split(" ")){let g=r.indexOf(h);g>=0&&(a[g]=!0)}let d=null;for(let h=0;h<r.length;h++)if(!a[h])for(let g=this.dialects[r[h]],x;(x=this.data[g++])!=65535;)(d||(d=new Uint8Array(this.maxTerm+1)))[x]=1;return new d_e(o,a,d)}static deserialize(o){return new MP(o)}}function $y(c,o){return c[o]|c[o+1]<<16}function u_e(c){let o=null;for(let r of c){let a=r.p.stoppedAt;(r.pos==r.p.stream.end||a!=null&&r.pos>a)&&r.p.parser.stateFlag(r.state,2)&&(!o||o.score<r.score)&&(o=r)}return o}function RX(c){if(c.external){let o=c.extend?1:0;return(r,a)=>c.external(r,a)<<1|o}return c.get}const f_e=Hee({String:So.string,Number:So.number,"True False":So.bool,PropertyName:So.propertyName,Null:So.null,", :":So.separator,"[ ]":So.squareBracket,"{ }":So.brace}),h_e=MP.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[f_e],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),p_e=bP.define({name:"json",parser:h_e.configure({props:[Uee.add({Object:QY({except:/^\s*\}/}),Array:QY({except:/^\s*\]/})}),Zee.add({"Object Array":Fxe})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function m_e(){return new Axe(p_e)}class LX{constructor(o,r={}){let a={placeholder:"Select item(s)",max:null,search:!0,selectAll:!0,listAll:!0,closeListOnItemSelect:!1,name:"",width:"",height:"",dropdownWidth:"",dropdownHeight:"",data:[],onChange:function(){},onSelect:function(){},onUnselect:function(){}};this.options=Object.assign(a,r),this.selectElement=typeof o=="string"?document.querySelector(o):o;for(const d in this.selectElement.dataset)this.options[d]!==void 0&&(this.options[d]=this.selectElement.dataset[d]);if(this.name=this.selectElement.getAttribute("name")?this.selectElement.getAttribute("name"):"multi-select-"+Math.floor(Math.random()*1e6),!this.options.data.length){let d=this.selectElement.querySelectorAll("option");for(let h=0;h<d.length;h++)this.options.data.push({value:d[h].value,text:d[h].innerHTML,selected:d[h].selected,html:d[h].getAttribute("data-html")})}this.element=this._template(),this.selectElement.replaceWith(this.element),this._updateSelected(),this._eventHandlers()}_template(){let o="";for(let h=0;h<this.data.length;h++)o+=`
                <div class="multi-select-option${this.selectedValues.includes(this.data[h].value)?" multi-select-selected":""}" data-value="${this.data[h].value}">
                    <span class="multi-select-option-radio"></span>
                    <span class="multi-select-option-text">${this.data[h].html?this.data[h].html:this.data[h].text}</span>
                </div>
            `;let r="";(this.options.selectAll===!0||this.options.selectAll==="true")&&(r=`<div class="multi-select-all">
                <span class="multi-select-option-radio"></span>
                <span class="multi-select-option-text">Select all</span>
            </div>`);let a=`
            <div class="multi-select ${this.name}"${this.selectElement.id?' id="'+this.selectElement.id+'"':""} style="${this.width?"width:"+this.width+";":""}${this.height?"height:"+this.height+";":""}">
                ${this.selectedValues.map(h=>`<input type="hidden" name="${this.name}[]" value="${h}">`).join("")}
                <div class="multi-select-header" style="${this.width?"width:"+this.width+";":""}${this.height?"height:"+this.height+";":""}">
                    <span class="multi-select-header-max">${this.options.max?this.selectedValues.length+"/"+this.options.max:""}</span>
                    <span class="multi-select-header-placeholder">${this.placeholder}</span>
                </div>
                <div class="multi-select-options" style="${this.options.dropdownWidth?"width:"+this.options.dropdownWidth+";":""}${this.options.dropdownHeight?"height:"+this.options.dropdownHeight+";":""}">
                    ${this.options.search===!0||this.options.search==="true"?'<input type="text" class="multi-select-search" placeholder="Search...">':""}
                    ${r}
                    ${o}
                </div>
            </div>
        `,d=document.createElement("div");return d.innerHTML=a,d}_eventHandlers(){let o=this.element.querySelector(".multi-select-header");if(this.element.querySelectorAll(".multi-select-option").forEach(r=>{r.onclick=()=>{let a=!0;if(r.classList.contains("multi-select-selected"))r.classList.remove("multi-select-selected"),this.element.querySelectorAll(".multi-select-header-option").forEach(d=>d.dataset.value==r.dataset.value?d.remove():""),this.element.querySelector(`input[value="${r.dataset.value}"]`).remove(),this.data.filter(d=>d.value==r.dataset.value)[0].selected=!1,a=!1;else{if(this.options.max&&this.selectedValues.length>=this.options.max)return;r.classList.add("multi-select-selected"),(this.options.listAll===!0||this.options.listAll==="true")&&(this.element.querySelector(".multi-select-header-option")?Array.from(this.element.querySelectorAll(".multi-select-header-option")).pop().insertAdjacentHTML("afterend",`<span class="multi-select-header-option" data-value="${r.dataset.value}">${r.querySelector(".multi-select-option-text").innerHTML}</span>`):o.insertAdjacentHTML("afterbegin",`<span class="multi-select-header-option" data-value="${r.dataset.value}">${r.querySelector(".multi-select-option-text").innerHTML}</span>`)),this.element.querySelector(".multi-select").insertAdjacentHTML("afterbegin",`<input type="hidden" name="${this.name}[]" value="${r.dataset.value}">`),this.data.filter(d=>d.value==r.dataset.value)[0].selected=!0}(this.options.listAll===!1||this.options.listAll==="false")&&(this.element.querySelector(".multi-select-header-option")&&this.element.querySelector(".multi-select-header-option").remove(),o.insertAdjacentHTML("afterbegin",`<span class="multi-select-header-option">${this.selectedValues.length} selected</span>`)),this.element.querySelector(".multi-select-header-option")?this.element.querySelector(".multi-select-header-placeholder")&&this.element.querySelector(".multi-select-header-placeholder").remove():o.insertAdjacentHTML("afterbegin",`<span class="multi-select-header-placeholder">${this.placeholder}</span>`),this.options.max&&(this.element.querySelector(".multi-select-header-max").innerHTML=this.selectedValues.length+"/"+this.options.max),(this.options.search===!0||this.options.search==="true")&&(this.element.querySelector(".multi-select-search").value=""),this.element.querySelectorAll(".multi-select-option").forEach(d=>d.style.display="flex"),(this.options.closeListOnItemSelect===!0||this.options.closeListOnItemSelect==="true")&&o.classList.remove("multi-select-header-active"),this.options.onChange(r.dataset.value,r.querySelector(".multi-select-option-text").innerHTML,r),a?this.options.onSelect(r.dataset.value,r.querySelector(".multi-select-option-text").innerHTML,r):this.options.onUnselect(r.dataset.value,r.querySelector(".multi-select-option-text").innerHTML,r)}}),o.onclick=()=>o.classList.toggle("multi-select-header-active"),this.options.search===!0||this.options.search==="true"){let r=this.element.querySelector(".multi-select-search");r.oninput=()=>{this.element.querySelectorAll(".multi-select-option").forEach(a=>{a.style.display=a.querySelector(".multi-select-option-text").innerHTML.toLowerCase().indexOf(r.value.toLowerCase())>-1?"flex":"none"})}}if(this.options.selectAll===!0||this.options.selectAll==="true"){let r=this.element.querySelector(".multi-select-all");r.onclick=()=>{let a=r.classList.contains("multi-select-selected");this.element.querySelectorAll(".multi-select-option").forEach(d=>{let h=this.data.find(g=>g.value==d.dataset.value);h&&(a&&h.selected||!a&&!h.selected)&&d.click()}),r.classList.toggle("multi-select-selected")}}this.selectElement.id&&document.querySelector('label[for="'+this.selectElement.id+'"]')&&(document.querySelector('label[for="'+this.selectElement.id+'"]').onclick=()=>{o.classList.toggle("multi-select-header-active")}),document.addEventListener("click",r=>{!r.target.closest("."+this.name)&&!r.target.closest('label[for="'+this.selectElement.id+'"]')&&o.classList.remove("multi-select-header-active")})}_updateSelected(){this.options.listAll===!0||this.options.listAll==="true"?this.element.querySelectorAll(".multi-select-option").forEach(o=>{o.classList.contains("multi-select-selected")&&this.element.querySelector(".multi-select-header").insertAdjacentHTML("afterbegin",`<span class="multi-select-header-option" data-value="${o.dataset.value}">${o.querySelector(".multi-select-option-text").innerHTML}</span>`)}):this.selectedValues.length>0&&this.element.querySelector(".multi-select-header").insertAdjacentHTML("afterbegin",`<span class="multi-select-header-option">${this.selectedValues.length} selected</span>`),this.element.querySelector(".multi-select-header-option")&&this.element.querySelector(".multi-select-header-placeholder").remove()}get selectedValues(){return this.data.filter(o=>o.selected).map(o=>o.value)}get selectedItems(){return this.data.filter(o=>o.selected)}set data(o){this.options.data=o}get data(){return this.options.data}set selectElement(o){this.options.selectElement=o}get selectElement(){return this.options.selectElement}set element(o){this.options.element=o}get element(){return this.options.element}set placeholder(o){this.options.placeholder=o}get placeholder(){return this.options.placeholder}set name(o){o.endsWith("[]")&&(o=o.slice(0,-2)),this.options.name=o}get name(){return this.options.name}set width(o){this.options.width=o}get width(){return this.options.width}set height(o){this.options.height=o}get height(){return this.options.height}}function g_e(){document.querySelectorAll("[data-multi-select]:not([data-tooltip-initialized])").forEach(c=>{new LX(c),c.setAttribute("data-tooltip-initialized","true")}),document.querySelectorAll("select.multi-select:not([data-tooltip-initialized])").forEach(c=>{new LX(c),c.setAttribute("data-tooltip-initialized","true")})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('[data-toggle="systemModal"]').forEach(function(r){r.addEventListener("click",function(a){a.preventDefault()})}),Rh.addEventListener("success",function(r){r.detail.payload&&("modalTitle"in r.detail.payload&&c(r.detail.payload.modalTitle),"modalBody"in r.detail.payload&&o(r.detail.payload.modalBody))}),Rh.addEventListener("error",function(r){c(""),o(`<div class="alert alert-danger">Can't load the content - Internal server error</div>`),console.error("Error loading modal content:",r.detail)}),Rh.addEventListener("complete",function(r){const a=document.getElementById("systemModal"),d=mv.getOrCreateInstance(a);r.detail.payload&&"closeModal"in r.detail.payload&&r.detail.payload.closeModal?d.hide():r.detail.payload&&("modalTitle"in r.detail.payload||"modalBody"in r.detail.payload||"openModal"in r.detail.payload&&r.detail.payload.openModal)&&(aJ(),document.querySelectorAll(".dual-listbox").forEach(function(h){lJ(h,{enable_search:!0,search_placeholder:"Search...",non_selected_header:"Available items",selected_header:"Selected items",hide_empty_groups:!0})}),document.querySelectorAll(".codemirror-json").forEach(function(h){let g=new Jo({doc:h.value,extensions:[o_e,m_e()]});h.parentNode.insertBefore(g.dom,h),h.style.display="none",h.form&&h.form.addEventListener("submit",()=>{h.value=g.state.doc.toString()})}),g_e(),d.show())});function c(r){document.querySelector("#systemModal .modal-title").innerHTML=r}function o(r){document.querySelector("#systemModal .modal-body").innerHTML=r}});document.addEventListener("DOMContentLoaded",function(){Rh.uiHandler.addEventListener("interaction",c=>{const{element:o}=c.detail,r=o.dataset.confirm;r&&!window.confirm(r)&&c.preventDefault()})});Rh.addEventListener("complete",function(c){noe()});Rh.addEventListener("error",function(c){console.warn("AJAX error:"),console.warn(c.detail.error.message),b_e("An error occurred during the request. Please try it again later.","danger")});function noe(){[...document.querySelectorAll(".flash-toast")].map(o=>new ez(o,{}).show())}function b_e(c,o="info"){const r=document.querySelector(".toast-container");if(!r){console.warn("Toast container not found!");return}const a=document.createElement("div");a.className=`toast flash-toast align-items-center text-bg-${o} border-0`,a.setAttribute("role","alert"),a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),a.innerHTML=`
        <div class="d-flex">
            <div class="toast-body">
                ${c}
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    `,r.appendChild(a)}Rh.addEventListener("complete",function(c){soe()});function soe(){const c=document.querySelectorAll('[data-bs-toggle="tooltip"]:not([data-tooltip-initialized])');[...c].map(o=>new qk(o)),c.forEach(o=>{o.setAttribute("data-tooltip-initialized","true")})}document.addEventListener("DOMContentLoaded",function(){Rh.addEventListener("before",c=>{if(c.detail.url.includes("do=changePage")){const o=document.getElementById("loader-overlay");o&&(o.style.display="flex")}}),Rh.addEventListener("success",async function(c){if(c.detail.payload&&report!==void 0&&"activePageData"in c.detail.payload){let o=c.detail.payload.activePageData,r=await report.getActivePage(),a=await report.getPageByName(o.page);if(o.filters!==null&&o.filters!==""){let d=JSON.parse(o.filters);await a.updateFilters(models.FiltersOperations.ReplaceAll,d)}if(r.name!==a.name&&await report.setPage(a.name),o.slicers!==null&&o.slicers!==""){let d=JSON.parse(o.slicers);await setDefaultSlicersForPage(d,a.name)}}})});document.addEventListener("DOMContentLoaded",function(){Rh.addEventListener("success",async function(c){if(c.detail.payload&&c.detail.payload.resetFilters===!0){console.log("Resetting report page filters...");let o=c.detail.payload.activePageData;if(report!==void 0&&"activePageData"in c.detail.payload){let r=await report.getPageByName(o.page);if(o.slicers!==null&&o.slicers!==""){let a=JSON.parse(o.slicers);await setDefaultSlicersForPage(a,r.name,!0)}}}})});var CV={exports:{}},BX;function y_e(){return BX||(BX=1,function(c){(function(){var o=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},r=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},a=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},d=function(e,t){return h(function(n,i){return e.eq(t(n),t(i))})},h=function(e){return{eq:e}},g=h(function(e,t){return e===t}),x=g,k=function(e){return h(function(t,n){if(t.length!==n.length)return!1;for(var i=t.length,u=0;u<i;u++)if(!e.eq(t[u],n[u]))return!1;return!0})},z=function(e,t){return d(k(e),function(n){return a(n,t)})},D=function(e){return h(function(t,n){var i=Object.keys(t),u=Object.keys(n);if(!z(x).eq(i,u))return!1;for(var m=i.length,y=0;y<m;y++){var _=i[y];if(!e.eq(t[_],n[_]))return!1}return!0})},$=h(function(e,t){if(e===t)return!0;var n=o(e),i=o(t);return n!==i?!1:r(n)?e===t:n==="array"?k($).eq(e,t):n==="object"?D($).eq(e,t):!1});const K=Object.getPrototypeOf,Y=(e,t,n)=>{var i;return n(e,t.prototype)?!0:((i=e.constructor)==null?void 0:i.name)===t.name},ie=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Y(e,String,(n,i)=>i.isPrototypeOf(n))?"string":t},ve=e=>t=>ie(t)===e,Ne=e=>t=>typeof t===e,ye=e=>t=>e===t,Je=(e,t)=>ge(e)&&Y(e,t,(n,i)=>K(n)===i),He=ve("string"),ge=ve("object"),Ie=e=>Je(e,Object),he=ve("array"),Ve=ye(null),bo=Ne("boolean"),lo=ye(void 0),Kt=e=>e==null,Me=e=>!Kt(e),yt=Ne("function"),I=Ne("number"),Mt=(e,t)=>{if(he(e)){for(let n=0,i=e.length;n<i;++n)if(!t(e[n]))return!1;return!0}return!1},Ft=()=>{},zo=(e,t)=>(...n)=>e(t.apply(null,n)),En=(e,t)=>n=>e(t(n)),ft=e=>()=>e,To=e=>e,zs=(e,t)=>e===t;function Tt(e,...t){return(...n)=>{const i=t.concat(n);return e.apply(null,i)}}const Le=e=>t=>!e(t),Ge=e=>()=>{throw new Error(e)},yo=e=>e(),to=e=>{e()},_o=ft(!1),fo=ft(!0),Mp=class Mp{constructor(t,n){vt(this,"tag");vt(this,"value");this.tag=t,this.value=n}static some(t){return new Mp(!0,t)}static none(){return Mp.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?Mp.some(t(this.value)):Mp.none()}bind(t){return this.tag?t(this.value):Mp.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:Mp.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Me(t)?Mp.some(t):Mp.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}};vt(Mp,"singletonNone",new Mp(!1));let G=Mp;const ir=Array.prototype.slice,Vn=Array.prototype.indexOf,Zo=Array.prototype.push,yr=(e,t)=>Vn.call(e,t),Jr=(e,t)=>{const n=yr(e,t);return n===-1?G.none():G.some(n)},Qo=(e,t)=>yr(e,t)>-1,Rn=(e,t)=>{for(let n=0,i=e.length;n<i;n++){const u=e[n];if(t(u,n))return!0}return!1},Do=(e,t)=>{const n=e.length,i=new Array(n);for(let u=0;u<n;u++){const m=e[u];i[u]=t(m,u)}return i},tt=(e,t)=>{for(let n=0,i=e.length;n<i;n++){const u=e[n];t(u,n)}},es=(e,t)=>{for(let n=e.length-1;n>=0;n--){const i=e[n];t(i,n)}},ze=(e,t)=>{const n=[],i=[];for(let u=0,m=e.length;u<m;u++){const y=e[u];(t(y,u)?n:i).push(y)}return{pass:n,fail:i}},we=(e,t)=>{const n=[];for(let i=0,u=e.length;i<u;i++){const m=e[i];t(m,i)&&n.push(m)}return n},mt=(e,t)=>{if(e.length===0)return[];{let n=t(e[0]);const i=[];let u=[];for(let m=0,y=e.length;m<y;m++){const _=e[m],E=t(_);E!==n&&(i.push(u),u=[]),n=E,u.push(_)}return u.length!==0&&i.push(u),i}},Yt=(e,t,n)=>(es(e,(i,u)=>{n=t(n,i,u)}),n),Dt=(e,t,n)=>(tt(e,(i,u)=>{n=t(n,i,u)}),n),bn=(e,t,n)=>{for(let i=0,u=e.length;i<u;i++){const m=e[i];if(t(m,i))return G.some(m);if(n(m,i))break}return G.none()},Wo=(e,t)=>bn(e,t,_o),Xn=(e,t)=>{for(let n=0,i=e.length;n<i;n++){const u=e[n];if(t(u,n))return G.some(n)}return G.none()},Gi=(e,t)=>{for(let n=e.length-1;n>=0;n--)if(t(e[n],n))return G.some(n);return G.none()},Rr=e=>{const t=[];for(let n=0,i=e.length;n<i;++n){if(!he(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Zo.apply(t,e[n])}return t},Ds=(e,t)=>Rr(Do(e,t)),Sr=(e,t)=>{for(let n=0,i=e.length;n<i;++n){const u=e[n];if(t(u,n)!==!0)return!1}return!0},ar=e=>{const t=ir.call(e,0);return t.reverse(),t},lr=(e,t)=>we(e,n=>!Qo(t,n)),ps=(e,t)=>{const n={};for(let i=0,u=e.length;i<u;i++){const m=e[i];n[String(m)]=t(m,i)}return n},so=(e,t)=>{const n=ir.call(e,0);return n.sort(t),n},en=(e,t)=>t>=0&&t<e.length?G.some(e[t]):G.none(),ls=e=>en(e,0),Ls=e=>en(e,e.length-1),jt=yt(Array.from)?Array.from:e=>ir.call(e),Tl=(e,t)=>{for(let n=0;n<e.length;n++){const i=t(e[n],n);if(i.isSome())return i}return G.none()},kc=(e,t)=>{const n=[],i=yt(t)?u=>Rn(n,m=>t(m,u)):u=>Qo(n,u);for(let u=0,m=e.length;u<m;u++){const y=e[u];i(y)||n.push(y)}return n},Yi=Object.keys,Vr=Object.hasOwnProperty,yn=(e,t)=>{const n=Yi(e);for(let i=0,u=n.length;i<u;i++){const m=n[i],y=e[m];t(y,m)}},Ea=(e,t)=>Zp(e,(n,i)=>({k:i,v:t(n,i)})),Zp=(e,t)=>{const n={};return yn(e,(i,u)=>{const m=t(i,u);n[m.k]=m.v}),n},hl=e=>(t,n)=>{e[n]=t},pn=(e,t,n,i)=>{yn(e,(u,m)=>{(t(u,m)?n:i)(u,m)})},An=(e,t)=>{const n={},i={};return pn(e,t,hl(n),hl(i)),{t:n,f:i}},hi=(e,t)=>{const n={};return pn(e,t,hl(n),Ft),n},Ni=(e,t)=>{const n=[];return yn(e,(i,u)=>{n.push(t(i,u))}),n},Us=e=>Ni(e,To),Dn=(e,t)=>Io(e,t)?G.from(e[t]):G.none(),Io=(e,t)=>Vr.call(e,t),je=(e,t)=>Io(e,t)&&e[t]!==void 0&&e[t]!==null,Iu=(e,t,n=$)=>D(n).eq(e,t),Yl={generate:e=>{if(!he(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return tt(e,(i,u)=>{const m=Yi(i);if(m.length!==1)throw new Error("one and only one name per case");const y=m[0],_=i[y];if(n[y]!==void 0)throw new Error("duplicate key detected:"+y);if(y==="cata")throw new Error("cannot have a case named cata (sorry)");if(!he(_))throw new Error("case arguments must be an array");t.push(y),n[y]=(...E)=>{const N=E.length;if(N!==_.length)throw new Error("Wrong number of arguments to case "+y+". Expected "+_.length+" ("+_+"), got "+N);return{fold:(...W)=>{if(W.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+W.length);return W[u].apply(null,E)},match:W=>{const q=Yi(W);if(t.length!==q.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+q.join(","));if(!Sr(t,me=>Qo(q,me)))throw new Error("Not all branches were specified when using match. Specified: "+q.join(", ")+`
Required: `+t.join(", "));return W[y].apply(null,E)},log:W=>{console.log(W,{constructors:t,constructor:y,params:E})}}}}),n}},Mn=e=>{let t=e;return{get:()=>t,set:u=>{t=u}}},Xl=e=>{const t=m=>m(e),n=ft(e),i=()=>u,u={tag:!0,inner:e,fold:(m,y)=>y(e),isValue:fo,isError:_o,map:m=>Ks.value(m(e)),mapError:i,bind:t,exists:t,forall:t,getOr:n,or:i,getOrThunk:n,orThunk:i,getOrDie:n,each:m=>{m(e)},toOptional:()=>G.some(e)};return u},pi=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(i,u)=>i(e),isValue:_o,isError:fo,map:t,mapError:i=>Ks.error(i(e)),bind:t,exists:_o,forall:fo,getOr:To,or:To,getOrThunk:yo,orThunk:yo,getOrDie:Ge(String(e)),each:Ft,toOptional:G.none};return n},Ks={value:Xl,error:pi,fromOption:(e,t)=>e.fold(()=>pi(t),Xl)},dg=typeof window<"u"?window:Function("return this;")(),ei=()=>{const e=window.crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,e},ti=()=>{const e=ei(),t=(n,i)=>{let u="";for(let m=n;m<=i;++m){const y=e[m].toString(16).padStart(2,"0");u+=y}return u};return`${t(0,3)}-${t(4,5)}-${t(6,7)}-${t(8,9)}-${t(10,15)}`},Qn=(e,t,n)=>Math.min(Math.max(e,t),n),jf=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let cs=0;const jr=e=>{const n=new Date().getTime(),i=Math.floor(jf()*1e9);return cs++,e+"_"+i+cs+String(n)},ug=()=>window.isSecureContext?window.crypto.randomUUID():ti(),rd=(e,t)=>t,Uf=(e,t)=>Ie(e)&&Ie(t)?Cc(e,t):t,_c=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let i=0;i<t.length;i++){const u=t[i];for(const m in u)Io(u,m)&&(n[m]=e(n[m],u[m]))}return n},Cc=_c(Uf),Sc=_c(rd),Ur=(e,t,n=zs)=>e.exists(i=>n(i,t)),Wf=(e,t,n=zs)=>Gs(e,t,n).getOr(e.isNone()&&t.isNone()),Bb=e=>{const t=[],n=i=>{t.push(i)};for(let i=0;i<e.length;i++)e[i].each(n);return t},Gs=(e,t,n)=>e.isSome()&&t.isSome()?G.some(n(e.getOrDie(),t.getOrDie())):G.none(),fg=(e,t,n,i)=>e.isSome()&&t.isSome()&&n.isSome()?G.some(i(e.getOrDie(),t.getOrDie(),n.getOrDie())):G.none(),Ut=e=>e.bind(To),id=(e,t)=>e?G.some(t):G.none(),qp=(e,t)=>{let n=t??dg;for(let i=0;i<e.length&&n!==void 0&&n!==null;++i)n=n[e[i]];return n},hg=(e,t)=>{const n=e.split(".");return qp(n,t)};Yl.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ol=e=>{const t=[],n=[];return tt(e,i=>{i.fold(u=>{t.push(u)},u=>{n.push(u)})}),{errors:t,values:n}},Kp=e=>{const t=Mn(G.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(G.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:_=>{n(),t.set(G.some(_))}}},pg=e=>{const t=Mn(G.none()),n=()=>t.get().each(_=>clearInterval(_));return{clear:()=>{n(),t.set(G.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:_=>{n(),t.set(G.some(setInterval(_,e)))}}},Ql=()=>{const e=Kp(Ft);return{...e,on:n=>e.get().each(n)}},Ec=(e,t)=>e.substring(t),Gp=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,mg=(e,t)=>Ws(e,t)?Ec(e,t.length):e,on=(e,t,n=0,i)=>{const u=e.indexOf(t,n);return u!==-1?lo(i)?!0:u+t.length<=i:!1},Ws=(e,t)=>Gp(e,t,0),Zf=(e,t)=>Gp(e,t,e.length-t.length),Fu=e=>t=>t.replace(e,""),zl=Fu(/^\s+|\s+$/g),gg=Fu(/^\s+/g),Hu=Fu(/\s+$/g),oi=e=>e.length>0,ad=e=>!oi(e),Pb=(e,t)=>t<=0?"":new Array(t+1).join(e),qf=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?G.none():G.some(n)},Zs=(e,t)=>{let n=null;return{cancel:()=>{Ve(n)||(clearTimeout(n),n=null)},throttle:(...m)=>{Ve(n)&&(n=setTimeout(()=>{n=null,e.apply(null,m)},t))}}},Ud=(e,t)=>{let n=null;const i=()=>{Ve(n)||(clearTimeout(n),n=null)};return{cancel:i,throttle:(...m)=>{i(),n=setTimeout(()=>{n=null,e.apply(null,m)},t)}}},Aa=e=>{let t=!1,n;return(...i)=>(t||(t=!0,n=e.apply(null,i)),n)},pl="\uFEFF",xr="",ml="",fa=e=>e===pl,bg=e=>e.replace(/\uFEFF/g,""),Ih=e=>{const t={};return tt(e,n=>{t[n]={}}),Yi(t)},Xi=e=>e.length!==void 0,$u=Array.isArray,Kf=e=>{if($u(e))return e;{const t=[];for(let n=0,i=e.length;n<i;n++)t[n]=e[n];return t}},Dl=(e,t,n)=>{if(!e)return!1;if(n=n||e,Xi(e)){for(let i=0,u=e.length;i<u;i++)if(t.call(n,e[i],i,e)===!1)return!1}else for(const i in e)if(Io(e,i)&&t.call(n,e[i],i,e)===!1)return!1;return!0},Fh=(e,t)=>{const n=[];return Dl(e,(i,u)=>{n.push(t(i,u,e))}),n},Vu=(e,t)=>{const n=[];return Dl(e,(i,u)=>{(!t||t(i,u,e))&&n.push(i)}),n},Hh=(e,t)=>{if(e){for(let n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1},Ac=(e,t,n,i)=>{let u=lo(n)?e[0]:n;for(let m=0;m<e.length;m++)u=t.call(i,u,e[m],m);return u},Ta=(e,t,n)=>{for(let i=0,u=e.length;i<u;i++)if(t.call(n,e[i],i,e))return i;return-1},Wr=e=>e[e.length-1],re=(e,t,n,i)=>{const u=e.isiOS()&&/ipad/i.test(n)===!0,m=e.isiOS()&&!u,y=e.isiOS()||e.isAndroid(),_=y||i("(pointer:coarse)"),E=u||!m&&y&&i("(min-device-width:768px)"),N=m||y&&!E,j=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,W=!N&&!E&&!j;return{isiPad:ft(u),isiPhone:ft(m),isTablet:ft(E),isPhone:ft(N),isTouch:ft(_),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ft(j),isDesktop:ft(W)}},_e=(e,t)=>{for(let n=0;n<e.length;n++){const i=e[n];if(i.test(t))return i}},Fe=(e,t)=>{const n=_e(e,t);if(!n)return{major:0,minor:0};const i=u=>Number(t.replace(n,"$"+u));return Jt(i(1),i(2))},ht=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Ot():Fe(e,n)},Ot=()=>Jt(0,0),Jt=(e,t)=>({major:e,minor:t}),an={nu:Jt,detect:ht,unknown:Ot},In=(e,t)=>Tl(t.brands,n=>{const i=n.brand.toLowerCase();return Wo(e,u=>{var m;return i===((m=u.brand)==null?void 0:m.toLowerCase())}).map(u=>({current:u.name,version:an.nu(parseInt(n.version,10),0)}))}),wn=(e,t)=>{const n=String(t).toLowerCase();return Wo(e,i=>i.search(n))},cr=(e,t)=>wn(e,t).map(n=>{const i=an.detect(n.versionRegexes,t);return{current:n.name,version:i}}),dr=(e,t)=>wn(e,t).map(n=>{const i=an.detect(n.versionRegexes,t);return{current:n.name,version:i}}),ks=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,mi=e=>t=>on(t,e),$h=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>on(e,"edge/")&&on(e,"chrome")&&on(e,"safari")&&on(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ks],search:e=>on(e,"chrome")&&!on(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>on(e,"msie")||on(e,"trident")},{name:"Opera",versionRegexes:[ks,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:mi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:mi("firefox")},{name:"Safari",versionRegexes:[ks,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(on(e,"safari")||on(e,"mobile/"))&&on(e,"applewebkit")}],Oa=[{name:"Windows",search:mi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>on(e,"iphone")||on(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:mi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:mi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:mi("linux"),versionRegexes:[]},{name:"Solaris",search:mi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:mi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:mi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ju={browsers:ft($h),oses:ft(Oa)},Jn="Edge",za="Chromium",Uu="IE",Wd="Opera",Lr="Firefox",Jl="Safari",Zd=()=>Ri({current:void 0,version:an.unknown()}),Ri=e=>{const t=e.current,n=e.version,i=u=>()=>t===u;return{current:t,version:n,isEdge:i(Jn),isChromium:i(za),isIE:i(Uu),isOpera:i(Wd),isFirefox:i(Lr),isSafari:i(Jl)}},Ib={unknown:Zd,nu:Ri},Yp="Windows",yg="iOS",ni="Android",Gf="Linux",ld="macOS",ec="Solaris",xg="FreeBSD",Ci="ChromeOS",Xp=()=>qd({current:void 0,version:an.unknown()}),qd=e=>{const t=e.current,n=e.version,i=u=>()=>t===u;return{current:t,version:n,isWindows:i(Yp),isiOS:i(yg),isAndroid:i(ni),isMacOS:i(ld),isLinux:i(Gf),isSolaris:i(ec),isFreeBSD:i(xg),isChromeOS:i(Ci)}},Li={unknown:Xp,nu:qd},tc={detect:(e,t,n)=>{const i=ju.browsers(),u=ju.oses(),m=t.bind(E=>In(i,E)).orThunk(()=>cr(i,e)).fold(Ib.unknown,Ib.nu),y=dr(u,e).fold(Li.unknown,Li.nu),_=re(y,m,e,n);return{browser:m,os:y,deviceType:_}}},Qp=e=>window.matchMedia(e).matches;let Er=Aa(()=>tc.detect(window.navigator.userAgent,G.from(window.navigator.userAgentData),Qp));const gl=()=>Er(),cd=(e,t)=>hg(e,t),Tc=(e,t)=>{const n=cd(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},Bi=Object.getPrototypeOf,Ml=e=>Tc("HTMLElement",e),Fb=e=>{const t=hg("ownerDocument.defaultView",e);return ge(e)&&(Ml(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Bi(e).constructor.name))},Hb=window.navigator.userAgent,Ma=gl(),ha=Ma.browser,Na=Ma.os,mo=Ma.deviceType,Qy=Hb.indexOf("Windows Phone")!==-1,$o={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:ha.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!ha.isIE(),windowsPhone:Qy,browser:{current:ha.current,version:ha.version,isChromium:ha.isChromium,isEdge:ha.isEdge,isFirefox:ha.isFirefox,isIE:ha.isIE,isOpera:ha.isOpera,isSafari:ha.isSafari},os:{current:Na.current,version:Na.version,isAndroid:Na.isAndroid,isChromeOS:Na.isChromeOS,isFreeBSD:Na.isFreeBSD,isiOS:Na.isiOS,isLinux:Na.isLinux,isMacOS:Na.isMacOS,isSolaris:Na.isSolaris,isWindows:Na.isWindows},deviceType:{isDesktop:mo.isDesktop,isiPad:mo.isiPad,isiPhone:mo.isiPhone,isPhone:mo.isPhone,isTablet:mo.isTablet,isTouch:mo.isTouch,isWebView:mo.isWebView}},si=/^\s*|\s*$/g,Jp=e=>Kt(e)?"":(""+e).replace(si,""),ur=(e,t)=>t?t==="array"&&$u(e)?!0:typeof e===t:e!==void 0,$b=(e,t,n={})=>{const i=He(e)?e.split(t||","):e||[];let u=i.length;for(;u--;)n[i[u]]={};return n},Kd=Io,Jy=(e,...t)=>{for(let n=0;n<t.length;n++){const i=t[n];for(const u in i)if(Io(i,u)){const m=i[u];m!==void 0&&(e[u]=m)}}return e},Yf=function(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),Dl(e,(u,m)=>t.call(i,u,m,n)===!1?!1:(Yf(u,t,n,i),!0)))},bt={trim:Jp,isArray:$u,is:ur,toArray:Kf,makeMap:$b,each:Dl,map:Fh,grep:Vu,inArray:Hh,hasOwn:Kd,extend:Jy,walk:Yf,resolve:(e,t=window)=>{const n=e.split(".");for(let i=0,u=n.length;i<u&&(t=t[n[i]],!!t);i++);return t},explode:(e,t)=>he(e)?e:e===""?[]:Fh(e.split(t||","),Jp),_addCacheSuffix:e=>{const t=$o.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},vr=(e,t)=>{const i=(t||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1){const u="HTML does not have a single root node";throw console.error(u,e),new Error(u)}return oc(i.childNodes[0])},Vb=(e,t)=>{const i=(t||document).createElement(e);return oc(i)},jb=(e,t)=>{const i=(t||document).createTextNode(e);return oc(i)},oc=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},xe={fromHtml:vr,fromTag:Vb,fromText:jb,fromDom:oc,fromPoint:(e,t,n)=>G.from(e.dom.elementFromPoint(t,n)).map(oc)},Zu=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,i)=>{e.setStart(n.dom,i)},n=>{e.setStartAfter(n.dom)})},Pi=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,i)=>{e.setEnd(n.dom,i)},n=>{e.setEndAfter(n.dom)})},vg=(e,t,n)=>{const i=e.document.createRange();return Zu(i,t),Pi(i,n),i},wr=(e,t,n,i,u)=>{const m=e.document.createRange();return m.setStart(t.dom,n),m.setEnd(i.dom,u),m},Gd=Yl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Oc=(e,t,n)=>t(xe.fromDom(n.startContainer),n.startOffset,xe.fromDom(n.endContainer),n.endOffset),xn=(e,t)=>t.match({domRange:n=>({ltr:ft(n),rtl:G.none}),relative:(n,i)=>({ltr:Aa(()=>vg(e,n,i)),rtl:Aa(()=>G.some(vg(e,i,n)))}),exact:(n,i,u,m)=>({ltr:Aa(()=>wr(e,n,i,u,m)),rtl:Aa(()=>G.some(wr(e,u,m,n,i)))})}),em=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(u=>u.collapsed===!1).map(u=>Gd.rtl(xe.fromDom(u.endContainer),u.endOffset,xe.fromDom(u.startContainer),u.startOffset)).getOrThunk(()=>Oc(e,Gd.ltr,n)):Oc(e,Gd.ltr,n)},Ub=(e,t)=>{const n=xn(e,t);return em(e,n)};Gd.ltr,Gd.rtl;const jh=8,Br=9,Yd=11,dd=1,Xf=3,jn=(e,t)=>{const n=e.dom;if(n.nodeType!==dd)return!1;{const i=n;if(i.matches!==void 0)return i.matches(t);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(t);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(t);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},ud=e=>e.nodeType!==dd&&e.nodeType!==Br&&e.nodeType!==Yd||e.childElementCount===0,Qf=(e,t)=>{const n=t===void 0?document:t.dom;return ud(n)?[]:Do(n.querySelectorAll(e),xe.fromDom)},Bs=(e,t)=>{const n=t===void 0?document:t.dom;return ud(n)?G.none():G.from(n.querySelector(e)).map(xe.fromDom)},cn=(e,t)=>e.dom===t.dom,pr=(e,t)=>{const n=e.dom,i=t.dom;return n===i?!1:n.contains(i)},fd=jn,Ra=(e,t)=>{const n=[],i=m=>(n.push(m),t(m));let u=t(e);do u=u.bind(i);while(u.isSome());return n},Xo=e=>e.dom.nodeName.toLowerCase(),Wb=e=>e.dom.nodeType,Jf=e=>t=>Wb(t)===e,Zb=e=>Wb(e)===jh||Xo(e)==="#comment",hd=e=>mr(e)&&Fb(e.dom),mr=Jf(dd),Ii=Jf(Xf),e1=Jf(Br),t1=Jf(Yd),ms=e=>t=>mr(t)&&Xo(t)===e,qb=e=>xe.fromDom(e.dom.ownerDocument),Nl=e=>e1(e)?e:qb(e),rs=e=>xe.fromDom(Nl(e).dom.documentElement),La=e=>xe.fromDom(Nl(e).dom.defaultView),pa=e=>G.from(e.dom.parentNode).map(xe.fromDom),pd=e=>G.from(e.dom.parentElement).map(xe.fromDom),Zr=(e,t)=>{const n=yt(t)?t:_o;let i=e.dom;const u=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const m=i.parentNode,y=xe.fromDom(m);if(u.push(y),n(y)===!0)break;i=m}return u},Uh=e=>{const t=n=>we(n,i=>!cn(e,i));return pa(e).map(ln).map(t).getOr([])},Rl=e=>G.from(e.dom.previousSibling).map(xe.fromDom),ma=e=>G.from(e.dom.nextSibling).map(xe.fromDom),_s=e=>ar(Ra(e,Rl)),wg=e=>Ra(e,ma),ln=e=>Do(e.dom.childNodes,xe.fromDom),kr=(e,t)=>{const n=e.dom.childNodes;return G.from(n[t]).map(xe.fromDom)},bl=e=>kr(e,0),qr=e=>kr(e,e.dom.childNodes.length-1),eh=e=>e.dom.childNodes.length,Pr=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return xe.fromDom(t)},zc=e=>t1(e)&&Me(e.dom.host),Dc=e=>xe.fromDom(e.dom.getRootNode()),ri=e=>zc(e)?e:Pr(Nl(e)),tm=e=>zc(e)?e:xe.fromDom(Nl(e).dom.body),om=e=>{const t=Dc(e);return zc(t)?G.some(t):G.none()},Kb=e=>xe.fromDom(e.dom.host),nm=e=>{if(Me(e.target)){const t=xe.fromDom(e.target);if(mr(t)&&sm(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return ls(n)}}return G.from(e.target)},sm=e=>Me(e.dom.shadowRoot),kg=(e,t,n,i,u,m,y)=>({target:e,x:t,y:n,stop:i,prevent:u,kill:m,raw:y}),_g=e=>{const t=xe.fromDom(nm(e).getOr(e.target)),n=()=>e.stopPropagation(),i=()=>e.preventDefault(),u=zo(i,n);return kg(t,e.clientX,e.clientY,n,i,u,e)},Cg=(e,t)=>n=>{e(n)&&t(_g(n))},rm=(e,t,n,i,u)=>{const m=Cg(n,i);return e.dom.addEventListener(t,m,u),{unbind:Tt(im,e,t,m,u)}},Mc=(e,t,n,i)=>rm(e,t,n,i,!1),im=(e,t,n,i)=>{e.dom.removeEventListener(t,n,i)},o1=fo,th=(e,t,n)=>Mc(e,t,o1,n),Fi=()=>xe.fromDom(document),qu=(e,t=!1)=>e.dom.focus({preventScroll:t}),Ll=e=>{const t=Dc(e).dom;return e.dom===t.activeElement},Nc=(e=Fi())=>G.from(e.dom.activeElement).map(xe.fromDom),Wh=e=>Nc(Dc(e)).filter(t=>e.dom.contains(t.dom)),ii=(e,t)=>{pa(e).each(i=>{i.dom.insertBefore(t.dom,e.dom)})},Ya=(e,t)=>{ma(e).fold(()=>{pa(e).each(u=>{un(u,t)})},i=>{ii(i,t)})},nc=(e,t)=>{bl(e).fold(()=>{un(e,t)},i=>{e.dom.insertBefore(t.dom,i.dom)})},un=(e,t)=>{e.dom.appendChild(t.dom)},Ar=(e,t)=>{ii(e,t),un(t,e)},Xd=(e,t)=>{tt(t,n=>{ii(e,n)})},Zh=(e,t)=>{tt(t,(n,i)=>{const u=i===0?e:t[i-1];Ya(u,n)})},er=(e,t)=>{tt(t,n=>{un(e,n)})},qh=(e,t,n)=>{if(He(n)||bo(n)||I(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},Tr=(e,t,n)=>{qh(e.dom,t,n)},Ba=(e,t)=>{const n=e.dom;yn(t,(i,u)=>{qh(n,u,i)})},fr=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},Bl=(e,t)=>G.from(fr(e,t)),Qd=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},Or=(e,t)=>{e.dom.removeAttribute(t)},Jd=e=>{const t=e.dom.attributes;return t==null||t.length===0},sc=e=>Dt(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),eu=e=>{e.dom.textContent="",tt(ln(e),t=>{ts(t)})},ts=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Qi=e=>{const t=ln(e);t.length>0&&Zh(e,t),ts(e)},md=(e,t)=>xe.fromDom(e.dom.cloneNode(t)),ga=e=>md(e,!1),gi=e=>md(e,!0),Ku=(e,t)=>{const n=xe.fromTag(t),i=sc(e);return Ba(n,i),n},Rc=(e,t)=>{const n=Ku(e,t);Ya(e,n);const i=ln(e);return er(n,i),ts(e),n},hr=(e,t)=>{const i=(t||document).createElement("div");return i.innerHTML=e,ln(xe.fromDom(i))},Xa=e=>Do(e,xe.fromDom),oh=e=>e.dom.innerHTML,Gu=(e,t)=>{const i=qb(e).dom,u=xe.fromDom(i.createDocumentFragment()),m=hr(t,i);er(u,m),eu(e),un(e,u)},n1=e=>{const t=xe.fromTag("div"),n=xe.fromDom(e.dom.cloneNode(!0));return un(t,n),oh(t)},tu=e=>e.style!==void 0&&yt(e.style.getPropertyValue),rc=e=>{const t=Ii(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return om(xe.fromDom(t)).fold(()=>n.body.contains(t),En(rc,Kb))},Gb=(e,t,n)=>{if(!He(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);tu(e)&&e.style.setProperty(t,n)},am=(e,t)=>{tu(e)&&e.style.removeProperty(t)},gd=(e,t,n)=>{const i=e.dom;Gb(i,t,n)},Yu=(e,t)=>{const n=e.dom;yn(t,(i,u)=>{Gb(n,u,i)})},Pa=(e,t)=>{const n=e.dom,u=window.getComputedStyle(n).getPropertyValue(t);return u===""&&!rc(e)?Yb(n,t):u},Yb=(e,t)=>tu(e)?e.style.getPropertyValue(t):"",bd=(e,t)=>{const n=e.dom,i=Yb(n,t);return G.from(i).filter(u=>u.length>0)},Xu=e=>{const t={},n=e.dom;if(tu(n))for(let i=0;i<n.style.length;i++){const u=n.style.item(i);t[u]=n.style[u]}return t},ba=(e,t)=>{const n=e.dom;am(n,t),Ur(Bl(e,"style").map(zl),"")&&Or(e,"style")},ko=e=>e.dom.offsetWidth,lm=((e,t)=>{const n=(_,E)=>{if(!I(E)&&!E.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+E);const N=_.dom;tu(N)&&(N.style[e]=E+"px")},i=_=>{const E=t(_);if(E<=0||E===null){const N=Pa(_,e);return parseFloat(N)||0}return E},u=i,m=(_,E)=>Dt(E,(N,j)=>{const W=Pa(_,j),q=W===void 0?0:parseInt(W,10);return isNaN(q)?N:N+q},0);return{set:n,get:i,getOuter:u,aggregate:m,max:(_,E,N)=>{const j=m(_,N);return E>j?E-j:0}}})("height",e=>{const t=e.dom;return rc(e)?t.getBoundingClientRect().height:t.offsetHeight}),s1=e=>lm.get(e),Kh=(e,t)=>({left:e,top:t,translate:(i,u)=>Kh(e+i,t+u)}),Lc=Kh,cm=e=>{const t=e.getBoundingClientRect();return Lc(t.left,t.top)},dm=(e,t)=>e!==void 0?e:t!==void 0?t:0,Ps=e=>{const t=e.dom.ownerDocument,n=t.body,i=t.defaultView,u=t.documentElement;if(n===e.dom)return Lc(n.offsetLeft,n.offsetTop);const m=dm(i==null?void 0:i.pageYOffset,u.scrollTop),y=dm(i==null?void 0:i.pageXOffset,u.scrollLeft),_=dm(u.clientTop,n.clientTop),E=dm(u.clientLeft,n.clientLeft);return Ia(e).translate(y-E,m-_)},Ia=e=>{const t=e.dom,i=t.ownerDocument.body;return i===t?Lc(i.offsetLeft,i.offsetTop):rc(e)?cm(t):Lc(0,0)},Hi=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,i=t.body.scrollTop||t.documentElement.scrollTop;return Lc(n,i)},ou=(e,t,n)=>{const u=(n!==void 0?n.dom:document).defaultView;u&&u.scrollTo(e,t)},Ji=(e,t)=>{gl().browser.isSafari()&&yt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},um=(e,t)=>{const n=m=>{if(!e(m))throw new Error("Can only get "+t+" value of a "+t+" node");return i(m).getOr("")},i=m=>e(m)?G.from(m.dom.nodeValue):G.none();return{get:n,getOption:i,set:(m,y)=>{if(!e(m))throw new Error("Can only set raw "+t+" value of a "+t+" node");m.dom.nodeValue=y}}},zr=(e,t)=>{const i=document.createDocumentFragment();return tt(e,u=>{i.appendChild(u.dom)}),xe.fromDom(i)},bi=um(Ii,"text"),Bc=e=>bi.get(e),xt=e=>bi.getOption(e),Fa=(e,t)=>bi.set(e,t),Ju=(e,t)=>{const n=fr(e,t);return n===void 0||n===""?[]:n.split(" ")},Ir=(e,t,n)=>{const u=Ju(e,t).concat([n]);return Tr(e,t,u.join(" ")),!0},ic=(e,t,n)=>{const i=we(Ju(e,t),u=>u!==n);return i.length>0?Tr(e,t,i.join(" ")):Or(e,t),!1};var yl=(e,t,n,i,u)=>e(n,i)?G.some(n):yt(u)&&u(n)?G.none():t(n,i,u);const ea=(e,t,n)=>{let i=e.dom;const u=yt(n)?n:_o;for(;i.parentNode;){i=i.parentNode;const m=xe.fromDom(i);if(t(m))return G.some(m);if(u(m))break}return G.none()},ya=(e,t,n)=>yl((u,m)=>m(u),ea,e,t,n),ta=(e,t)=>{const n=e.dom;return n.parentNode?Fn(xe.fromDom(n.parentNode),i=>!cn(e,i)&&t(i)):G.none()},Fn=(e,t)=>{const n=u=>t(xe.fromDom(u));return Wo(e.dom.childNodes,n).map(xe.fromDom)},xa=(e,t)=>{const n=i=>{for(let u=0;u<i.childNodes.length;u++){const m=xe.fromDom(i.childNodes[u]);if(t(m))return G.some(m);const y=n(i.childNodes[u]);if(y.isSome())return y}return G.none()};return n(e.dom)},tr=(e,t,n)=>ea(e,i=>jn(i,t),n),Ys=(e,t)=>Bs(t,e),Pc=(e,t,n)=>yl((u,m)=>jn(u,m),tr,e,t,n),Fr=e=>e.dom.classList!==void 0,ef=e=>Ju(e,"class"),oa=(e,t)=>Ir(e,"class",t),Ke=(e,t)=>ic(e,"class",t),Pl=(e,t)=>Qo(ef(e),t)?Ke(e,t):oa(e,t),xl=(e,t)=>{Fr(e)?e.dom.classList.add(t):oa(e,t)},gs=e=>{(Fr(e)?e.dom.classList:ef(e)).length===0&&Or(e,"class")},$i=(e,t)=>{Fr(e)?e.dom.classList.remove(t):Ke(e,t),gs(e)},yi=(e,t)=>{const n=Fr(e)?e.dom.classList.toggle(t):Pl(e,t);return gs(e),n},ds=(e,t)=>Fr(e)&&e.dom.classList.contains(t),nu=(e,t)=>{tt(t,n=>{xl(e,n)})},Gh=(e,t)=>{tt(t,n=>{$i(e,n)})},nh=e=>Pc(e,"[contenteditable]"),Qa=(e,t=!1)=>rc(e)?e.dom.isContentEditable:nh(e).fold(ft(t),n=>xi(n)==="true"),xi=e=>e.dom.contentEditable,Hr=(e,t)=>{e.dom.contentEditable=t?"true":"false"},R=(e,t,n)=>we(Zr(e,n),t),F=(e,t)=>we(ln(e),t),J=(e,t)=>{let n=[];return tt(ln(e),i=>{t(i)&&(n=n.concat([i])),n=n.concat(J(i,t))}),n},de=(e,t,n)=>R(e,i=>jn(i,t),n),Ae=(e,t)=>Qf(t,e),ut=(e,t,n)=>ea(e,t,n).isSome(),Rt=(e,t)=>ta(e,t).isSome(),Wt=(e,t)=>xa(e,t).isSome(),Oo=(e,t)=>ut(e,Tt(cn,t)),dn=(e,t,n)=>tr(e,t,n).isSome(),Ln=e=>yt(e)?e:_o,or=(e,t,n)=>{let i=e.dom;const u=Ln(n);for(;i.parentNode;){i=i.parentNode;const m=xe.fromDom(i),y=t(m);if(y.isSome())return y;if(u(m))break}return G.none()},Ts=(e,t,n)=>{const i=t(e),u=Ln(n);return i.orThunk(()=>u(e)?G.none():or(e,t,u))},Si=e=>xt(e).filter(t=>t.trim().length!==0||t.indexOf(xr)>-1).isSome(),Ja=e=>hd(e)&&fr(e,"contenteditable")==="false",su=["img","br"],ac=e=>Si(e)||Qo(su,Xo(e))||Ja(e),Xb=e=>xa(e,ac),Ms={create:(e,t,n,i)=>({start:e,soffset:t,finish:n,foffset:i})},tf=Yl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),el=(e,t,n,i)=>e.fold(t,n,i),lc=e=>e.fold(To,To,To),Xh=tf.before,of=tf.on,tl=tf.after,nn={before:Xh,on:of,after:tl,cata:el,getStart:lc},bs=Yl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),va=e=>bs.exact(e.start,e.soffset,e.finish,e.foffset),wa=e=>e.match({domRange:t=>xe.fromDom(t.startContainer),relative:(t,n)=>nn.getStart(t),exact:(t,n,i,u)=>t}),Qb=bs.domRange,Sg=bs.relative,fm=bs.exact,hm=e=>{const t=wa(e);return La(t)},r1=Ms.create,Ic={domRange:Qb,relative:Sg,exact:fm,exactFromRange:va,getWin:hm,range:r1},yd=(e,t,n)=>{var i;return G.from((i=e.caretPositionFromPoint)==null?void 0:i.call(e,t,n)).bind(u=>{if(u.offsetNode===null)return G.none();const m=e.createRange();return m.setStart(u.offsetNode,u.offset),m.collapse(),G.some(m)})},nf=(e,t,n)=>{var i;return G.from((i=e.caretRangeFromPoint)==null?void 0:i.call(e,t,n))},pm=(e,t,n)=>e.caretPositionFromPoint?yd(e,t,n):e.caretRangeFromPoint?nf(e,t,n):G.none(),Yk=(e,t,n)=>{const i=e.document;return pm(i,t,n).map(u=>Ms.create(xe.fromDom(u.startContainer),u.startOffset,xe.fromDom(u.endContainer),u.endOffset))},mm=(e,t)=>{const n=Xo(e);return n==="input"?nn.after(e):Qo(["br","img"],n)?t===0?nn.before(e):nn.after(e):nn.on(e,t)},i1=(e,t)=>{const n=e.fold(nn.before,mm,nn.after),i=t.fold(nn.before,mm,nn.after);return Ic.relative(n,i)},Jb=(e,t,n,i)=>{const u=mm(e,t),m=mm(n,i);return Ic.relative(u,m)},a1=e=>e.match({domRange:t=>{const n=xe.fromDom(t.startContainer),i=xe.fromDom(t.endContainer);return Jb(n,t.startOffset,i,t.endOffset)},relative:i1,exact:Jb}),l1=e=>{const t=Ic.getWin(e).dom,n=(u,m,y,_)=>wr(t,u,m,y,_),i=a1(e);return Ub(t,i).match({ltr:n,rtl:n})},Av=(e,t,n)=>Yk(e,t,n),Tv=e=>{const t=e===void 0?window:e;return gl().browser.isFirefox()?G.none():G.from(t.visualViewport)},Fc=(e,t,n,i)=>({x:e,y:t,width:n,height:i,right:e+n,bottom:t+i}),ru=e=>{const t=e===void 0?window:e,n=t.document,i=Hi(xe.fromDom(n));return Tv(t).fold(()=>{const u=t.document.documentElement,m=u.clientWidth,y=u.clientHeight;return Fc(i.left,i.top,m,y)},u=>Fc(Math.max(u.pageLeft,i.left),Math.max(u.pageTop,i.top),u.width,u.height))};class Dr{constructor(t,n){vt(this,"rootNode");vt(this,"node");this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,i,u){if(t){if(!u&&t[n])return t[n];if(t!==this.rootNode){let m=t[i];if(m)return m;for(let y=t.parentNode;y&&y!==this.rootNode;y=y.parentNode)if(m=y[i],m)return m}}}findPreviousNode(t,n){if(t){const i=t.previousSibling;if(this.rootNode&&i===this.rootNode)return;if(i){if(!n){for(let m=i.lastChild;m;m=m.lastChild)if(!m.lastChild)return m}return i}const u=t.parentNode;if(u&&u!==this.rootNode)return u}}}const Xk=/^[ \t\r\n]*$/,Qh=e=>Xk.test(e),Ov=e=>{for(const t of e)if(!fa(t))return!1;return!0},c1=e=>" \f	\v".indexOf(e)!==-1,e0=e=>e===`
`||e==="\r",Qk=(e,t)=>t<e.length&&t>=0?e0(e[t]):!1,Jk=(e,t=4,n=!0,i=!0)=>{const u=Pb(" ",t),m=e.replace(/\t/g,u);return Dt(m,(_,E)=>c1(E)||E===xr?_.pcIsSpace||_.str===""&&n||_.str.length===m.length-1&&i||Qk(m,_.str.length+1)?{pcIsSpace:!1,str:_.str+xr}:{pcIsSpace:!0,str:_.str+" "}:{pcIsSpace:e0(E),str:_.str+E},{pcIsSpace:!1,str:""}).str},sh=e=>t=>!!t&&t.nodeType===e,xd=e=>!!e&&!Object.getPrototypeOf(e),eo=sh(1),sn=e=>eo(e)&&hd(xe.fromDom(e)),vl=e=>eo(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",vd=e=>{const t=e.toLowerCase();return n=>Me(n)&&n.nodeName.toLowerCase()===t},cc=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const i=n.nodeName.toLowerCase();return Qo(t,i)}return!1}},ys=(e,t)=>{const n=t.toLowerCase().split(" ");return i=>{if(eo(i)){const u=i.ownerDocument.defaultView;if(u)for(let m=0;m<n.length;m++){const y=u.getComputedStyle(i,null);if((y?y.getPropertyValue(e):null)===n[m])return!0}}return!1}},e_=e=>t=>eo(t)&&t.hasAttribute(e),Jh=e=>eo(e)&&e.hasAttribute("data-mce-bogus"),gm=e=>eo(e)&&e.getAttribute("data-mce-bogus")==="all",wd=e=>eo(e)&&e.tagName==="TABLE",d1=e=>t=>!!(sn(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),t0=cc(["textarea","input"]),_t=sh(3),zv=sh(4),o0=sh(7),iu=sh(8),bm=sh(9),n0=sh(11),nr=vd("br"),u1=vd("img"),s0=vd("a"),ol=d1("true"),us=d1("false"),ym=e=>sn(e)&&e.isContentEditable&&Me(e.parentElement)&&!e.parentElement.isContentEditable,xm=cc(["td","th"]),f1=cc(["td","th","caption"]),na=vd("template"),nl=cc(["video","audio","object","embed"]),cE=vd("li"),Dv=vd("details"),dE=vd("summary"),t_="uc-video",h1=e=>e.nodeName.toLowerCase()===t_,Mv={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},p1=(e,t,n)=>{const i=xe.fromDom(t),u=xe.fromDom(e),m=n.getWhitespaceElements();return ut(u,_=>Io(m,Xo(_)),Tt(cn,i))},sl=e=>eo(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Hc=(e,t)=>eo(e)&&Io(t.getNonEmptyElements(),e.nodeName),kd=e_("data-mce-bookmark"),m1=e=>pd(xe.fromDom(e)).exists(t=>!Qa(t)),Nv=(e,t,n)=>Qh(e.data)&&!p1(e,t,n),uE=(e,t,n,i)=>_t(e)&&!Nv(e,t,n)&&(!i.includeZwsp||!Ov(e.data)),r0=(e,t,n,i)=>yt(i.isContent)&&i.isContent(t)||Hc(t,e)||kd(t)||sl(t)||uE(t,n,e,i)||us(t)||ol(t)&&m1(t),au=(e,t,n)=>{const i={...Mv,...n};if(i.checkRootAsContent&&r0(e,t,t,i))return!1;let u=t.firstChild,m=0;if(!u)return!0;const y=new Dr(u,t);do{if(i.skipBogus&&eo(u)){const _=u.getAttribute("data-mce-bogus");if(_){u=y.next(_==="all");continue}}if(iu(u)){u=y.next(!0);continue}if(nr(u)){m++,u=y.next();continue}if(r0(e,u,t,i))return!1;u=y.next()}while(u);return m<=1},Ha=(e,t,n)=>au(e,t.dom,{checkRootAsContent:!0,...n}),g1=(e,t,n)=>r0(e,t,t,{includeZwsp:Mv.includeZwsp,...n}),Eg=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},ep=e=>Eg(e)!=="html",i0=e=>ep(e.nodeName),b1=e=>Eg(e.nodeName),Os=["svg","math"],tp=()=>{const e=Ql(),t=()=>e.get().map(b1).getOr("html");return{track:u=>(i0(u)?e.set(u):e.get().exists(m=>!m.contains(u))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},vm="data-mce-block",Rv=e=>we(Yi(e),t=>!/[A-Z]/.test(t)),a0=e=>Do(Rv(e),t=>{const n=CSS.escape(t);return`${n}:`+Do(Os,i=>`not(${i} ${n})`).join(":")}).join(","),l0=(e,t)=>Me(t.querySelector(e))?(t.setAttribute(vm,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(vm),!1),y1=(e,t)=>{const n=a0(e.getTransparentElements()),i=a0(e.getBlockElements());return we(t.querySelectorAll(n),u=>l0(i,u))},x1=(e,t,n)=>{var u;const i=n?"lastChild":"firstChild";for(let m=t[i];m;m=m[i])if(au(e,m,{checkRootAsContent:!0})){(u=m.parentNode)==null||u.removeChild(m);return}},o_=(e,t,n)=>{const i=document.createRange(),u=t.parentNode;if(u){i.setStartBefore(t),i.setEndBefore(n);const m=i.extractContents();x1(e,m,!0),i.setStartAfter(n),i.setEndAfter(t);const y=i.extractContents();x1(e,y,!1),au(e,m,{checkRootAsContent:!0})||u.insertBefore(m,t),au(e,n,{checkRootAsContent:!0})||u.insertBefore(n,t),au(e,y,{checkRootAsContent:!0})||u.insertBefore(y,t),u.removeChild(t)}},Lv=(e,t,n)=>{const i=e.getBlockElements(),u=xe.fromDom(t),m=_=>Xo(_)in i,y=_=>cn(_,u);tt(Xa(n),_=>{ea(_,m,y).each(E=>{const N=F(_,j=>m(j)&&!e.isValidChild(Xo(E),Xo(j)));if(N.length>0){const j=pd(E);tt(N,W=>{ea(W,m,y).each(q=>{o_(e,q.dom,W.dom)})}),j.each(W=>y1(e,W.dom))}})})},Il=(e,t,n)=>{tt([...n,...rh(e,t)?[t]:[]],i=>tt(Ae(xe.fromDom(i),i.nodeName.toLowerCase()),u=>{n_(e,u.dom)&&Qi(u)}))},Ag=(e,t)=>{const n=y1(e,t);Lv(e,t,n),Il(e,t,n)},sa=(e,t)=>{if(d0(e,t)){const n=a0(e.getBlockElements());l0(n,t)}},op=(e,t,n)=>{const i=m=>cn(m,xe.fromDom(t)),u=Zr(xe.fromDom(n),i);en(u,u.length-2).filter(mr).fold(()=>Ag(e,t),m=>Ag(e,m.dom))},Tg=e=>e.hasAttribute(vm),c0=(e,t)=>Io(e.getTransparentElements(),t),d0=(e,t)=>eo(t)&&c0(e,t.nodeName),rh=(e,t)=>d0(e,t)&&Tg(t),n_=(e,t)=>d0(e,t)&&!Tg(t),v1=(e,t)=>t.type===1&&c0(e,t.name)&&He(t.attr(vm)),s_=gl().browser,Bv=e=>Wo(e,mr),ra=e=>s_.isFirefox()&&Xo(e)==="table"?Bv(ln(e)).filter(t=>Xo(t)==="caption").bind(t=>Bv(wg(t)).map(n=>{const i=n.dom.offsetTop,u=t.dom.offsetTop,m=t.dom.offsetHeight;return i<=u?-m:0})).getOr(0):0,ih=(e,t)=>e.children&&Qo(e.children,t),r_=(e,t,n)=>{let i=0,u=0;const m=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Pa(xe.fromDom(e),"position")==="static"){const _=t.getBoundingClientRect();return i=_.left+(m.documentElement.scrollLeft||e.scrollLeft)-m.documentElement.clientLeft,u=_.top+(m.documentElement.scrollTop||e.scrollTop)-m.documentElement.clientTop,{x:i,y:u}}let y=t;for(;y&&y!==n&&y.nodeType&&!ih(y,n);){const _=y;i+=_.offsetLeft||0,u+=_.offsetTop||0,y=_.offsetParent}for(y=t.parentNode;y&&y!==n&&y.nodeType&&!ih(y,n);)i-=y.scrollLeft||0,u-=y.scrollTop||0,y=y.parentNode;u+=ra(xe.fromDom(t))}return{x:i,y:u}},i_=(e,t)=>{const n=t.crossOrigin;return t.contentCssCors?"anonymous":yt(n)?n(e):void 0},Pv=(e,t={})=>{let n=0;const i={},u=xe.fromDom(e),m=Nl(u),y=Pe=>{t.referrerPolicy=Pe},_=Pe=>{t.contentCssCors=Pe},E=Pe=>{t.crossOrigin=Pe},N=Pe=>{un(ri(u),Pe)},j=Pe=>{const $e=ri(u);Ys($e,"#"+Pe).each(ts)},W=Pe=>Dn(i,Pe).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),q=Pe=>new Promise(($e,rt)=>{let gt;const Bt=bt._addCacheSuffix(Pe),ro=W(Bt);i[Bt]=ro,ro.count++;const at=(Ro,_n)=>{tt(Ro,to),ro.status=_n,ro.passed=[],ro.failed=[],gt&&(gt.onload=null,gt.onerror=null,gt=null)},Xe=()=>at(ro.passed,2),lt=()=>at(ro.failed,3);if($e&&ro.passed.push($e),rt&&ro.failed.push(rt),ro.status===1)return;if(ro.status===2){Xe();return}if(ro.status===3){lt();return}ro.status=1;const Pt=xe.fromTag("link",m.dom);Ba(Pt,{rel:"stylesheet",type:"text/css",id:ro.id});const wo=i_(Pe,t);wo!==void 0&&Tr(Pt,"crossOrigin",wo),t.referrerPolicy&&Tr(Pt,"referrerpolicy",t.referrerPolicy),gt=Pt.dom,gt.onload=Xe,gt.onerror=lt,N(Pt),Tr(Pt,"href",Bt)}),ne=(Pe,$e)=>{const rt=W(Pe);i[Pe]=rt,rt.count++;const gt=xe.fromTag("style",m.dom);Ba(gt,{rel:"stylesheet",type:"text/css",id:rt.id,"data-mce-key":Pe}),gt.dom.innerHTML=$e,N(gt)},me=Pe=>Promise.allSettled(Do(Pe,rt=>q(rt).then(ft(rt)))).then(rt=>{const gt=ze(rt,Bt=>Bt.status==="fulfilled");return gt.fail.length>0?Promise.reject(Do(gt.fail,Bt=>Bt.reason)):Do(gt.pass,Bt=>Bt.value)}),ce=Pe=>{const $e=bt._addCacheSuffix(Pe);Dn(i,$e).each(rt=>{--rt.count===0&&(delete i[$e],j(rt.id))})};return{load:q,loadRawCss:ne,loadAll:me,unload:ce,unloadRawCss:Pe=>{Dn(i,Pe).each($e=>{--$e.count===0&&(delete i[Pe],j($e.id))})},unloadAll:Pe=>{tt(Pe,$e=>{ce($e)})},_setReferrerPolicy:y,_setContentCssCors:_,_setCrossOrigin:E}},w1=(()=>{const e=new WeakMap;return{forElement:(n,i)=>{const m=Dc(n).dom;return G.from(e.get(m)).getOrThunk(()=>{const y=Pv(m,i);return e.set(m,y),y})}}})(),l_=e=>e.nodeName.toLowerCase()==="span",Kr=(e,t)=>Me(e)&&(g1(t,e)||t.isInline(e.nodeName.toLowerCase())),ai=(e,t,n)=>{const i=new Dr(e,t).prev(!1),u=new Dr(e,t).next(!1),m=lo(i)||Kr(i,n),y=lo(u)||Kr(u,n);return m&&y},Vi=e=>l_(e)&&e.getAttribute("data-mce-type")==="bookmark",ia=(e,t,n)=>_t(e)&&e.data.length>0&&ai(e,t,n),Ei=e=>eo(e)?e.childNodes.length>0:!1,li=e=>n0(e)||bm(e),Og=(e,t,n,i)=>{var y;const u=i||t;if(eo(t)&&Vi(t))return t;const m=t.childNodes;for(let _=m.length-1;_>=0;_--)Og(e,m[_],n,u);if(eo(t)){const _=t.childNodes;_.length===1&&Vi(_[0])&&((y=t.parentNode)==null||y.insertBefore(_[0],t))}return!li(t)&&!g1(n,t)&&!Ei(t)&&!ia(t,u,n)&&e.remove(t),t},k1=bt.makeMap,zg=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u0=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_1=/[<>&\"\']/g,f0=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Iv={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},sf={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},dc={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},np=e=>{const t=xe.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},ah=(e,t)=>{const n={};if(e){const i=e.split(",");t=t||10;for(let u=0;u<i.length;u+=2){const m=String.fromCharCode(parseInt(i[u],t));if(!sf[m]){const y="&"+i[u+1]+";";n[m]=y,n[y]=m}}return n}else return},h0=ah("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Fv=(e,t)=>e.replace(t?zg:u0,n=>sf[n]||n),Hv=e=>(""+e).replace(_1,t=>sf[t]||t),p0=(e,t)=>e.replace(t?zg:u0,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":sf[n]||"&#"+n.charCodeAt(0)+";"),m0=(e,t,n)=>{const i=n||h0;return e.replace(t?zg:u0,u=>sf[u]||i[u]||u)},lu={encodeRaw:Fv,encodeAllRaw:Hv,encodeNumeric:p0,encodeNamed:m0,getEncodeFunc:(e,t)=>{const n=ah(t)||h0,i=(y,_)=>y.replace(_?zg:u0,E=>sf[E]!==void 0?sf[E]:n[E]!==void 0?n[E]:E.length>1?"&#"+((E.charCodeAt(0)-55296)*1024+(E.charCodeAt(1)-56320)+65536)+";":"&#"+E.charCodeAt(0)+";"),u=(y,_)=>m0(y,_,n),m=k1(e.replace(/\+/g,","));return m.named&&m.numeric?i:m.named?t?u:m0:m.numeric?p0:Fv},decode:e=>e.replace(f0,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):Iv[n]||String.fromCharCode(n)):dc[t]||h0[t]||np(t))},ci=(e,t)=>(e=bt.trim(e),e?e.split(t||" "):[]),sp=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),$c=e=>ge(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",b0=e=>{const t=n=>he(n)?Do(n,t):$c(n)?new RegExp(n.source,n.flags):ge(n)?Ea(n,t):n;return t(e)},S1=e=>{const t=/^(~)?(.+)$/;return Ds(ci(e,","),n=>{const i=t.exec(n);if(i){const m=i[1]==="~"?"span":"div",y=i[2];return[{cloneName:m,name:y}]}else return[]})},E1=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),c_=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress template time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const i=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:i}},A1=e=>{const{blockContent:t,phrasingContent:n,flowContent:i}=c_(e),u=m=>Object.freeze(m.split(" "));return Object.freeze({blockContent:u(t),phrasingContent:u(n),flowContent:u(i)})},fE={html4:Aa(()=>A1("html4")),html5:Aa(()=>A1("html5")),"html5-strict":Aa(()=>A1("html5-strict"))},d_=(e,t)=>{const{blockContent:n,phrasingContent:i,flowContent:u}=fE[e]();return t==="blocks"?G.some(n):t==="phrasing"?G.some(i):t==="flow"?G.some(u):G.none()},rp=e=>{const t=E1(e),{phrasingContent:n,flowContent:i}=c_(e),u={},m=(E,N,j)=>{u[E]={attributes:ps(N,ft({})),attributesOrder:N,children:ps(j,ft({}))}},y=(E,N="",j="")=>{const W=ci(j),q=ci(E);let ne=q.length;const me=[...t,...ci(N)];for(;ne--;)m(q[ne],me.slice(),W)},_=(E,N)=>{const j=ci(E),W=ci(N);let q=j.length;for(;q--;){const ne=u[j[q]];for(let me=0,ce=W.length;me<ce;me++)ne.attributes[W[me]]={},ne.attributesOrder.push(W[me])}};return e!=="html5-strict"&&(tt(ci("acronym applet basefont big font strike tt"),j=>{y(j,"",n)}),tt(ci("center dir isindex noframes"),j=>{y(j,"",i)})),y("html","manifest","head body"),y("head","","base command link meta noscript script style title"),y("title hr noscript br"),y("base","href target"),y("link","href rel media hreflang type sizes hreflang"),y("meta","name http-equiv content charset property"),y("style","media type scoped"),y("script","src async defer type charset"),y("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),y("dd div","",i),y("address dt caption","",e==="html4"?n:i),y("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),y("blockquote","cite",i),y("ol","reversed start type","li"),y("ul","","li"),y("li","value",i),y("dl","","dt dd"),y("a","href target rel media hreflang type",e==="html4"?n:i),y("q","cite",n),y("ins del","cite datetime",i),y("img","src sizes srcset alt usemap ismap width height"),y("iframe","src name width height",i),y("embed","src type width height"),y("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),y("param","name value"),y("map","name",[i,"area"].join(" ")),y("area","alt coords shape href target rel media hreflang type"),y("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),y("colgroup","span","col"),y("col","span"),y("tbody thead tfoot","","tr"),y("tr","","td th"),y("td","colspan rowspan headers",i),y("th","colspan rowspan headers scope abbr",i),y("form","accept-charset action autocomplete enctype method name novalidate target",i),y("fieldset","disabled form name",[i,"legend"].join(" ")),y("label","form for",n),y("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),y("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:n),y("select","disabled form multiple name required size","option optgroup"),y("optgroup","disabled label","option"),y("option","disabled label selected value"),y("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),y("menu","type label",[i,"li"].join(" ")),y("noscript","",i),e!=="html4"&&(y("wbr"),y("ruby","",[n,"rt rp"].join(" ")),y("figcaption","",i),y("mark rt rp bdi","",n),y("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),y("canvas","width height",i),y("data","value",n),y("video","src crossorigin poster preload autoplay mediagroup loop controlslist disablepictureinpicture disableremoteplayback playsinline muted controls width height buffered",[i,"track source"].join(" ")),y("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),y("picture","","img source"),y("source","src srcset type media sizes"),y("track","kind src srclang label default"),y("datalist","",[n,"option"].join(" ")),y("article section nav aside main header footer","",i),y("hgroup","","h1 h2 h3 h4 h5 h6"),y("figure","",[i,"figcaption"].join(" ")),y("time","datetime",n),y("dialog","open",i),y("command","type label icon disabled checked radiogroup command"),y("output","for form name",n),y("progress","value max",n),y("meter","value min max low high optimum",n),y("details","open",[i,"summary"].join(" ")),y("keygen","autofocus challenge disabled form keytype name"),m("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(_("script","language xml:space"),_("style","xml:space"),_("object","declare classid code codebase codetype archive standby align border hspace vspace"),_("embed","align name hspace vspace"),_("param","valuetype type"),_("a","charset name rev shape coords"),_("br","clear"),_("applet","codebase archive code object alt name width height align hspace vspace"),_("img","name longdesc align border hspace vspace"),_("iframe","longdesc frameborder marginwidth marginheight scrolling align"),_("font basefont","size color face"),_("input","usemap align"),_("select"),_("textarea"),_("h1 h2 h3 h4 h5 h6 div p legend caption","align"),_("ul","type compact"),_("li","type"),_("ol dl menu dir","compact"),_("pre","width xml:space"),_("hr","align noshade size width"),_("isindex","prompt"),_("table","summary width frame rules cellspacing cellpadding align bgcolor"),_("col","width align char charoff valign"),_("colgroup","width align char charoff valign"),_("thead","align char charoff valign"),_("tr","align char charoff valign bgcolor"),_("th","axis align char charoff valign nowrap bgcolor width height"),_("form","accept"),_("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),_("tfoot","align char charoff valign"),_("tbody","align char charoff valign"),_("area","nohref"),_("body","background bgcolor text link vlink alink")),e!=="html4"&&(_("input button select textarea","autofocus"),_("input textarea","placeholder"),_("a","download"),_("link script img","crossorigin"),_("img","loading"),_("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&tt([u.video,u.audio],E=>{delete E.children.audio,delete E.children.video}),tt(ci("a form meter progress dfn"),E=>{u[E]&&delete u[E].children[E]}),delete u.caption.children.table,delete u.script,u},$v=e=>e==="-"?"remove":"add",lh=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return G.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},T1=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Ds(ci(e,","),n=>{const i=t.exec(n);if(i){const u=i[1],m=u?$v(u):"replace",y=i[2],_=Ds(ci(i[3],"|"),E=>lh(E).toArray());return[{operation:m,name:y,validChildren:_}]}else return[]})},rf=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/,{attributes:u,attributesOrder:m}=t;return tt(ci(e,"|"),y=>{const _=n.exec(y);if(_){const E={},N=_[1],j=_[2].replace(/[\\:]:/g,":"),W=_[3],q=_[4];if(N==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(j),E.required=!0),N==="-"){delete u[j],m.splice(bt.inArray(m,j),1);return}if(W&&(W==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:j,value:q}),E.defaultValue=q):W==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:j,value:q}),E.forcedValue=q):W==="<"&&(E.validValues=bt.makeMap(q,"?"))),i.test(j)){const ne=E;t.attributePatterns=t.attributePatterns||[],ne.pattern=sp(j),t.attributePatterns.push(ne)}else u[j]||m.push(j),u[j]=E}})},y0=(e,t)=>{yn(e.attributes,(n,i)=>{t.attributes[i]=n}),t.attributesOrder.push(...e.attributesOrder)},u_=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Ds(ci(t,","),i=>{const u=n.exec(i);if(u){const m=u[1],y=u[2],_=u[3],E=u[4],N=u[5],j={attributes:{},attributesOrder:[]};if(e.each(W=>y0(W,j)),m==="#"?j.paddEmpty=!0:m==="-"&&(j.removeEmpty=!0),E==="!"&&(j.removeEmptyAttrs=!0),N&&rf(N,j),_&&(j.outputName=y),y==="@")if(e.isNone())e=G.some(j);else return[];return[_?{name:y,element:j,aliasName:_}:{name:y,element:j}]}else return[]})},aa={},rl=bt.makeMap,Mr=bt.each,wm=bt.extend,cu=bt.explode,mn=(e,t={})=>{const n=rl(e," ",rl(e.toUpperCase()," "));return wm(n,t)},co=e=>mn("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),km=(e,t)=>{if(e){const n={};return He(e)&&(e={"*":e}),Mr(e,(i,u)=>{n[u]=n[u.toUpperCase()]=t==="map"?rl(i,/[, ]/):cu(i,/[, ]/)}),n}else return},af=(e={})=>{const t={},n={};let i=[];const u={},m={},y={},_=(Ao,On,Xr)=>{const qs=e[Ao];if(qs)return rl(qs,/[, ]/,rl(qs.toUpperCase(),/[, ]/));{let ws=aa[Ao];return ws||(ws=mn(On,Xr),aa[Ao]=ws),ws}},E=e.schema??"html5",N=rp(E);e.verify_html===!1&&(e.valid_elements="*[*]");const j=km(e.valid_styles),W=km(e.invalid_styles,"map"),q=km(e.valid_classes,"map"),ne=_("whitespace_elements","pre script noscript style textarea video audio iframe object code"),me=_("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ce=_("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),be=_("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Be="td th iframe video audio object script code",Pe=_("non_empty_elements",Be+" pre svg textarea summary",ce),$e=_("move_caret_before_on_enter_elements",Be+" table",ce),rt="h1 h2 h3 h4 h5 h6",gt=_("text_block_elements",rt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Bt=_("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing colgroup col",gt),ro=_("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),at=_("transparent_elements","a ins del canvas map"),Xe=_("wrap_block_elements","pre "+rt);Mr("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Ao=>{m[Ao]=new RegExp("</"+Ao+"[^>]*>","gi")});const lt=Ao=>{const On=G.from(t["@"]),Xr=/[*?+]/;tt(u_(On,Ao??""),({name:qs,element:ws,aliasName:$r})=>{if($r&&(t[$r]=ws),Xr.test(qs)){const ed=ws;ed.pattern=sp(qs),i.push(ed)}else t[qs]=ws})},Pt=Ao=>{i=[],tt(Yi(t),On=>{delete t[On]}),lt(Ao)},wo=(Ao,On)=>{delete aa.text_block_elements,delete aa.block_elements;const Xr=On.extends?!xc(On.extends):!1,qs=On.extends;if(n[Ao]=qs?n[qs]:{},u[Ao]=qs??Ao,Pe[Ao.toUpperCase()]={},Pe[Ao]={},Xr||(Bt[Ao.toUpperCase()]={},Bt[Ao]={}),qs&&!t[Ao]&&t[qs]){const ws=b0(t[qs]);delete ws.removeEmptyAttrs,delete ws.removeEmpty,t[Ao]=ws}else t[Ao]={attributesOrder:[],attributes:{}};if(he(On.attributes)){const ws=ed=>{$r.attributesOrder.push(ed),$r.attributes[ed]={}},$r=t[Ao]??{};delete $r.attributesDefault,delete $r.attributesForced,delete $r.attributePatterns,delete $r.attributesRequired,$r.attributesOrder=[],$r.attributes={},tt(On.attributes,ed=>{const Zl=E1(E);lh(ed).each(({preset:Mu,name:ng})=>{Mu?ng==="global"&&tt(Zl,ws):ws(ng)})}),t[Ao]=$r}if(bo(On.padEmpty)){const ws=t[Ao]??{};ws.paddEmpty=On.padEmpty,t[Ao]=ws}if(he(On.children)){const ws={},$r=Zl=>{ws[Zl]={}},ed=Zl=>{d_(E,Zl).each(Mu=>{tt(Mu,$r)})};tt(On.children,Zl=>{lh(Zl).each(({preset:Mu,name:ng})=>{Mu?ed(ng):$r(ng)})}),n[Ao]=ws}qs&&yn(n,(ws,$r)=>{ws[qs]&&(n[$r]=ws=wm({},n[$r]),ws[Ao]=ws[qs])})},Ro=Ao=>{tt(S1(Ao??""),({name:On,cloneName:Xr})=>{wo(On,{extends:Xr})})},_n=(Ao,On)=>{y[Ao]=On},as=Ao=>{ge(Ao)?yn(Ao,(On,Xr)=>{const qs=On.componentUrl;He(qs)&&_n(Xr,qs),wo(Xr,On)}):He(Ao)&&Ro(Ao)},$s=Ao=>{tt(T1(Ao??""),({operation:On,name:Xr,validChildren:qs})=>{const ws=On==="replace"?{"#comment":{}}:n[Xr],$r=Zl=>{On==="remove"?delete ws[Zl]:ws[Zl]={}},ed=Zl=>{d_(E,Zl).each(Mu=>{tt(Mu,$r)})};tt(qs,({preset:Zl,name:Mu})=>{Zl?ed(Mu):$r(Mu)}),n[Xr]=ws})},Qs=Ao=>{const On=t[Ao];if(On)return On;let Xr=i.length;for(;Xr--;){const qs=i[Xr];if(qs.pattern.test(Ao))return qs}},Mi=()=>{e.valid_elements?(Pt(e.valid_elements),Mr(N,(Ao,On)=>{n[On]=Ao.children})):(Mr(N,(Ao,On)=>{t[On]={attributes:Ao.attributes,attributesOrder:Ao.attributesOrder},n[On]=Ao.children}),Mr(ci("strong/b em/i"),Ao=>{const On=ci(Ao,"/");t[On[1]].outputName=On[0]}),Mr(ro,(Ao,On)=>{t[On]&&(e.padd_empty_block_inline_children&&(t[On].paddInEmptyBlock=!0),t[On].removeEmpty=!0)}),Mr(ci("ol ul blockquote a table tbody"),Ao=>{t[Ao]&&(t[Ao].removeEmpty=!0)}),Mr(ci("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Ao=>{t[Ao]&&(t[Ao].paddEmpty=!0)}),Mr(ci("span"),Ao=>{t[Ao].removeEmptyAttrs=!0})),delete t.svg,as(e.custom_elements),$s(e.valid_children),lt(e.extended_valid_elements),$s("+ol[ul|ol],+ul[ul|ol]"),Mr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Ao,On)=>{t[On]&&(t[On].parentsRequired=ci(Ao))}),e.invalid_elements&&Mr(cu(e.invalid_elements),Ao=>{t[Ao]&&delete t[Ao]}),Qs("span")||lt("span[!data-mce-type|*]")},Du=ft(j),It=ft(W),ho=ft(q),Gn=ft(be),Yn=ft(Bt),ao=ft(gt),Et=ft(ro),$t=ft(Object.seal(ce)),go=ft(me),Uo=ft(Pe),Tn=ft($e),Vs=ft(ne),Ah=ft(at),Ka=ft(Xe),Th=ft(Object.seal(m)),Oh=(Ao,On)=>{const Xr=n[Ao.toLowerCase()];return!!(Xr&&Xr[On.toLowerCase()])},Jc=(Ao,On)=>{const Xr=Qs(Ao);if(Xr)if(On){if(Xr.attributes[On])return!0;const qs=Xr.attributePatterns;if(qs){let ws=qs.length;for(;ws--;)if(qs[ws].pattern.test(On))return!0}}else return!0;return!1},xc=Ao=>Io(Yn(),Ao),Rf=Ao=>!Ws(Ao,"#")&&Jc(Ao)&&!xc(Ao),Jx=Ao=>Io(Ka(),Ao)||Rf(Ao),ev=ft(u),xS=ft(y);return Mi(),{type:E,children:n,elements:t,getValidStyles:Du,getValidClasses:ho,getBlockElements:Yn,getInvalidStyles:It,getVoidElements:$t,getTextBlockElements:ao,getTextInlineElements:Et,getBoolAttrs:Gn,getElementRule:Qs,getSelfClosingElements:go,getNonEmptyElements:Uo,getMoveCaretBeforeOnEnterElements:Tn,getWhitespaceElements:Vs,getTransparentElements:Ah,getSpecialElements:Th,getComponentUrls:xS,isValidChild:Oh,isValid:Jc,isBlock:xc,isInline:Rf,isWrapper:Jx,getCustomElements:ev,addValidElements:lt,setValidElements:Pt,addCustomElements:as,addValidChildren:$s}},Vv=e=>({value:x0(e)}),x0=e=>mg(e,"#").toUpperCase(),is=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},ip=e=>{const t=is(e.red)+is(e.green)+is(e.blue);return Vv(t)},v0=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,ct=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,O1=(e,t,n,i)=>({red:e,green:t,blue:n,alpha:i}),Dg=(e,t,n,i)=>{const u=parseInt(e,10),m=parseInt(t,10),y=parseInt(n,10),_=parseFloat(i);return O1(u,m,y,_)},Mg=e=>v0.test(e)?"rgb":ct.test(e)?"rgba":"other",z1=e=>{const t=v0.exec(e);if(t!==null)return G.some(Dg(t[1],t[2],t[3],"1"));const n=ct.exec(e);return n!==null?G.some(Dg(n[1],n[2],n[3],n[4])):G.none()},ch=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,_m=e=>z1(e).map(ip).map(t=>"#"+t.value).getOr(e),du=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,m={};let y,_;const E=pl;t&&(y=t.getValidStyles(),_=t.getInvalidStyles());const N=(`\\" \\' \\; \\: ; : `+E).split(" ");for(let W=0;W<N.length;W++)m[N[W]]=E+W,m[E+W]=N[W];const j={parse:W=>{const q={};let ne=!1;const me=e.url_converter,ce=e.url_converter_scope||j,be=(at,Xe,lt)=>{const Pt=q[at+"-top"+Xe];if(!Pt)return;const wo=q[at+"-right"+Xe];if(!wo)return;const Ro=q[at+"-bottom"+Xe];if(!Ro)return;const _n=q[at+"-left"+Xe];if(!_n)return;const as=[Pt,wo,Ro,_n];let $s=as.length-1;for(;$s--&&as[$s]===as[$s+1];);$s>-1&&lt||(q[at+Xe]=$s===-1?as[0]:as.join(" "),delete q[at+"-top"+Xe],delete q[at+"-right"+Xe],delete q[at+"-bottom"+Xe],delete q[at+"-left"+Xe])},Be=at=>{const Xe=q[at];if(!Xe)return;const lt=Xe.indexOf(",")>-1?[Xe]:Xe.split(" ");let Pt=lt.length;for(;Pt--;)if(lt[Pt]!==lt[0])return!1;return q[at]=lt[0],!0},Pe=(at,Xe,lt,Pt)=>{Be(Xe)&&Be(lt)&&Be(Pt)&&(q[at]=q[Xe]+" "+q[lt]+" "+q[Pt],delete q[Xe],delete q[lt],delete q[Pt])},$e=at=>(ne=!0,m[at]),rt=(at,Xe)=>(ne&&(at=at.replace(/\uFEFF[0-9]/g,lt=>m[lt])),Xe||(at=at.replace(/\\([\'\";:])/g,"$1")),at),gt=at=>String.fromCharCode(parseInt(at.slice(1),16)),Bt=at=>at.replace(/\\[0-9a-f]+/gi,gt),ro=(at,Xe,lt,Pt,wo,Ro)=>{if(wo=wo||Ro,wo)return wo=rt(wo),"'"+wo.replace(/\'/g,"\\'")+"'";if(Xe=rt(Xe||lt||Pt||""),!e.allow_script_urls){const _n=Xe.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(_n)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(_n))return""}return me&&(Xe=me.call(ce,Xe,"style")),"url('"+Xe.replace(/\'/g,"\\'")+"')"};if(W){W=W.replace(/[\u0000-\u001F]/g,""),W=W.replace(/\\[\"\';:\uFEFF]/g,$e).replace(/\"[^\"]+\"|\'[^\']+\'/g,Xe=>Xe.replace(/[;:]/g,$e));let at;for(;at=i.exec(W);){i.lastIndex=at.index+at[0].length;let Xe=at[1].replace(u,"").toLowerCase(),lt=at[2].replace(u,"");if(Xe&&lt){if(Xe=Bt(Xe),lt=Bt(lt),Xe.indexOf(E)!==-1||Xe.indexOf('"')!==-1||!e.allow_script_urls&&(Xe==="behavior"||/expression\s*\(|\/\*|\*\//.test(lt)))continue;Xe==="font-weight"&&lt==="700"?lt="bold":(Xe==="color"||Xe==="background-color")&&(lt=lt.toLowerCase()),Mg(lt)==="rgb"&&z1(lt).each(Pt=>{lt=_m(ch(Pt)).toLowerCase()}),lt=lt.replace(n,ro),q[Xe]=ne?rt(lt,!0):lt}}be("border","",!0),be("border","-width"),be("border","-color"),be("border","-style"),be("padding",""),be("margin",""),Pe("border","border-width","border-style","border-color"),q.border==="medium none"&&delete q.border,q["border-image"]==="none"&&delete q["border-image"]}return q},serialize:(W,q)=>{let ne="";const me=(be,Be)=>{const Pe=Be[be];if(Pe)for(let $e=0,rt=Pe.length;$e<rt;$e++){const gt=Pe[$e],Bt=W[gt];Bt&&(ne+=(ne.length>0?" ":"")+gt+": "+Bt+";")}},ce=(be,Be)=>{if(!_||!Be)return!0;let Pe=_["*"];return Pe&&Pe[be]?!1:(Pe=_[Be],!(Pe&&Pe[be]))};return q&&y?(me("*",y),me(q,y)):yn(W,(be,Be)=>{be&&ce(Be,q)&&(ne+=(ne.length>0?" ":"")+Be+": "+be+";")}),ne}};return j},Cs={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},_d=e=>e instanceof Event||yt(e.initEvent),f_=e=>e.isDefaultPrevented===fo||e.isDefaultPrevented===_o,lf=e=>Kt(e.preventDefault)||_d(e),Cd=(e,t)=>{const n=t??{};for(const i in e)Io(Cs,i)||(n[i]=e[i]);return Me(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Me(e.getModifierState)&&(n.getModifierState=i=>e.getModifierState(i)),Me(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},Ng=(e,t,n,i)=>{const u=Cd(t,i);return u.type=e,Kt(u.target)&&(u.target=u.srcElement??n),lf(t)&&(u.preventDefault=()=>{u.defaultPrevented=!0,u.isDefaultPrevented=fo,yt(t.preventDefault)&&t.preventDefault()},u.stopPropagation=()=>{u.cancelBubble=!0,u.isPropagationStopped=fo,yt(t.stopPropagation)&&t.stopPropagation()},u.stopImmediatePropagation=()=>{u.isImmediatePropagationStopped=fo,u.stopPropagation()},f_(u)||(u.isDefaultPrevented=u.defaultPrevented===!0?fo:_o,u.isPropagationStopped=u.cancelBubble===!0?fo:_o,u.isImmediatePropagationStopped=_o)),u},hE="mce-data-",h_=/^(?:mouse|contextmenu)|click/,Ct=(e,t,n,i)=>{e.addEventListener(t,n,i||!1)},D1=(e,t,n,i)=>{e.removeEventListener(t,n,i||!1)},ji=e=>Me(e)&&h_.test(e.type),w0=(e,t)=>{const n=Ng(e.type,e,document,t);if(ji(e)&&lo(e.pageX)&&!lo(e.clientX)){const i=n.target.ownerDocument||document,u=i.documentElement,m=i.body,y=n;y.pageX=e.clientX+(u&&u.scrollLeft||m&&m.scrollLeft||0)-(u&&u.clientLeft||m&&m.clientLeft||0),y.pageY=e.clientY+(u&&u.scrollTop||m&&m.scrollTop||0)-(u&&u.clientTop||m&&m.clientTop||0)}return n},jv=(e,t,n)=>{const i=e.document,u={type:"ready"};if(n.domLoaded){t(u);return}const m=()=>i.readyState==="complete"||i.readyState==="interactive"&&i.body,y=()=>{D1(e,"DOMContentLoaded",y),D1(e,"load",y),n.domLoaded||(n.domLoaded=!0,t(u)),e=null};m()?y():Ct(e,"DOMContentLoaded",y),n.domLoaded||Ct(e,"load",y)},iB=class iB{constructor(){vt(this,"domLoaded",!1);vt(this,"events",{});vt(this,"expando");vt(this,"hasFocusIn");vt(this,"count",1);this.expando=hE+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,i,u){const m=this;let y;const _=window,E=q=>{m.executeHandlers(w0(q||_.event),N)};if(!t||_t(t)||iu(t))return i;let N;t[m.expando]?N=t[m.expando]:(N=m.count++,t[m.expando]=N,m.events[N]={}),u=u||t;const j=n.split(" ");let W=j.length;for(;W--;){let q=j[W],ne=E,me=!1,ce=!1;if(q==="DOMContentLoaded"&&(q="ready"),m.domLoaded&&q==="ready"&&t.readyState==="complete"){i.call(u,w0({type:q}));continue}!m.hasFocusIn&&(q==="focusin"||q==="focusout")&&(me=!0,ce=q==="focusin"?"focus":"blur",ne=be=>{const Be=w0(be||_.event);Be.type=Be.type==="focus"?"focusin":"focusout",m.executeHandlers(Be,N)}),y=m.events[N][q],y?q==="ready"&&m.domLoaded?i(w0({type:q})):y.push({func:i,scope:u}):(m.events[N][q]=y=[{func:i,scope:u}],y.fakeName=ce,y.capture=me,y.nativeHandler=ne,q==="ready"?jv(t,ne,m):Ct(t,ce||q,ne,me))}return t=y=null,i}unbind(t,n,i){if(!t||_t(t)||iu(t))return this;const u=t[this.expando];if(u){let m=this.events[u];if(n){const y=n.split(" ");let _=y.length;for(;_--;){const E=y[_],N=m[E];if(N){if(i){let j=N.length;for(;j--;)if(N[j].func===i){const W=N.nativeHandler,q=N.fakeName,ne=N.capture,me=N.slice(0,j).concat(N.slice(j+1));me.nativeHandler=W,me.fakeName=q,me.capture=ne,m[E]=me}}(!i||N.length===0)&&(delete m[E],D1(t,N.fakeName||E,N.nativeHandler,N.capture))}}}else yn(m,(y,_)=>{D1(t,y.fakeName||_,y.nativeHandler,y.capture)}),m={};for(const y in m)if(Io(m,y))return this;delete this.events[u];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,i){return this.dispatch(t,n,i)}dispatch(t,n,i){if(!t||_t(t)||iu(t))return this;const u=w0({type:n,target:t},i);do{const m=t[this.expando];m&&this.executeHandlers(u,m),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!u.isPropagationStopped());return this}clean(t){if(!t||_t(t)||iu(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let i=n.length;for(;i--;)t=n[i],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const i=this.events[n],u=i&&i[t.type];if(u)for(let m=0,y=u.length;m<y;m++){const _=u[m];if(_&&_.func.call(_.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}};vt(iB,"Event",new iB);let ap=iB;const Co=bt.each,Uv=bt.grep,Rg="data-mce-style",pE=bt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),cf=(e,t,n)=>{Kt(n)||n===""?Or(e,t):Tr(e,t,n)},Mo=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),lp=(e,t)=>{let n=0;if(e)for(let i=e.nodeType,u=e.previousSibling;u;u=u.previousSibling){const m=u.nodeType;t&&_t(u)&&(m===i||!u.data.length)||(n++,i=m)}return n},df=(e,t)=>{const n=fr(t,"style"),i=e.serialize(e.parse(n),Xo(t));cf(t,Rg,i)},Vc=(e,t)=>I(e)?Io(pE,t)?e+"":e+"px":e,cp=(e,t,n)=>{const i=Mo(t);Kt(n)||n===""?ba(e,i):gd(e,i,Vc(n,i))},wl=(e,t,n)=>{const i=t.keep_values,u={set:(y,_,E)=>{const N=xe.fromDom(y);yt(t.url_converter)&&Me(_)&&(_=t.url_converter.call(t.url_converter_scope||n(),String(_),E,y));const j="data-mce-"+E;cf(N,j,_),cf(N,E,_)},get:(y,_)=>{const E=xe.fromDom(y);return fr(E,"data-mce-"+_)||fr(E,_)}},m={style:{set:(y,_)=>{const E=xe.fromDom(y);i&&cf(E,Rg,_),Or(E,"style"),He(_)&&Yu(E,e.parse(_))},get:y=>{const _=xe.fromDom(y),E=fr(_,Rg)||fr(_,"style");return e.serialize(e.parse(E),Xo(_))}}};return i&&(m.href=m.src=u),m},Kn=(e,t={})=>{const n={},i=window,u={};let m=0;const y=!0,_=!0,E=w1.forElement(xe.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy,crossOrigin:qe=>{const Qe=t.crossOrigin;if(yt(Qe))return Qe(qe,"stylesheet")}}),N=[],j=t.schema?t.schema:af({}),W=du({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),q=t.ownEvents?new ap:ap.Event,ne=j.getBlockElements(),me=qe=>He(qe)?Io(ne,qe):eo(qe)&&(Io(ne,qe.nodeName)||rh(j,qe)),ce=qe=>qe&&e&&He(qe)?e.getElementById(qe):qe,be=qe=>{const Qe=ce(qe);return Me(Qe)?xe.fromDom(Qe):null},Be=(qe,Qe,Vt="")=>{let Nt;const Ho=be(qe);if(Me(Ho)&&mr(Ho)){const Zn=lB[Qe];Zn&&Zn.get?Nt=Zn.get(Ho.dom,Qe):Nt=fr(Ho,Qe)}return Me(Nt)?Nt:Vt},Pe=qe=>{const Qe=ce(qe);return Kt(Qe)?[]:Qe.attributes},$e=(qe,Qe,Vt)=>{ho(qe,Nt=>{if(eo(Nt)){const Ho=xe.fromDom(Nt),Zn=Vt===""?null:Vt,Qr=fr(Ho,Qe),sg=lB[Qe];sg&&sg.set?sg.set(Ho.dom,Zn,Qe):cf(Ho,Qe,Zn),Qr!==Zn&&t.onSetAttrib&&t.onSetAttrib({attrElm:Ho.dom,attrName:Qe,attrValue:Zn})}})},rt=(qe,Qe)=>qe.cloneNode(Qe),gt=()=>t.root_element||e.body,Bt=qe=>{const Qe=ru(qe);return{x:Qe.x,y:Qe.y,w:Qe.width,h:Qe.height}},ro=(qe,Qe)=>r_(e.body,ce(qe),Qe),at=(qe,Qe,Vt)=>{ho(qe,Nt=>{const Ho=xe.fromDom(Nt);cp(Ho,Qe,Vt),t.update_styles&&df(W,Ho)})},Xe=(qe,Qe)=>{ho(qe,Vt=>{const Nt=xe.fromDom(Vt);yn(Qe,(Ho,Zn)=>{cp(Nt,Zn,Ho)}),t.update_styles&&df(W,Nt)})},lt=(qe,Qe,Vt)=>{const Nt=ce(qe);if(!(Kt(Nt)||!sn(Nt)&&!vl(Nt)))return Vt?Pa(xe.fromDom(Nt),Mo(Qe)):(Qe=Qe.replace(/-(\D)/g,(Ho,Zn)=>Zn.toUpperCase()),Qe==="float"&&(Qe="cssFloat"),Nt.style?Nt.style[Qe]:void 0)},Pt=qe=>{const Qe=ce(qe);if(!Qe)return{w:0,h:0};let Vt=lt(Qe,"width"),Nt=lt(Qe,"height");return(!Vt||Vt.indexOf("px")===-1)&&(Vt="0"),(!Nt||Nt.indexOf("px")===-1)&&(Nt="0"),{w:parseInt(Vt,10)||Qe.offsetWidth||Qe.clientWidth,h:parseInt(Nt,10)||Qe.offsetHeight||Qe.clientHeight}},wo=qe=>{const Qe=ce(qe),Vt=ro(Qe),Nt=Pt(Qe);return{x:Vt.x,y:Vt.y,w:Nt.w,h:Nt.h}},Ro=(qe,Qe)=>{if(!qe)return!1;const Vt=he(qe)?qe:[qe];return Rn(Vt,Nt=>jn(xe.fromDom(Nt),Qe))},_n=(qe,Qe,Vt,Nt)=>{const Ho=[];let Zn=ce(qe);Nt=Nt===void 0;const Qr=Vt||(gt().nodeName!=="BODY"?gt().parentNode:null);if(He(Qe))if(Qe==="*")Qe=eo;else{const sg=Qe;Qe=Rp=>Ro(Rp,sg)}for(;Zn&&!(Zn===Qr||Kt(Zn.nodeType)||bm(Zn)||n0(Zn));){if(!Qe||Qe(Zn))if(Nt)Ho.push(Zn);else return[Zn];Zn=Zn.parentNode}return Nt?Ho:null},as=(qe,Qe,Vt)=>{const Nt=_n(qe,Qe,Vt,!1);return Nt&&Nt.length>0?Nt[0]:null},$s=(qe,Qe,Vt)=>{let Nt=Qe;if(qe){He(Qe)&&(Nt=Ho=>Ro(Ho,Qe));for(let Ho=qe[Vt];Ho;Ho=Ho[Vt])if(yt(Nt)&&Nt(Ho))return Ho}return null},Qs=(qe,Qe)=>$s(qe,Qe,"nextSibling"),Mi=(qe,Qe)=>$s(qe,Qe,"previousSibling"),Du=qe=>yt(qe.querySelectorAll),It=(qe,Qe)=>{const Vt=ce(Qe)??t.root_element??e;return Du(Vt)?jt(Vt.querySelectorAll(qe)):[]},ho=function(qe,Qe,Vt){const Nt=Vt??this;if(he(qe)){const Ho=[];return Co(qe,(Zn,Qr)=>{const sg=ce(Zn);sg&&Ho.push(Qe.call(Nt,sg,Qr))}),Ho}else{const Ho=ce(qe);return Ho?Qe.call(Nt,Ho):!1}},Gn=(qe,Qe)=>{ho(qe,Vt=>{yn(Qe,(Nt,Ho)=>{$e(Vt,Ho,Nt)})})},Yn=(qe,Qe)=>{ho(qe,Vt=>{const Nt=xe.fromDom(Vt);Gu(Nt,Qe)})},ao=(qe,Qe,Vt,Nt,Ho)=>ho(qe,Zn=>{const Qr=He(Qe)?e.createElement(Qe):Qe;return Me(Vt)&&Gn(Qr,Vt),Nt&&(!He(Nt)&&Nt.nodeType?Qr.appendChild(Nt):He(Nt)&&Yn(Qr,Nt)),Ho?Qr:Zn.appendChild(Qr)}),Et=(qe,Qe,Vt)=>ao(e.createElement(qe),qe,Qe,Vt,!0),$t=lu.decode,go=lu.encodeAllRaw,Uo=(qe,Qe,Vt="")=>{let Nt="<"+qe;for(const Ho in Qe)je(Qe,Ho)&&(Nt+=" "+Ho+'="'+go(Qe[Ho])+'"');return ad(Vt)&&Io(j.getVoidElements(),qe)?Nt+" />":Nt+">"+Vt+"</"+qe+">"},Tn=qe=>{const Qe=e.createElement("div"),Vt=e.createDocumentFragment();Vt.appendChild(Qe),qe&&(Qe.innerHTML=qe);let Nt;for(;Nt=Qe.firstChild;)Vt.appendChild(Nt);return Vt.removeChild(Qe),Vt},Vs=(qe,Qe)=>ho(qe,Vt=>{const Nt=xe.fromDom(Vt);return Qe&&tt(ln(Nt),Ho=>{Ii(Ho)&&Ho.dom.length===0?ts(Ho):ii(Nt,Ho)}),ts(Nt),Nt.dom}),Ah=qe=>ho(qe,Qe=>{const Vt=Qe.attributes;for(let Nt=Vt.length-1;Nt>=0;Nt--)Qe.removeAttributeNode(Vt.item(Nt))}),Ka=qe=>W.parse(qe),Th=(qe,Qe)=>W.serialize(qe,Qe),Oh=qe=>{if(ov!==Kn.DOM&&e===document){if(n[qe])return;n[qe]=!0}let Qe=e.getElementById("mceDefaultStyles");if(!Qe){Qe=e.createElement("style"),Qe.id="mceDefaultStyles",Qe.type="text/css";const Vt=e.head;Vt.firstChild?Vt.insertBefore(Qe,Vt.firstChild):Vt.appendChild(Qe)}Qe.styleSheet?Qe.styleSheet.cssText+=qe:Qe.appendChild(e.createTextNode(qe))},Jc=qe=>{qe||(qe=""),tt(qe.split(","),Qe=>{u[Qe]=!0,E.load(Qe).catch(Ft)})},xc=(qe,Qe,Vt)=>{ho(qe,Nt=>{if(eo(Nt)){const Ho=xe.fromDom(Nt),Zn=Qe.split(" ");tt(Zn,Qr=>{Me(Vt)?(Vt?xl:$i)(Ho,Qr):yi(Ho,Qr)})}})},Rf=(qe,Qe)=>{xc(qe,Qe,!0)},Jx=(qe,Qe)=>{xc(qe,Qe,!1)},ev=(qe,Qe)=>{const Vt=be(qe),Nt=Qe.split(" ");return Me(Vt)&&Sr(Nt,Ho=>ds(Vt,Ho))},xS=qe=>{ho(qe,Qe=>ba(xe.fromDom(Qe),"display"))},Ao=qe=>{ho(qe,Qe=>gd(xe.fromDom(Qe),"display","none"))},On=qe=>{const Qe=be(qe);return Me(Qe)&&Ur(bd(Qe,"display"),"none")},Xr=qe=>(qe||"mce_")+m++,qs=qe=>{const Qe=be(qe);return Me(Qe)?eo(Qe.dom)?Qe.dom.outerHTML:n1(Qe):""},ws=(qe,Qe)=>{ho(qe,Vt=>{eo(Vt)&&(Vt.outerHTML=Qe)})},$r=(qe,Qe)=>{const Vt=ce(Qe);return ho(qe,Nt=>{const Ho=Vt==null?void 0:Vt.parentNode,Zn=Vt==null?void 0:Vt.nextSibling;return Ho&&(Zn?Ho.insertBefore(Nt,Zn):Ho.appendChild(Nt)),Nt})},ed=(qe,Qe,Vt)=>ho(Qe,Nt=>{var Zn;const Ho=he(Qe)?qe.cloneNode(!0):qe;return Vt&&Co(Uv(Nt.childNodes),Qr=>{Ho.appendChild(Qr)}),(Zn=Nt.parentNode)==null||Zn.replaceChild(Ho,Nt),Nt}),Zl=(qe,Qe)=>{if(qe.nodeName!==Qe.toUpperCase()){const Vt=Et(Qe);return Co(Pe(qe),Nt=>{$e(Vt,Nt.nodeName,Be(qe,Nt.nodeName))}),ed(Vt,qe,!0),Vt}else return qe},Mu=(qe,Qe)=>{let Vt=qe;for(;Vt;){let Nt=Qe;for(;Nt&&Vt!==Nt;)Nt=Nt.parentNode;if(Vt===Nt)break;Vt=Vt.parentNode}return!Vt&&qe.ownerDocument?qe.ownerDocument.documentElement:Vt},ng=(qe,Qe,Vt)=>Ie(Qe)?au(j,qe,{...Vt,isContent:Ho=>{const Zn=Ho.nodeName.toLowerCase();return!!Qe[Zn]}}):au(j,qe,Vt),vS=()=>e.createRange(),wS=(qe,Qe,Vt)=>{let Nt=vS(),Ho,Zn;if(qe&&Qe&&qe.parentNode&&Qe.parentNode){const Qr=qe.parentNode;return Nt.setStart(Qr,lp(qe)),Nt.setEnd(Qe.parentNode,lp(Qe)),Ho=Nt.extractContents(),Nt=vS(),Nt.setStart(Qe.parentNode,lp(Qe)+1),Nt.setEnd(Qr,lp(qe)+1),Zn=Nt.extractContents(),Qr.insertBefore(Og(ov,Ho,j),qe),Vt?Qr.insertBefore(Vt,qe):Qr.insertBefore(Qe,qe),Qr.insertBefore(Og(ov,Zn,j),qe),Vs(qe),Vt||Qe}else return},Tk=(qe,Qe,Vt,Nt)=>{if(he(qe)){let Ho=qe.length;const Zn=[];for(;Ho--;)Zn[Ho]=Tk(qe[Ho],Qe,Vt,Nt);return Zn}else return t.collect&&(qe===e||qe===i)&&N.push([qe,Qe,Vt,Nt]),q.bind(qe,Qe,Vt,Nt||ov)},Np=(qe,Qe,Vt)=>{if(he(qe)){let Nt=qe.length;const Ho=[];for(;Nt--;)Ho[Nt]=Np(qe[Nt],Qe,Vt);return Ho}else{if(N.length>0&&(qe===e||qe===i)){let Nt=N.length;for(;Nt--;){const[Ho,Zn,Qr]=N[Nt];qe===Ho&&(!Qe||Qe===Zn)&&(!Vt||Vt===Qr)&&q.unbind(Ho,Zn,Qr)}}return q.unbind(qe,Qe,Vt)}},tv=(qe,Qe,Vt)=>q.dispatch(qe,Qe,Vt),aO=(qe,Qe,Vt)=>q.dispatch(qe,Qe,Vt),kS=qe=>{if(qe&&sn(qe)){const Qe=qe.getAttribute("data-mce-contenteditable");return Qe&&Qe!=="inherit"?Qe:qe.contentEditable!=="inherit"?qe.contentEditable:null}else return null},ov={doc:e,settings:t,win:i,files:u,stdMode:y,boxModel:_,styleSheetLoader:E,boundEvents:N,styles:W,schema:j,events:q,isBlock:me,root:null,clone:rt,getRoot:gt,getViewPort:Bt,getRect:wo,getSize:Pt,getParent:as,getParents:_n,get:ce,getNext:Qs,getPrev:Mi,select:It,is:Ro,add:ao,create:Et,createHTML:Uo,createFragment:Tn,remove:Vs,setStyle:at,getStyle:lt,setStyles:Xe,removeAllAttribs:Ah,setAttrib:$e,setAttribs:Gn,getAttrib:Be,getPos:ro,parseStyle:Ka,serializeStyle:Th,addStyle:Oh,loadCSS:Jc,addClass:Rf,removeClass:Jx,hasClass:ev,toggleClass:xc,show:xS,hide:Ao,isHidden:On,uniqueId:Xr,setHTML:Yn,getOuterHTML:qs,setOuterHTML:ws,decode:$t,encode:go,insertAfter:$r,replace:ed,rename:Zl,findCommonAncestor:Mu,run:ho,getAttribs:Pe,isEmpty:ng,createRng:vS,nodeIndex:lp,split:wS,bind:Tk,unbind:Np,fire:aO,dispatch:tv,getContentEditable:kS,getContentEditableParent:qe=>{const Qe=gt();let Vt=null;for(let Nt=qe;Nt&&Nt!==Qe&&(Vt=kS(Nt),Vt===null);Nt=Nt.parentNode);return Vt},isEditable:qe=>{if(Me(qe)){const Qe=eo(qe)?qe:qe.parentElement;return Me(Qe)&&sn(Qe)&&Qa(xe.fromDom(Qe))}else return!1},destroy:()=>{if(N.length>0){let qe=N.length;for(;qe--;){const[Qe,Vt,Nt]=N[qe];q.unbind(Qe,Vt,Nt)}}yn(u,(qe,Qe)=>{E.unload(Qe),delete u[Qe]})},isChildOf:(qe,Qe)=>qe===Qe||Qe.contains(qe),dumpRng:qe=>"startContainer: "+qe.startContainer.nodeName+", startOffset: "+qe.startOffset+", endContainer: "+qe.endContainer.nodeName+", endOffset: "+qe.endOffset},lB=wl(W,t,ft(ov));return ov};Kn.DOM=Kn(document),Kn.nodeIndex=lp;const Lg=Kn.DOM,k0=0,Cm=1,jc=2,uu=3,aB=class aB{constructor(t={}){vt(this,"settings");vt(this,"states",{});vt(this,"queue",[]);vt(this,"scriptLoadedCallbacks",{});vt(this,"queueLoadedCallbacks",[]);vt(this,"loading",!1);this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}_setCrossOrigin(t){this.settings.crossOrigin=t}loadScript(t){return new Promise((n,i)=>{const u=Lg,m=document;let y;const _=()=>{u.remove(j),y&&(y.onerror=y.onload=y=null)},E=()=>{_(),n()},N=()=>{_(),i("Failed to load script: "+t)},j=u.uniqueId();y=m.createElement("script"),y.id=j,y.type="text/javascript",y.src=bt._addCacheSuffix(t),this.settings.referrerPolicy&&u.setAttrib(y,"referrerpolicy",this.settings.referrerPolicy);const W=this.settings.crossOrigin;if(yt(W)){const q=W(t);q!==void 0&&u.setAttrib(y,"crossorigin",q)}y.onload=E,y.onerror=N,(m.head||m.body).appendChild(y)})}isDone(t){return this.states[t]===jc}markDone(t){this.states[t]=jc}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=k0),new Promise((u,m)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:u,reject:m})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,i=(E,N)=>{Dn(n.scriptLoadedCallbacks,N).each(j=>{tt(j,W=>W[E](N))}),delete n.scriptLoadedCallbacks[N]},u=E=>{const N=we(E,j=>j.status==="rejected");return N.length>0?Promise.reject(Ds(N,({reason:j})=>he(j)?j:[j])):Promise.resolve()},m=E=>Promise.allSettled(Do(E,N=>n.states[N]===jc?(i("resolve",N),Promise.resolve()):n.states[N]===uu?(i("reject",N),Promise.reject(N)):(n.states[N]=Cm,n.loadScript(N).then(()=>{n.states[N]=jc,i("resolve",N);const j=n.queue;return j.length>0?(n.queue=[],m(j).then(u)):Promise.resolve()},()=>(n.states[N]=uu,i("reject",N),Promise.reject(N)))))),y=E=>(n.loading=!0,m(E).then(N=>{n.loading=!1;const j=n.queueLoadedCallbacks.shift();return G.from(j).each(to),u(N)})),_=Ih(t);return n.loading?new Promise((E,N)=>{n.queueLoadedCallbacks.push(()=>{y(_).then(E,N)})}):y(_)}getScriptAttributes(t){const n={};this.settings.referrerPolicy&&(n.referrerpolicy=this.settings.referrerPolicy);const i=this.settings.crossOrigin;if(yt(i)){const u=i(t);He(u)&&(n.crossorigin=u)}return n}};vt(aB,"ScriptLoader",new aB);let $a=aB;const _0=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},p_=e=>ge(e)&&Io(e,"raw"),Wv=e=>he(e)&&e.length>1,C0={},S0=Mn("en"),kn=()=>Dn(C0,S0.get()),uc={getData:()=>Ea(C0,e=>({...e})),setCode:e=>{e&&S0.set(e)},getCode:()=>S0.get(),add:(e,t)=>{let n=C0[e];n||(C0[e]=n={});const i=Do(Yi(t),u=>u.toLowerCase());yn(t,(u,m)=>{const y=m.toLowerCase();y!==m&&_0(i,y)?(Io(t,y)||(n[y]=u),n[m]=u):n[y]=u})},translate:e=>{const t=kn().getOr({}),n=_=>yt(_)?Object.prototype.toString.call(_):i(_)?"":""+_,i=_=>_===""||_===null||_===void 0,u=_=>{const E=n(_);return Io(t,E)?n(t[E]):Dn(t,E.toLowerCase()).map(n).getOr(E)},m=_=>_.replace(/{context:\w+}$/,""),y=_=>_.replaceAll("...",ml);if(i(e))return"";if(p_(e))return y(n(e.raw));if(Wv(e)){const _=e.slice(1),E=u(e[0]).replace(/\{([0-9]+)\}/g,(N,j)=>Io(_,j)?n(_[j]):N);return y(m(E))}return y(m(u(e)))},isRtl:()=>kn().bind(e=>Dn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Io(C0,e)},ka=()=>{const e=[],t={},n={},i=[],u=(ce,be)=>{const Be=we(i,Pe=>Pe.name===ce&&Pe.state===be);tt(Be,Pe=>Pe.resolve())},m=ce=>Io(t,ce),y=ce=>Io(n,ce),_=ce=>{if(n[ce])return n[ce].instance},E=(ce,be)=>{const Be=uc.getCode(),Pe=","+(be||"")+",";!Be||be&&Pe.indexOf(","+Be+",")===-1||$a.ScriptLoader.add(t[ce]+"/langs/"+Be+".js")},N=(ce,be)=>{ka.languageLoad!==!1&&(m(ce)?E(ce,be):me(ce,"loaded").then(()=>E(ce,be)))},j=(ce,be)=>(e.push(be),n[ce]={instance:be},u(ce,"added"),be),W=ce=>{delete t[ce],delete n[ce]},q=(ce,be)=>He(be)?He(ce)?{prefix:"",resource:be,suffix:""}:{prefix:ce.prefix,resource:be,suffix:ce.suffix}:be,ne=(ce,be)=>{if(t[ce])return Promise.resolve();let Be=He(be)?be:be.prefix+be.resource+be.suffix;Be.indexOf("/")!==0&&Be.indexOf("://")===-1&&(Be=ka.baseURL+"/"+Be),t[ce]=Be.substring(0,Be.lastIndexOf("/"));const Pe=()=>(u(ce,"loaded"),Promise.resolve());return n[ce]?Pe():$a.ScriptLoader.add(Be).then(Pe)},me=(ce,be="added")=>be==="added"&&y(ce)||be==="loaded"&&m(ce)?Promise.resolve():new Promise(Be=>{i.push({name:ce,state:be,resolve:Be})});return{items:e,urls:t,lookup:n,get:_,requireLangPack:N,add:j,remove:W,createUrl:q,load:ne,waitFor:me}};ka.languageLoad=!0,ka.baseURL="",ka.PluginManager=ka(),ka.ThemeManager=ka(),ka.ModelManager=ka();const Sm=ft("mce-annotation"),dh=ft("data-mce-annotation"),Sd=ft("data-mce-annotation-uid"),Em=ft("data-mce-annotation-active"),dp=ft("data-mce-annotation-classes"),gn=ft("data-mce-annotation-attrs"),Zv=e=>t=>cn(t,e),M1=(e,t)=>{const n=e.selection.getRng(),i=xe.fromDom(n.startContainer),u=xe.fromDom(e.getBody()),m=t.fold(()=>"."+Sm(),E=>`[${dh()}="${E}"]`),y=kr(i,n.startOffset).getOr(i);return Pc(y,m,Zv(u)).bind(E=>Bl(E,`${Sd()}`).bind(N=>Bl(E,`${dh()}`).map(j=>{const W=N1(e,N);return{uid:N,name:j,elements:W}})))},qv=e=>mr(e)&&ds(e,Sm()),Uc=(e,t)=>Qd(e,"data-mce-bogus")||dn(e,'[data-mce-bogus="all"]',Zv(t)),N1=(e,t)=>{const n=xe.fromDom(e.getBody()),i=Ae(n,`[${Sd()}="${t}"]`);return we(i,u=>!Uc(u,n))},R1=(e,t)=>{const n=xe.fromDom(e.getBody()),i=Ae(n,`[${dh()}="${t}"]`),u={};return tt(i,m=>{if(!Uc(m,n)){const y=fr(m,Sd()),_=Dn(u,y).getOr([]);u[y]=_.concat([m])}}),u},L1=(e,t)=>{const n=Mn({}),i=()=>({listeners:[],previous:Ql()}),u=(W,q)=>{m(W,ne=>(q(ne),ne))},m=(W,q)=>{const ne=n.get(),me=Dn(ne,W).getOrThunk(i),ce=q(me);ne[W]=ce,n.set(ne)},y=(W,q,ne)=>{u(W,me=>{tt(me.listeners,ce=>ce(!0,W,{uid:q,nodes:Do(ne,be=>be.dom)}))})},_=W=>{u(W,q=>{tt(q.listeners,ne=>ne(!1,W))})},E=(W,q)=>{tt(N1(e,W),ne=>{q?Tr(ne,Em(),"true"):Or(ne,Em())})},N=Ud(()=>{const W=so(t.getNames());tt(W,q=>{m(q,ne=>{const me=ne.previous.get();return M1(e,G.some(q)).fold(()=>{me.each(ce=>{_(q),ne.previous.clear(),E(ce,!1)})},({uid:ce,name:be,elements:Be})=>{Ur(me,ce)||(me.each(Pe=>E(Pe,!1)),y(be,ce,Be),ne.previous.set(ce),E(ce,!0))}),{previous:ne.previous,listeners:ne.listeners}})})},30);return e.on("remove",()=>{N.cancel()}),e.on("NodeChange",()=>{N.throttle()}),{addListener:(W,q)=>{m(W,ne=>({previous:ne.previous,listeners:ne.listeners.concat([q])}))}}},up=(e,t)=>{const n=dh(),i=m=>G.from(m.attr(n)).bind(t.lookup),u=m=>{var j;m.attr(Sd(),null),m.attr(dh(),null),m.attr(Em(),null);const y=G.from(m.attr(gn())).map(W=>W.split(",")).getOr([]),_=G.from(m.attr(dp())).map(W=>W.split(",")).getOr([]);tt(y,W=>m.attr(W,null));const E=((j=m.attr("class"))==null?void 0:j.split(" "))??[],N=lr(E,[Sm()].concat(_));m.attr("class",N.length>0?N.join(" "):null),m.attr(dp(),null),m.attr(gn(),null)};e.serializer.addTempAttr(Em()),e.serializer.addAttributeFilter(n,m=>{for(const y of m)i(y).each(_=>{_.persistent===!1&&(y.name==="span"?y.unwrap():u(y))})})},Am=()=>{const e={};return{register:(u,m)=>{e[u]={name:u,settings:m}},lookup:u=>Dn(e,u).map(m=>m.settings),getNames:()=>Yi(e)}},Tm=(e,t,n=_o)=>{const i=new Dr(e,t),u=m=>{let y;do y=i[m]();while(y&&!_t(y)&&!n(y));return G.from(y).filter(_t)};return{current:()=>G.from(i.current()).filter(_t),next:()=>u("next"),prev:()=>u("prev"),prev2:()=>u("prev2")}},Wc=(e,t)=>{const n=t||(y=>e.isBlock(y)||nr(y)||us(y)),i=(y,_,E,N)=>{if(_t(y)){const j=N(y,_,y.data);if(j!==-1)return G.some({container:y,offset:j})}return E().bind(j=>i(j.container,j.offset,E,N))};return{backwards:(y,_,E,N)=>{const j=Tm(y,N??e.getRoot(),n);return i(y,_,()=>j.prev().map(W=>({container:W,offset:W.length})),E).getOrNull()},forwards:(y,_,E,N)=>{const j=Tm(y,N??e.getRoot(),n);return i(y,_,()=>j.next().map(W=>({container:W,offset:0})),E).getOrNull()}}},T0=["td","th"],m_=["thead","tbody","tfoot"],g_=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Kv=["li","dd","dt"],hu=["ul","ol","dl"],Gv=["pre","script","textarea","style"],uh=e=>{let t;return n=>(t=t||ps(e,fo),Io(t,Xo(n)))},B1=e=>Xo(e)==="table",Fl=e=>mr(e)&&Xo(e)==="br",Pg=uh(g_),di=uh(hu),fh=uh(Kv),Yv=uh(m_),Ig=uh(T0),O0=uh(Gv),b_=e=>{const t=[];let n=e.dom;for(;n;)t.push(xe.fromDom(n)),n=n.lastChild;return t},z0=e=>{const t=Ae(e,"br"),n=we(b_(e).slice(-1),Fl);t.length===n.length&&tt(n,ts)},Om=()=>{const e=xe.fromTag("br");return Tr(e,"data-mce-bogus","1"),e},uf=e=>{eu(e),un(e,Om())},Fg=(e,t)=>{qr(e).each(n=>{Rl(n).each(i=>{t.isBlock(Xo(e))&&Fl(n)&&t.isBlock(Xo(i))&&ts(n)})})},ui=pl,zm=fa,kl=bg,y_=e=>e.insertContent(ui,{preserve_zwsp:!0}),x_=eo,Hg=_t,Dm=e=>(Hg(e)&&(e=e.parentNode),x_(e)&&e.hasAttribute("data-mce-caret")),hh=e=>Hg(e)&&zm(e.data),fc=e=>Dm(e)||hh(e),D0=e=>e.firstChild!==e.lastChild||!nr(e.firstChild),P1=(e,t)=>{const i=(e.ownerDocument??document).createTextNode(ui),u=e.parentNode;if(t){const m=e.previousSibling;if(Hg(m)){if(fc(m))return m;if(R0(m))return m.splitText(m.data.length-1)}u==null||u.insertBefore(i,e)}else{const m=e.nextSibling;if(Hg(m)){if(fc(m))return m;if(Mm(m))return m.splitText(1),m}e.nextSibling?u==null||u.insertBefore(i,e.nextSibling):u==null||u.appendChild(i)}return i},M0=e=>{const t=e.container();return _t(t)?t.data.charAt(e.offset())===ui||e.isAtStart()&&hh(t.previousSibling):!1},N0=e=>{const t=e.container();return _t(t)?t.data.charAt(e.offset()-1)===ui||e.isAtEnd()&&hh(t.nextSibling):!1},v_=(e,t,n)=>{const u=(t.ownerDocument??document).createElement(e);u.setAttribute("data-mce-caret",n?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(Om().dom);const m=t.parentNode;return n?m==null||m.insertBefore(u,t):t.nextSibling?m==null||m.insertBefore(u,t.nextSibling):m==null||m.appendChild(u),u},Mm=e=>Hg(e)&&e.data[0]===ui,R0=e=>Hg(e)&&e.data[e.data.length-1]===ui,w_=e=>{var i;const t=e.getElementsByTagName("br"),n=t[t.length-1];Jh(n)&&((i=n.parentNode)==null||i.removeChild(n))},Xv=e=>e&&e.hasAttribute("data-mce-caret")?(w_(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Zc=e=>Dm(e.startContainer),w=Math.round,S=e=>e?{left:w(e.left),top:w(e.top),bottom:w(e.bottom),right:w(e.right),width:w(e.width),height:w(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},O=(e,t)=>(e=S(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),L=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,V=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,U=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:V(t.top-e.bottom,e,t)},Q=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:V(t.bottom-e.top,e,t),ee=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,fe=e=>Dt(e,(t,n)=>t.fold(()=>G.some(n),i=>{const u=Math.min(n.left,i.left),m=Math.min(n.top,i.top),y=Math.max(n.right,i.right),_=Math.max(n.bottom,i.bottom);return G.some({top:m,right:y,bottom:_,left:u,width:y-u,height:_-m})}),G.none()),ke=(e,t,n)=>{const i=Math.max(Math.min(t,e.left+e.width),e.left),u=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-i)*(t-i)+(n-u)*(n-u))},Re=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),Ce=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Ee=(e,t)=>{if(eo(e)&&e.hasChildNodes()){const n=e.childNodes,i=Qn(t,0,n.length-1);return n[i]}else return e},Se=(e,t)=>{if(!(t<0&&eo(e)&&e.hasChildNodes()))return Ee(e,t)},Ue=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),We=e=>He(e)&&e.charCodeAt(0)>=768&&Ue.test(e),dt=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},pt=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},kt=ol,St=us,At=nr,zt=_t,Lt=cc(["script","style","textarea"]),oo=cc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),No=cc(["table"]),Un=fc,Lo=e=>Un(e)?!1:zt(e)?!Lt(e.parentNode):oo(e)||At(e)||No(e)||qo(e),vn=e=>eo(e)&&e.getAttribute("unselectable")==="true",qo=e=>!vn(e)&&St(e),fs=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(qo(n))return!1;if(kt(n))return!0}return!0},Gr=e=>qo(e)?!Dt(jt(e.getElementsByTagName("*")),(t,n)=>t||kt(n),!1):!1,_a=e=>oo(e)||Gr(e),Ai=(e,t)=>Lo(e)&&fs(e,t),Qt=eo,ff=Lo,Va=ys("display","block table"),fp=ys("float","left right"),pu=pt(Qt,ff,Le(fp)),$g=Le(ys("white-space","pre pre-line pre-wrap")),mu=_t,hf=nr,Vg=Kn.nodeIndex,I1=Se,k_=e=>e?e.createRange():Kn.DOM.createRng(),Nm=e=>He(e)&&/[\r\n\t ]/.test(e),bE=e=>!!e.setStart&&!!e.setEnd,__=e=>{const t=e.startContainer,n=e.startOffset;if(Nm(e.toString())&&$g(t.parentNode)&&_t(t)){const i=t.data;if(Nm(i[n-1])||Nm(i[n+1]))return!0}return!1},Rm=e=>{const t=e.ownerDocument,n=k_(t),i=t.createTextNode(xr),u=e.parentNode;u.insertBefore(i,e),n.setStart(i,0),n.setEnd(i,1);const m=S(n.getBoundingClientRect());return u.removeChild(i),m},lz=e=>{const t=e.startContainer,n=e.endContainer,i=e.startOffset,u=e.endOffset;if(t===n&&_t(n)&&i===0&&u===1){const m=e.cloneRange();return m.setEndAfter(n),ph(m)}else return null},C_=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,ph=e=>{let t;const n=e.getClientRects();return n.length>0?t=S(n[0]):t=S(e.getBoundingClientRect()),!bE(e)&&hf(e)&&C_(t)?Rm(e):C_(t)&&bE(e)?lz(e)??t:t},jg=(e,t)=>{const n=O(e,t);return n.width=1,n.right=n.left+1,n},e8=e=>{const t=[],n=y=>{y.height!==0&&(t.length>0&&L(y,t[t.length-1])||t.push(y))},i=(y,_)=>{const E=k_(y.ownerDocument);if(_<y.data.length){if(We(y.data[_]))return;if(We(y.data[_-1])&&(E.setStart(y,_),E.setEnd(y,_+1),!__(E))){n(jg(ph(E),!1));return}}_>0&&(E.setStart(y,_-1),E.setEnd(y,_),__(E)||n(jg(ph(E),!1))),_<y.data.length&&(E.setStart(y,_),E.setEnd(y,_+1),__(E)||n(jg(ph(E),!0)))},u=e.container(),m=e.offset();if(mu(u))return i(u,m),t;if(Qt(u))if(e.isAtEnd()){const y=I1(u,m);mu(y)&&i(y,y.data.length),pu(y)&&!hf(y)&&n(jg(ph(y),!1))}else{const y=I1(u,m);if(mu(y)&&i(y,0),pu(y)&&e.isAtEnd())return n(jg(ph(y),!1)),t;const _=I1(e.container(),e.offset()-1);pu(_)&&!hf(_)&&(Va(_)||Va(y)||!pu(y))&&n(jg(ph(_),!1)),pu(y)&&n(jg(ph(y),!0))}return t},it=(e,t,n)=>{const i=()=>(mu(e),t===0),u=()=>mu(e)?t>=e.data.length:t>=e.childNodes.length,m=()=>{const j=k_(e.ownerDocument);return j.setStart(e,t),j.setEnd(e,t),j},y=()=>(n||(n=e8(it(e,t))),n),_=()=>y().length>0,E=j=>j&&e===j.container()&&t===j.offset(),N=j=>I1(e,j?t-1:t);return{container:ft(e),offset:ft(t),toRange:m,getClientRects:y,isVisible:_,isAtStart:i,isAtEnd:u,isEqual:E,getNode:N}};it.fromRangeStart=e=>it(e.startContainer,e.startOffset),it.fromRangeEnd=e=>it(e.endContainer,e.endOffset),it.after=e=>it(e.parentNode,Vg(e)+1),it.before=e=>it(e.parentNode,Vg(e)),it.isAbove=(e,t)=>Gs(ls(t.getClientRects()),Ls(e.getClientRects()),U).getOr(!1),it.isBelow=(e,t)=>Gs(Ls(t.getClientRects()),ls(e.getClientRects()),Q).getOr(!1),it.isAtStart=e=>e?e.isAtStart():!1,it.isAtEnd=e=>e?e.isAtEnd():!1,it.isTextPosition=e=>e?_t(e.container()):!1,it.isElementPosition=e=>!it.isTextPosition(e);const Qv=(e,t)=>{_t(t)&&t.data.length===0&&e.remove(t)},cz=(e,t,n)=>{t.insertNode(n),Qv(e,n.previousSibling),Qv(e,n.nextSibling)},yE=(e,t,n)=>{const i=G.from(n.firstChild),u=G.from(n.lastChild);t.insertNode(n),i.each(m=>Qv(e,m.previousSibling)),u.each(m=>Qv(e,m.nextSibling))},S_=(e,t,n)=>{n0(n)?yE(e,t,n):cz(e,t,n)},pf=_t,dz=Jh,E_=Kn.nodeIndex,uz=e=>{const t=e.parentNode;return dz(t)?uz(t):t},F1=e=>e?Ac(e.childNodes,(t,n)=>(dz(n)&&n.nodeName!=="BR"?t=t.concat(F1(n)):t.push(n),t),[]):[],fz=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&pf(n);)t+=n.data.length;return t},hz=e=>t=>e===t,jo=e=>{let t,n;t=F1(uz(e)),n=Ta(t,hz(e),e),t=t.slice(0,n+1);const i=Ac(t,(u,m,y)=>(pf(m)&&pf(t[y-1])&&u++,u),0);return t=Vu(t,cc([e.nodeName])),n=Ta(t,hz(e),e),n-i},pz=e=>(pf(e)?"text()":e.nodeName.toLowerCase())+"["+jo(e)+"]",t8=(e,t,n)=>{const i=[];for(let u=t.parentNode;u&&u!==e;u=u.parentNode)i.push(u);return i},mz=(e,t)=>{let n=[],i=t.container(),u=t.offset(),m;if(pf(i))m=fz(i,u);else{const _=i.childNodes;u>=_.length?(m="after",u=_.length-1):m="before",i=_[u]}n.push(pz(i));let y=t8(e,i);return y=Vu(y,Le(Jh)),n=n.concat(Fh(y,_=>pz(_))),n.reverse().join("/")+","+m},o8=(e,t,n)=>{let i=F1(e);return i=Vu(i,(u,m)=>!pf(u)||!pf(i[m-1])),i=Vu(i,cc([t])),i[n]},n8=(e,t)=>{let n=e,i=0;for(;pf(n);){const u=n.data.length;if(t>=i&&t<=i+u){e=n,t=t-i;break}if(!pf(n.nextSibling)){e=n,t=u;break}i+=u,n=n.nextSibling}return pf(e)&&t>e.data.length&&(t=e.data.length),it(e,t)},xE=(e,t)=>{if(!t)return null;const n=t.split(","),i=n[0].split("/"),u=n.length>1?n[1]:"before",m=Ac(i,(y,_)=>{const E=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(_);return E?(E[1]==="text()"&&(E[1]="#text"),o8(y,E[1],parseInt(E[2],10))):null},e);if(!m)return null;if(!pf(m)&&m.parentNode){let y;return u==="after"?y=E_(m)+1:y=E_(m),it(m.parentNode,y)}return n8(m,parseInt(u,10))},H1=us,Jv=(e,t,n)=>{let i=e(t.data.slice(0,n)).length;for(let u=t.previousSibling;u&&_t(u);u=u.previousSibling)i+=e(u.data).length;return i},L0=(e,t,n,i,u)=>{const m=u?i.startContainer:i.endContainer;let y=u?i.startOffset:i.endOffset;const _=[],E=e.getRoot();if(_t(m))_.push(n?Jv(t,m,y):y);else{let N=0;const j=m.childNodes;y>=j.length&&j.length&&(N=1,y=Math.max(0,j.length-1)),_.push(e.nodeIndex(j[y],n)+N)}for(let N=m;N&&N!==E;N=N.parentNode)_.push(e.nodeIndex(N,n));return _},s8=(e,t,n,i)=>{const u=t.dom,m=L0(u,e,n,i,!0),y=t.isForward(),_=Zc(i)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:m,forward:y,..._};{const E=L0(u,e,n,i,!1);return{start:m,end:E,forward:y,..._}}},$1=(e,t,n)=>{let i=0;return bt.each(e.select(t),u=>{if(u.getAttribute("data-mce-bogus")!=="all"){if(u===n)return!1;i++;return}}),i},gz=(e,t)=>{let n=t?e.startContainer:e.endContainer,i=t?e.startOffset:e.endOffset;if(eo(n)&&n.nodeName==="TR"){const u=n.childNodes;n=u[Math.min(t?i:i-1,u.length-1)],n&&(i=t?0:n.childNodes.length,t?e.setStart(n,i):e.setEnd(n,i))}},vE=e=>(gz(e,!0),gz(e,!1),e),A_=(e,t)=>{if(eo(e)&&(e=Ee(e,t),H1(e)))return e;if(fc(e)){_t(e)&&Dm(e)&&(e=e.parentNode);let n=e.previousSibling;if(H1(n)||(n=e.nextSibling,H1(n)))return n}},r8=e=>A_(e.startContainer,e.startOffset)||A_(e.endContainer,e.endOffset),bz=(e,t,n)=>{const i=n.getNode(),u=n.getRng();if(i.nodeName==="IMG"||H1(i)){const y=i.nodeName;return{name:y,index:$1(n.dom,y,i)}}const m=r8(u);if(m){const y=m.tagName;return{name:y,index:$1(n.dom,y,m)}}return s8(e,n,t,u)},i8=e=>{const t=e.getRng();return{start:mz(e.dom.getRoot(),it.fromRangeStart(t)),end:mz(e.dom.getRoot(),it.fromRangeEnd(t)),forward:e.isForward()}},a8=e=>({rng:e.getRng(),forward:e.isForward()}),Ug=(e,t,n)=>{const i={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",i,"&#xFEFF;"):e.create("span",i)},yz=(e,t)=>{const n=e.dom;let i=e.getRng();const u=n.uniqueId(),m=e.isCollapsed(),y=e.getNode(),_=y.nodeName,E=e.isForward();if(_==="IMG")return{name:_,index:$1(n,_,y)};const N=vE(i.cloneRange());if(!m){N.collapse(!1);const W=Ug(n,u+"_end",t);S_(n,N,W)}i=vE(i),i.collapse(!0);const j=Ug(n,u+"_start",t);return S_(n,i,j),e.moveToBookmark({id:u,keep:!0,forward:E}),{id:u,forward:E}},l8=(e,t,n=!1)=>t===2?bz(kl,n,e):t===3?i8(e):t?a8(e):yz(e,!1),T_=Tt(bz,To,!0),V1=e=>e===1,B0=e=>e===-1,c8=e=>e.type==="inline-command"||e.type==="inline-format",Xs=e=>e.type==="block-command"||e.type==="block-format",xz=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,d8=e=>{const t=i=>Ks.error({message:i,pattern:e}),n=(i,u,m)=>{if(e.format!==void 0){let y;if(he(e.format)){if(!Sr(e.format,He))return t(i+" pattern has non-string items in the `format` array");y=e.format}else if(He(e.format))y=[e.format];else return t(i+" pattern has non-string `format` parameter");return Ks.value(u(y))}else return e.cmd!==void 0?He(e.cmd)?Ks.value(m(e.cmd,e.value)):t(i+" pattern has non-string `cmd` parameter"):t(i+" pattern is missing both `format` and `cmd` parameters")};if(!ge(e))return t("Raw pattern is not an object");if(!He(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!He(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let i=e.start,u=e.end;return u.length===0&&(u=i,i=""),n("Inline",m=>({type:"inline-format",start:i,end:u,format:m}),(m,y)=>({type:"inline-command",start:i,end:u,cmd:m,value:y}))}else{if(e.replacement!==void 0)return He(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):Ks.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter");{const i=e.trigger??"space";return e.start.length===0?t("Block pattern has empty `start` parameter"):n("Block",u=>({type:"block-format",start:e.start,format:u[0],trigger:i}),(u,m)=>({type:"block-command",start:e.start,cmd:u,value:m,trigger:i}))}}},O_=e=>we(e,Xs),ja=e=>we(e,c8),Ed=(e,t)=>({inlinePatterns:ja(e),blockPatterns:O_(e),dynamicPatternsLookup:t}),z_=(e,t)=>({...e,blockPatterns:we(e.blockPatterns,n=>xz(n,t))}),vz=e=>{const t=Ol(Do(e,d8));return tt(t.errors,n=>console.error(n.message,n.pattern)),t.values},u8=e=>t=>{const n=e(t);return vz(n)},mh=(e,t)=>e.dispatch("PreProcess",t),f8=(e,t)=>e.dispatch("PostProcess",t),h8=e=>{e.dispatch("remove")},Nn=e=>{e.dispatch("detach")},p8=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},m8=(e,t,n,i,u)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:i,origin:u})},g8=(e,t,n,i,u)=>{e.dispatch("ObjectResized",{target:t,width:n,height:i,origin:u})},Yr=e=>{e.dispatch("PreInit")},b8=e=>{e.dispatch("PostRender")},wz=e=>{e.dispatch("Init")},wE=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},kz=(e,t,n)=>{e.dispatch(t,n)},_z=(e,t,n,i)=>{e.dispatch("FormatApply",{format:t,node:n,vars:i})},Cz=(e,t,n,i)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:i})},y8=(e,t)=>e.dispatch("BeforeSetContent",t),D_=(e,t)=>e.dispatch("SetContent",t),kE=(e,t)=>e.dispatch("BeforeGetContent",t),_E=(e,t)=>e.dispatch("GetContent",t),x8=(e,t)=>{e.dispatch("AutocompleterStart",t)},v8=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},CE=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},io=e=>{e.dispatch("AutocompleterEnd")},mf=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),Sz=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),Ez=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),w8=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),Az=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),Tz=e=>e.dispatch("CloseActiveTooltips"),ew=gl().deviceType,SE=ew.isTouch(),EE=Kn.DOM,AE=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Dt(t,(n,i)=>{const u=i.split("="),m=u[0],y=u.length>1?u[1]:m;return n[zl(m)]=zl(y),n},{})},TE=e=>Je(e,RegExp),Xt=e=>t=>t.options.get(e),j1=e=>He(e)||ge(e),Oz=(e,t="")=>n=>{const i=He(n);if(i)if(n.indexOf("=")!==-1){const u=AE(n);return{value:Dn(u,e.id).getOr(t),valid:i}}else return{value:n,valid:i};else return{valid:!1,message:"Must be a string."}},zz=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("crossorigin",{processor:"function",default:ft(void 0)}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.editorManager.documentBaseURL}),t("body_id",{processor:Oz(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Oz(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const i=He(n)&&oi(n);return i?{value:n,valid:i}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const i=Qo(["block","linebreak","invert","default"],n);return i?{value:n,valid:i}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>bo(n)?{valid:!0,value:n}:He(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const i=n===!1||He(n)||Mt(n,He);return i?He(n)?{value:Do(n.split(","),zl),valid:i}:he(n)?{value:n,valid:i}:n===!1?{value:[],valid:i}:{value:n,valid:i}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:P_(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const i=He(n)||Mt(n,He);return i?{value:he(n)?n:Do(n.split(","),zl),valid:i}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const i=bo(n)||He(n);return i?n===!1||ew.isiPhone()||ew.isiPad()?{value:"",valid:i}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:i}:{valid:!1,message:"Must be boolean or a string"}},default:!SE}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:n=>n===!1||He(n)||yt(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const i=n===!1||He(n);return i?{value:n===!1?"":n,valid:i}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:n=>bo(n)?(e.initialized&&j_(e)!==n&&Promise.resolve().then(()=>{Az(e,n)}),{valid:!0,value:n}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_html_in_comments",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:n=>{const i=Mt(n,He);return i?{value:n,valid:i}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:j1}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:j1}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:j1}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:j1}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>He(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>Mt(n,ge)||n===!1?{value:vz(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>yt(n)?{value:u8(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>Mt(n,TE)?{value:n,valid:!0}:TE(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const i=Qo(["inherited","collapsed","expanded"],n);return i?{value:n,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const i=Qo(["inherited","collapsed","expanded"],n);return i?{value:n,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),t("user_id",{processor:"string",default:"Anonymous"}),t("fetch_users",{processor:n=>n===void 0?{valid:!0,value:void 0}:yt(n)?{valid:!0,value:n}:{valid:!1,message:"fetch_users must be a function that returns a Promise<ExpectedUser[]>"}}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:uc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:EE.getAttrib(e.getElement(),"placeholder")})}),t("lists_indent_on_tab",{processor:"boolean",default:!0}),t("list_max_depth",{processor:n=>{const i=I(n);if(i){if(n<0)throw new Error("list_max_depth cannot be set to lower than 0");return{value:n,valid:i}}else return{valid:!1,message:"Must be a number"}}})},OE=Xt("iframe_attrs"),Dz=Xt("doctype"),zE=Xt("document_base_url"),M_=Xt("body_id"),Mz=Xt("body_class"),DE=Xt("content_security_policy"),k8=Xt("br_in_pre"),Ua=Xt("forced_root_block"),U1=Xt("forced_root_block_attrs"),_8=Xt("newline_behavior"),C8=Xt("br_newline_selector"),sr=Xt("no_newline_selector"),ME=Xt("keep_styles"),N_=Xt("end_container_on_empty_block"),tw=Xt("automatic_uploads"),hp=Xt("images_reuse_filename"),R_=Xt("images_replace_blob_uris"),P0=Xt("icons"),Nz=Xt("icons_url"),Rz=Xt("images_upload_url"),NE=Xt("images_upload_base_path"),L_=Xt("images_upload_credentials"),Wg=Xt("images_upload_handler"),I0=Xt("content_css_cors"),B_=Xt("referrer_policy"),RE=Xt("crossorigin"),LE=Xt("language"),S8=Xt("language_url"),Lz=Xt("indent_use_margin"),E8=Xt("indentation"),Ca=Xt("content_css"),BE=Xt("content_style"),Sa=Xt("font_css"),W1=Xt("directionality"),Z1=Xt("inline_boundaries_selector"),PE=Xt("object_resizing"),IE=Xt("resize_img_proportional"),Bz=Xt("placeholder"),Pz=Xt("event_root"),A8=Xt("service_message"),il=Xt("theme"),Hl=Xt("theme_url"),gu=Xt("model"),FE=Xt("model_url"),q1=Xt("inline_boundaries"),T8=Xt("formats"),Iz=Xt("preview_styles"),O8=Xt("format_empty_lines"),HE=Xt("format_noneditable_selector"),z8=Xt("custom_ui_selector"),P_=Xt("inline"),$E=Xt("hidden_input"),Fz=Xt("submit_patch"),VE=Xt("add_form_submit_trigger"),D8=Xt("add_unload_trigger"),Hz=Xt("custom_undo_redo_levels"),M8=Xt("disable_nodechange"),jE=Xt("readonly"),$z=Xt("editable_root"),Vz=Xt("content_css_cors"),ow=Xt("plugins"),N8=Xt("external_plugins"),R8=Xt("block_unsupported_drop"),L8=Xt("visual"),F0=Xt("visual_table_class"),jz=Xt("visual_anchor_class"),UE=Xt("iframe_aria_text"),Uz=Xt("setup"),Wz=Xt("init_instance_callback"),Zz=Xt("urlconverter_callback"),WE=Xt("auto_focus"),B8=Xt("browser_spellcheck"),P8=Xt("protect"),I8=Xt("paste_block_drop"),K1=Xt("paste_data_images"),qz=Xt("paste_preprocess"),F8=Xt("paste_postprocess"),H8=Xt("newdocument_content"),Kz=Xt("paste_webkit_styles"),Gz=Xt("paste_remove_styles_if_webkit"),$8=Xt("paste_merge_formats"),Yz=Xt("smart_paste"),V8=Xt("paste_as_text"),j8=Xt("paste_tab_spaces"),U8=Xt("allow_html_data_urls"),W8=Xt("text_patterns"),Zt=Xt("text_patterns_lookup"),gh=Xt("noneditable_class"),Z8=Xt("editable_class"),ZE=Xt("noneditable_regexp"),Xz=Xt("preserve_cdata"),Qz=Xt("highlight_on_focus"),I_=Xt("xss_sanitization"),q8=Xt("init_content_sync"),Jz=e=>e.options.isSet("text_patterns_lookup"),K8=e=>bt.explode(e.options.get("font_size_style_values")),G8=e=>bt.explode(e.options.get("font_size_classes")),F_=e=>e.options.get("encoding")==="xml",eD=e=>bt.explode(e.options.get("images_file_types")),tD=Xt("table_tab_navigation"),H_=Xt("details_initial_state"),Y8=Xt("details_serialized_state"),qE=Xt("sandbox_iframes"),KE=e=>e.options.get("sandbox_iframes_exclusions"),$_=Xt("convert_unsafe_embeds"),H0=Xt("license_key"),V_=Xt("api_key"),j_=Xt("disabled"),X8=Xt("user_id"),oD=Xt("fetch_users"),Q8=Xt("lists_indent_on_tab"),nD=e=>G.from(e.options.get("list_max_depth")),sD=eo,GE=_t,rD=e=>{const t=e.parentNode;t&&t.removeChild(e)},iD=e=>{const t=kl(e);return{count:e.length-t.length,text:t}},YE=e=>{let t;for(;(t=e.data.lastIndexOf(ui))!==-1;)e.deleteData(t,1)},U_=(e,t)=>(Zg(e),t),aD=(e,t)=>{const n=iD(e.data.substr(0,t.offset())),i=iD(e.data.substr(t.offset()));return(n.text+i.text).length>0?(YE(e),it(e,t.offset()-n.count)):t},J8=(e,t)=>{const n=t.container(),i=Jr(jt(n.childNodes),e).map(u=>u<t.offset()?it(n,t.offset()-1):t).getOr(t);return Zg(e),i},W_=(e,t)=>GE(e)&&t.container()===e?aD(e,t):U_(e,t),lD=(e,t)=>t.container()===e.parentNode?J8(e,t):U_(e,t),XE=(e,t)=>it.isTextPosition(t)?W_(e,t):lD(e,t),Zg=e=>{sD(e)&&fc(e)&&(D0(e)?e.removeAttribute("data-mce-caret"):rD(e)),GE(e)&&(YE(e),e.data.length===0&&rD(e))},eI=us,Z_=nl,cD=xm,dD="*[contentEditable=false],video,audio,embed,object",QE=(e,t,n)=>{const i=O(t.getBoundingClientRect(),n);let u,m;if(e.tagName==="BODY"){const _=e.ownerDocument.documentElement;u=e.scrollLeft||_.scrollLeft,m=e.scrollTop||_.scrollTop}else{const _=e.getBoundingClientRect();u=e.scrollLeft-_.left,m=e.scrollTop-_.top}i.left+=u,i.right+=u,i.top+=m,i.bottom+=m,i.width=1;let y=t.offsetWidth-t.clientWidth;return y>0&&(n&&(y*=-1),i.left+=y,i.right+=y),i},uD=e=>{var n,i;const t=Ae(xe.fromDom(e),dD);for(let u=0;u<t.length;u++){const m=t[u].dom;let y=m.previousSibling;if(R0(y)){const _=y.data;_.length===1?(n=y.parentNode)==null||n.removeChild(y):y.deleteData(_.length-1,1)}y=m.nextSibling,Mm(y)&&(y.data.length===1?(i=y.parentNode)==null||i.removeChild(y):y.deleteData(0,1))}},fD=(e,t,n,i)=>{const u=Ql();let m,y;const _=Ua(e),E=e.dom,N=(ce,be)=>{let Be;if(j(),cD(be))return null;if(n(be)){const Pe=v_(_,be,ce),$e=QE(t,be,ce);E.setStyle(Pe,"top",$e.top),E.setStyle(Pe,"caret-color","transparent"),y=Pe;const rt=E.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});E.setStyles(rt,{...$e}),E.add(t,rt),u.set({caret:rt,element:be,before:ce}),ce&&E.addClass(rt,"mce-visual-caret-before"),W(),Be=be.ownerDocument.createRange(),Be.setStart(Pe,0),Be.setEnd(Pe,0)}else return y=P1(be,ce),Be=be.ownerDocument.createRange(),G1(y.nextSibling)?(Be.setStart(y,0),Be.setEnd(y,0)):(Be.setStart(y,1),Be.setEnd(y,1)),Be;return Be},j=()=>{uD(t),y&&(Zg(y),y=null),u.on(ce=>{E.remove(ce.caret),u.clear()}),m&&(clearInterval(m),m=void 0)},W=()=>{m=window.setInterval(()=>{u.on(ce=>{i()?E.toggleClass(ce.caret,"mce-visual-caret-hidden"):E.addClass(ce.caret,"mce-visual-caret-hidden")})},500)},q=()=>{u.on(ce=>{const be=QE(t,ce.element,ce.before);E.setStyles(ce.caret,{...be})})},ne=()=>clearInterval(m),me=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{isShowing:u.isSet,show:N,hide:j,getCss:me,reposition:q,destroy:ne}},JE=()=>$o.browser.isFirefox(),G1=e=>eI(e)||Z_(e),Y1=e=>(G1(e)||wd(e)&&JE())&&pd(xe.fromDom(e)).exists(Qa),hD=ol,nw=us,tI=nl,pD=ys("display","block table table-cell table-row table-caption list-item"),mD=fc,gD=Dm,oI=eo,bD=_t,nI=Lo,la=(e,t)=>{let n;for(;n=e(t);)if(!gD(n))return n;return null},sw=(e,t,n,i,u)=>{const m=new Dr(e,i),y=nw(e)||gD(e);let _;if(B0(t)){if(y&&(_=la(m.prev.bind(m),!0),n(_)))return _;for(;_=la(m.prev.bind(m),u);)if(n(_))return _}if(V1(t)){if(y&&(_=la(m.next.bind(m),!0),n(_)))return _;for(;_=la(m.next.bind(m),u);)if(n(_))return _}return null},sI=(e,t)=>{const n=u=>hD(u.dom),i=u=>u.dom===t;return ea(xe.fromDom(e),n,i).map(u=>u.dom).getOr(t)},$l=e=>eo(e)&&Pa(xe.fromDom(e),"position")==="absolute",rI=(e,t)=>e.parentNode!==t,iI=(e,t)=>nw(e)&&$l(e)&&rI(e,t),qg=(e,t)=>{for(;e&&e!==t;){if(pD(e)&&!iI(e,t))return e;e=e.parentNode}return null},Ti=(e,t,n)=>qg(e.container(),n)===qg(t.container(),n),q_=(e,t)=>{if(!t)return G.none();const n=t.container(),i=t.offset();return oI(n)?G.from(n.childNodes[i+e]):G.none()},eA=(e,t)=>{const i=(t.ownerDocument??document).createRange();return e?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),i},yD=(e,t,n)=>qg(t,e)===qg(n,e),tA=(e,t,n)=>{const i=e?"previousSibling":"nextSibling";let u=n;for(;u&&u!==t;){let m=u[i];if(m&&mD(m)&&(m=m[i]),nw(m)||tI(m)){if(yD(t,m,u))return m;break}if(nI(m))break;u=u.parentNode}return null},X1=Tt(eA,!0),Q1=Tt(eA,!1),oA=(e,t,n)=>{let i;const u=Tt(tA,!0,t),m=Tt(tA,!1,t),y=n.startContainer,_=n.startOffset;if(Dm(y)){const E=bD(y)?y.parentNode:y,N=E.getAttribute("data-mce-caret");if(N==="before"&&(i=E.nextSibling,Y1(i)))return X1(i);if(N==="after"&&(i=E.previousSibling,Y1(i)))return Q1(i)}if(!n.collapsed)return n;if(_t(y)){if(mD(y)){if(e===1){if(i=m(y),i)return X1(i);if(i=u(y),i)return Q1(i)}if(e===-1){if(i=u(y),i)return Q1(i);if(i=m(y),i)return X1(i)}return n}if(R0(y)&&_>=y.data.length-1)return e===1&&(i=m(y),i)?X1(i):n;if(Mm(y)&&_<=1)return e===-1&&(i=u(y),i)?Q1(i):n;if(_===y.data.length)return i=m(y),i?X1(i):n;if(_===0)return i=u(y),i?Q1(i):n}return n},xD=(e,t)=>q_(e?0:-1,t).filter(nw),J1=(e,t,n)=>{const i=oA(e,t,n);return e===-1?it.fromRangeStart(i):it.fromRangeEnd(i)},K_=e=>G.from(e.getNode()).map(xe.fromDom),Pn=e=>G.from(e.getNode(!0)).map(xe.fromDom),$0=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},gf=(e,t)=>{const n=Ti(e,t);return!n&&nr(e.getNode())?!0:n},V0=us,bu=_t,G_=eo,rw=nr,j0=Lo,vD=_a,iw=Ai,wD=(e,t)=>{const n=[];let i=e;for(;i&&i!==t;)n.push(i),i=i.parentNode;return n},nA=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,sA=(e,t)=>{if(V1(e)){if(j0(t.previousSibling)&&!bu(t.previousSibling))return it.before(t);if(bu(t))return it(t,0)}if(B0(e)){if(j0(t.nextSibling)&&!bu(t.nextSibling))return it.after(t);if(bu(t))return it(t,t.data.length)}return B0(e)?rw(t)?it.before(t):it.after(t):it.before(t)},aI=(e,t)=>{const n=t.nextSibling;return n&&j0(n)?bu(n)?it(n,0):it.before(n):rA(1,it.after(t),e)},rA=(e,t,n)=>{let i,u,m,y;if(!G_(n)||!t)return null;if(t.isEqual(it.after(n))&&n.lastChild){if(y=it.after(n.lastChild),B0(e)&&j0(n.lastChild)&&G_(n.lastChild))return rw(n.lastChild)?it.before(n.lastChild):y}else y=t;const _=y.container();let E=y.offset();if(bu(_)){if(B0(e)&&E>0)return it(_,--E);if(V1(e)&&E<_.length)return it(_,++E);i=_}else{if(B0(e)&&E>0&&(u=nA(_,E-1),j0(u)))return!vD(u)&&(m=sw(u,e,iw,u),m)?bu(m)?it(m,m.data.length):it.after(m):bu(u)?it(u,u.data.length):it.before(u);if(V1(e)&&E<_.childNodes.length&&(u=nA(_,E),j0(u)))return rw(u)?aI(n,u):!vD(u)&&(m=sw(u,e,iw,u),m)?bu(m)?it(m,0):it.before(m):bu(u)?it(u,0):it.after(u);i=u||y.getNode()}if(i&&(V1(e)&&y.isAtEnd()||B0(e)&&y.isAtStart())&&(i=sw(i,e,fo,n,!0),iw(i,n)))return sA(e,i);u=i&&sw(i,e,iw,n);const N=Wr(we(wD(_,n),V0));return N&&(!u||!N.contains(u))?(V1(e)?y=it.after(N):y=it.before(N),y):u?sA(e,u):null},pp=e=>({next:t=>rA(1,t,e),prev:t=>rA(-1,t,e)}),hc=(e,t,n)=>{const i=e?it.before(n):it.after(n);return yu(e,t,i)},lI=e=>nr(e)?it.before(e):it.after(e),iA=e=>it.isTextPosition(e)?e.offset()===0:Lo(e.getNode()),kD=e=>{if(it.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return Lo(e.getNode(!0))},_D=(e,t)=>!it.isTextPosition(e)&&!it.isTextPosition(t)&&e.getNode()===t.getNode(!0),aA=e=>!it.isTextPosition(e)&&nr(e.getNode()),cI=(e,t,n)=>e?!_D(t,n)&&!aA(t)&&kD(t)&&iA(n):!_D(n,t)&&iA(t)&&kD(n),yu=(e,t,n)=>{const i=pp(t);return G.from(e?i.next(n):i.prev(n))},os=(e,t,n)=>yu(e,t,n).bind(i=>Ti(n,i,t)&&cI(e,n,i)?yu(e,t,i):G.some(i)),ex=(e,t,n,i)=>os(e,t,n).bind(u=>i(u)?ex(e,t,u,i):G.some(u)),U0=(e,t)=>{const n=e?t.firstChild:t.lastChild;return _t(n)?G.some(it(n,e?0:n.data.length)):n?Lo(n)?G.some(e?it.before(n):lI(n)):hc(e,t,n):G.none()},Vl=Tt(yu,!0),qc=Tt(yu,!1),_l=Tt(U0,!0),xu=Tt(U0,!1),lA="_mce_caret",Ko=e=>eo(e)&&e.id===lA,Lm=(e,t)=>{let n=t;for(;n&&n!==e;){if(Ko(n))return n;n=n.parentNode}return null},CD=e=>He(e.start),aw=e=>Io(e,"rng"),lw=e=>Io(e,"id"),tx=e=>Io(e,"name"),ox=e=>bt.isArray(e.start),cw=e=>!tx(e)&&bo(e.forward)?e.forward:!0,SD=(e,t)=>(eo(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),dI=(e,t)=>{const n=G.from(xE(e.getRoot(),t.start)),i=G.from(xE(e.getRoot(),t.end));return Gs(n,i,(u,m)=>{const y=e.createRng();return y.setStart(u.container(),u.offset()),y.setEnd(m.container(),m.offset()),{range:y,forward:cw(t)}})},uI=(e,t)=>{const i=(e.ownerDocument??document).createTextNode(ui);e.appendChild(i),t.setStart(i,0),t.setEnd(i,0)},fI=e=>!e.hasChildNodes(),Is=(e,t)=>xu(e).fold(_o,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),nx=(e,t,n)=>fI(t)&&Lm(e,t)?(uI(t,n),!0):!1,mp=(e,t,n,i)=>{const u=n[t?"start":"end"],m=e.getRoot();if(u){let y=m,_=u[0];for(let E=u.length-1;y&&E>=1;E--){const N=y.childNodes;if(nx(m,y,i))return!0;if(u[E]>N.length-1)return nx(m,y,i)?!0:Is(y,i);y=N[u[E]]}_t(y)&&(_=Math.min(u[0],y.data.length)),eo(y)&&(_=Math.min(u[0],y.childNodes.length)),t?i.setStart(y,_):i.setEnd(y,_)}return!0},Hn=e=>_t(e)&&e.data.length>0,Oi=(e,t,n)=>{const i=e.get(n.id+"_"+t),u=i==null?void 0:i.parentNode,m=n.keep;if(i&&u){let y,_;if(t==="start"?m?i.hasChildNodes()?(y=i.firstChild,_=1):Hn(i.nextSibling)?(y=i.nextSibling,_=0):Hn(i.previousSibling)?(y=i.previousSibling,_=i.previousSibling.data.length):(y=u,_=e.nodeIndex(i)+1):(y=u,_=e.nodeIndex(i)):m?i.hasChildNodes()?(y=i.firstChild,_=1):Hn(i.previousSibling)?(y=i.previousSibling,_=i.previousSibling.data.length):(y=u,_=e.nodeIndex(i)):(y=u,_=e.nodeIndex(i)),!m){const E=i.previousSibling,N=i.nextSibling;bt.each(bt.grep(i.childNodes),W=>{_t(W)&&(W.data=W.data.replace(/\uFEFF/g,""))});let j;for(;j=e.get(n.id+"_"+t);)e.remove(j,!0);if(_t(N)&&_t(E)&&!$o.browser.isOpera()){const W=E.data.length;E.appendData(N.data),e.remove(N),y=E,_=W}}return G.some(it(y,_))}else return G.none()},gp=(e,t)=>{const n=e.createRng();return mp(e,!0,t,n)&&mp(e,!1,t,n)?G.some({range:n,forward:cw(t)}):G.none()},hI=(e,t)=>{const n=Oi(e,"start",t),i=Oi(e,"end",t);return Gs(n,i.or(n),(u,m)=>{const y=e.createRng();return y.setStart(SD(e,u.container()),u.offset()),y.setEnd(SD(e,m.container()),m.offset()),{range:y,forward:cw(t)}})},ED=(e,t)=>G.from(e.select(t.name)[t.index]).map(n=>{const i=e.createRng();return i.selectNode(n),{range:i,forward:!0}}),dw=(e,t)=>{const n=e.dom;if(t){if(ox(t))return gp(n,t);if(CD(t))return dI(n,t);if(lw(t))return hI(n,t);if(tx(t))return ED(n,t);if(aw(t))return G.some({range:t.rng,forward:cw(t)})}return G.none()},AD=(e,t,n)=>l8(e,t,n),TD=(e,t)=>{dw(e,t).each(({range:n,forward:i})=>{e.setRng(n,i)})},Ad=e=>eo(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",sx=(e=>t=>e===t)(xr),Kg=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,uw=e=>!Kg(e)&&!sx(e)&&!fa(e),ca=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},pI=e=>Ds(e,t=>{const n=Ce(t);return n?[xe.fromDom(n)]:[]}),mI=e=>ca(e).length>1,gI=e=>we(pI(e),Ig),OD=e=>Ae(e,"td[data-mce-selected],th[data-mce-selected]"),rx=(e,t)=>{const n=OD(t);return n.length>0?n:gI(e)},W0=e=>rx(ca(e.selection.getSel()),xe.fromDom(e.getBody())),bh=(e,t)=>tr(e,"table",t),zD=e=>{const t=e.startContainer,n=e.startOffset;return _t(t)?n===0?G.some(xe.fromDom(t)):G.none():G.from(t.childNodes[n]).map(xe.fromDom)},DD=e=>{const t=e.endContainer,n=e.endOffset;return _t(t)?n===t.data.length?G.some(xe.fromDom(t)):G.none():G.from(t.childNodes[n-1]).map(xe.fromDom)},cA=e=>bl(e).fold(ft([e]),t=>[e].concat(cA(t))),Y_=e=>qr(e).fold(ft([e]),t=>Xo(t)==="br"?Rl(t).map(n=>[e].concat(Y_(n))).getOr([]):[e].concat(Y_(t))),X_=(e,t)=>Gs(zD(t),DD(t),(n,i)=>{const u=Wo(cA(e),Tt(cn,n)),m=Wo(Y_(e),Tt(cn,i));return u.isSome()&&m.isSome()}).getOr(!1),Q_=(e,t,n,i)=>{const u=n,m=new Dr(n,u),y=hi(e.schema.getMoveCaretBeforeOnEnterElements(),(E,N)=>!Qo(["td","th","table"],N.toLowerCase()));let _=n;do{if(_t(_)&&bt.trim(_.data).length!==0){i?t.setStart(_,0):t.setEnd(_,_.data.length);return}if(y[_.nodeName]){i?t.setStartBefore(_):_.nodeName==="BR"?t.setEndBefore(_):t.setEndAfter(_);return}}while(_=i?m.next():m.prev());u.nodeName==="BODY"&&(i?t.setStart(u,0):t.setEnd(u,u.childNodes.length))},J_=e=>{const t=e.selection.getSel();return Me(t)&&t.rangeCount>0},dA=(e,t)=>{const n=W0(e);n.length>0?tt(n,i=>{const u=i.dom,m=e.dom.createRng();m.setStartBefore(u),m.setEndAfter(u),t(m,!0)}):t(e.selection.getRng(),!1)},MD=(e,t,n)=>{const i=yz(e,t);n(i),e.moveToBookmark(i)},uA=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]),bI=e=>uA(e,sn),fA=e=>uA(e,_t),hA=e=>uA(e,s0),fw=e=>I(e==null?void 0:e.nodeType),pA=e=>eo(e)&&!Ad(e)&&!Ko(e)&&!Jh(e),yI=(e,t)=>{if(pA(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),i=parseInt(n,10);return!isNaN(i)&&i>0}else return!1},ND=(e,t,n)=>{const{selection:i,dom:u}=e,m=i.getNode(),y=us(m);MD(i,!0,()=>{t()}),y&&us(m)&&u.isChildOf(m,e.getBody())?e.selection.select(m):n(i.getStart())&&RD(u,i)},RD=(e,t)=>{const n=t.getRng(),{startContainer:i,startOffset:u}=n,m=t.getNode();if(!yI(e,m)&&eo(i)){const y=i.childNodes,_=e.getRoot();let E;if(u<y.length){const N=y[u];E=new Dr(N,e.getParent(N,e.isBlock)??_)}else{const N=y[y.length-1];E=new Dr(N,e.getParent(N,e.isBlock)??_),E.next(!0)}for(let N=E.current();N;N=E.next()){if(e.getContentEditable(N)==="false")return;if(_t(N)&&!mA(N)){n.setStart(N,0),t.setRng(n);return}}}},bp=(e,t,n)=>{if(e){const i=t?"nextSibling":"previousSibling";for(e=e[i];e;e=e[i])if(eo(e)||!mA(e))return e}},e2=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||rh(e,t),Z0=(e,t,n)=>e.schema.isValidChild(t,n),mA=(e,t=!1)=>{if(Me(e)&&_t(e)){const n=t?e.data.replace(/ /g,""):e.data;return Qh(n)}else return!1},xI=e=>Me(e)&&_t(e)&&e.length===0,LD=(e,t)=>{const n="[data-mce-cef-wrappable]",i=HE(e),u=ad(i)?n:`${n},${i}`;return jn(xe.fromDom(t),u)},gA=(e,t)=>{const n=e.dom;return pA(t)&&n.getContentEditable(t)==="false"&&LD(e,t)&&n.select('[contenteditable="true"]',t).length===0},Gg=(e,t)=>yt(e)?e(t):(Me(t)&&(e=e.replace(/%(\w+)/g,(n,i)=>t[i]||n)),e),Bm=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),t2=(e,t)=>{if(Kt(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=_m(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},o2=(e,t,n)=>{const i=e.getStyle(t,n);return t2(i,n)},BD=(e,t)=>{let n;return e.getParent(t,i=>eo(i)?(n=e.getStyle(i,"text-decoration"),!!n&&n!=="none"):!1),n},ix=(e,t,n)=>e.getParents(t,n,e.getRoot()),bA=(e,t,n)=>{const i=e.formatter.get(t);return Me(i)&&Rn(i,n)},yA=(e,t)=>bA(e,t,i=>{const u=m=>yt(m)||m.length>1&&m.charAt(0)==="%";return Rn(["styles","attributes"],m=>Dn(i,m).exists(y=>{const _=he(y)?y:Us(y);return Rn(_,u)}))}),PD=(e,t,n)=>{const i=["inline","block","selector","attributes","styles","classes"],u=m=>hi(m,(y,_)=>Rn(i,E=>E===_));return bA(e,t,m=>{const y=u(m);return bA(e,n,_=>{const E=u(_);return Iu(y,E)})})},vu=e=>je(e,"block"),vI=e=>vu(e)&&e.wrapper===!0,ID=e=>vu(e)&&e.wrapper!==!0,Td=e=>je(e,"selector"),Ui=e=>je(e,"inline"),FD=e=>Td(e)&&Ui(e)&&Ur(Dn(e,"mixed"),!0),n2=e=>Td(e)&&e.expand!==!1&&!Ui(e),wI=e=>{const t=[];let n=e;for(;n;){if(_t(n)&&n.data!==ui||n.childNodes.length>1)return[];eo(n)&&t.push(n),n=n.firstChild}return t},HD=e=>wI(e).length>0,jl=e=>Ko(e.dom)&&HD(e.dom),q0=Ad,$D=ix,xA=mA,kI=e2,ax=e=>nr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,K0=(e,t)=>{let n=t;for(;n;){if(eo(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},VD=(e,t,n,i)=>{const u=t.data;if(e){for(let m=n;m>0;m--)if(i(u.charAt(m-1)))return m}else for(let m=n;m<u.length;m++)if(i(u.charAt(m)))return m;return-1},yh=(e,t,n)=>VD(e,t,n,i=>sx(i)||Kg(i)),_I=(e,t,n)=>VD(e,t,n,uw),jD=(e,t,n,i,u,m)=>{let y;const _=e.getParent(n,W=>ym(W)||e.isBlock(W)),E=Me(_)?_:t,N=(W,q,ne)=>{const me=Wc(e),ce=u?me.backwards:me.forwards;return G.from(ce(W,q,(be,Be)=>q0(be.parentNode)?-1:(y=be,ne(u,be,Be)),E))};return N(n,i,yh).bind(W=>m?N(W.container,W.offset+(u?-1:0),_I):G.some(W)).orThunk(()=>y?G.some({container:y,offset:u?0:y.length}):G.none())},hw=(e,t,n,i,u)=>{const m=i[u];_t(i)&&ad(i.data)&&m&&(i=m);const y=$D(e,i);for(let _=0;_<y.length;_++)for(let E=0;E<t.length;E++){const N=t[E];if(!(Me(N.collapsed)&&N.collapsed!==n.collapsed)&&Td(N)&&e.is(y[_],N.selector))return y[_]}return i},s2=(e,t,n,i)=>{let u=n;const m=e.getRoot(),y=t[0];if(vu(y)&&(u=y.wrapper?null:e.getParent(n,y.block,m)),!u){const _=e.getParent(n,"LI,TD,TH,SUMMARY")??m;u=e.getParent(_t(n)?n.parentNode:n,E=>E!==m&&kI(e.schema,E),_)}if(u&&vu(y)&&y.wrapper&&(u=$D(e,u,"ul,ol").reverse()[0]||u),!u)for(u=n;u&&u[i]&&!e.isBlock(u[i])&&(u=u[i],!Bm(u,"br")););return u||n},r2=(e,t,n,i)=>{const u=n.parentNode;return Me(n[i])?!1:u===t||Kt(u)||e.isBlock(u)?!0:r2(e,t,u,i)},pw=(e,t,n,i,u,m)=>{let y=n;const _=u?"previousSibling":"nextSibling",E=e.getRoot();if(_t(n)&&!xA(n)&&(u?i>0:i<n.data.length))return n;for(;y;){if(ym(y))return n;if(!t[0].block_expand&&e.isBlock(y))return m?y:n;for(let N=y[_];N;N=N[_]){const j=_t(N)&&!r2(e,E,N,_);if(!q0(N)&&!ax(N)&&!xA(N,j))return y}if(y===E||y.parentNode===E){n=y;break}y=y.parentNode}return n},Pm=e=>q0(e.parentNode)||q0(e),G0=(e,t,n,i={})=>{const{includeTrailingSpace:u=!1,expandToBlock:m=!0}=i,y=e.getParent(t.commonAncestorContainer,ne=>ym(ne)),_=Me(y)?y:e.getRoot();let{startContainer:E,startOffset:N,endContainer:j,endOffset:W}=t;const q=n[0];return eo(E)&&E.hasChildNodes()&&(E=Ee(E,N),_t(E)&&(N=0)),eo(j)&&j.hasChildNodes()&&(j=Ee(j,t.collapsed?W:W-1),_t(j)&&(W=j.data.length)),E=K0(e,E),j=K0(e,j),Pm(E)&&(E=q0(E)?E:E.parentNode,t.collapsed?E=E.previousSibling||E:E=E.nextSibling||E,_t(E)&&(N=t.collapsed?E.length:0)),Pm(j)&&(j=q0(j)?j:j.parentNode,t.collapsed?j=j.nextSibling||j:j=j.previousSibling||j,_t(j)&&(W=t.collapsed?0:j.length)),t.collapsed&&(jD(e,_,E,N,!0,u).each(({container:ce,offset:be})=>{E=ce,N=be}),jD(e,_,j,W,!1,u).each(({container:ce,offset:be})=>{j=ce,W=be})),(Ui(q)||q.block_expand)&&((!Ui(q)||!_t(E)||N===0)&&(E=pw(e,n,E,N,!0,m)),(!Ui(q)||!_t(j)||W===j.data.length)&&(j=pw(e,n,j,W,!1,m))),n2(q)&&(E=hw(e,n,t,E,"previousSibling"),j=hw(e,n,t,j,"nextSibling")),(vu(q)||Td(q))&&(E=s2(e,n,E,"previousSibling"),j=s2(e,n,j,"nextSibling"),vu(q)&&(e.isBlock(E)||(E=pw(e,n,E,N,!0,m),_t(E)&&(N=0)),e.isBlock(j)||(j=pw(e,n,j,W,!1,m),_t(j)&&(W=j.data.length)))),eo(E)&&E.parentNode&&(N=e.nodeIndex(E),E=E.parentNode),eo(j)&&j.parentNode&&(W=e.nodeIndex(j)+1,j=j.parentNode),{startContainer:E,startOffset:N,endContainer:j,endOffset:W}},mw=(e,t,n)=>{const i=t.startOffset,u=Ee(t.startContainer,i),m=t.endOffset,y=Ee(t.endContainer,m-1),_=ce=>{const be=ce[0];_t(be)&&be===u&&i>=be.data.length&&ce.splice(0,1);const Be=ce[ce.length-1];return m===0&&ce.length>0&&Be===y&&_t(Be)&&ce.splice(ce.length-1,1),ce},E=(ce,be,Be)=>{const Pe=[];for(;ce&&ce!==Be;ce=ce[be])Pe.push(ce);return Pe},N=(ce,be)=>e.getParent(ce,Be=>Be.parentNode===be,be),j=(ce,be,Be)=>{const Pe=Be?"nextSibling":"previousSibling";for(let $e=ce,rt=$e.parentNode;$e&&$e!==be;$e=rt){rt=$e.parentNode;const gt=E($e===ce?$e:$e[Pe],Pe);gt.length&&(Be||gt.reverse(),n(_(gt)))}};if(u===y)return n(_([u]));const W=e.findCommonAncestor(u,y)??e.getRoot();if(e.isChildOf(u,y))return j(u,W,!0);if(e.isChildOf(y,u))return j(y,W);const q=N(u,W)||u,ne=N(y,W)||y;j(u,q,!0);const me=E(q===u?q:q.nextSibling,"nextSibling",ne===y?ne.nextSibling:ne);me.length&&n(_(me)),j(y,ne)},fn=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],CI=e=>Ii(e)&&Bc(e)===ui,UD=(e,t,n,i)=>pd(t).fold(()=>"skipping",u=>i==="br"||CI(t)?"valid":qv(t)?"existing":Ko(t.dom)?"caret":Rn(fn,m=>jn(t,m))?"valid-block":!Z0(e,n,i)||!Z0(e,Xo(u),n)?"invalid-child":"valid"),SI=(e,t)=>{const n=G0(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Nr=(e,t,n,i,u,m)=>{const{uid:y=t,..._}=n;xl(e,Sm()),Tr(e,`${Sd()}`,y),Tr(e,`${dh()}`,i);const{attributes:E={},classes:N=[]}=u(y,_);if(Ba(e,E),nu(e,N),m){N.length>0&&Tr(e,`${dp()}`,N.join(","));const j=Yi(E);j.length>0&&Tr(e,`${gn()}`,j.join(","))}},EI=e=>{$i(e,Sm()),Or(e,`${Sd()}`),Or(e,`${dh()}`),Or(e,`${Em()}`);const t=Bl(e,`${gn()}`).map(i=>i.split(",")).getOr([]),n=Bl(e,`${dp()}`).map(i=>i.split(",")).getOr([]);tt(t,i=>Or(e,i)),Gh(e,n),Or(e,`${dp()}`),Or(e,`${gn()}`)},rr=(e,t,n,i,u)=>{const m=xe.fromTag("span",e);return Nr(m,t,n,i,u,!1),m},WD=(e,t,n,i,u,m)=>{const y=[],_=rr(e.getDoc(),n,m,i,u),E=Ql(),N=()=>{E.clear()},j=()=>E.get().getOrThunk(()=>{const me=ga(_);return y.push(me),E.set(me),me}),W=me=>{tt(me,q)},q=me=>{switch(UD(e,me,"span",Xo(me))){case"invalid-child":{N();const be=ln(me);W(be),N();break}case"valid-block":{N(),Nr(me,n,m,i,u,!0);break}case"valid":{const be=j();Ar(me,be);break}}},ne=me=>{const ce=Do(me,xe.fromDom);W(ce)};return mw(e.dom,t,me=>{N(),ne(me)}),y},ZD=(e,t,n,i)=>{e.undoManager.transact(()=>{const u=e.selection,m=u.getRng(),y=W0(e).length>0,_=jr("mce-annotation");if(m.collapsed&&!y&&SI(e,m),u.getRng().collapsed&&!y){const E=rr(e.getDoc(),_,i,t,n.decorate);Gu(E,xr),u.getRng().insertNode(E.dom),u.select(E.dom)}else MD(u,!1,()=>{dA(e,E=>{WD(e,E,_,t,n.decorate,i)})})})},qD=e=>{const t=Am();up(e,t);const n=L1(e,t),i=ms("span"),u=m=>{tt(m,y=>{i(y)?Qi(y):EI(y)})};return{register:(m,y)=>{t.register(m,y)},annotate:(m,y)=>{t.lookup(m).each(_=>{ZD(e,m,_,y)})},annotationChanged:(m,y)=>{n.addListener(m,y)},remove:m=>{M1(e,G.some(m)).each(({elements:y})=>{const _=e.selection.getBookmark();u(y),e.selection.moveToBookmark(_)})},removeAll:m=>{const y=e.selection.getBookmark();yn(R1(e,m),(_,E)=>{u(_)}),e.selection.moveToBookmark(y)},getAll:m=>{const y=R1(e,m);return Ea(y,_=>Do(_,E=>E.dom))}}},Y0=e=>({getBookmark:Tt(AD,e),moveToBookmark:Tt(TD,e)});Y0.isBookmarkNode=Ad;const yp=(e,t,n)=>n.collapsed?!1:Rn(n.getClientRects(),i=>ee(i,e,t)),i2=(e,t)=>{const n=Ii(t)?Bc(t).length:ln(t).length+1;return e>n?n:e<0?0:e},AI=e=>Ic.range(e.start,i2(e.soffset,e.start),e.finish,i2(e.foffset,e.finish)),a2=(e,t)=>!xd(t.dom)&&(pr(e,t)||cn(e,t)),KD=e=>t=>a2(e,t.start)&&a2(e,t.finish),zi=e=>e.inline||$o.browser.isFirefox(),TI=e=>Ic.range(xe.fromDom(e.startContainer),e.startOffset,xe.fromDom(e.endContainer),e.endOffset),Yg=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?G.none():G.from(t.getRangeAt(0))).map(TI)},OI=e=>{const t=La(e);return Yg(t.dom).filter(KD(e))},zI=(e,t)=>G.from(t).filter(KD(e)).map(AI),DI=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),G.some(t)}catch{return G.none()}},l2=e=>{const t=zi(e)?OI(xe.fromDom(e.getBody())):G.none();e.bookmark=t.isSome()?t:e.bookmark},vA=e=>(e.bookmark?e.bookmark:G.none()).bind(n=>zI(xe.fromDom(e.getBody()),n)).bind(DI),MI=e=>{vA(e).each(t=>e.selection.setRng(t))},GD={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},NI=(e,t)=>(I(t)||(t=0),window.setTimeout(e,t)),c2=(e,t)=>(I(t)||(t=0),window.setInterval(e,t)),wu={setEditorTimeout:(e,t,n)=>NI(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const i=c2(()=>{e.removed?window.clearInterval(i):t()},n);return i}},RI=e=>e.type==="nodechange"&&e.selectionChange,gw=(e,t)=>{const n=()=>{t.throttle()};Kn.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Kn.DOM.unbind(document,"mouseup",n)})},wA=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},X0=(e,t)=>{wA(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{RI(n)||l2(e)})},Q0=e=>{const t=Zs(()=>{l2(e)},0);e.on("init",()=>{e.inline&&gw(e,t),X0(e,t)}),e.on("remove",()=>{t.cancel()})};let Im;const lx=Kn.DOM,J0=e=>eo(e)&&GD.isEditorUIElement(e),Fm=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},ey=(e,t)=>{const n=z8(e);return lx.getParent(t,u=>J0(u)||(n?e.dom.is(u,n):!1))!==null},cx=e=>{try{const t=Dc(xe.fromDom(e.getElement()));return Nc(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},YD=(e,t)=>{const n=t.editor;Q0(n);const i=(u,m)=>{if(Qz(u)&&u.inline!==!0){const y=xe.fromDom(u.getContainer());m(y,"tox-edit-focus")}};n.on("focusin",()=>{const u=e.focusedEditor;Fm(cx(n))&&i(n,xl),u!==n&&(u&&u.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:u}),n.focus(!0))}),n.on("focusout",()=>{wu.setEditorTimeout(n,()=>{const u=e.focusedEditor;(!Fm(cx(n))||u!==n)&&i(n,$i),!ey(n,cx(n))&&u===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Im||(Im=u=>{const m=e.activeEditor;m&&nm(u).each(y=>{const _=y;_.ownerDocument===document&&_!==document.body&&!ey(m,_)&&e.focusedEditor===m&&(m.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},lx.bind(document,"focusin",Im))},kA=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Im&&(lx.unbind(document,"focusin",Im),Im=null)},_A=e=>{e.on("AddEditor",Tt(YD,e)),e.on("RemoveEditor",Tt(kA,e))},XD=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),QD=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,dx=e=>e.collapsed?G.from(Ee(e.startContainer,e.startOffset)).map(xe.fromDom):G.none(),JD=(e,t)=>dx(t).bind(n=>Yv(n)?G.some(n):pr(e,n)?G.none():G.some(e)),CA=(e,t)=>{JD(xe.fromDom(e.getBody()),t).bind(n=>_l(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},bw=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},d2=e=>Ll(e)||Wh(e).isSome(),eM=e=>Me(e.iframeElement)&&Ll(xe.fromDom(e.iframeElement)),tM=e=>{const t=e.getBody();return t&&d2(xe.fromDom(t))},oM=e=>{const t=Dc(xe.fromDom(e.getElement()));return Nc(t).filter(n=>!Fm(n.dom)&&ey(e,n.dom)).isSome()},ty=e=>e.inline?tM(e):eM(e),xh=e=>ty(e)||oM(e),Xg=e=>{const t=e.selection,n=e.getBody();let i=t.getRng();e.quirks.refreshContentEditable();const u=y=>{vA(y).each(_=>{y.selection.setRng(_),i=_})};!ty(e)&&e.hasEditableRoot()&&u(e);const m=XD(e,t.getNode());if(m&&e.dom.isChildOf(m,n)){QD(e,m)||bw(n),bw(m),e.hasEditableRoot()||u(e),CA(e,i),Od(e);return}e.inline||($o.browser.isOpera()||bw(n),e.getWin().focus()),($o.browser.isFirefox()||e.inline)&&(bw(n),CA(e,i)),Od(e)},Od=e=>e.editorManager.setActive(e),SA=(e,t)=>{e.removed||(t?Od(e):Xg(e))},Ht={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ht.metaKeyPressed(e),metaKeyPressed:e=>$o.os.isMacOS()||$o.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Qg="data-mce-selected",nM=`table,img,figure.image,hr,video,span.mce-preview-object,details,${t_}`,EA=Math.abs,ux=Math.round,u2={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},sM=e=>e.type==="longpress"||e.type.indexOf("touch")===0,f2=(e,t)=>{const n=t.dom,i=t.getDoc(),u=document,m=t.getBody();let y,_,E,N,j,W,q,ne,me,ce,be,Be,Pe,$e,rt;const gt=ao=>Me(ao)&&(u1(ao)||n.is(ao,"figure.image")),Bt=ao=>nl(ao)||n.hasClass(ao,"mce-preview-object"),ro=(ao,Et)=>{if(sM(ao)){const $t=ao.touches[0];return gt(ao.target)&&!yp($t.clientX,$t.clientY,Et)}else return gt(ao.target)&&!yp(ao.clientX,ao.clientY,Et)},at=ao=>{const Et=ao.target;ro(ao,t.selection.getRng())&&!ao.isDefaultPrevented()&&t.selection.select(Et)},Xe=ao=>n.hasClass(ao,"mce-preview-object")&&Me(ao.firstElementChild)?[ao,ao.firstElementChild]:n.is(ao,"figure.image")?[ao.querySelector("img")]:[ao],lt=ao=>{const Et=PE(t);return!Et||t.mode.isReadOnly()||ao.getAttribute("data-mce-resize")==="false"||ao===t.getBody()?!1:n.hasClass(ao,"mce-preview-object")&&Me(ao.firstElementChild)?jn(xe.fromDom(ao.firstElementChild),Et):jn(xe.fromDom(ao),Et)},Pt=(ao,Et)=>{if(Bt(Et))return ao.create("img",{src:$o.transparentSrc});if(wd(Et)){const go=Ws(N.name,"n")?ls:Ls,Uo=Et.cloneNode(!0);return go(ao.select("tr",Uo)).each(Tn=>{const Vs=ao.select("td,th",Tn);ao.setStyle(Tn,"height",null),tt(Vs,Ah=>ao.setStyle(Ah,"height",null))}),Uo}else return Et.cloneNode(!0)},wo=(ao,Et,$t)=>{if(Me($t)){const go=Xe(ao);tt(go,Uo=>{if(Uo.style[Et]||!t.schema.isValid(Uo.nodeName.toLowerCase(),Et))n.setStyle(Uo,Et,$t);else if(h1(Uo)){Uo[Et]=$t;const Tn=400;if(Uo.width>Tn&&!(Et==="width"&&$t<Tn))Uo[Et]=$t,n.setAttrib(Uo,Et,""+$t);else{const Vs=Et==="height"?Tn*ce:Tn;Uo[Et]=Vs,n.setAttrib(Uo,Et,""+Vs)}}else n.setAttrib(Uo,Et,""+$t)})}},Ro=(ao,Et,$t)=>{wo(ao,"width",Et),wo(ao,"height",$t)},_n=ao=>{let Et,$t,go,Uo,Tn;Et=ao.screenX-W,$t=ao.screenY-q,Be=Et*N[2]+ne,Pe=$t*N[3]+me,Be=Be<5?5:Be,Pe=Pe<5?5:Pe,(gt(y)||Bt(y)||h1(y))&&IE(t)!==!1?go=!Ht.modifierPressed(ao):go=Ht.modifierPressed(ao),go&&(EA(Et)>EA($t)?(Pe=ux(Be*ce),Be=ux(Pe/ce)):(Be=ux(Pe/ce),Pe=ux(Be*ce))),Ro(_,Be,Pe),Uo=N.startPos.x+Et,Tn=N.startPos.y+$t,Uo=Uo>0?Uo:0,Tn=Tn>0?Tn:0,n.setStyles(E,{left:Uo,top:Tn,display:"block"}),E.innerHTML=Be+" &times; "+Pe,Et=m.scrollWidth-$e,$t=m.scrollHeight-rt,Et+$t!==0&&n.setStyles(E,{left:Uo-Et,top:Tn-$t}),be||(m8(t,y,ne,me,"corner-"+N.name),be=!0)},as=()=>{const ao=be;be=!1,ao&&(wo(y,"width",Be),wo(y,"height",Pe)),n.unbind(i,"mousemove",_n),n.unbind(i,"mouseup",as),u!==i&&(n.unbind(u,"mousemove",_n),n.unbind(u,"mouseup",as)),n.remove(_),n.remove(E),n.remove(j),$s(y),ao&&(g8(t,y,Be,Pe,"corner-"+N.name),n.setAttrib(y,"style",n.getAttrib(y,"style"))),t.nodeChanged()},$s=ao=>{ho();const Et=n.getPos(ao,m),$t=Et.x,go=Et.y,Uo=ao.getBoundingClientRect(),Tn=Uo.width||Uo.right-Uo.left,Vs=Uo.height||Uo.bottom-Uo.top;y!==ao&&(Mi(),y=ao,Be=Pe=0);const Ah=t.dispatch("ObjectSelected",{target:ao});lt(ao)&&!Ah.isDefaultPrevented()?yn(u2,(Ka,Th)=>{const Oh=xc=>{const Rf=Xe(y)[0];W=xc.screenX,q=xc.screenY,ne=Rf.clientWidth,me=Rf.clientHeight,ce=me/ne,N=Ka,N.name=Th,N.startPos={x:Tn*Ka[0]+$t,y:Vs*Ka[1]+go},$e=m.scrollWidth,rt=m.scrollHeight,j=n.add(m,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(j,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),_=Pt(n,y),n.addClass(_,"mce-clonedresizable"),n.setAttrib(_,"data-mce-bogus","all"),_.contentEditable="false",n.setStyles(_,{left:$t,top:go,margin:0}),Ro(_,Tn,Vs),_.removeAttribute(Qg),m.appendChild(_),n.bind(i,"mousemove",_n),n.bind(i,"mouseup",as),u!==i&&(n.bind(u,"mousemove",_n),n.bind(u,"mouseup",as)),E=n.add(m,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ne+" &times; "+me)};let Jc=n.get("mceResizeHandle"+Th);Jc&&n.remove(Jc),Jc=n.add(m,"div",{id:"mceResizeHandle"+Th,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Th+"-resize; margin:0; padding:0"}),n.bind(Jc,"mousedown",xc=>{xc.stopImmediatePropagation(),xc.preventDefault(),Oh(xc)}),Ka.elm=Jc,n.setStyles(Jc,{left:Tn*Ka[0]+$t-Jc.offsetWidth/2,top:Vs*Ka[1]+go-Jc.offsetHeight/2})}):Mi(!1)},Qs=Zs($s,0),Mi=(ao=!0)=>{Qs.cancel(),ho(),y&&ao&&y.removeAttribute(Qg),yn(u2,(Et,$t)=>{const go=n.get("mceResizeHandle"+$t);go&&(n.unbind(go),n.remove(go))})},Du=(ao,Et)=>n.isChildOf(ao,Et),It=ao=>{if(be||t.removed||t.composing)return;const Et=ao.type==="mousedown"?ao.target:e.getNode(),$t=Pc(xe.fromDom(Et),nM).map(Uo=>Uo.dom).filter(Uo=>n.isEditable(Uo.parentElement)||Uo.nodeName==="IMG"&&n.isEditable(Uo)).getOrUndefined(),go=Me($t)?n.getAttrib($t,Qg,"1"):"1";if(tt(n.select(`img[${Qg}],hr[${Qg}]`),Uo=>{Uo.removeAttribute(Qg)}),Me($t)&&Du($t,m)&&xh(t)){Gn();const Uo=e.getStart(!0);if(Du(Uo,$t)&&Du(e.getEnd(!0),$t)){n.setAttrib($t,Qg,go),Qs.throttle($t);return}}Mi()},ho=()=>{yn(u2,ao=>{ao.elm&&(n.unbind(ao.elm),delete ao.elm)})},Gn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Gn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",It),t.on("keyup compositionend",ao=>{y&&y.nodeName==="TABLE"&&It(ao)}),t.on("hide blur",Mi),t.on("contextmenu longpress",at,!0)}),t.on("remove",ho),{isResizable:lt,showResizeRect:$s,hideResizeRect:Mi,updateResizeRect:It,destroy:()=>{Qs.cancel(),y=_=j=null}}},vh=(e,t,n)=>{const i=La(xe.fromDom(n));return Av(i.dom,e,t).map(u=>{const m=n.createRange();return m.setStart(u.start.dom,u.soffset),m.setEnd(u.finish.dom,u.foffset),m}).getOrUndefined()},zd=(e,t)=>Me(e)&&Me(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,h2=(e,t,n)=>{let i=e;for(;i&&i!==t;){if(n(i))return i;i=i.parentNode}return null},AA=(e,t,n)=>h2(e,t,n)!==null,p2=(e,t,n)=>AA(e,t,i=>i.nodeName===n),rM=(e,t)=>fc(e)&&!AA(e,t,Ko),TA=(e,t,n)=>{const i=t.parentNode;if(i){const u=new Dr(t,e.getParent(i,e.isBlock)||e.getRoot());let m;for(;m=u[n?"prev":"next"]();)if(nr(m))return!0}return!1},iM=(e,t)=>{var n;return((n=e.previousSibling)==null?void 0:n.nodeName)===t},aM=(e,t)=>{let n=t;for(;n&&n!==e;){if(us(n))return!0;n=n.parentNode}return!1},m2=(e,t,n,i,u)=>{const m=e.getRoot(),y=e.schema.getNonEmptyElements(),_=u.parentNode;let E,N;if(!_)return G.none();const j=e.getParent(_,e.isBlock)||m;if(i&&nr(u)&&t&&e.isEmpty(j))return G.some(it(_,e.nodeIndex(u)));const W=new Dr(u,j);for(;N=W[i?"prev":"next"]();){if(e.getContentEditableParent(N)==="false"||rM(N,m))return G.none();if(_t(N)&&N.data.length>0)return p2(N,m,"A")?G.none():G.some(it(N,i?N.data.length:0));if(e.isBlock(N)||y[N.nodeName.toLowerCase()])return G.none();E=N}return iu(E)?G.none():n&&E?G.some(it(E,0)):G.none()},OA=(e,t,n,i)=>{const u=e.getRoot();let m,y=!1,_=n?i.startContainer:i.endContainer,E=n?i.startOffset:i.endOffset;const N=eo(_)&&E===_.childNodes.length,j=e.schema.getNonEmptyElements();let W=n;if(fc(_))return G.none();if(eo(_)&&E>_.childNodes.length-1&&(W=!1),bm(_)&&(_=u,E=0),_===u){if(W&&(m=_.childNodes[E>0?E-1:0],m&&(fc(m)||j[m.nodeName]||wd(m))))return G.none();if(_.hasChildNodes()){if(E=Math.min(!W&&E>0?E-1:E,_.childNodes.length-1),_=_.childNodes[E],E=_t(_)&&N?_.data.length:0,!t&&_===u.lastChild&&wd(_)||aM(u,_)||fc(_)||Dv(_))return G.none();if(_.hasChildNodes()&&!wd(_)){m=_;const q=new Dr(_,u);do{if(us(m)||fc(m)){y=!1;break}if(_t(m)&&m.data.length>0){E=W?0:m.data.length,_=m,y=!0;break}if(j[m.nodeName.toLowerCase()]&&!f1(m)){E=e.nodeIndex(m),_=m.parentNode,W||E++,y=!0;break}}while(m=W?q.next():q.prev())}}}return t&&(_t(_)&&E===0&&m2(e,N,t,!0,_).each(q=>{_=q.container(),E=q.offset(),y=!0}),eo(_)&&(m=_.childNodes[E],m||(m=_.childNodes[E-1]),m&&nr(m)&&!iM(m,"A")&&!TA(e,m,!1)&&!TA(e,m,!0)&&m2(e,N,t,!0,m).each(q=>{_=q.container(),E=q.offset(),y=!0}))),W&&!t&&_t(_)&&E===_.data.length&&m2(e,N,t,!1,_).each(q=>{_=q.container(),E=q.offset(),y=!0}),y&&_?G.some(it(_,E)):G.none()},oy=(e,t)=>{const n=t.collapsed,i=t.cloneRange(),u=it.fromRangeStart(t);return OA(e,n,!0,i).each(m=>{(!n||!it.isAbove(u,m))&&i.setStart(m.container(),m.offset())}),n||OA(e,n,!1,i).each(m=>{i.setEnd(m.container(),m.offset())}),n&&i.collapse(!0),zd(t,i)?G.none():G.some(i)},fx=(e,t)=>e.splitText(t),yw=e=>{let t=e.startContainer,n=e.startOffset,i=e.endContainer,u=e.endOffset;if(t===i&&_t(t)){if(n>0&&n<t.data.length)if(i=fx(t,n),t=i.previousSibling,u>n){u=u-n;const m=fx(i,u).previousSibling;t=i=m,u=m.data.length,n=0}else u=0}else if(_t(t)&&n>0&&n<t.data.length&&(t=fx(t,n),n=0),_t(i)&&u>0&&u<i.data.length){const m=fx(i,u).previousSibling;i=m,u=m.data.length}return{startContainer:t,startOffset:n,endContainer:i,endOffset:u}},bf=e=>({walk:(m,y)=>mw(e,m,y),split:yw,expand:(m,y={type:"word"})=>{if(y.type==="word"){const _=G0(e,m,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),E=e.createRng();return E.setStart(_.startContainer,_.startOffset),E.setEnd(_.endContainer,_.endOffset),E}return m},normalize:m=>oy(e,m).fold(_o,y=>(m.setStart(y.startContainer,y.startOffset),m.setEnd(y.endContainer,y.endOffset),!0))});bf.compareRanges=zd,bf.getCaretRangeFromPoint=vh,bf.getSelectedNode=Ce,bf.getNode=Ee;const lM=(e,t)=>e.view(t).fold(ft([]),i=>{const u=e.owner(i),m=lM(e,u);return[i].concat(m)}),LI=(e,t)=>{const n=t.owner(e);return lM(t,n)};var BI=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?G.none():G.from((n=e.dom.defaultView)==null?void 0:n.frameElement)).map(xe.fromDom)},owner:e=>Nl(e)});const PI=e=>{const t=Fi(),n=Hi(t),i=LI(e,BI),u=Ia(e),m=Yt(i,(y,_)=>{const E=Ia(_);return{left:y.left+E.left,top:y.top+E.top}},{left:0,top:0});return Lc(m.left+u.left+n.left,m.top+u.top+n.top)},hx=e=>Xo(e)==="textarea",zA=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),cM=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},DA=(e,t)=>{const n=ln(e);if(n.length===0||hx(e))return{element:e,offset:t};if(t<n.length&&!hx(n[t]))return{element:n[t],offset:0};{const i=n[n.length-1];return hx(i)?{element:e,offset:t}:Xo(i)==="img"?{element:i,offset:1}:Ii(i)?{element:i,offset:Bc(i).length}:{element:i,offset:ln(i).length}}},dM=(e,t)=>{const n=Ps(e),i=s1(e);return{element:e,bottom:n.top+i,height:i,pos:n,cleanup:t}},II=(e,t)=>{const n=DA(e,t),i=xe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ui+"</span>");return ii(n.element,i),dM(i,()=>ts(i))},FI=e=>dM(xe.fromDom(e),Ft),uM=(e,t,n,i)=>{g2(e,(u,m)=>HI(e,t,n,i),n)},fM=(e,t,n,i,u)=>{const m={elm:i.element.dom,alignToTop:u};if(zA(e,m))return;const y=Hi(t).top;n(e,t,y,i,u),cM(e,m)},HI=(e,t,n,i)=>{const u=xe.fromDom(e.getBody()),m=xe.fromDom(e.getDoc());ko(u);const y=II(xe.fromDom(n.startContainer),n.startOffset);fM(e,m,t,y,i),y.cleanup()},xw=(e,t,n,i)=>{const u=xe.fromDom(e.getDoc());fM(e,u,n,FI(t),i)},g2=(e,t,n)=>{const i=n.startContainer,u=n.startOffset,m=n.endContainer,y=n.endOffset;t(xe.fromDom(i),xe.fromDom(m));const _=e.dom.createRng();_.setStart(i,u),_.setEnd(m,y),e.selection.setRng(n)},px=(e,t,n,i,u)=>{const m=t.pos,y=30;if(i)ou(m.left,Math.max(0,m.top-y),u);else{const _=m.top-n+t.height+y;ou(-e.getBody().getBoundingClientRect().left,_,u)}},hM=(e,t,n,i,u,m)=>{const y=i+n,_=u.pos.top,E=u.bottom,N=E-_>=i;_<n?px(e,u,i,m!==!1,t):_>y?px(e,u,i,N?m!==!1:m===!0,t):E>y&&!N&&px(e,u,i,m===!0,t)},pM=(e,t,n,i,u)=>{const m=La(t).dom.innerHeight;hM(e,t,n,m,i,u)},mM=(e,t,n,i,u)=>{const m=La(t).dom.innerHeight;hM(e,t,n,m,i,u);const y=PI(i.element),_=ru(window);y.top<_.y?Ji(i.element,u!==!1):y.top>_.bottom&&Ji(i.element,u===!0)},$I=(e,t,n)=>uM(e,pM,t,n),VI=(e,t,n)=>xw(e,t,pM,n),jI=(e,t,n)=>uM(e,mM,t,n),yf=(e,t,n)=>xw(e,t,mM,n),gM=(e,t,n)=>{(e.inline?VI:yf)(e,t,n)},vw=(e,t,n)=>{(e.inline?$I:jI)(e,t,n)},MA=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),bM=(e,t,n,i,u)=>{const m=n?t.startContainer:t.endContainer,y=n?t.startOffset:t.endOffset;return G.from(m).map(xe.fromDom).map(_=>!i||!t.collapsed?kr(_,u(_,y)).getOr(_):_).bind(_=>mr(_)?G.some(_):pa(_).filter(mr)).map(_=>_.dom).getOr(e)},yM=(e,t,n=!1)=>bM(e,t,!0,n,(i,u)=>Math.min(eh(i),u)),Wa=(e,t,n=!1)=>bM(e,t,!1,n,(i,u)=>u>0?u-1:u),b2=(e,t)=>{const n=e;for(;e&&_t(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},xM=(e,t)=>{if(!t)return e;let n=t.startContainer,i=t.endContainer;const u=t.startOffset,m=t.endOffset;let y=t.commonAncestorContainer;t.collapsed||(n===i&&m-u<2&&n.hasChildNodes()&&(y=n.childNodes[u]),_t(n)&&_t(i)&&(n.length===u?n=b2(n.nextSibling,!0):n=n.parentNode,m===0?i=b2(i.previousSibling,!1):i=i.parentNode,n&&n===i&&(y=n)));const _=_t(y)?y.parentNode:y;return sn(_)?_:e},y2=(e,t,n,i)=>{const u=[],m=e.getRoot(),y=e.getParent(n||yM(m,t,t.collapsed),e.isBlock),_=e.getParent(i||Wa(m,t,t.collapsed),e.isBlock);if(y&&y!==m&&u.push(y),y&&_&&y!==_){let E;const N=new Dr(y,m);for(;(E=N.next())&&E!==_;)e.isBlock(E)&&u.push(E)}return _&&y!==_&&_!==m&&u.push(_),u},vM=(e,t,n)=>G.from(t).bind(i=>G.from(i.parentNode).map(u=>{const m=e.nodeIndex(i),y=e.createRng();return y.setStart(u,m),y.setEnd(u,m+1),n&&(Q_(e,y,i,!0),Q_(e,y,i,!1)),y})),x2=(e,t)=>Do(t,n=>{const i=e.dispatch("GetSelectionRange",{range:n});return i.range!==n?i.range:n}),wM={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},v2=(e,t,n)=>{const i=n?"lastChild":"firstChild",u=n?"prev":"next";if(e[i])return e[i];if(e!==t){let m=e[u];if(m)return m;for(let y=e.parent;y&&y!==t;y=y.parent)if(m=y[u],m)return m}},UI=e=>{const t=e.value??"";if(!Qh(t))return!1;const n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(t))},kM=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class al{constructor(t,n){vt(this,"name");vt(this,"type");vt(this,"attributes");vt(this,"value");vt(this,"parent");vt(this,"firstChild");vt(this,"lastChild");vt(this,"next");vt(this,"prev");vt(this,"raw");this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}static create(t,n){const i=new al(t,wM[t]||1);return n&&yn(n,(u,m)=>{i.attr(m,u)}),i}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const i=this;if(!He(t))return Me(t)&&yn(t,(m,y)=>{i.attr(y,m)}),i;const u=i.attributes;if(u){if(n!==void 0){if(n===null){if(t in u.map){delete u.map[t];let m=u.length;for(;m--;)if(u[m].name===t)return u.splice(m,1),i}return i}if(t in u.map){let m=u.length;for(;m--;)if(u[m].name===t){u[m].value=n;break}}else u.push({name:t,value:n});return u.map[t]=n,i}return u.map[t]}}clone(){const t=this,n=new al(t.name,t.type),i=t.attributes;if(i){const u=[];u.map={};for(let m=0,y=i.length;m<y;m++){const _=i[m];_.name!=="id"&&(u[u.length]={name:_.name,value:_.value},u.map[_.name]=_.value)}n.attributes=u}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const i=n.next;t.insert(n,t,!0),n=i}t.remove()}remove(){const t=this,n=t.parent,i=t.next,u=t.prev;return n&&(n.firstChild===t?(n.firstChild=i,i&&(i.prev=null)):u&&(u.next=i),n.lastChild===t?(n.lastChild=u,u&&(u.next=null)):i&&(i.prev=u),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const i=n.lastChild;return i?(i.next=t,t.prev=i,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,i){t.parent&&t.remove();const u=n.parent||this;return i?(n===u.firstChild?u.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===u.lastChild?u.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=u,t}getAll(t){const n=this,i=[];for(let u=n.firstChild;u;u=v2(u,n))u.name===t&&i.push(u);return i}children(){const t=this,n=[];for(let i=t.firstChild;i;i=i.next)n.push(i);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let u=t.firstChild;u;u=v2(u,t))n.push(u);let i=n.length;for(;i--;){const u=n[i];u.parent=u.firstChild=u.lastChild=u.next=u.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},i){const u=this;let m=u.firstChild;if(kM(u))return!1;if(m)do{if(m.type===1){if(m.attr("data-mce-bogus"))continue;if(t[m.name]||kM(m))return!1}if(m.type===8||m.type===3&&!UI(m)||m.type===3&&m.parent&&n[m.parent.name]&&Qh(m.value??"")||i&&i(m))return!1}while(m=v2(m,u));return!0}walk(t){return v2(this,null,t)}}const w2=bt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),NA=e=>He(e.nodeValue)&&e.nodeValue.includes(ui),RA=e=>`${e.length===0?"":`${Do(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,_M=(e,t)=>t.querySelectorAll(RA(e)),CM=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>NA(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),SM=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(NA(t)){const n=t.parentNode;return n&&Io(w2,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),LA=e=>CM(e).nextNode()!==null,BA=e=>SM(e).nextNode()!==null,PA=(e,t)=>t.querySelector(RA(e))!==null,WI=(e,t)=>{tt(_M(e,t),n=>{const i=xe.fromDom(n);fr(i,"data-mce-bogus")==="all"?ts(i):tt(e,u=>{Qd(i,u)&&Or(i,u)})})},EM=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},ZI=zo(EM,CM),qI=zo(EM,SM),IA=(e,t)=>{const n=[{condition:Tt(PA,t),action:Tt(WI,t)},{condition:LA,action:ZI},{condition:BA,action:qI}];let i=e,u=!1;return tt(n,({condition:m,action:y})=>{m(i)&&(u||(i=e.cloneNode(!0),u=!0),y(i))}),i},AM=e=>{const t=Ae(e,"[data-mce-bogus]");tt(t,n=>{fr(n,"data-mce-bogus")==="all"?ts(n):Fl(n)?(ii(n,xe.fromText(pl)),ts(n)):Qi(n)})},TM=e=>{const t=Ae(e,"input");tt(t,n=>{Or(n,"name")})},KI=(e,t)=>{const n=Ua(e),i=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(i,"")},GI=(e,t)=>{const n=e.getDoc(),i=Dc(xe.fromDom(e.getBody())),u=xe.fromTag("div",n);Tr(u,"data-mce-bogus","all"),Yu(u,{position:"fixed",left:"-9999999px",top:"0"}),Gu(u,t.innerHTML),AM(u),TM(u);const m=tm(i);un(m,u);const y=kl(u.dom.innerText);return ts(u),y},YI=(e,t,n)=>{let i;return t.format==="raw"?i=bt.trim(kl(IA(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?i=GI(e,n):t.format==="tree"?i=e.serializer.serialize(n,t):i=KI(e,e.serializer.serialize(n,t)),t.format!=="text"&&!O0(xe.fromDom(n))&&He(i)?bt.trim(i):i},mx=(e,t)=>G.from(e.getBody()).fold(ft(t.format==="tree"?new al("body",11):""),n=>YI(e,t,n)),ww=bt.makeMap,FA=e=>{const t=[];e=e||{};const n=e.indent,i=ww(e.indent_before||""),u=ww(e.indent_after||""),m=lu.getEncodeFunc(e.entity_encoding||"raw",e.entities),y=e.element_format!=="xhtml";return{start:(_,E,N)=>{if(n&&i[_]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}if(t.push("<",_),E)for(let j=0,W=E.length;j<W;j++){const q=E[j];t.push(" ",q.name,'="',m(q.value,!0),'"')}if(!N||y?t[t.length]=">":t[t.length]=" />",N&&n&&u[_]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}},end:_=>{let E;t.push("</",_,">"),n&&u[_]&&t.length>0&&(E=t[t.length-1],E.length>0&&E!==`
`&&t.push(`
`))},text:(_,E)=>{_.length>0&&(t[t.length]=E?_:m(_))},cdata:_=>{t.push("<![CDATA[",_,"]]>")},comment:_=>{t.push("<!--",_,"-->")},pi:(_,E)=>{E?t.push("<?",_," ",m(E),"?>"):t.push("<?",_,"?>"),n&&t.push(`
`)},doctype:_=>{t.push("<!DOCTYPE",_,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Hm=(e={},t=af())=>{const n=FA(e);return e.validate="validate"in e?e.validate:!0,{serialize:u=>{const m=e.validate,y={3:E=>{n.text(E.value??"",E.raw)},8:E=>{n.comment(E.value??"")},7:E=>{n.pi(E.name,E.value)},10:E=>{n.doctype(E.value??"")},4:E=>{n.cdata(E.value??"")},11:E=>{let N=E;if(N=N.firstChild)do _(N);while(N=N.next)}};n.reset();const _=E=>{var j;const N=y[E.type];if(N)N(E);else{const W=E.name,q=W in t.getVoidElements();let ne=E.attributes;if(m&&ne&&ne.length>1){const me=[];me.map={};const ce=t.getElementRule(E.name);if(ce){for(let be=0,Be=ce.attributesOrder.length;be<Be;be++){const Pe=ce.attributesOrder[be];if(Pe in ne.map){const $e=ne.map[Pe];me.map[Pe]=$e,me.push({name:Pe,value:$e})}}for(let be=0,Be=ne.length;be<Be;be++){const Pe=ne[be].name;if(!(Pe in me.map)){const $e=ne.map[Pe];me.map[Pe]=$e,me.push({name:Pe,value:$e})}}ne=me}}if(n.start(W,ne,q),ep(W))He(E.value)&&n.text(E.value,!0),n.end(W);else if(!q){let me=E.firstChild;if(me){(W==="pre"||W==="textarea")&&me.type===3&&((j=me.value)==null?void 0:j[0])===`
`&&n.text(`
`,!0);do _(me);while(me=me.next)}n.end(W)}}};return u.type===1&&!e.inner?_(u):u.type===3?y[3](u):y[11](u),n.getContent()}}},k2=new Set;tt(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{k2.add(t)});const OM=new Set;tt(["background-color"],t=>{OM.add(t)});const zM=["font","text-decoration","text-emphasis"],XI=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),ll=(e,t)=>Yi(XI(e,t)),kw=e=>k2.has(e),QI=e=>OM.has(e),_w=(e,t)=>Rn(ll(e,t),n=>kw(n)),Cw=(e,t)=>_w(e,t)&&Rn(ll(e,t),n=>QI(n)),JI=e=>we(e,t=>Rn(zM,n=>Ws(t,n))),gx=(e,t,n)=>{const i=ll(e,t),u=ll(e,n),m=y=>{const _=e.getStyle(t,y)??"",E=e.getStyle(n,y)??"";return oi(_)&&oi(E)&&_!==E};return Rn(i,y=>{const _=E=>Rn(E,N=>N===y);if(!_(u)&&_(zM)){const E=JI(u);return Rn(E,m)}else return m(y)})},hs=(e,t,n)=>G.from(n.container()).filter(_t).exists(i=>{const u=e?0:-1;return t(i.data.charAt(n.offset()+u))}),ny=Tt(hs,!0,Kg),_2=Tt(hs,!1,Kg),DM=e=>{const t=e.container();return _t(t)&&(t.data.length===0||zm(t.data)&&Y0.isBookmarkNode(t.parentNode))},wh=(e,t)=>n=>q_(e?0:-1,n).filter(t).isSome(),C2=e=>u1(e)&&Pa(xe.fromDom(e),"display")==="block",S2=e=>us(e)&&!gm(e),HA=wh(!0,C2),$A=wh(!1,C2),Jg=wh(!0,nl),sy=wh(!1,nl),VA=wh(!0,wd),E2=wh(!1,wd),$m=wh(!0,S2),Vm=wh(!1,S2),MM=e=>e.slice(0,-1),ry=(e,t,n)=>pr(t,e)?MM(Zr(e,i=>n(i)||cn(i,t))):[],jA=(e,t)=>ry(e,t,_o),kh=(e,t)=>[e].concat(jA(e,t)),UA=(e,t,n)=>ex(e,t,n,DM),e7=e=>t=>e.isBlock(Xo(t)),WA=(e,t,n)=>Wo(kh(xe.fromDom(t.container()),e),e7(n)),ZA=(e,t,n,i)=>UA(e,t.dom,n).forall(u=>WA(t,n,i).fold(()=>!Ti(u,n,t.dom),m=>!Ti(u,n,t.dom)&&pr(m,xe.fromDom(u.container())))),qA=(e,t,n,i)=>WA(t,n,i).fold(()=>UA(e,t.dom,n).forall(u=>!Ti(u,n,t.dom)),u=>UA(e,u.dom,n).isNone()),bx=Tt(qA,!1),KA=Tt(qA,!0),NM=Tt(ZA,!1),RM=Tt(ZA,!0),LM=e=>K_(e).exists(Fl),Sw=(e,t,n,i)=>{const u=we(kh(xe.fromDom(n.container()),t),y=>i.isBlock(Xo(y))),m=ls(u).getOr(t);return yu(e,m.dom,n).filter(LM)},A2=(e,t,n)=>K_(t).exists(Fl)||Sw(!0,e,t,n).isSome(),Ew=(e,t,n)=>Pn(t).exists(Fl)||Sw(!1,e,t,n).isSome(),GA=Tt(Sw,!1),BM=Tt(Sw,!0),YA=e=>it.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),T2=(e,t,n)=>{const i=we(kh(xe.fromDom(t.container()),e),u=>n.isBlock(Xo(u)));return ls(i).getOr(e)},XA=(e,t,n)=>YA(t)?_2(t):_2(t)||qc(T2(e,t,n).dom,t).exists(_2),QA=(e,t,n)=>YA(t)?ny(t):ny(t)||Vl(T2(e,t,n).dom,t).exists(ny),PM=e=>Qo(["pre","pre-wrap"],e),O2=e=>K_(e).bind(t=>ya(t,mr)).exists(t=>PM(Pa(t,"white-space"))),IM=(e,t)=>qc(e.dom,t).isNone(),FM=(e,t)=>Vl(e.dom,t).isNone(),HM=(e,t,n)=>IM(e,t)||FM(e,t)||bx(e,t,n)||KA(e,t,n)||Ew(e,t,n)||A2(e,t,n),JA=e=>Me(e)&&us(e)&&pD(e),Aw=(e,t)=>n=>JA(new Dr(n,e)[t]()),$M=(e,t)=>{const n=Vl(e.dom,t).getOr(t),i=Aw(e.dom,"next");return t.isAtEnd()&&(i(t.container())||i(n.container()))},VM=(e,t)=>{const n=qc(e.dom,t).getOr(t),i=Aw(e.dom,"prev");return t.isAtStart()&&(i(t.container())||i(n.container()))},Tw=(e,t,n)=>O2(t)?!1:HM(e,t,n)||XA(e,t,n)||QA(e,t,n),iy=(e,t,n)=>O2(t)?!1:bx(e,t,n)||NM(e,t,n)||Ew(e,t,n)||XA(e,t,n)||VM(e,t),Ow=e=>{const t=e.container(),n=e.offset();return _t(t)&&n<t.data.length?it(t,n+1):e},ay=(e,t,n)=>O2(t)?!1:KA(e,t,n)||RM(e,t,n)||A2(e,t,n)||QA(e,t,n)||$M(e,t),z2=(e,t,n)=>iy(e,t,n)||ay(e,Ow(t),n),ly=(e,t)=>sx(e.charAt(t)),D2=(e,t)=>Kg(e.charAt(t)),e4=e=>{const t=e.container();return _t(t)&&on(t.data,xr)},yx=e=>{const t=e.split("");return Do(t,(n,i)=>sx(n)&&i>0&&i<t.length-1&&uw(t[i-1])&&uw(t[i+1])?" ":n).join("")},jm=(e,t,n,i)=>{const u=t.data,m=it(t,0);return!n&&ly(u,0)&&!z2(e,m,i)?(t.data=" "+u.slice(1),!0):n&&D2(u,0)&&iy(e,m,i)?(t.data=xr+u.slice(1),!0):!1},jM=e=>{const t=e.data,n=yx(t);return n!==t?(e.data=n,!0):!1},UM=(e,t,n,i)=>{const u=t.data,m=it(t,u.length-1);return!n&&ly(u,u.length-1)&&!z2(e,m,i)?(t.data=u.slice(0,-1)+" ",!0):n&&D2(u,u.length-1)&&ay(e,m,i)?(t.data=u.slice(0,-1)+xr,!0):!1},t7=(e,t,n)=>{const i=t.container();if(!_t(i))return G.none();if(e4(t)){const u=jm(e,i,!1,n)||jM(i)||UM(e,i,!1,n);return id(u,t)}else if(z2(e,t,n)){const u=jm(e,i,!0,n)||UM(e,i,!0,n);return id(u,t)}else return G.none()},WM=e=>{const t=xe.fromDom(e.getBody());e.selection.isCollapsed()&&t7(t,it.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},t4=(e,t,n,i)=>{if(n===0)return;const u=xe.fromDom(e),m=ea(u,N=>i.isBlock(Xo(N))).getOr(u),y=e.data.slice(t,t+n),_=t+n>=e.data.length&&ay(m,it(e,e.data.length),i),E=t===0&&iy(m,it(e,0),i);e.replaceData(t,n,Jk(y,4,E,_))},zw=(e,t,n)=>{const i=e.data.slice(t),u=i.length-gg(i).length;t4(e,t,u,n)},xp=(e,t,n)=>{const i=e.data.slice(0,t),u=i.length-Hu(i).length;t4(e,t-u,u,n)},Um=(e,t,n,i,u=!0)=>{const m=Hu(e.data).length,y=u?e:t,_=u?t:e;return u?y.appendData(_.data):y.insertData(0,_.data),ts(xe.fromDom(_)),i&&zw(y,m,n),y},ZM=(e,t)=>{const n=e.container(),i=e.offset();return!it.isTextPosition(e)&&n===t.parentNode&&i>it.before(t).offset()},qM=(e,t)=>ZM(t,e)?it(t.container(),t.offset()-1):t,o7=e=>_t(e)?it(e,0):it.before(e),n7=e=>_t(e)?it(e,e.data.length):it.after(e),KM=e=>Lo(e.previousSibling)?G.some(n7(e.previousSibling)):e.previousSibling?xu(e.previousSibling):G.none(),pc=e=>Lo(e.nextSibling)?G.some(o7(e.nextSibling)):e.nextSibling?_l(e.nextSibling):G.none(),xf=(e,t)=>G.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>qc(e,it.before(n))).orThunk(()=>Vl(e,it.after(t))),GM=(e,t)=>Vl(e,it.after(t)).orThunk(()=>qc(e,it.before(t))),o4=(e,t)=>KM(t).orThunk(()=>pc(t)).orThunk(()=>xf(e,t)),n4=(e,t)=>pc(t).orThunk(()=>KM(t)).orThunk(()=>GM(e,t)),M2=(e,t,n)=>e?n4(t,n):o4(t,n),s7=(e,t,n)=>M2(e,t,n).map(Tt(qM,n)),s4=(e,t,n)=>{n.fold(()=>{e.focus()},i=>{e.selection.setRng(i.toRange(),t)})},Dw=e=>t=>t.dom===e,r7=(e,t)=>t&&Io(e.schema.getBlockElements(),Xo(t)),N2=(e,t,n)=>{if(Ha(e,t)){const i=xe.fromHtml('<br data-mce-bogus="1">');return n?tt(ln(t),u=>{jl(u)||ts(u)}):eu(t),un(t,i),G.some(it.before(i.dom))}else return G.none()},r4=(e,t,n,i)=>{const u=Rl(e).filter(Ii),m=ma(e).filter(Ii);return ts(e),fg(u,m,t,(y,_,E)=>{const N=y.dom,j=_.dom,W=N.data.length;return Um(N,j,n,i),E.container()===j?it(N,W):E}).orThunk(()=>(i&&(u.each(y=>xp(y.dom,y.dom.length,n)),m.each(y=>zw(y.dom,0,n))),t))},YM=(e,t)=>Io(e.schema.getTextInlineElements(),Xo(t)),vf=(e,t,n,i=!0,u=!1)=>{const m=s7(t,e.getBody(),n.dom),y=ea(n,Tt(r7,e),Dw(e.getBody())),_=r4(n,m,e.schema,YM(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):y.bind(E=>N2(e.schema,E,u)).fold(()=>{i&&s4(e,t,_)},E=>{i&&s4(e,t,G.some(E))})},i7=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,a7=e=>i7.test(e),Ul=(e,t)=>jn(xe.fromDom(t),Z1(e))&&!rh(e.schema,t)&&e.dom.isEditable(t),mc=e=>Kn.DOM.getStyle(e,"direction",!0)==="rtl"||a7(e.textContent??""),Mw=(e,t,n)=>we(Kn.DOM.getParents(n.container(),"*",t),e),Wm=(e,t,n)=>{const i=Mw(e,t,n);return G.from(i[i.length-1])},Kc=(e,t,n)=>{const i=qg(t,e),u=qg(n,e);return Me(i)&&i===u},Ns=e=>M0(e)||N0(e),ku=(e,t)=>{const n=t.container(),i=t.offset();return e?hh(n)?_t(n.nextSibling)?it(n.nextSibling,0):it.after(n):M0(t)?it(n,i+1):t:hh(n)?_t(n.previousSibling)?it(n.previousSibling,n.previousSibling.data.length):it.before(n):N0(t)?it(n,i-1):t},vp=Tt(ku,!0),xx=Tt(ku,!1),i4=(e,t)=>{const n=i=>i.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},a4=e=>{e.execCommand("delete")},vx=e=>i4(e,"Delete"),XM=e=>i4(e,"ForwardDelete"),l4=e=>t=>Ur(pa(t),e,cn),l7=e=>Pg(e)||fh(e),Nw=(e,t)=>pr(e,t)?ya(t,l7,l4(e)):G.none(),R2=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},L2=(e,t,n)=>Gs(_l(n),xu(n),(i,u)=>{const m=ku(!0,i),y=ku(!1,u),_=ku(!1,t);return e?Vl(n,_).exists(E=>E.isEqual(y)&&t.isEqual(m)):qc(n,_).exists(E=>E.isEqual(m)&&t.isEqual(y))}).getOr(!0),c4=e=>(Zb(e)?Rl(e):qr(e)).bind(c4).orThunk(()=>G.some(e)),Rw=(e,t,n,i=!0)=>{t.deleteContents();const u=c4(n).getOr(n),m=xe.fromDom(e.dom.getParent(u.dom,e.dom.isBlock)??n.dom);if(m.dom===e.getBody()?R2(e,i):Ha(e.schema,m,{checkRootAsContent:!1})&&(uf(m),i&&e.selection.setCursorLocation(m.dom,0)),!cn(n,m)){const y=Ur(pa(m),n)?[]:Uh(m);tt(y.concat(ln(n)),_=>{!cn(_,m)&&!pr(_,m)&&Ha(e.schema,_)&&ts(_)})}},c7=e=>t=>cn(e,t),d4=e=>Ae(e,"td,th"),QM=(e,t)=>bh(xe.fromDom(e),t),d7=e=>Gs(e.startTable,e.endTable,(t,n)=>{const i=Wt(t,m=>cn(m,n)),u=Wt(n,m=>cn(m,t));return!i&&!u?e:{...e,startTable:i?G.none():e.startTable,endTable:u?G.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),u7=e=>d7(e),JM=(e,t)=>{const n=QM(e.startContainer,t),i=QM(e.endContainer,t),u=n.isSome(),m=i.isSome(),y=Gs(n,i,cn).getOr(!1);return u7({startTable:n,endTable:i,isStartInTable:u,isEndInTable:m,isSameTable:y,isMultiTable:!y&&u&&m})},u4=(e,t)=>({start:e,end:t}),f7=(e,t,n)=>({rng:e,table:t,cells:n}),wx=Yl.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),B2=(e,t)=>Pc(xe.fromDom(e),"td,th",t),f4=e=>!cn(e.start,e.end),e5=(e,t)=>bh(e.start,t).bind(n=>bh(e.end,t).bind(i=>id(cn(n,i),n))),h7=(e,t)=>!f4(e)&&e5(e,t).exists(n=>{const i=n.dom.rows;return i.length===1&&i[0].cells.length===1}),t5=(e,t)=>{const n=B2(e.startContainer,t),i=B2(e.endContainer,t);return Gs(n,i,u4)},cl=e=>t=>bh(t,e).bind(n=>Ls(d4(n)).map(i=>u4(t,i))),p7=e=>t=>bh(t,e).bind(n=>ls(d4(n)).map(i=>u4(i,t))),P2=e=>t=>e5(t,e).map(n=>f7(t,n,d4(n))),I2=(e,t,n,i)=>{if(n.collapsed||!e.forall(f4))return G.none();if(t.isSameTable){const u=e.bind(P2(i));return G.some({start:u,end:u})}else{const u=B2(n.startContainer,i),m=B2(n.endContainer,i),y=u.bind(cl(i)).bind(P2(i)),_=m.bind(p7(i)).bind(P2(i));return G.some({start:y,end:_})}},F2=(e,t)=>Xn(e,n=>cn(n,t)),H2=e=>Gs(F2(e.cells,e.rng.start),F2(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),o5=(e,t,n)=>e.exists(i=>h7(i,n)&&X_(i.start,t)),h4=(e,t)=>{const{startTable:n,endTable:i}=t,u=e.cloneRange();return n.each(m=>u.setStartAfter(m.dom)),i.each(m=>u.setEndBefore(m.dom)),u},n5=(e,t,n,i)=>I2(e,t,n,i).bind(({start:u,end:m})=>u.or(m)).bind(u=>{const{isSameTable:m}=t,y=H2(u).getOr([]);if(m&&u.cells.length===y.length)return G.some(wx.fullTable(u.table));if(y.length>0){if(m)return G.some(wx.partialTable(y,G.none()));{const _=h4(n,t);return G.some(wx.partialTable(y,G.some({...t,rng:_})))}}else return G.none()}),Dd=(e,t,n,i)=>I2(e,t,n,i).bind(({start:u,end:m})=>{const y=u.bind(H2).getOr([]),_=m.bind(H2).getOr([]);if(y.length>0&&_.length>0){const E=h4(n,t);return G.some(wx.multiTable(y,_,E))}else return G.none()}),m7=(e,t)=>{const n=c7(e),i=t5(t,n),u=JM(t,n);return o5(i,t,n)?i.map(m=>wx.singleCellTable(t,m.start)):u.isMultiTable?Dd(i,u,t,n):n5(i,u,t,n)},$2=e=>tt(e,t=>{Or(t,"contenteditable"),uf(t)}),g7=(e,t)=>G.from(e.dom.getParent(t,e.dom.isBlock)).map(xe.fromDom),p4=(e,t,n)=>{n.each(i=>{t?ts(i):(uf(i),e.selection.setCursorLocation(i.dom,0))})},Md=(e,t,n,i)=>{const u=n.cloneRange();i?(u.setStart(n.startContainer,n.startOffset),u.setEndAfter(t.dom.lastChild)):(u.setStartBefore(t.dom.firstChild),u.setEnd(n.endContainer,n.endOffset)),m4(e,u,t,!1).each(m=>m())},V2=e=>{const t=W0(e),n=xe.fromDom(e.selection.getNode());xm(n.dom)&&Ha(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Rn(t,i=>cn(i,n))&&Tr(n,"data-mce-selected","1")},Lw=(e,t,n)=>G.some(()=>{const i=e.selection.getRng(),u=n.bind(({rng:m,isStartInTable:y})=>{const _=g7(e,y?m.endContainer:m.startContainer);m.deleteContents(),p4(e,y,_.filter(Tt(Ha,e.schema)));const E=y?t[0]:t[t.length-1];return Md(e,E,i,y),Ha(e.schema,E)?G.none():G.some(y?t.slice(1):t.slice(0,-1))}).getOr(t);$2(u),V2(e)}),s5=(e,t,n,i)=>G.some(()=>{const u=e.selection.getRng(),m=t[0],y=n[n.length-1];Md(e,m,u,!0),Md(e,y,u,!1);const _=Ha(e.schema,m)?t:t.slice(1),E=Ha(e.schema,y)?n:n.slice(0,-1);$2(_.concat(E)),i.deleteContents(),V2(e)}),m4=(e,t,n,i=!0)=>G.some(()=>{Rw(e,t,n,i)}),g4=(e,t)=>G.some(()=>vf(e,!1,t)),r5=(e,t,n)=>m7(t,n).bind(i=>i.fold(Tt(m4,e),Tt(g4,e),Tt(Lw,e),Tt(s5,e))),b4=(e,t)=>U2(e,t),i5=(e,t,n,i)=>j2(t,i).fold(()=>r5(e,t,n),u=>b4(e,u)),cy=(e,t,n)=>{const i=xe.fromDom(e.getBody()),u=e.selection.getRng();return n.length!==0?Lw(e,n,G.none()):i5(e,i,u,t)},y4=(e,t)=>Wo(kh(t,e),Ig),j2=(e,t)=>Wo(kh(t,e),ms("caption")),a5=(e,t,n,i,u)=>os(n,e.getBody(),u).bind(m=>y4(t,xe.fromDom(m.getNode())).bind(y=>cn(y,i)?G.none():G.some(Ft))),U2=(e,t)=>G.some(()=>{uf(t),e.selection.setCursorLocation(t.dom,0)}),x4=(e,t,n,i)=>_l(e.dom).bind(u=>xu(e.dom).map(m=>t?n.isEqual(u)&&i.isEqual(m):n.isEqual(m)&&i.isEqual(u))).getOr(!0),eb=(e,t)=>U2(e,t),b7=(e,t,n)=>j2(e,xe.fromDom(n.getNode())).fold(()=>G.some(Ft),i=>id(!cn(i,t),Ft)),y7=(e,t,n,i,u)=>os(n,e.getBody(),u).fold(()=>G.some(Ft),m=>x4(i,n,u,m)?eb(e,i):b7(t,i,m)),Bw=(e,t,n,i)=>{const u=it.fromRangeStart(e.selection.getRng());return y4(n,i).bind(m=>Ha(e.schema,m,{checkRootAsContent:!1})?U2(e,m):a5(e,n,t,m,u))},l5=(e,t,n,i)=>{const u=it.fromRangeStart(e.selection.getRng());return Ha(e.schema,i)?U2(e,i):y7(e,n,t,i,u)},v4=(e,t)=>e?VA(t):E2(t),c5=(e,t)=>{const n=it.fromRangeStart(e.selection.getRng());return v4(t,n)||yu(t,e.getBody(),n).exists(i=>v4(t,i))},W2=(e,t,n)=>{const i=xe.fromDom(e.getBody());return j2(i,n).fold(()=>Bw(e,t,i,n).orThunk(()=>id(c5(e,t),Ft)),u=>l5(e,t,i,u))},Z2=(e,t)=>{const n=xe.fromDom(e.selection.getStart(!0)),i=W0(e);return e.selection.isCollapsed()&&i.length===0?W2(e,t,n):cy(e,n,i)},tb=(e,t)=>{let n=t;for(;n&&n!==e;){if(ol(n)||us(n))return n;n=n.parentNode}return null},x7=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],q2=bt.each,K2=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),i=(m,y)=>{if(m.nodeName!==y.nodeName||m.nodeType!==y.nodeType)return!1;const _=N=>{const j={};return q2(t.getAttribs(N),W=>{const q=W.nodeName.toLowerCase();q!=="style"&&!u(q)&&(j[q]=t.getAttrib(N,q))}),j},E=(N,j)=>{for(const W in N)if(Io(N,W)){const q=j[W];if(lo(q)||N[W]!==q)return!1;delete j[W]}for(const W in j)if(Io(j,W))return!1;return!0};return eo(m)&&eo(y)&&(!E(_(m),_(y))||!E(t.parseStyle(t.getAttrib(m,"style")),t.parseStyle(t.getAttrib(y,"style"))))?!1:!Ad(m)&&!Ad(y)},u=m=>Rn(x7,y=>Ws(m,y))||n.has(m);return{compare:i,isAttributeInternal:u}},w4=(e,t)=>{if(_t(e))return{container:e,offset:t};const n=bf.getNode(e,t);return _t(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&_t(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&_t(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},G2=e=>{const t=e.cloneRange(),n=w4(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const i=w4(e.endContainer,e.endOffset);return t.setEnd(i.container,i.offset),t},kx=Kn.DOM,k4=()=>kx.create("span",{"data-mce-type":"bookmark"}),_4=(e,t,n)=>{if(eo(e)){const i=n();return e.hasChildNodes()?t===e.childNodes.length?e.appendChild(i):e.insertBefore(i,e.childNodes[t]):e.appendChild(i),{container:i,offset:0}}else return{container:e,offset:t}},_x=(e,t)=>{const n=i=>{var y;let u=(y=i.parentNode)==null?void 0:y.firstChild,m=0;for(;u;){if(u===i)return m;(!eo(u)||u.getAttribute("data-mce-type")!=="bookmark")&&m++,u=u.nextSibling}return-1};if(eo(e)&&Me(e.parentNode)){const i=e;t=n(e),e=e.parentNode,kx.remove(i),!e.hasChildNodes()&&kx.isBlock(e)&&e.appendChild(kx.create("br"))}return{container:e,offset:t}},wf=(e,t,n,i)=>{const u=kx.createRng();return u.setStart(e,t),u.setEnd(n,i),G2(u)},Zm=(e,t=k4)=>{const{container:n,offset:i}=_4(e.startContainer,e.startOffset,t);if(e.collapsed)return{startContainer:n,startOffset:i};{const{container:u,offset:m}=_4(e.endContainer,e.endOffset,t);return{startContainer:n,startOffset:i,endContainer:u,endOffset:m}}},_h=e=>{const{container:t,offset:n}=_x(e.startContainer,e.startOffset);if(!lo(e.endContainer)&&!lo(e.endOffset)){const{container:i,offset:u}=_x(e.endContainer,e.endOffset);return wf(t,n,i,u)}else return wf(t,n,t,n)},_r=(e,t,n,i)=>{if(bt.each(n.styles,(u,m)=>{e.setStyle(t,m,Gg(u,i))}),n.styles){const u=e.getAttrib(t,"style");u&&e.setAttrib(t,"data-mce-style",u)}},ob=(e,t,n,i,u)=>{const m=e.dom;yt(n.onformat)&&n.onformat(t,n,i,u),_r(m,t,n,i),bt.each(n.attributes,(y,_)=>{m.setAttrib(t,_,Gg(y,i))}),bt.each(n.classes,y=>{const _=Gg(y,i);m.hasClass(t,_)||m.addClass(t,_)})},Y2=e=>!he(e.attributes)&&!he(e.styles),Ch=Bm,C4=(e,t,n)=>{const i=e.formatter.get(n);if(i)for(let u=0;u<i.length;u++){const m=i[u];if(Td(m)&&m.inherit===!1&&e.dom.is(t,m.selector))return!0}return!1},Pw=(e,t,n,i,u)=>{const m=e.dom.getRoot();if(t===m)return!1;const y=e.dom.getParent(t,_=>C4(e,_,n)?!0:_.parentNode===m||!!_u(e,_,n,i,!0));return!!_u(e,y,n,i,u)},X2=(e,t,n)=>Ui(n)&&Ch(t,n.inline)||vu(n)&&Ch(t,n.block)?!0:Td(n)?eo(t)&&e.is(t,n.selector):!1,dy=(e,t,n,i,u,m)=>{const y=n[i],_=i==="attributes";if(yt(n.onmatch))return n.onmatch(t,n,i);if(y){if(Xi(y)){for(let E=0;E<y.length;E++)if(_?e.getAttrib(t,y[E]):o2(e,t,y[E]))return!0}else for(const E in y)if(Io(y,E)){const N=_?e.getAttrib(t,E):o2(e,t,E),j=Gg(y[E],m),W=Kt(N)||ad(N);if(W&&Kt(j))continue;if(u&&W&&!n.exact||(!u||n.exact)&&!Ch(N,t2(j,E)))return!1}}return!0},_u=(e,t,n,i,u)=>{const m=e.formatter.get(n),y=e.dom;if(m&&eo(t))for(let _=0;_<m.length;_++){const E=m[_];if(X2(e.dom,t,E)&&dy(y,t,E,"attributes",u,i)&&dy(y,t,E,"styles",u,i)){const N=E.classes;if(N){for(let j=0;j<N.length;j++)if(!e.dom.hasClass(t,Gg(N[j],i)))return}return E}}},S4=(e,t,n,i,u)=>{if(i)return Pw(e,i,t,n,u);if(i=e.selection.getNode(),Pw(e,i,t,n,u))return!0;const m=e.selection.getStart();return!!(m!==i&&Pw(e,m,t,n,u))},Cx=(e,t,n)=>{const i=[],u={},m=e.selection.getStart();return e.dom.getParent(m,y=>{for(let _=0;_<t.length;_++){const E=t[_];!u[E]&&_u(e,y,E,n)&&(u[E]=!0,i.push(E))}},e.dom.getRoot()),i},v7=(e,t)=>{const n=u=>cn(u,xe.fromDom(e.getBody())),i=(u,m)=>_u(e,u.dom,m)?G.some(m):G.none();return G.from(e.selection.getStart(!0)).bind(u=>Ts(xe.fromDom(u),m=>Tl(t,y=>i(m,y)),n)).getOrNull()},uy=(e,t)=>{const n=e.formatter.get(t),i=e.dom;if(n&&e.selection.isEditable()){const u=e.selection.getStart(),m=ix(i,u);for(let y=n.length-1;y>=0;y--){const _=n[y];if(!Td(_))return!0;for(let E=m.length-1;E>=0;E--)if(i.is(m[E],_.selector))return!0}}return!1},w7=(e,t,n)=>Dt(n,(i,u)=>{const m=yA(e,u);return e.formatter.matchNode(t,u,{},m)?i.concat([u]):i},[]),kf=ui,k7=(e,t)=>e.importNode(t,!0),Nd=e=>{if(e){const t=new Dr(e,e);for(let n=t.current();n;n=t.next())if(_t(n))return n}return null},qm=e=>{const t=xe.fromTag("span");return Ba(t,{id:lA,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&un(t,xe.fromText(kf)),t},_7=e=>{const t=Nd(e);return t&&t.data.charAt(0)===kf&&t.deleteData(0,1),t},fy=(e,t,n)=>{const i=e.dom,u=e.selection;if(HD(t))vf(e,!1,xe.fromDom(t),n,!0);else{const m=u.getRng(),y=i.getParent(t,i.isBlock),_=m.startContainer,E=m.startOffset,N=m.endContainer,j=m.endOffset,W=_7(t);i.remove(t,!0),_===W&&E>0&&m.setStart(W,E-1),N===W&&j>0&&m.setEnd(W,j-1),y&&i.isEmpty(y)&&uf(xe.fromDom(y)),u.setRng(m)}},Iw=(e,t,n)=>{const i=e.dom,u=e.selection;if(t)fy(e,t,n);else if(t=Lm(e.getBody(),u.getStart()),!t)for(;t=i.get(lA);)fy(e,t,n)},C7=(e,t,n)=>{var m,y;const i=e.dom,u=i.getParent(n,Tt(e2,e.schema));u&&i.isEmpty(u)?(m=n.parentNode)==null||m.replaceChild(t,n):(z0(xe.fromDom(n)),i.isEmpty(n)?(y=n.parentNode)==null||y.replaceChild(t,n):i.insertAfter(t,n))},hy=(e,t)=>(e.appendChild(t),t),d5=(e,t)=>{const n=Yt(e,(u,m)=>hy(u,m.cloneNode(!1)),t),i=n.ownerDocument??document;return hy(n,i.createTextNode(kf))},_f=(e,t,n,i,u,m)=>{const y=e.formatter,_=e.dom,E=we(Yi(y.get()),W=>W!==i&&!on(W,"removeformat")),N=w7(e,n,E);if(we(N,W=>!PD(e,W,i)).length>0){const W=n.cloneNode(!1);return _.add(t,W),y.remove(i,u,W,m),_.remove(W),G.some(W)}else return G.none()},Fw=e=>Fa(e,Bc(e).replace(new RegExp(`${xr}$`)," ")),E4=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&Rl(xe.fromDom(t)).each(i=>{Ii(i)?Fw(i):xa(i,u=>Ii(u)).each(u=>{Ii(u)&&Fw(u)})})};e.once("input",i=>{i.data&&!Kg(i.data)&&(i.isComposing?e.once("compositionend",()=>{n()}):n())})},A4=(e,t,n)=>{let i;const u=e.selection,m=e.formatter.get(t);if(!m)return;const y=u.getRng();let _=y.startOffset;const N=y.startContainer.nodeValue;i=Lm(e.getBody(),u.getStart());const j=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(N&&_>0&&_<N.length&&j.test(N.charAt(_))&&j.test(N.charAt(_-1))){const W=u.getBookmark();y.collapse(!0);let q=G0(e.dom,y,m);q=yw(q),e.formatter.apply(t,n,q),u.moveToBookmark(W)}else{let W=i?Nd(i):null;(!i||(W==null?void 0:W.data)!==kf)&&(i=k7(e.getDoc(),qm(!0).dom),W=i.firstChild,y.insertNode(i),_=1,E4(e,i)),e.formatter.apply(t,n,i),u.setCursorLocation(W,_)}},T4=(e,t,n,i)=>{const u=e.dom,m=e.selection;let y=!1;const _=e.formatter.get(t);if(!_)return;const E=m.getRng(),N=E.startContainer,j=E.startOffset;let W=N;_t(N)&&(j!==N.data.length&&(y=!0),W=W.parentNode);const q=[];let ne;for(;W;){if(_u(e,W,t,n,i)){ne=W;break}W.nextSibling&&(y=!0),q.push(W),W=W.parentNode}if(ne)if(y){const me=m.getBookmark();E.collapse(!0);let ce=G0(u,E,_,{includeTrailingSpace:!0});ce=yw(ce),e.formatter.remove(t,n,ce,i),m.moveToBookmark(me)}else{const me=Lm(e.getBody(),ne),ce=Me(me)?u.getParents(ne.parentNode,fo,me):[],be=qm(!1).dom;C7(e,be,me??ne);const Be=_f(e,be,ne,t,n,i),Pe=d5([...q,...Be.toArray(),...ce],be);me&&fy(e,me,Me(me)),m.setCursorLocation(Pe,1),E4(e,be),u.isEmpty(ne)&&u.remove(ne)}},py=(e,t,n)=>{const i=e.selection,u=e.getBody();Iw(e,null,n),(t===8||t===46)&&i.isCollapsed()&&i.getStart().innerHTML===kf&&Iw(e,Lm(u,i.getStart()),!0),(t===37||t===39)&&Iw(e,Lm(u,i.getStart()),!0)},O4=e=>_t(e)&&Zf(e.data,xr),S7=e=>{e.on("mouseup keydown",t=>{py(e,t.keyCode,O4(e.selection.getRng().endContainer))})},u5=e=>{const t=qm(!1),n=d5(e,t.dom);return{caretContainer:t,caretPosition:it(n,0)}},f5=(e,t)=>{const{caretContainer:n,caretPosition:i}=u5(t);return ii(xe.fromDom(e),n),ts(xe.fromDom(e)),i},E7=(e,t)=>{const{caretContainer:n,caretPosition:i}=u5(t);return e.insertNode(n.dom),i},my=(e,t)=>{if(Ko(t.dom))return!1;const n=e.schema.getTextInlineElements();return Io(n,Xo(t))&&!Ko(t.dom)&&!Jh(t.dom)},Cf=["fontWeight","fontStyle","color","fontSize","fontFamily"],A7=e=>ge(e.styles)&&Rn(Yi(e.styles),t=>Qo(Cf,t)),T7=e=>Wo(e,t=>Ui(t)&&t.inline==="span"&&A7(t)),h5=(e,t)=>{const n=e.get(t);return he(n)?T7(n):G.none()},p5=(e,t)=>qc(t,it.fromRangeStart(e)).isNone(),m5=(e,t)=>Vl(t,it.fromRangeEnd(e)).exists(n=>!nr(n.getNode())||Vl(t,n).isSome())===!1,g5=e=>t=>cE(t)&&e.isEditable(t),O7=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return p5(n,t[0])&&m5(n,t[0])?t:[];{const i=ls(t).filter(y=>p5(n,y)).toArray(),u=Ls(t).filter(y=>m5(n,y)).toArray(),m=t.slice(1,-1);return i.concat(m).concat(u)}},z7=e=>we(O7(e),g5(e.dom)),b5=e=>we(e.getSelectedBlocks(),g5(e.dom)),z4=bt.each,D4=e=>eo(e)&&!Ad(e)&&!Ko(e)&&!Jh(e),y5=(e,t)=>{for(let n=e;n;n=n[t]){if(_t(n)&&oi(n.data))return e;if(eo(n)&&!Ad(n))return n}return e},x5=(e,t,n)=>{const i=K2(e),u=sn(t)&&e.dom.isEditable(t),m=sn(n)&&e.dom.isEditable(n);if(u&&m){const y=y5(t,"previousSibling"),_=y5(n,"nextSibling");if(i.compare(y,_)){for(let E=y.nextSibling;E&&E!==_;){const N=E;E=E.nextSibling,y.appendChild(N)}return e.dom.remove(_),bt.each(bt.grep(_.childNodes),E=>{y.appendChild(E)}),y}}return n},v5=(e,t,n,i)=>{if(i&&t.merge_siblings!==!1){const u=x5(e,bp(i),i)??i;x5(e,u,bp(u,!0))}},D7=(e,t,n)=>{if(t.clear_child_styles){const i=t.links?"*:not(a)":"*";z4(e.select(i,n),u=>{D4(u)&&e.isEditable(u)&&z4(t.styles,(m,y)=>{e.setStyle(u,y,"")})})}},wp=(e,t,n)=>{z4(e.childNodes,i=>{D4(i)&&(t(i)&&n(i),i.hasChildNodes()&&wp(i,t,n))})},M7=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},w5=(e,t)=>n=>!!(n&&o2(e,n,t)),Q2=(e,t,n)=>i=>{e.setStyle(i,t,n),i.getAttribute("style")===""&&i.removeAttribute("style"),M7(e,i)},nb=Yl.generate([{keep:[]},{rename:["name"]},{removed:[]}]),M4=/^(src|href|style)$/,N4=bt.each,J2=Bm,N7=e=>/^(TR|TH|TD)$/.test(e.nodeName),k5=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),_5=(e,t,n)=>{let i=t[n?"startContainer":"endContainer"],u=t[n?"startOffset":"endOffset"];if(eo(i)){const m=i.childNodes.length-1;!n&&u&&u--,i=i.childNodes[u>m?m:u]}return _t(i)&&n&&u>=i.data.length&&(i=new Dr(i,e.getBody()).next()||i),_t(i)&&!n&&u===0&&(i=new Dr(i,e.getBody()).prev()||i),i},C5=(e,t)=>{const n=t?"firstChild":"lastChild",i=e[n];return N7(e)&&i?e.nodeName==="TR"&&i[n]||i:e},R4=(e,t,n,i)=>{var m;const u=e.create(n,i);return(m=t.parentNode)==null||m.insertBefore(u,t),u.appendChild(t),u},S5=(e,t,n,i,u)=>{const m=xe.fromDom(t),y=xe.fromDom(e.create(i,u)),_=n?wg(m):_s(m);return er(y,_),n?(ii(m,y),nc(y,m)):(Ya(m,y),un(y,m)),y.dom},R7=(e,t)=>t.links&&e.nodeName==="A",E5=(e,t,n)=>{const i=t.parentNode;let u;const m=e.dom,y=Ua(e);vu(n)&&i===m.getRoot()&&(!n.list_block||!J2(t,n.list_block))&&tt(jt(t.childNodes),_=>{Z0(e,y,_.nodeName.toLowerCase())?u?u.appendChild(_):(u=R4(m,_,y),m.setAttribs(u,U1(e))):u=null}),!(FD(n)&&!J2(n.inline,t))&&m.remove(t,!0)},A5=(e,t,n)=>I(e)?{name:t,value:null}:{name:e,value:Gg(t,n)},T5=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},O5=(e,t,n,i,u)=>{let m=!1;N4(n.styles,(y,_)=>{const{name:E,value:N}=A5(_,y,i),j=t2(N,E);(n.remove_similar||Ve(N)||!eo(u)||J2(o2(e,u,E),j))&&e.setStyle(t,E,""),m=!0}),m&&T5(e,t)},L7=(e,t,n)=>{t==="removeformat"?tt(b5(e.selection),i=>{tt(Cf,u=>e.dom.setStyle(i,u,"")),T5(e.dom,i)}):h5(e.formatter,t).each(i=>{tt(b5(e.selection),u=>O5(e.dom,u,i,n,null))})},L4=(e,t,n,i,u)=>{const m=e.dom,y=K2(e),_=e.schema;if(Ui(t)&&c0(_,t.inline)&&rh(_,i)&&i.parentElement===e.getBody())return E5(e,i,t),nb.removed();if(!t.ceFalseOverride&&i&&m.getContentEditableParent(i)==="false"||i&&!X2(m,i,t)&&!R7(i,t))return nb.keep();const E=i,N=t.preserve_attributes;if(Ui(t)&&t.remove==="all"&&he(N)){const j=we(m.getAttribs(E),W=>Qo(N,W.name.toLowerCase()));if(m.removeAllAttribs(E),tt(j,W=>m.setAttrib(E,W.name,W.value)),j.length>0)return nb.rename("span")}if(t.remove!=="all"){O5(m,E,t,n,u),N4(t.attributes,(W,q)=>{const{name:ne,value:me}=A5(q,W,n);if(t.remove_similar||Ve(me)||!eo(u)||J2(m.getAttrib(u,ne),me)){if(ne==="class"){const ce=m.getAttrib(E,ne);if(ce){let be="";if(tt(ce.split(/\s+/),Be=>{/mce\-\w+/.test(Be)&&(be+=(be?" ":"")+Be)}),be){m.setAttrib(E,ne,be);return}}}if(M4.test(ne)&&E.removeAttribute("data-mce-"+ne),ne==="style"&&cc(["li"])(E)&&m.getStyle(E,"list-style-type")==="none"){E.removeAttribute(ne),m.setStyle(E,"list-style-type","none");return}ne==="class"&&E.removeAttribute("className"),E.removeAttribute(ne)}}),N4(t.classes,W=>{W=Gg(W,n),(!eo(u)||m.hasClass(u,W))&&m.removeClass(E,W)});const j=m.getAttribs(E);for(let W=0;W<j.length;W++){const q=j[W].nodeName;if(!y.isAttributeInternal(q))return nb.keep()}}return t.remove!=="none"?(E5(e,E,t),nb.removed()):nb.keep()},B7=(e,t,n,i,u)=>{let m;return t.parentNode&&tt(ix(e.dom,t.parentNode).reverse(),y=>{if(!m&&eo(y)&&y.id!=="_start"&&y.id!=="_end"){const _=_u(e,y,n,i,u);_&&_.split!==!1&&(m=y)}}),m},P7=(e,t,n,i)=>L4(e,t,n,i,i).fold(ft(i),u=>(e.dom.createFragment().appendChild(i),e.dom.rename(i,u)),ft(null)),I7=(e,t,n,i,u,m,y,_)=>{var W;let E,N;const j=e.dom;if(n){const q=n.parentNode;for(let ne=i.parentNode;ne&&ne!==q;ne=ne.parentNode){let me=j.clone(ne,!1);for(let ce=0;ce<t.length&&(me=P7(e,t[ce],_,me),me!==null);ce++);me&&(E&&me.appendChild(E),N||(N=me),E=me)}(!y.mixed||!j.isBlock(n))&&(i=j.split(n,i)??i),E&&N&&((W=u.parentNode)==null||W.insertBefore(E,u),N.appendChild(u),Ui(y)&&v5(e,y,_,E))}return i},F7=(e,t,n,i,u)=>{const m=e.formatter.get(t),y=m[0],_=e.dom,E=e.selection,N=ce=>{const be=B7(e,ce,t,n,u);return I7(e,m,be,ce,ce,!0,y,n)},j=ce=>Ad(ce)&&eo(ce)&&(ce.id==="_start"||ce.id==="_end"),W=ce=>Rn(m,be=>Hw(e,be,n,ce,ce)),q=ce=>{const be=jt(ce.childNodes),Pe=W(ce)||Rn(m,gt=>X2(_,ce,gt)),$e=ce.parentNode;if(!Pe&&Me($e)&&n2(y)&&W($e),y.deep&&be.length)for(let gt=0;gt<be.length;gt++)q(be[gt]);tt(["underline","line-through","overline"],gt=>{eo(ce)&&e.dom.getStyle(ce,"text-decoration")===gt&&ce.parentNode&&BD(_,ce.parentNode)===gt&&Hw(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:gt}},void 0,ce)})},ne=ce=>{const be=_.get(ce?"_start":"_end");if(be){let Be=be[ce?"firstChild":"lastChild"];return j(Be)&&(Be=Be[ce?"firstChild":"lastChild"]),_t(Be)&&Be.data.length===0&&(Be=ce?be.previousSibling||be.nextSibling:be.nextSibling||be.previousSibling),_.remove(be,!0),Be}else return null},me=ce=>{let be,Be,Pe=G0(_,ce,m,{includeTrailingSpace:ce.collapsed});if(y.split){if(Pe=yw(Pe),be=_5(e,Pe,!0),Be=_5(e,Pe),be!==Be){if(be=C5(be,!0),Be=C5(Be,!1),k5(_,be,Be)){const rt=G.from(be.firstChild).getOr(be);N(S5(_,rt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ne(!0);return}if(k5(_,Be,be)){const rt=G.from(Be.lastChild).getOr(Be);N(S5(_,rt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ne(!1);return}be=R4(_,be,"span",{id:"_start","data-mce-type":"bookmark"}),Be=R4(_,Be,"span",{id:"_end","data-mce-type":"bookmark"});const $e=_.createRng();$e.setStartAfter(be),$e.setEndBefore(Be),mw(_,$e,rt=>{tt(rt,gt=>{!Ad(gt)&&!Ad(gt.parentNode)&&N(gt)})}),N(be),N(Be),be=ne(!0),Be=ne()}else be=Be=N(be);Pe.startContainer=be.parentNode?be.parentNode:be,Pe.startOffset=_.nodeIndex(be),Pe.endContainer=Be.parentNode?Be.parentNode:Be,Pe.endOffset=_.nodeIndex(Be)+1}mw(_,Pe,$e=>{tt($e,q)})};if(i){if(fw(i)){const ce=_.createRng();ce.setStartBefore(i),ce.setEndAfter(i),me(ce)}else me(i);Cz(e,t,i,n);return}!E.isCollapsed()||!Ui(y)||W0(e).length?(ND(e,()=>dA(e,me),ce=>Ui(y)&&S4(e,t,n,ce)),e.nodeChanged()):T4(e,t,n,u),L7(e,t,n),Cz(e,t,i,n)},z5=(e,t,n,i,u)=>{(i||e.selection.isEditable())&&F7(e,t,n,i,u)},D5=(e,t,n,i)=>L4(e,t,n,i).fold(()=>G.some(i),u=>G.some(e.dom.rename(i,u)),G.none),Hw=(e,t,n,i,u)=>L4(e,t,n,i,u).fold(_o,m=>(e.dom.rename(i,m),!0),fo),M5=["fontsize","subscript","superscript"],H7=["strikethrough",...M5],$7=(e,t,n)=>Me(e.matchNode(t.dom,n,{},n==="fontsize")),B4=(e,t)=>Rn(M5,n=>$7(e,t,n)),V7=e=>Qo(H7,e),j7=(e,t,n,i,u)=>{const m=Zr(t,e).filter(mr);return Gi(m,n).map(y=>{const _=m[y],E=i(_),N=[...u(ga(_)).toArray(),...Ds(m.slice(0,y),j=>n(j)?u(j).toArray():[ga(j)])];return{container:_,innerWrapper:E,outerWrappers:N}})},U7=(e,t,n,i)=>{tt(ln(e),u=>{mr(u)&&n(u)&&i(u).isNone()&&Qi(u)}),tt(ln(e),u=>un(t,u)),nc(e,t)},N5=(e,t)=>{if(t.length>0){const n=t[t.length-1];ii(e,n);const i=Dt(t.slice(0,t.length-1),(u,m)=>(un(u,m),m),n);un(i,e)}},W7=(e,t,n,i,u)=>{const m=y=>cn(xe.fromDom(e.getRoot()),y)||e.isBlock(y.dom);tt(t,y=>{j7(m,y,n,i,u).each(({container:_,innerWrapper:E,outerWrappers:N})=>{e.split(_.dom,y.dom),U7(y,E,n,u),N5(y,N)})})},R5=(e,t,n)=>{const i=_=>Me(_u(e,_.dom,t)),u=_=>{const E=xe.fromTag(Xo(_)),N=_u(e,_.dom,t,{});return Me(N)&&Y2(N)&&ob(e,E.dom,N),E},m=_=>{const E=_u(e,_.dom,t,{});return Me(E)?D5(e,E,{},_.dom).map(xe.fromDom):G.some(_)},y=Zm(e.selection.getRng());W7(e.dom,n,i,u,m),e.selection.setRng(_h(y))},Z7=(e,t)=>Ds(t,n=>{const i=J(n,u=>B4(e,u));return B4(e,n)?[n,...i]:i}),q7=(e,t,n)=>{if(V7(t)){const i=Z7(e.formatter,n);R5(e,"strikethrough",i)}},K7=(e,t)=>{const n=we(t,i=>B4(e.formatter,i));R5(e,"strikethrough",n)},L5=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),G7=e=>e.name==="summary",Y7=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},B5=(e,t,n,i)=>{const u=n.name;for(let m=0,y=e.length;m<y;m++){const _=e[m];if(_.name===u){const E=i.nodes[u];E?E.nodes.push(n):i.nodes[u]={filter:_,nodes:[n]}}}if(n.attributes)for(let m=0,y=t.length;m<y;m++){const _=t[m],E=_.name;if(E in n.attributes.map){const N=i.attributes[E];N?N.nodes.push(n):i.attributes[E]={filter:_,nodes:[n]}}}},P5=(e,t,n)=>{const i={nodes:{},attributes:{}};return n.firstChild&&Y7(n,u=>{B5(e,t,u,i)}),i},P4=(e,t)=>{const n=(i,u)=>{yn(i,m=>{const y=jt(m.nodes);tt(m.filter.callbacks,_=>{for(let E=y.length-1;E>=0;E--){const N=y[E];(!(u?N.attr(m.filter.name)!==void 0:N.name===m.filter.name)||Kt(N.parent))&&y.splice(E,1)}y.length>0&&_(y,m.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},I4=(e,t,n,i={})=>{const u=P5(e,t,n);P4(u,i)},eC=(e,t,n,i)=>{if((e.pad_empty_with_br||t.insert)&&n(i)){const m=new al("br",1);t.insert&&m.attr("data-mce-bogus","1"),i.empty().append(m)}else i.empty().append(new al("#text",3)).value=xr},X7=e=>{var t;return F4(e,"#text")&&((t=e==null?void 0:e.firstChild)==null?void 0:t.value)===xr},F4=(e,t)=>{const n=e==null?void 0:e.firstChild;return Me(n)&&n===e.lastChild&&n.name===t},Q7=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},$w=(e,t,n,i)=>i.isEmpty(t,n,u=>Q7(e,u)),J7=(e,t)=>Me(e)&&(t(e)||e.name==="br"),eF=e=>{let t;for(let n=e;n;n=n.parent){const i=n.attr("contenteditable");if(i==="false")break;i==="true"&&(t=n)}return G.from(t)},tF=e=>{const t=[];for(let n=e.firstChild;Me(n);n=n.walk())t.push(n);return t},H4=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const i=e.children();for(const u of i)n&&!t.isValidChild(n.name,u.name)&&H4(u,t,n);e.unwrap()}},tC=(e,t,n,i=Ft)=>{const u=t.getTextBlockElements(),m=t.getNonEmptyElements(),y=t.getWhitespaceElements(),_=bt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),E=new Set,N=j=>j!==n&&!_[j.name];for(let j=0;j<e.length;j++){const W=e[j];let q,ne,me;if(!W.parent||E.has(W))continue;if(u[W.name]&&W.parent.name==="li"){let be=W.next;for(;be&&u[be.name];){be.name="li",E.add(be),W.parent.insert(be,W.parent);be=be.next}W.unwrap();continue}const ce=[W];for(q=W.parent;q&&!t.isValidChild(q.name,W.name)&&N(q);q=q.parent)ce.push(q);if(q&&ce.length>1)if(V4(t,W,q))H4(W,t);else{ce.reverse(),ne=ce[0].clone(),i(ne);let be=ne;for(let Be=0;Be<ce.length-1;Be++){t.isValidChild(be.name,ce[Be].name)&&Be>0?(me=ce[Be].clone(),i(me),be.append(me)):me=be;for(let Pe=ce[Be].firstChild;Pe&&Pe!==ce[Be+1];){const $e=Pe.next;me.append(Pe),Pe=$e}be=me}$w(t,m,y,ne)?q.insert(W,ce[0],!0):(q.insert(ne,ce[0],!0),q.insert(W,ne)),q=ce[0],($w(t,m,y,q)||F4(q,"br"))&&q.empty().remove()}else if(W.parent){if(W.name==="li"){let be=W.prev;if(be&&(be.name==="ul"||be.name==="ol")){be.append(W);continue}if(be=W.next,be&&(be.name==="ul"||be.name==="ol")&&be.firstChild){be.insert(W,be.firstChild,!0);continue}const Be=new al("ul",1);i(Be),W.wrap(Be);continue}if(t.isValidChild(W.parent.name,"div")&&t.isValidChild("div",W.name)){const be=new al("div",1);i(be),W.wrap(be)}else H4(W,t)}}},$4=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},V4=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&$4(n,"a")?!0:G7(n)&&L5(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,I5=(e,t,n,i)=>{const u=document.createRange();return u.setStart(e,t),u.setEnd(n,i),u},oF=e=>{const t=it.fromRangeStart(e),n=it.fromRangeEnd(e),i=e.commonAncestorContainer;return yu(!1,i,n).map(u=>!Ti(t,n,i)&&Ti(t,u,i)?I5(t.container(),t.offset(),u.container(),u.offset()):e).getOr(e)},oC=e=>e.collapsed?e:oF(e),F5=bt.explode,H5=()=>{const e={};return{addFilter:(u,m)=>{tt(F5(u),y=>{Io(e,y)||(e[y]={name:y,callbacks:[]}),e[y].callbacks.push(m)})},getFilters:()=>Us(e),removeFilter:(u,m)=>{tt(F5(u),y=>{if(Io(e,y))if(Me(m)){const _=e[y],E=we(_.callbacks,N=>N!==m);E.length>0?_.callbacks=E:delete e[y]}else delete e[y]})}}},nF=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),sF=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),rF=(e,t)=>{tt(t,n=>{e.attr(n,null)})},iF=(e,t,n)=>{e.addNodeFilter("font",i=>{tt(i,u=>{const m=t.parse(u.attr("style")),y=u.attr("color"),_=u.attr("face"),E=u.attr("size");y&&(m.color=y),_&&(m["font-family"]=_),E&&qf(E).each(N=>{m["font-size"]=n[N-1]}),u.name="span",u.attr("style",t.serialize(m)),rF(u,["color","face","size"])})})},j4=(e,t,n)=>{e.addNodeFilter("strike",i=>{const u=t.type!=="html4";tt(i,m=>{if(u)m.name="s";else{const y=n.parse(m.attr("style"));y["text-decoration"]="line-through",m.name="span",m.attr("style",n.serialize(y))}})})},aF=(e,t,n)=>{const i=du();t.convert_fonts_to_spans&&iF(e,i,bt.explode(t.font_size_legacy_values??"")),j4(e,n,i)},lF=(e,t,n)=>{t.inline_styles&&aF(e,t,n)},cF=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),$5=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},gy=e=>{try{return decodeURIComponent(e)}catch{return e}},nC=e=>{const[t,...n]=e.split(","),i=n.join(","),u=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(u){const m=u[2]===";base64",y=gy(i),_=m?$5(y):y;return G.some({type:u[1],data:_,base64Encoded:m})}else return G.none()},V5=(e,t,n=!0)=>{let i=t;if(n)try{i=atob(t)}catch{return G.none()}const u=new Uint8Array(i.length);for(let m=0;m<u.length;m++)u[m]=i.charCodeAt(m);return G.some(new Blob([u],{type:e}))},Sx=e=>new Promise((t,n)=>{nC(e).bind(({type:i,data:u,base64Encoded:m})=>V5(i,u,m)).fold(()=>n("Invalid data URI"),t)}),dF=e=>Ws(e,"blob:")?cF(e):Ws(e,"data:")?Sx(e):Promise.reject("Unknown URI format"),sC=e=>new Promise((t,n)=>{const i=new FileReader;i.onloadend=()=>{t(i.result)},i.onerror=()=>{var u;n((u=i.error)==null?void 0:u.message)},i.readAsDataURL(e)});let U4=0;const uF=e=>"blobid"+U4++,W4=(e,t,n)=>nC(e).bind(({data:i,type:u,base64Encoded:m})=>{if(t&&!m)return G.none();{const y=m?i:btoa(i);return n(y,u)}}),Vw=(e,t,n)=>{const i=e.create(uF(),t,n);return e.add(i),i},j5=(e,t,n=!1)=>W4(t,n,(i,u)=>G.from(e.getByData(i,u)).orThunk(()=>V5(u,i).map(m=>Vw(e,m,i)))),fF=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(Ws(t,"blob:")){const i=e.getByUri(t);return Me(i)?Promise.resolve(i):dF(t).then(u=>sC(u).then(m=>W4(m,!1,y=>G.some(Vw(e,u,y))).getOrThunk(n)))}else return Ws(t,"data:")?j5(e,t).fold(n,i=>Promise.resolve(i)):Promise.reject("Unknown image data format")},hF=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,pF=e=>G.from(e.match(hF)).bind(t=>en(t,1)).map(t=>Ws(t,"www.")?t.substring(4):t),rC=(e,t)=>{G.from(e.attr("src")).bind(pF).forall(n=>!Qo(t,n))&&e.attr("sandbox","")},Z4=(e,t)=>Ws(e,`${t}/`),mF=e=>lo(e)?"iframe":Z4(e,"image")?"img":Z4(e,"video")?"video":Z4(e,"audio")?"audio":"iframe",gF=({type:e,src:t,width:n,height:i}={},u,m)=>{const y=mF(e),_=new al(y,1);return _.attr(y==="audio"?{src:t}:{src:t,width:n,height:i}),(y==="audio"||y==="video")&&_.attr("controls",""),y==="iframe"&&u&&rC(_,m),_},bF=e=>Me(e.attr("data-mce-bogus")),yF=e=>e.attr("src")===$o.transparentSrc||Me(e.attr("data-mce-placeholder")),xF=(e,t)=>{const{blob_cache:n}=t;if(n){const i=u=>{const m=u.attr("src");yF(u)||bF(u)||Kt(m)||j5(n,m,!0).each(y=>{u.attr("src",y.blobUri())})};e.addAttributeFilter("src",u=>tt(u,i))}},vF=(e,t)=>{const n=e.schema;e.addAttributeFilter("href",y=>{let _=y.length;const E=j=>j.split(" ").filter(q=>q.length>0).concat(["noopener"]).sort().join(" "),N=j=>{const W=j?bt.trim(j):"";return/\b(noopener)\b/g.test(W)?W:E(W)};if(!t.allow_unsafe_link_target)for(;_--;){const j=y[_];j.name==="a"&&j.attr("target")==="_blank"&&j.attr("rel",N(j.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",y=>{let _=y.length,E,N,j,W;for(;_--;)if(W=y[_],W.name==="a"&&W.firstChild&&!W.attr("href"))for(j=W.parent,E=W.lastChild;E&&j;)N=E.prev,j.insert(E,W),E=N}),t.fix_list_elements&&e.addNodeFilter("ul,ol",y=>{let _=y.length,E,N;for(;_--;)if(E=y[_],N=E.parent,N&&(N.name==="ul"||N.name==="ol"))if(E.prev&&E.prev.name==="li")E.prev.append(E);else{const j=new al("li",1);j.attr("style","list-style-type: none"),E.wrap(j)}});const i=n.getValidClasses();t.validate&&i&&e.addAttributeFilter("class",y=>{let _=y.length;for(;_--;){const E=y[_],N=E.attr("class")??"",j=bt.explode(N," ");let W="";for(let q=0;q<j.length;q++){const ne=j[q];let me=!1,ce=i["*"];ce&&ce[ne]&&(me=!0),ce=i[E.name],!me&&ce&&ce[ne]&&(me=!0),me&&(W&&(W+=" "),W+=ne)}W.length||(W=null),E.attr("class",W)}}),xF(e,t);const u=t.sandbox_iframes??!1,m=kc(t.sandbox_iframes_exclusions??[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",y=>tt(y,_=>{_.replace(gF({type:_.attr("type"),src:_.name==="object"?_.attr("data"):_.attr("src"),width:_.attr("width"),height:_.attr("height")},u,m))})),u&&e.addNodeFilter("iframe",y=>tt(y,_=>rC(_,m)))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:U5,setPrototypeOf:W5,isFrozen:wF,getPrototypeOf:kF,getOwnPropertyDescriptor:Z5}=Object;let{freeze:Gc,seal:Sf,create:q5}=Object,{apply:jw,construct:q4}=typeof Reflect<"u"&&Reflect;Gc||(Gc=function(t){return t}),Sf||(Sf=function(t){return t}),jw||(jw=function(t,n,i){return t.apply(n,i)}),q4||(q4=function(t,n){return new t(...n)});const iC=Yc(Array.prototype.forEach),_F=Yc(Array.prototype.lastIndexOf),K5=Yc(Array.prototype.pop),Uw=Yc(Array.prototype.push),CF=Yc(Array.prototype.splice),aC=Yc(String.prototype.toLowerCase),K4=Yc(String.prototype.toString),G5=Yc(String.prototype.match),Ww=Yc(String.prototype.replace),SF=Yc(String.prototype.indexOf),EF=Yc(String.prototype.trim),Ef=Yc(Object.prototype.hasOwnProperty),gc=Yc(RegExp.prototype.test),Zw=AF(TypeError);function Yc(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];return jw(e,t,i)}}function AF(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return q4(e,n)}}function Ss(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:aC;W5&&W5(e,null);let i=t.length;for(;i--;){let u=t[i];if(typeof u=="string"){const m=n(u);m!==u&&(wF(t)||(t[i]=m),u=m)}e[u]=!0}return e}function qw(e){for(let t=0;t<e.length;t++)Ef(e,t)||(e[t]=null);return e}function kp(e){const t=q5(null);for(const[n,i]of U5(e))Ef(e,n)&&(Array.isArray(i)?t[n]=qw(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=kp(i):t[n]=i);return t}function Km(e,t){for(;e!==null;){const i=Z5(e,t);if(i){if(i.get)return Yc(i.get);if(typeof i.value=="function")return Yc(i.value)}e=kF(e)}function n(){return null}return n}const Kw=Gc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),by=Gc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Cu=Gc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),yy=Gc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gw=Gc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Y5=Gc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ex=Gc(["#text"]),G4=Gc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Y4=Gc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ax=Gc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yw=Gc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fi=Sf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),TF=Sf(/<%[\w\W]*|[\w\W]*%>/gm),OF=Sf(/\$\{[\w\W]*/gm),Tx=Sf(/^data-[\-\w.\u00B7-\uFFFF]+$/),xy=Sf(/^aria-[\-\w]+$/),sb=Sf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zF=Sf(/^(?:\w+script|data):/i),X4=Sf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),lC=Sf(/^html$/i),X5=Sf(/^[a-z][.\w]*(-[.\w]+)+$/i);var Q4=Object.freeze({__proto__:null,ARIA_ATTR:xy,ATTR_WHITESPACE:X4,CUSTOM_ELEMENT:X5,DATA_ATTR:Tx,DOCTYPE_NAME:lC,ERB_EXPR:TF,IS_ALLOWED_URI:sb,IS_SCRIPT_OR_DATA:zF,MUSTACHE_EXPR:fi,TMPLIT_EXPR:OF});const Xw={element:1,text:3,progressingInstruction:7,comment:8,document:9},DF=function(){return typeof window>"u"?null:window},J4=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const u="data-tt-policy-suffix";n&&n.hasAttribute(u)&&(i=n.getAttribute(u));const m="dompurify"+(i?"#"+i:"");try{return t.createPolicy(m,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}},cC=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function e3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:DF();const t=Sn=>e3(Sn);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==Xw.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,u=i.currentScript,{DocumentFragment:m,HTMLTemplateElement:y,Node:_,Element:E,NodeFilter:N,NamedNodeMap:j=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:W,DOMParser:q,trustedTypes:ne}=e,me=E.prototype,ce=Km(me,"cloneNode"),be=Km(me,"remove"),Be=Km(me,"nextSibling"),Pe=Km(me,"childNodes"),$e=Km(me,"parentNode");if(typeof y=="function"){const Sn=n.createElement("template");Sn.content&&Sn.content.ownerDocument&&(n=Sn.content.ownerDocument)}let rt,gt="";const{implementation:Bt,createNodeIterator:ro,createDocumentFragment:at,getElementsByTagName:Xe}=n,{importNode:lt}=i;let Pt=cC();t.isSupported=typeof U5=="function"&&typeof $e=="function"&&Bt&&Bt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:wo,ERB_EXPR:Ro,TMPLIT_EXPR:_n,DATA_ATTR:as,ARIA_ATTR:$s,IS_SCRIPT_OR_DATA:Qs,ATTR_WHITESPACE:Mi,CUSTOM_ELEMENT:Du}=Q4;let{IS_ALLOWED_URI:It}=Q4,ho=null;const Gn=Ss({},[...Kw,...by,...Cu,...Gw,...Ex]);let Yn=null;const ao=Ss({},[...G4,...Y4,...Ax,...Yw]);let Et=Object.seal(q5(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$t=null,go=null,Uo=!0,Tn=!0,Vs=!1,Ah=!0,Ka=!1,Th=!0,Oh=!1,Jc=!1,xc=!1,Rf=!1,Jx=!1,ev=!1,xS=!0,Ao=!1;const On="user-content-";let Xr=!0,qs=!1,ws={},$r=null;const ed=Ss({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Zl=null;const Mu=Ss({},["audio","video","img","source","image","track"]);let ng=null;const vS=Ss({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),wS="http://www.w3.org/1998/Math/MathML",Tk="http://www.w3.org/2000/svg",Np="http://www.w3.org/1999/xhtml";let tv=Np,aO=!1,kS=null;const ZK=Ss({},[wS,Tk,Np],K4);let lO=Ss({},["mi","mo","mn","ms","mtext"]),cO=Ss({},["annotation-xml"]);const qK=Ss({},["title","style","font","a","script"]);let _S=null;const ov=["application/xhtml+xml","text/html"],lB="text/html";let qe=null,Qe=null;const Vt=n.createElement("form"),Nt=function(ot){return ot instanceof RegExp||ot instanceof Function},Ho=function(){let ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Qe&&Qe===ot)){if((!ot||typeof ot!="object")&&(ot={}),ot=kp(ot),_S=ov.indexOf(ot.PARSER_MEDIA_TYPE)===-1?lB:ot.PARSER_MEDIA_TYPE,qe=_S==="application/xhtml+xml"?K4:aC,ho=Ef(ot,"ALLOWED_TAGS")?Ss({},ot.ALLOWED_TAGS,qe):Gn,Yn=Ef(ot,"ALLOWED_ATTR")?Ss({},ot.ALLOWED_ATTR,qe):ao,kS=Ef(ot,"ALLOWED_NAMESPACES")?Ss({},ot.ALLOWED_NAMESPACES,K4):ZK,ng=Ef(ot,"ADD_URI_SAFE_ATTR")?Ss(kp(vS),ot.ADD_URI_SAFE_ATTR,qe):vS,Zl=Ef(ot,"ADD_DATA_URI_TAGS")?Ss(kp(Mu),ot.ADD_DATA_URI_TAGS,qe):Mu,$r=Ef(ot,"FORBID_CONTENTS")?Ss({},ot.FORBID_CONTENTS,qe):ed,$t=Ef(ot,"FORBID_TAGS")?Ss({},ot.FORBID_TAGS,qe):kp({}),go=Ef(ot,"FORBID_ATTR")?Ss({},ot.FORBID_ATTR,qe):kp({}),ws=Ef(ot,"USE_PROFILES")?ot.USE_PROFILES:!1,Uo=ot.ALLOW_ARIA_ATTR!==!1,Tn=ot.ALLOW_DATA_ATTR!==!1,Vs=ot.ALLOW_UNKNOWN_PROTOCOLS||!1,Ah=ot.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ka=ot.SAFE_FOR_TEMPLATES||!1,Th=ot.SAFE_FOR_XML!==!1,Oh=ot.WHOLE_DOCUMENT||!1,Rf=ot.RETURN_DOM||!1,Jx=ot.RETURN_DOM_FRAGMENT||!1,ev=ot.RETURN_TRUSTED_TYPE||!1,xc=ot.FORCE_BODY||!1,xS=ot.SANITIZE_DOM!==!1,Ao=ot.SANITIZE_NAMED_PROPS||!1,Xr=ot.KEEP_CONTENT!==!1,qs=ot.IN_PLACE||!1,It=ot.ALLOWED_URI_REGEXP||sb,tv=ot.NAMESPACE||Np,lO=ot.MATHML_TEXT_INTEGRATION_POINTS||lO,cO=ot.HTML_INTEGRATION_POINTS||cO,Et=ot.CUSTOM_ELEMENT_HANDLING||{},ot.CUSTOM_ELEMENT_HANDLING&&Nt(ot.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Et.tagNameCheck=ot.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ot.CUSTOM_ELEMENT_HANDLING&&Nt(ot.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Et.attributeNameCheck=ot.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ot.CUSTOM_ELEMENT_HANDLING&&typeof ot.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Et.allowCustomizedBuiltInElements=ot.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ka&&(Tn=!1),Jx&&(Rf=!0),ws&&(ho=Ss({},Ex),Yn=[],ws.html===!0&&(Ss(ho,Kw),Ss(Yn,G4)),ws.svg===!0&&(Ss(ho,by),Ss(Yn,Y4),Ss(Yn,Yw)),ws.svgFilters===!0&&(Ss(ho,Cu),Ss(Yn,Y4),Ss(Yn,Yw)),ws.mathMl===!0&&(Ss(ho,Gw),Ss(Yn,Ax),Ss(Yn,Yw))),ot.ADD_TAGS&&(ho===Gn&&(ho=kp(ho)),Ss(ho,ot.ADD_TAGS,qe)),ot.ADD_ATTR&&(Yn===ao&&(Yn=kp(Yn)),Ss(Yn,ot.ADD_ATTR,qe)),ot.ADD_URI_SAFE_ATTR&&Ss(ng,ot.ADD_URI_SAFE_ATTR,qe),ot.FORBID_CONTENTS&&($r===ed&&($r=kp($r)),Ss($r,ot.FORBID_CONTENTS,qe)),Xr&&(ho["#text"]=!0),Oh&&Ss(ho,["html","head","body"]),ho.table&&(Ss(ho,["tbody"]),delete $t.tbody),ot.TRUSTED_TYPES_POLICY){if(typeof ot.TRUSTED_TYPES_POLICY.createHTML!="function")throw Zw('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ot.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Zw('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');rt=ot.TRUSTED_TYPES_POLICY,gt=rt.createHTML("")}else rt===void 0&&(rt=J4(ne,u)),rt!==null&&typeof gt=="string"&&(gt=rt.createHTML(""));Gc&&Gc(ot),Qe=ot}},Zn=Ss({},[...by,...Cu,...yy]),Qr=Ss({},[...Gw,...Y5]),sg=function(ot){let po=$e(ot);(!po||!po.tagName)&&(po={namespaceURI:tv,tagName:"template"});const hn=aC(ot.tagName),da=aC(po.tagName);return kS[ot.namespaceURI]?ot.namespaceURI===Tk?po.namespaceURI===Np?hn==="svg":po.namespaceURI===wS?hn==="svg"&&(da==="annotation-xml"||lO[da]):!!Zn[hn]:ot.namespaceURI===wS?po.namespaceURI===Np?hn==="math":po.namespaceURI===Tk?hn==="math"&&cO[da]:!!Qr[hn]:ot.namespaceURI===Np?po.namespaceURI===Tk&&!cO[da]||po.namespaceURI===wS&&!lO[da]?!1:!Qr[hn]&&(qK[hn]||!Zn[hn]):!!(_S==="application/xhtml+xml"&&kS[ot.namespaceURI]):!1},Rp=function(ot){Uw(t.removed,{element:ot});try{$e(ot).removeChild(ot)}catch{be(ot)}},CS=function(ot,po){try{Uw(t.removed,{attribute:po.getAttributeNode(ot),from:po})}catch{Uw(t.removed,{attribute:null,from:po})}if(po.removeAttribute(ot),ot==="is")if(Rf||Jx)try{Rp(po)}catch{}else try{po.setAttribute(ot,"")}catch{}},KK=function(ot){let po=null,hn=null;if(xc)ot="<remove></remove>"+ot;else{const ql=G5(ot,/^[\r\n\t ]+/);hn=ql&&ql[0]}_S==="application/xhtml+xml"&&tv===Np&&(ot='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ot+"</body></html>");const da=rt?rt.createHTML(ot):ot;if(tv===Np)try{po=new q().parseFromString(da,_S)}catch{}if(!po||!po.documentElement){po=Bt.createDocument(tv,"template",null);try{po.documentElement.innerHTML=aO?gt:da}catch{}}const Pd=po.body||po.documentElement;return ot&&hn&&Pd.insertBefore(n.createTextNode(hn),Pd.childNodes[0]||null),tv===Np?Xe.call(po,Oh?"html":"body")[0]:Oh?po.documentElement:Pd},GK=function(ot){return ro.call(ot.ownerDocument||ot,ot,N.SHOW_ELEMENT|N.SHOW_COMMENT|N.SHOW_TEXT|N.SHOW_PROCESSING_INSTRUCTION|N.SHOW_CDATA_SECTION,null)},L9=function(ot){return ot instanceof W&&(typeof ot.nodeName!="string"||typeof ot.textContent!="string"||typeof ot.removeChild!="function"||!(ot.attributes instanceof j)||typeof ot.removeAttribute!="function"||typeof ot.setAttribute!="function"||typeof ot.namespaceURI!="string"||typeof ot.insertBefore!="function"||typeof ot.hasChildNodes!="function")},YK=function(ot){return typeof _=="function"&&ot instanceof _};function Fy(Sn,ot,po){iC(Sn,hn=>{hn.call(t,ot,po,Qe)})}const XK=function(ot){let po=null;if(Fy(Pt.beforeSanitizeElements,ot,null),L9(ot))return Rp(ot),!0;const hn=qe(ot.nodeName);if(Fy(Pt.uponSanitizeElement,ot,{tagName:hn,allowedTags:ho}),Th&&ot.hasChildNodes()&&!YK(ot.firstElementChild)&&gc(/<[/\w!]/g,ot.innerHTML)&&gc(/<[/\w!]/g,ot.textContent)||ot.nodeType===Xw.progressingInstruction||Th&&ot.nodeType===Xw.comment&&gc(/<[/\w]/g,ot.data))return Rp(ot),!0;if(!ho[hn]||$t[hn]){if(!$t[hn]&&JK(hn)&&(Et.tagNameCheck instanceof RegExp&&gc(Et.tagNameCheck,hn)||Et.tagNameCheck instanceof Function&&Et.tagNameCheck(hn)))return!1;if(Xr&&!$r[hn]){const da=$e(ot)||ot.parentNode,Pd=Pe(ot)||ot.childNodes;if(Pd&&da){const ql=Pd.length;for(let Lf=ql-1;Lf>=0;--Lf){const Hy=ce(Pd[Lf],!0);Hy.__removalCount=(ot.__removalCount||0)+1,da.insertBefore(Hy,Be(ot))}}}return Rp(ot),!0}return ot instanceof E&&!sg(ot)||(hn==="noscript"||hn==="noembed"||hn==="noframes")&&gc(/<\/no(script|embed|frames)/i,ot.innerHTML)?(Rp(ot),!0):(Ka&&ot.nodeType===Xw.text&&(po=ot.textContent,iC([wo,Ro,_n],da=>{po=Ww(po,da," ")}),ot.textContent!==po&&(Uw(t.removed,{element:ot.cloneNode()}),ot.textContent=po)),Fy(Pt.afterSanitizeElements,ot,null),!1)},QK=function(ot,po,hn){if(xS&&(po==="id"||po==="name")&&(hn in n||hn in Vt))return!1;if(!(Tn&&!go[po]&&gc(as,po))){if(!(Uo&&gc($s,po))){if(!Yn[po]||go[po]){if(!(JK(ot)&&(Et.tagNameCheck instanceof RegExp&&gc(Et.tagNameCheck,ot)||Et.tagNameCheck instanceof Function&&Et.tagNameCheck(ot))&&(Et.attributeNameCheck instanceof RegExp&&gc(Et.attributeNameCheck,po)||Et.attributeNameCheck instanceof Function&&Et.attributeNameCheck(po))||po==="is"&&Et.allowCustomizedBuiltInElements&&(Et.tagNameCheck instanceof RegExp&&gc(Et.tagNameCheck,hn)||Et.tagNameCheck instanceof Function&&Et.tagNameCheck(hn))))return!1}else if(!ng[po]){if(!gc(It,Ww(hn,Mi,""))){if(!((po==="src"||po==="xlink:href"||po==="href")&&ot!=="script"&&SF(hn,"data:")===0&&Zl[ot])){if(!(Vs&&!gc(Qs,Ww(hn,Mi,"")))){if(hn)return!1}}}}}}return!0},JK=function(ot){return ot!=="annotation-xml"&&G5(ot,Du)},eG=function(ot){Fy(Pt.beforeSanitizeAttributes,ot,null);const{attributes:po}=ot;if(!po||L9(ot))return;const hn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Yn,forceKeepAttr:void 0};let da=po.length;for(;da--;){const Pd=po[da],{name:ql,namespaceURI:Lf,value:Hy}=Pd,dO=qe(ql),B9=Hy;let Id=ql==="value"?B9:EF(B9);if(hn.attrName=dO,hn.attrValue=Id,hn.keepAttr=!0,hn.forceKeepAttr=void 0,Fy(Pt.uponSanitizeAttribute,ot,hn),Id=hn.attrValue,Ao&&(dO==="id"||dO==="name")&&(CS(ql,ot),Id=On+Id),Th&&gc(/((--!?|])>)|<\/(style|title)/i,Id)){CS(ql,ot);continue}if(hn.forceKeepAttr)continue;if(!hn.keepAttr){CS(ql,ot);continue}if(!Ah&&gc(/\/>/i,Id)){CS(ql,ot);continue}Ka&&iC([wo,Ro,_n],oG=>{Id=Ww(Id,oG," ")});const tG=qe(ot.nodeName);if(!QK(tG,dO,Id)){CS(ql,ot);continue}if(rt&&typeof ne=="object"&&typeof ne.getAttributeType=="function"&&!Lf)switch(ne.getAttributeType(tG,dO)){case"TrustedHTML":{Id=rt.createHTML(Id);break}case"TrustedScriptURL":{Id=rt.createScriptURL(Id);break}}if(Id!==B9)try{Lf?ot.setAttributeNS(Lf,ql,Id):ot.setAttribute(ql,Id),L9(ot)?Rp(ot):K5(t.removed)}catch{CS(ql,ot)}}Fy(Pt.afterSanitizeAttributes,ot,null)},qfe=function Sn(ot){let po=null;const hn=GK(ot);for(Fy(Pt.beforeSanitizeShadowDOM,ot,null);po=hn.nextNode();)Fy(Pt.uponSanitizeShadowNode,po,null),XK(po),eG(po),po.content instanceof m&&Sn(po.content);Fy(Pt.afterSanitizeShadowDOM,ot,null)};return t.sanitize=function(Sn){let ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},po=null,hn=null,da=null,Pd=null;if(aO=!Sn,aO&&(Sn="<!-->"),typeof Sn!="string"&&!YK(Sn))if(typeof Sn.toString=="function"){if(Sn=Sn.toString(),typeof Sn!="string")throw Zw("dirty is not a string, aborting")}else throw Zw("toString is not a function");if(!t.isSupported)return Sn;if(Jc||Ho(ot),t.removed=[],typeof Sn=="string"&&(qs=!1),qs){if(Sn.nodeName){const Hy=qe(Sn.nodeName);if(!ho[Hy]||$t[Hy])throw Zw("root node is forbidden and cannot be sanitized in-place")}}else if(Sn instanceof _)po=KK("<!---->"),hn=po.ownerDocument.importNode(Sn,!0),hn.nodeType===Xw.element&&hn.nodeName==="BODY"||hn.nodeName==="HTML"?po=hn:po.appendChild(hn);else{if(!Rf&&!Ka&&!Oh&&Sn.indexOf("<")===-1)return rt&&ev?rt.createHTML(Sn):Sn;if(po=KK(Sn),!po)return Rf?null:ev?gt:""}po&&xc&&Rp(po.firstChild);const ql=GK(qs?Sn:po);for(;da=ql.nextNode();)XK(da),eG(da),da.content instanceof m&&qfe(da.content);if(qs)return Sn;if(Rf){if(Jx)for(Pd=at.call(po.ownerDocument);po.firstChild;)Pd.appendChild(po.firstChild);else Pd=po;return(Yn.shadowroot||Yn.shadowrootmode)&&(Pd=lt.call(i,Pd,!0)),Pd}let Lf=Oh?po.outerHTML:po.innerHTML;return Oh&&ho["!doctype"]&&po.ownerDocument&&po.ownerDocument.doctype&&po.ownerDocument.doctype.name&&gc(lC,po.ownerDocument.doctype.name)&&(Lf="<!DOCTYPE "+po.ownerDocument.doctype.name+`>
`+Lf),Ka&&iC([wo,Ro,_n],Hy=>{Lf=Ww(Lf,Hy," ")}),rt&&ev?rt.createHTML(Lf):Lf},t.setConfig=function(){let Sn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ho(Sn),Jc=!0},t.clearConfig=function(){Qe=null,Jc=!1},t.isValidAttribute=function(Sn,ot,po){Qe||Ho({});const hn=qe(Sn),da=qe(ot);return QK(hn,da,po)},t.addHook=function(Sn,ot){typeof ot=="function"&&Uw(Pt[Sn],ot)},t.removeHook=function(Sn,ot){if(ot!==void 0){const po=_F(Pt[Sn],ot);return po===-1?void 0:CF(Pt[Sn],po,1)[0]}return K5(Pt[Sn])},t.removeHooks=function(Sn){Pt[Sn]=[]},t.removeAllHooks=function(){Pt=cC()},t}var rb=e3();const t3=bt.each,Q5=bt.trim,J5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],eN={ftp:21,http:80,https:443,mailto:25},tN=["img","video"],oN=(e,t)=>Me(e)?!e:Me(t)?!Qo(tN,t):!0,nN=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},o3=(e,t,n)=>{const i=nN(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(i)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(i)?oN(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(i):/^data:/i.test(i)};class Su{constructor(t,n={}){vt(this,"source");vt(this,"protocol");vt(this,"authority");vt(this,"userInfo");vt(this,"user");vt(this,"password");vt(this,"host");vt(this,"port");vt(this,"relative");vt(this,"path","");vt(this,"directory","");vt(this,"file");vt(this,"query");vt(this,"anchor");vt(this,"settings");t=Q5(t),this.settings=n;const i=n.base_uri,u=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){u.source=t;return}const m=t.indexOf("//")===0;if(t.indexOf("/")===0&&!m&&(t=(i&&i.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const _=i?i.path:new Su(document.location.href).directory;if((i==null?void 0:i.protocol)==="")t="//mce_host"+u.toAbsPath(_,t);else{const E=/([^#?]*)([#?]?.*)/.exec(t);E&&(t=(i&&i.protocol||"http")+"://mce_host"+u.toAbsPath(_,E[1])+E[2])}}t=t.replace(/@@/g,"(mce_at)");const y=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);y&&t3(J5,(_,E)=>{let N=y[E];N&&(N=N.replace(/\(mce_at\)/g,"@@")),u[_]=N}),i&&(u.protocol||(u.protocol=i.protocol),u.userInfo||(u.userInfo=i.userInfo),!u.port&&u.host==="mce_host"&&(u.port=i.port),(!u.host||u.host==="mce_host")&&(u.host=i.host),u.source=""),m&&(u.protocol="")}static parseDataUri(t){let n;const i=decodeURIComponent(t).split(","),u=/data:([^;]+)/.exec(i[0]);return u&&(n=u[1]),{type:n,data:i[1]}}static isDomSafe(t,n,i={}){if(i.allow_script_urls)return!0;{const u=lu.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!o3(i,u,n)}}static getDocumentBaseUrl(t){let n;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?n=t.href??"":n=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new Su(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const i=this.getURI(),u=n.getURI();if(i===u||i.charAt(i.length-1)==="/"&&i.substr(0,i.length-1)===u)return i;let m=this.toRelPath(this.path,n.path);return n.query&&(m+="?"+n.query),n.anchor&&(m+="#"+n.anchor),m}toAbsolute(t,n){const i=new Su(t,{base_uri:this});return i.getURI(n&&this.isSameOrigin(i))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?eN[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let i=0,u="",m,y;const _=t.substring(0,t.lastIndexOf("/")).split("/"),E=n.split("/");if(_.length>=E.length){for(m=0,y=_.length;m<y;m++)if(m>=E.length||_[m]!==E[m]){i=m+1;break}}if(_.length<E.length){for(m=0,y=E.length;m<y;m++)if(m>=_.length||_[m]!==E[m]){i=m+1;break}}if(i===1)return n;for(m=0,y=_.length-(i-1);m<y;m++)u+="../";for(m=i-1,y=E.length;m<y;m++)m!==i-1?u+="/"+E[m]:u+=E[m];return u}toAbsPath(t,n){let i=0;const u=/\/$/.test(n)?"/":"",m=t.split("/"),y=n.split("/"),_=[];t3(m,W=>{W&&_.push(W)});const E=[];for(let W=y.length-1;W>=0;W--)if(!(y[W].length===0||y[W]===".")){if(y[W]===".."){i++;continue}if(i>0){i--;continue}E.push(y[W])}const N=_.length-i;let j;return N<=0?j=ar(E).join("/"):j=_.slice(0,N).join("/")+"/"+ar(E).join("/"),j.indexOf("/")!==0&&(j="/"+j),u&&j.lastIndexOf("/")!==j.length-1&&(j+=u),j}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const n3=bt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),vy="data-mce-type";let Ox=0;const dC=(e,t,n,i,u)=>{const m=t.validate,y=n.getSpecialElements();e.nodeType===jh&&(!t.allow_conditional_comments&&/^\[if/i.test(e.nodeValue??"")&&(e.nodeValue=" "+e.nodeValue),t.sanitize&&t.allow_html_in_comments&&He(e.nodeValue)&&(e.nodeValue=nF(e.nodeValue)));const _=(u==null?void 0:u.tagName)??e.nodeName.toLowerCase();if(i!=="html"&&n.isValid(i)){Me(u)&&(u.allowedTags[_]=!0);return}if(e.nodeType!==dd||_==="body")return;const E=xe.fromDom(e),N=Qd(E,vy),j=fr(E,"data-mce-bogus");if(!N&&He(j)){j==="all"?ts(E):Qi(E);return}const W=n.getElementRule(_);if(m&&!W){Io(y,_)?ts(E):Qi(E);return}else Me(u)&&(u.allowedTags[_]=!0);if(m&&W&&!N){if(tt(W.attributesForced??[],q=>{Tr(E,q.name,q.value==="{$uid}"?`mce_${Ox++}`:q.value)}),tt(W.attributesDefault??[],q=>{Qd(E,q.name)||Tr(E,q.name,q.value==="{$uid}"?`mce_${Ox++}`:q.value)}),W.attributesRequired&&!Rn(W.attributesRequired,q=>Qd(E,q))){Qi(E);return}if(W.removeEmptyAttrs&&Jd(E)){Qi(E);return}W.outputName&&W.outputName!==_&&Rc(E,W.outputName)}},sN=(e,t,n,i,u)=>{const m=e.tagName.toLowerCase(),{attrName:y,attrValue:_}=u;u.keepAttr=s3(t,n,i,m,y,_),u.keepAttr?(u.allowedAttributes[y]=!0,rN(y,n,e.nodeName)&&(u.attrValue=y),t.allow_svg_data_urls&&Ws(_,"data:image/svg+xml")&&(u.forceKeepAttr=!0)):Qw(e,y)&&(u.forceKeepAttr=!0)},s3=(e,t,n,i,u,m)=>n!=="html"&&!ep(i)?!0:!(u in n3&&o3(e,m,i))&&(!e.validate||t.isValid(i,u)||Ws(u,"data-")||Ws(u,"aria-")),Qw=(e,t)=>e.hasAttribute(vy)&&(t==="id"||t==="class"||t==="style"),rN=(e,t,n)=>e in t.getBoolAttrs()&&!Io(t.getCustomElements(),n.toLowerCase()),MF=(e,t,n,i)=>{const{attributes:u}=e;for(let m=u.length-1;m>=0;m--){const y=u[m],_=y.name,E=y.value;!s3(t,n,i,e.tagName.toLowerCase(),_,E)&&!Qw(e,_)?e.removeAttribute(_):rN(_,n,e.nodeName)&&e.setAttribute(_,_)}},wy=(e,t,n)=>{const i=rb();return i.addHook("uponSanitizeElement",(u,m)=>{dC(u,e,t,n.track(u),m)}),i.addHook("uponSanitizeAttribute",(u,m)=>{sN(u,e,t,n.current(),m)}),i},r3=(e,t)=>{const i={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body","html"],ALLOWED_ATTR:[]}};return i.PARSER_MEDIA_TYPE=t,e.allow_script_urls?i.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(i.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),i},iN=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(i=>`xlink:${i}`),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};rb().sanitize(e,n)},Jw=(e,t)=>{const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},i=rb(),u=t.allow_mathml_annotation_encodings,m=he(u)&&u.length>0,y=E=>{const N=E.getAttribute("encoding");return m&&He(N)&&Qo(u,N)},_=(E,N)=>m&&N==="semantics"?G.some(!0):N==="annotation"?G.some(eo(E)&&y(E)):he(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(N)?G.from(!0):G.none();i.addHook("uponSanitizeElement",(E,N)=>{const j=N.tagName??E.nodeName.toLowerCase();_(E,j).each(q=>{N.allowedTags[j]=q,!q&&t.sanitize&&eo(E)&&E.remove()})}),i.addHook("uponSanitizeAttribute",(E,N)=>{he(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(N.attrName)&&(N.forceKeepAttr=!0)}),i.sanitize(e,n)},aN=e=>t=>{const n=b1(t);if(n==="svg")iN(t);else if(n==="math")Jw(t,e);else throw new Error("Not a namespace element")},i3=(e,t)=>{const n=tp();if(e.sanitize){const i=wy(e,t,n);return{sanitizeHtmlElement:(m,y)=>{i.sanitize(m,r3(e,y)),i.removed=[],n.reset()},sanitizeNamespaceElement:aN(e)}}else return{sanitizeHtmlElement:(m,y)=>{const _=document.createNodeIterator(m,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let E;for(;E=_.nextNode();){const N=n.track(E);dC(E,e,t,N),eo(E)&&MF(E,e,t,N)}n.reset()},sanitizeNamespaceElement:Ft}},a3=["script","style","template","param","meta","title","link"],l3=bt.makeMap,c3=bt.extend,uC=(e,t,n,i,u)=>{const m=e.name,y=m in n&&m!=="title"&&m!=="textarea"&&m!=="noscript",_=t.childNodes;for(let E=0,N=_.length;E<N;E++){const j=_[E],W=new al(j.nodeName.toLowerCase(),j.nodeType);if(eo(j)){const q=j.attributes;for(let ne=0,me=q.length;ne<me;ne++){const ce=q[ne];W.attr(ce.name,ce.value)}ep(W.name)&&(i(j),W.value=j.innerHTML)}else _t(j)?(W.value=j.data,y&&(W.raw=!0)):iu(j)?W.value=u?sF(j.data):j.data:(zv(j)||o0(j))&&(W.value=j.data);if(na(j)){const q=al.create("#text");q.value=j.innerHTML,q.raw=!0,W.append(q)}else ep(W.name)||uC(W,j,n,i,u);e.append(W)}},lN=(e,t,n)=>{const i=[];for(let u=e,m=u;u;m=u,u=u.walk()){const y=u;tt(t,_=>_(y)),Kt(y.parent)&&y!==e?u=m:i.push(y)}for(let u=i.length-1;u>=0;u--){const m=i[u];tt(n,y=>y(m))}},NF=(e,t,n,i)=>{const u=n.validate,m=t.getNonEmptyElements(),y=t.getWhitespaceElements(),_=c3(l3(a3),t.getBlockElements()),E=co(t),N=/[ \t\r\n]+/g,j=/^[ \t\r\n]+/,W=/[ \t\r\n]+$/,q=Pe=>{let $e=Pe.parent;for(;Me($e);){if($e.name in y)return!0;$e=$e.parent}return!1},ne=Pe=>{let $e=Pe;for(;Me($e);){if($e.name in E)return $w(t,m,y,$e);$e=$e.parent}return!1},me=Pe=>Pe.name in _||v1(t,Pe)||ep(Pe.name)&&Pe.parent===e,ce=(Pe,$e)=>{const rt=$e?Pe.prev:Pe.next;return Me(rt)||Kt(Pe.parent)?!1:me(Pe.parent)&&(Pe.parent!==e||i.isRootContent===!0)};return[Pe=>{if(Pe.type===3&&!q(Pe)){let $e=Pe.value??"";$e=$e.replace(N," "),(J7(Pe.prev,me)||ce(Pe,!0))&&($e=$e.replace(j,"")),$e.length===0||$e===" "&&Pe.prev&&Pe.prev.type===jh&&Pe.next&&Pe.next.type===jh?Pe.remove():Pe.value=$e}},Pe=>{if(Pe.type===1){const $e=t.getElementRule(Pe.name);if(u&&$e){const rt=$w(t,m,y,Pe);$e.paddInEmptyBlock&&rt&&ne(Pe)?eC(n,i,me,Pe):$e.removeEmpty&&rt?me(Pe)?Pe.remove():Pe.unwrap():$e.paddEmpty&&(rt||X7(Pe))&&eC(n,i,me,Pe)}}else if(Pe.type===3&&!q(Pe)){let $e=Pe.value??"";(Pe.next&&me(Pe.next)||ce(Pe,!1))&&($e=$e.replace(W,"")),$e.length===0?Pe.remove():Pe.value=$e}}]},cN=(e,t)=>{const n=t.forced_root_block??e.forced_root_block;return n===!1?"":n===!0?"p":n},ek=' xmlns="http://www.w3.org/1999/xhtml"',Wi=(e={},t=af())=>{const n=H5(),i=H5(),u={validate:!0,root_name:"body",sanitize:!0,allow_html_in_comments:!1,...e},m=new DOMParser,y=i3(u,t),_=($e,rt,gt="html",Bt=!1)=>{const ro=gt==="xhtml",at=ro?"application/xhtml+xml":"text/html",Xe=Io(t.getSpecialElements(),rt.toLowerCase()),lt=Xe?`<${rt}>${$e}</${rt}>`:$e,Pt=()=>/^[\s]*<head/i.test($e)||/^[\s]*<html/i.test($e)||/^[\s]*<!DOCTYPE/i.test($e)?`<html${ro?ek:""}>${lt}</html>`:ro?`<html${ek}><head></head><body>${lt}</body></html>`:`<body>${lt}</body>`,wo=m.parseFromString(Pt(),at),Ro=Bt?wo.documentElement:wo.body;return y.sanitizeHtmlElement(Ro,at),Xe?Ro.firstChild:Ro},E=n.addFilter,N=n.getFilters,j=n.removeFilter,W=i.addFilter,q=i.getFilters,ne=i.removeFilter,me=($e,rt)=>{V4(t,$e)&&rt.push($e)},ce=($e,rt)=>{const gt=He(rt.attr(vy)),Bt=rt.type===1&&!Io($e,rt.name)&&!v1(t,rt)&&!ep(rt.name);return rt.type===3||Bt&&!gt},be=($e,rt)=>{const gt=c3(l3(a3),t.getBlockElements()),Bt=/^[ \t\r\n]+/,ro=/[ \t\r\n]+$/;let at=$e.firstChild,Xe=null;const lt=Pt=>{var wo,Ro;Pt&&(at=Pt.firstChild,at&&at.type===3&&(at.value=(wo=at.value)==null?void 0:wo.replace(Bt,"")),at=Pt.lastChild,at&&at.type===3&&(at.value=(Ro=at.value)==null?void 0:Ro.replace(ro,"")))};if(t.isValidChild($e.name,rt.toLowerCase())){for(;at;){const Pt=at.next;ce(gt,at)?(Xe||(Xe=new al(rt,1),Xe.attr(u.forced_root_block_attrs),$e.insert(Xe,at)),Xe.append(at)):(lt(Xe),Xe=null),at=Pt}lt(Xe)}},Pe={schema:t,addAttributeFilter:W,getAttributeFilters:q,removeAttributeFilter:ne,addNodeFilter:E,getNodeFilters:N,removeNodeFilter:j,parse:($e,rt={})=>{const gt=u.validate,Bt=(rt.context??u.root_name)==="#document",ro=rt.context??(Bt?"html":u.root_name),at=_($e,ro,rt.format,Bt);Ag(t,at);const Xe=new al(ro,11);uC(Xe,at,t.getSpecialElements(),y.sanitizeNamespaceElement,u.sanitize&&u.allow_html_in_comments),at.innerHTML="";const[lt,Pt]=NF(Xe,t,u,rt),wo=[],Ro=gt?Qs=>me(Qs,wo):Ft,_n={nodes:{},attributes:{}},as=Qs=>B5(N(),q(),Qs,_n);lN(Xe,[lt,as],[Pt,Ro]),wo.reverse(),gt&&wo.length>0&&(rt.context?rt.invalid=!0:tC(wo,t,Xe,as));const $s=cN(u,rt);return $s&&(Xe.name==="body"||rt.isRootContent)&&be(Xe,$s),rt.invalid||P4(_n,rt),Xe}};return vF(Pe,u),lF(Pe,u,t),Pe},ky=e=>e instanceof al,_y=e=>ky(e)?Hm({validate:!1}).serialize(e):e,d3=(e,t,n)=>{const i=_y(e),u=t(i);if(u.isDefaultPrevented())return u;if(ky(e))if(u.content!==i){const m=Wi({validate:!1,forced_root_block:!1,...n}).parse(u.content,{context:e.name});return{...u,content:m}}else return{...u,content:e};else return u},bc=e=>({sanitize:I_(e),sandbox_iframes:qE(e),sandbox_iframes_exclusions:KE(e)}),ib=(e,t)=>{if(t.no_events)return Ks.value(t);{const n=kE(e,t);return n.isDefaultPrevented()?Ks.error(_E(e,{content:"",...n}).content):Ks.value(n)}},u3=(e,t,n)=>n.no_events?t:d3(t,u=>_E(e,{...n,content:u}),bc(e)).content,fC=(e,t)=>{if(t.no_events)return Ks.value(t);{const n=d3(t.content,i=>y8(e,{...t,content:i}),bc(e));return n.isDefaultPrevented()?(D_(e,n),Ks.error(void 0)):Ks.value(n)}},hC=(e,t,n)=>{n.no_events||D_(e,{...n,content:t})},f3="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),h3=["content_css_cors"],dN="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),Af=[{name:"export",replacedWith:"Export to PDF"}],pC=(e,t)=>{const n=we(t,i=>Io(e,i));return so(n)},mC=e=>{const t=pC(e,f3),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),so(t)},p3=e=>pC(e,h3),m3=(e,t)=>{const n=bt.makeMap(e.plugins," "),u=we(t,m=>Io(n,m));return so(u)},uN=e=>m3(e,dN),fN=e=>m3(e,Af.map(t=>t.name)),RF=(e,t)=>{const n=mC(e),i=uN(t),u=i.length>0,m=n.length>0,y=t.theme==="mobile";if(u||m||y){const _=`
- `,E=y?`

Themes:${_}mobile`:"",N=u?`

Plugins:${_}${i.join(_)}`:"",j=m?`

Options:${_}${n.join(_)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 8.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/8/migration-from-7x/ for more information."+E+N+j)}},LF=e=>Wo(Af,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),hN=(e,t)=>{const n=p3(e),i=fN(t),u=i.length>0,m=n.length>0;if(u||m){const y=`
- `,_=u?`

Plugins:${y}${i.map(LF).join(y)}`:"",E=m?`

Options:${y}${n.join(y)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+_+E)}},pN=(e,t)=>{RF(e,t),hN(e,t)},g3={fire:'The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',selectionSetContent:'The "editor.selection.setContent" method has been deprecated and will be removed in TinyMCE 9. Use "editor.insertContent" instead.'},gC=e=>{console.warn(g3[e],new Error().stack)},b3=e=>e.dom.length===0?(ts(e),G.none()):G.some(e),y3=(e,t)=>e.filter(n=>Y0.isBookmarkNode(n.dom)).bind(t?ma:Rl),mN=(e,t,n,i,u)=>{const m=e.dom,y=t.dom,_=i?m.length:y.length;i?(Um(m,y,u,!1,!i),n.setStart(y,_)):(Um(y,m,u,!1,!i),n.setEnd(y,_))},gN=(e,t,n)=>{pa(e).each(i=>{const u=e.dom;t&&iy(i,it(u,0),n)?zw(u,0,n):!t&&ay(i,it(u,u.length),n)&&xp(u,u.length,n)})},bC=(e,t,n,i,u)=>{e.bind(m=>((i?xp:zw)(m.dom,i?m.dom.length:0,u),t.filter(Ii).map(_=>mN(m,_,n,i,u)))).orThunk(()=>y3(t,i).or(t).filter(Ii).map(y=>gN(y,i,u)))},bN=(e,t,n)=>{const i=G.from(t.firstChild).map(xe.fromDom),u=G.from(t.lastChild).map(xe.fromDom);e.deleteContents(),e.insertNode(t);const m=i.bind(Rl).filter(Ii).bind(b3),y=u.bind(ma).filter(Ii).bind(b3);bC(m,i,e,!0,n),bC(y,u,e,!1,n),e.collapse(!1)},yN=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),xN=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),i=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),u=i?{context:i.nodeName.toLowerCase()}:{},m=e.parser.parse(t.content,{forced_root_block:!1,...u,...t});return Hm({validate:!1},e.schema).serialize(m)}else return t.content},Cy=(e,t,n={})=>{const i=yN(n,t);fC(e,i).each(u=>{const m=xN(e,u),y=e.selection.getRng();bN(y,y.createContextualFragment(m),e.schema),e.selection.setRng(y),vw(e,y),hC(e,m,u)})},BF=(e,t,n={})=>{gC("selectionSetContent"),Cy(e,t,n)},tk=e=>Me(e.firstChild)&&e.firstChild===e.lastChild,vN=e=>e.name==="br"||e.value===xr,wN=(e,t)=>e.getBlockElements()[t.name]&&tk(t)&&vN(t.firstChild),PF=(e,t)=>{const n=e.getNonEmptyElements();return Me(t)&&(t.isEmpty(n)||wN(e,t))},IF=(e,t)=>{let n=t.firstChild,i=t.lastChild;return n&&n.name==="meta"&&(n=n.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),PF(e,i)&&(i=i==null?void 0:i.prev),!n||n!==i?!1:n.name==="ul"||n.name==="ol"},kN=e=>{var i,u;const t=e.firstChild,n=e.lastChild;return t&&t.nodeName==="META"&&((i=t.parentNode)==null||i.removeChild(t)),n&&n.id==="mce_marker"&&((u=n.parentNode)==null||u.removeChild(n)),e},FF=(e,t,n)=>{const i=t.serialize(n),u=e.createFragment(i);return kN(u)},_N=e=>we((e==null?void 0:e.childNodes)??[],t=>t.nodeName==="LI"),CN=e=>e.data===xr||nr(e),HF=e=>Me(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&CN(e.firstChild),$F=e=>!e.firstChild||HF(e),yC=e=>e.length>0&&$F(e[e.length-1])?e.slice(0,-1):e,x3=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},VF=(e,t)=>!!x3(e,t),SN=(e,t)=>{const n=t.cloneRange(),i=t.cloneRange();return n.setStartBefore(e),i.setEndAfter(e),[n.cloneContents(),i.cloneContents()]},v3=(e,t)=>{const n=it.before(e),u=pp(t).next(n);return u?u.toRange():null},EN=(e,t)=>{const n=it.after(e),u=pp(t).prev(n);return u?u.toRange():null},jF=(e,t,n,i)=>{const u=SN(e,i),m=e.parentNode;return m&&(m.insertBefore(u[0],e),bt.each(t,y=>{m.insertBefore(y,e)}),m.insertBefore(u[1],e),m.removeChild(e)),EN(t[t.length-1],n)},UF=(e,t,n)=>{const i=e.parentNode;return i&&bt.each(t,u=>{i.insertBefore(u,e)}),v3(e,n)},ok=(e,t,n,i)=>(i.insertAfter(t.reverse(),e),EN(t[0],n)),WF=(e,t,n,i)=>{const u=FF(t,e,i),m=x3(t,n.startContainer),y=yC(_N(u.firstChild)),_=1,E=2,N=t.getRoot(),j=W=>{const q=it.fromRangeStart(n),ne=pp(t.getRoot()),me=W===_?ne.prev(q):ne.next(q),ce=me==null?void 0:me.getNode();return ce?x3(t,ce)!==m:!0};return m?j(_)?UF(m,y,N):j(E)?ok(m,y,N,t):jF(m,y,N,n):null},AN=["pre"],ab=(e,t,n,i)=>{var N;const u=t.firstChild,m=t.lastChild,y=m.attr("data-mce-type")==="bookmark"?m.prev:m,_=u===y,E=Qo(AN,u.name);if(_&&E){const j=u.attr("contenteditable")!=="false",W=((N=e.getParent(n,e.isBlock))==null?void 0:N.nodeName.toLowerCase())===u.name,q=G.from(tb(i,n)).forall(ol);return j&&W&&q}else return!1},Cl=xm,TN=(e,t,n)=>{if(Me(n)){const i=e.getParent(t.endContainer,Cl);return n===i&&X_(xe.fromDom(n),t)}else return!1},nk=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const n=t.childNodes;return n.length===1&&nr(n[0])||n.length===0}else return!1},lb=(e,t,n)=>{var i;n.getAttribute("data-mce-bogus")==="all"?(i=n.parentNode)==null||i.insertBefore(e.dom.createFragment(t),n):nk(e.dom,n)?e.dom.setHTML(n,t):Cy(e,t,{no_events:!0})},_p=(e,t,n)=>{G.from(e.getParent(t,"td,th")).map(xe.fromDom).each(i=>Fg(i,n))},sk=(e,t)=>{const n=e.schema.getTextInlineElements(),i=e.dom;if(t){const u=e.getBody(),m=K2(e),y="*[data-mce-fragment]",_=i.select(y);bt.each(_,E=>{const N=q=>Me(n[q.nodeName.toLowerCase()]),j=q=>q.childNodes.length===1;if((q=>!(_w(i,q)||Cw(i,q)))(E)&&N(E)&&j(E)){const q=ll(i,E),ne=(Be,Pe)=>Sr(Be,$e=>Qo(Pe,$e)),me=Be=>j(E)&&i.is(Be,y)&&N(Be)&&(Be.nodeName===E.nodeName&&ne(q,ll(i,Be))||me(Be.children[0])),ce=Be=>Me(Be)&&Be!==u&&(m.compare(E,Be)||ce(Be.parentElement)),be=Be=>Me(Be)&&Be!==u&&i.is(Be,y)&&(gx(i,E,Be)||be(Be.parentElement));(me(E.children[0])||ce(E.parentElement)&&!be(E.parentElement))&&i.remove(E,!0)}}),K7(e,Xa(_))}},w3=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},k3=e=>{bt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},ON=e=>!!e.getAttribute("data-mce-fragment"),zN=(e,t)=>Me(t)&&!e.schema.getVoidElements()[t.nodeName],ZF=(e,t)=>{var j,W;let n;const i=e.dom,u=e.selection;if(!t)return;u.scrollIntoView(t);const m=tb(e.getBody(),t);if(m&&i.getContentEditable(m)==="false"){i.remove(t),u.select(m);return}let y=i.createRng();const _=t.previousSibling;if(_t(_)){y.setStart(_,((j=_.nodeValue)==null?void 0:j.length)??0);const q=t.nextSibling;_t(q)&&(_.appendData(q.data),(W=q.parentNode)==null||W.removeChild(q))}else y.setStartBefore(t),y.setEndBefore(t);const E=q=>{let ne=it.fromRangeStart(q);return ne=pp(e.getBody()).next(ne),ne==null?void 0:ne.toRange()},N=i.getParent(t,i.isBlock);if(i.remove(t),N&&i.isEmpty(N)){const q=Cl(N);eu(xe.fromDom(N)),y.setStart(N,0),y.setEnd(N,0),!q&&!ON(N)&&(n=E(y))?(y=n,i.remove(N)):i.add(N,i.create("br",q?{}:{"data-mce-bogus":"1"}))}u.setRng(y)},DN=e=>{const t=e.dom,n=oC(e.selection.getRng());e.selection.setRng(n);const i=t.getParent(n.startContainer,Cl);TN(t,n,i)?m4(e,n,xe.fromDom(i)):hA(n)||fA(n)?n.deleteContents():e.getDoc().execCommand("Delete",!1)},MN=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return G.some(t);return G.none()},NN=(e,t,n)=>{var i;return Rn(n.children(),L5)&&((i=e.getParent(t,e.isBlock))==null?void 0:i.nodeName)==="SUMMARY"},cb=(e,t,n)=>{var be;const i=e.selection,u=e.dom,m=e.parser,y=n.merge,_=Hm({validate:!0},e.schema),E='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=kl(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,E);let N=i.getRng();const j=N.startContainer,W=e.getBody();j===W&&i.isCollapsed()&&u.isBlock(W.firstChild)&&zN(e,W.firstChild)&&u.isEmpty(W.firstChild)&&(N=u.createRng(),N.setStart(W.firstChild,0),N.setEnd(W.firstChild,0),i.setRng(N)),i.isCollapsed()||DN(e);const q=i.getNode(),ne={context:q.nodeName.toLowerCase(),data:n.data,insert:!0},me=m.parse(t,ne);if(n.paste===!0&&IF(e.schema,me)&&VF(u,q))return N=WF(_,u,i.getRng(),me),N&&i.setRng(N),t;n.paste===!0&&ab(u,me,q,e.getBody())&&((be=me.firstChild)==null||be.unwrap()),w3(me);let ce=me.lastChild;if(ce&&ce.attr("id")==="mce_marker"){const Be=ce;for(ce=ce.prev;ce&&ce.name!=="table";ce=ce.walk(!0))if(ce.type===3||!u.isBlock(ce.name)){ce.parent&&e.schema.isValidChild(ce.parent.name,"span")&&ce.parent.insert(Be,ce,ce.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(q),!ne.invalid&&!NN(u,q,me))t=_.serialize(me),lb(e,t,q);else{Cy(e,E);let Be=i.getNode(),Pe;const $e=e.getBody();for(bm(Be)?Be=Pe=$e:Pe=Be;Pe&&Pe!==$e;)Be=Pe,Pe=Pe.parentNode;t=Be===$e?$e.innerHTML:u.getOuterHTML(Be);const rt=m.parse(t),gt=MN(rt),Bt=gt.bind(eF).getOr(rt);gt.each(Xe=>Xe.replace(me));const ro=tF(me);me.unwrap();const at=we(ro,Xe=>V4(e.schema,Xe));tC(at,e.schema,Bt),I4(m.getNodeFilters(),m.getAttributeFilters(),rt),t=_.serialize(rt),Be===$e?u.setHTML($e,t):u.setOuterHTML(Be,t)}return sk(e,y),ZF(e,u.get("mce_marker")),k3(e.getBody()),_p(u,i.getStart(),e.schema),op(e.schema,e.getBody(),i.getStart()),t},_3=e=>{ty(e)&&_l(e.getBody()).each(t=>{const n=t.getNode(),i=wd(n)?_l(n).getOr(t):t;e.selection.setRng(i.toRange())})},C3=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&_3(e)},qF=(e,t,n,i)=>{if(n=kl(n),n.length===0||/^\s+$/.test(n)){const u='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+u+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+u+"</li>");const m=Ua(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),m.toLowerCase())?(n=u,n=e.dom.createHTML(m,U1(e),n)):n||(n=u),C3(e,n,i.no_selection),{content:n,html:n}}else{i.format!=="raw"&&(n=Hm({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const u=O0(xe.fromDom(t))?n:bt.trim(n);return C3(e,u,i.no_selection),{content:u,html:u}}},Sy=(e,t,n,i)=>{I4(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const u=Hm({validate:!1},e.schema).serialize(n),m=kl(O0(xe.fromDom(t))?u:bt.trim(u));return C3(e,m,i.no_selection),{content:n,html:m}},RN=(e,t,n)=>G.from(e.getBody()).map(i=>ky(t)?Sy(e,i,t,n):qF(e,i,t,n)).getOr({content:t,html:ky(n.content)?"":n.content}),db={},xC=cc(["pre"]),LN=(e,t)=>{db[e]||(db[e]=[]),db[e].push(t)},BN=(e,t)=>{Io(db,e)&&tt(db[e],n=>{n(t)})};LN("pre",e=>{const t=e.selection.getRng(),n=u=>m=>{const y=m.previousSibling;return xC(y)&&Qo(u,y)},i=(u,m)=>{const y=xe.fromDom(m),_=Nl(y).dom;ts(y),er(xe.fromDom(u),[xe.fromTag("br",_),xe.fromTag("br",_),...ln(y)])};if(!t.collapsed){const u=e.selection.getSelectedBlocks(),m=we(we(u,xC),n(u));tt(m,y=>{i(y.previousSibling,y)})}});const S3=bt.each,PN=(e,t,n,i)=>{const u=m=>{if(sn(m)&&eo(m.parentNode)&&e.isEditable(m)){const y=BD(e,m.parentNode);e.getStyle(m,"color")&&y?e.setStyle(m,"text-decoration",y):e.getStyle(m,"text-decoration")===y&&e.setStyle(m,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(bt.walk(i,u,"childNodes"),u(i))},IN=(e,t,n,i)=>{if(t.styles&&t.styles.backgroundColor){const u=w5(e,"fontSize");wp(i,m=>u(m)&&e.isEditable(m),Q2(e,"backgroundColor",Gg(t.styles.backgroundColor,n)))}},E3=(e,t,n,i)=>{if(Ui(t)&&(t.inline==="sub"||t.inline==="sup")){const u=w5(e,"fontSize");wp(i,y=>u(y)&&e.isEditable(y),Q2(e,"fontSize",""));const m=we(e.select(t.inline==="sup"?"sub":"sup",i),e.isEditable);e.remove(m,!0)}},KF=(e,t,n,i)=>{S3(t,u=>{Ui(u)&&S3(e.dom.select(u.inline,i),m=>{D4(m)&&Hw(e,u,n,m,u.exact?m:null)}),D7(e.dom,u,i)})},GF=(e,t,n,i,u)=>{const m=u.parentNode;_u(e,m,n,i)&&Hw(e,t,i,u)||t.merge_with_parents&&m&&e.dom.getParent(m,y=>_u(e,y,n,i)?(Hw(e,t,i,u),!0):!1)},YF=bt.each,XF=(e,t,n,i)=>{if(O8(e)&&Ui(t)&&n.parentNode){const u=co(e.schema),m=Rt(xe.fromDom(n),y=>Ko(y.dom));return je(u,i)&&au(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!m}else return!1},QF=(e,t,n,i)=>{const u=e.formatter.get(t),m=u[0],y=!i&&e.selection.isCollapsed(),_=e.dom,E=e.selection,N=(ne,me)=>{let ce=!1;return YF(ne,be=>Td(be)?_.getContentEditable(me)==="false"&&!be.ceFalseOverride||Me(be.collapsed)&&be.collapsed!==y?!0:_.is(me,be.selector)&&!Ko(me)?(ob(e,me,be,n,me),ce=!0,!1):!0:!1),ce},j=ne=>{if(He(ne)){const me=_.create(ne);return ob(e,me,m,n,i),me}else return null},W=(ne,me,ce)=>{const be=[];let Be=!0;const Pe=m.inline||m.block,$e=j(Pe),rt=ro=>vI(m)&&_u(e,ro,t,n),gt=(ro,at,Xe)=>{const lt=ID(m)&&e2(e.schema,ro)&&Z0(e,at,Pe);return Xe&&lt},Bt=(ro,at,Xe,lt)=>{const Pt=ro.nodeName.toLowerCase(),wo=Z0(e,Pe,Pt)&&Z0(e,at,Pe),Ro=!ce&&_t(ro)&&zm(ro.data),_n=Ko(ro),as=!Ui(m)||!ne.isBlock(ro);return(Xe||lt)&&wo&&!Ro&&!_n&&as};mw(ne,me,ro=>{let at;const Xe=lt=>{let Pt=!1,wo=Be,Ro=!1;const _n=lt.parentNode,as=_n.nodeName.toLowerCase(),$s=ne.getContentEditable(lt);Me($s)&&(wo=Be,Be=$s==="true",Pt=!0,Ro=gA(e,lt));const Qs=Be&&!Pt;if(nr(lt)&&!XF(e,m,lt,as)){at=null,vu(m)&&ne.remove(lt);return}if(rt(lt)){at=null;return}if(gt(lt,as,Qs)){const Mi=ne.rename(lt,Pe);ob(e,Mi,m,n,lt),be.push(Mi),at=null;return}if(Td(m)){let Mi=N(u,lt);if(!Mi&&Me(_n)&&n2(m)&&(Mi=N(u,_n)),!Ui(m)||Mi){at=null;return}}Me($e)&&Bt(lt,as,Qs,Ro)?(at||(at=ne.clone($e,!1),_n.insertBefore(at,lt),be.push(at)),Ro&&Pt&&(Be=wo),at.appendChild(lt)):(at=null,tt(jt(lt.childNodes),Xe),Pt&&(Be=wo),at=null)};tt(ro,Xe)}),m.links===!0&&tt(be,ro=>{const at=Xe=>{Xe.nodeName==="A"&&ob(e,Xe,m,n,i),tt(jt(Xe.childNodes),at)};at(ro)}),q7(e,t,Xa(be)),tt(be,ro=>{const at=Pt=>{let wo=0;return tt(Pt.childNodes,Ro=>{!xI(Ro)&&!Ad(Ro)&&wo++}),wo},Xe=Pt=>Wo(Pt.childNodes,pA).filter(Ro=>ne.getContentEditable(Ro)!=="false"&&X2(ne,Ro,m)).map(Ro=>{const _n=ne.clone(Ro,!1);return ob(e,_n,m,n,Pt),ne.replace(_n,Pt,!0),ne.remove(Ro,!0),_n}).getOr(Pt),lt=at(ro);if((be.length>1||!ne.isBlock(ro))&&lt===0){ne.remove(ro,!0);return}(Ui(m)||vu(m)&&m.wrapper)&&(!m.exact&&lt===1&&(ro=Xe(ro)),KF(e,u,n,ro),GF(e,m,t,n,ro),IN(ne,m,n,ro),PN(ne,m,n,ro),E3(ne,m,n,ro),v5(e,m,n,ro))})},q=fw(i)?i:E.getNode();if(_.getContentEditable(q)==="false"&&!gA(e,q)){i=q,N(u,i),_z(e,t,i,n);return}if(m){if(i)if(fw(i)){if(!N(u,i)){const ne=_.createRng();ne.setStartBefore(i),ne.setEndAfter(i),W(_,G0(_,ne,u),!0)}}else W(_,i,!0);else!y||!Ui(m)||W0(e).length?(E.setRng(oC(E.getRng())),ND(e,()=>{dA(e,(ne,me)=>{const ce=me?ne:G0(_,ne,u);W(_,ce,!1)})},fo),e.nodeChanged()):A4(e,t,n),h5(e.formatter,t).each(ne=>{tt(z7(e.selection),me=>_r(_,me,ne,n))});BN(t,e)}_z(e,t,i,n)},A3=(e,t,n,i)=>{(i||e.selection.isEditable())&&QF(e,t,n,i)},Cp=e=>Io(e,"vars"),T3=(e,t)=>{e.set({}),t.on("NodeChange",n=>{O3(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const i=G.from(n.node).map(u=>fw(u)?u:u.startContainer).bind(u=>eo(u)?G.some(u):G.from(u.parentElement)).getOrThunk(()=>FN(t));O3(t,i,e.get())})},FN=e=>e.selection.getStart(),vC=(e,t,n,i,u)=>bn(t,_=>{const E=e.formatter.matchNode(_,n,u??{},i);return!lo(E)},_=>C4(e,_,n)?!0:i?!1:Me(e.formatter.matchNode(_,n,u,!0))),wC=(e,t)=>{const n=t??FN(e);return we(ix(e.dom,n),i=>eo(i)&&!Jh(i))},O3=(e,t,n)=>{const i=wC(e,t);yn(n,(u,m)=>{const y=_=>{const E=vC(e,i,m,_.similar,Cp(_)?_.vars:void 0),N=E.isSome();if(_.state.get()!==N){_.state.set(N);const j=E.getOr(t);Cp(_)?_.callback(N,{node:j,format:m,parents:i}):tt(_.callbacks,W=>W(N,{node:j,format:m,parents:i}))}};tt([u.withSimilar,u.withoutSimilar],y),tt(u.withVars,y)})},HN=(e,t,n,i,u,m)=>{const y=t.get();tt(n.split(","),_=>{const E=Dn(y,_).getOrThunk(()=>{const j={withSimilar:{state:Mn(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Mn(!1),similar:!1,callbacks:[]},withVars:[]};return y[_]=j,j}),N=()=>{const j=wC(e);return vC(e,j,_,u,m).isSome()};if(lo(m)){const j=u?E.withSimilar:E.withoutSimilar;j.callbacks.push(i),j.callbacks.length===1&&j.state.set(N())}else E.withVars.push({state:Mn(N()),similar:u,vars:m,callback:i})}),t.set(y)},$N=(e,t,n)=>{const i=e.get();tt(t.split(","),u=>Dn(i,u).each(m=>{i[u]={withSimilar:{...m.withSimilar,callbacks:we(m.withSimilar.callbacks,y=>y!==n)},withoutSimilar:{...m.withoutSimilar,callbacks:we(m.withoutSimilar.callbacks,y=>y!==n)},withVars:we(m.withVars,y=>y.callback!==n)}})),e.set(i)},JF=(e,t,n,i,u,m)=>(HN(e,t,n,i,u,m),{unbind:()=>$N(t,n,i)}),rk=(e,t,n,i)=>{const u=e.formatter.get(t);u&&(S4(e,t,n,i)&&(!("toggle"in u[0])||u[0].toggle)?z5(e,t,n,i):A3(e,t,n,i))},zx=(e,t,n)=>({element:e,width:t,rows:n}),z3=(e,t)=>({element:e,cells:t}),VN=(e,t)=>({x:e,y:t}),D3=(e,t)=>Bl(e,t).bind(qf).getOr(1),jN=(e,t,n,i,u)=>{const m=D3(u,"rowspan"),y=D3(u,"colspan"),_=e.rows;for(let E=n;E<n+m;E++){_[E]||(_[E]=z3(gi(i),[]));for(let N=t;N<t+y;N++){const j=_[E].cells;j[N]=E===n&&N===t?u:ga(u)}}},kC=(e,t,n)=>{const i=e.rows;return!!(i[n]?i[n].cells:[])[t]},M3=(e,t,n)=>{for(;kC(e,t,n);)t++;return t},Dx=e=>Dt(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),UN=(e,t)=>{const n=e.rows;for(let i=0;i<n.length;i++){const u=n[i].cells;for(let m=0;m<u.length;m++)if(cn(u[m],t))return G.some(VN(m,i))}return G.none()},N3=(e,t,n,i,u)=>{const m=[],y=e.rows;for(let _=n;_<=u;_++){const E=y[_].cells,N=t<i?E.slice(t,i+1):E.slice(i,t+1);m.push(z3(y[_].element,N))}return m},eH=(e,t,n)=>{const i=t.x,u=t.y,m=n.x,y=n.y,_=u<y?N3(e,i,u,m,y):N3(e,i,y,m,u);return zx(e.element,Dx(_),_)},tH=(e,t)=>{const n=ga(e.element),i=xe.fromTag("tbody");return er(i,t),un(n,i),n},WN=e=>Do(e.rows,t=>{const n=Do(t.cells,u=>{const m=gi(u);return Or(m,"colspan"),Or(m,"rowspan"),m}),i=ga(t.element);return er(i,n),i}),ZN=e=>{const t=zx(ga(e),0,[]);return tt(Ae(e,"tr"),(n,i)=>{tt(Ae(n,"td,th"),(u,m)=>{jN(t,M3(t,m,i),i,n,u)})}),zx(t.element,Dx(t.rows),t.rows)},oH=e=>tH(e,WN(e)),R3=(e,t,n)=>UN(e,t).bind(i=>UN(e,n).map(u=>eH(e,i,u))),ub=e=>Wo(e,t=>Xo(t)==="ul"||Xo(t)==="ol"),qN=(e,t)=>Wo(e,n=>Xo(n)==="li"&&X_(n,t)).fold(ft([]),n=>ub(e).map(i=>{const u=xe.fromTag(Xo(i)),m=hi(Xu(i),(y,_)=>Ws(_,"list-style"));return Yu(u,m),[xe.fromTag("li"),u]}).getOr([])),L3=(e,t)=>{const n=Dt(t,(i,u)=>(un(u,i),u),e);return t.length>0?zr([n]):n},KN=e=>fh(e)?pa(e).filter(di).fold(ft([]),t=>[e,t]):di(e)?[e]:[],B3=(e,t,n)=>{const i=xe.fromDom(t.commonAncestorContainer),u=kh(i,e),m=we(u,E=>n.isWrapper(Xo(E))),y=qN(u,t),_=m.concat(y.length?y:KN(i));return Do(_,ga)},Gm=()=>zr([]),GN=(e,t,n)=>L3(xe.fromDom(t.cloneContents()),B3(e,t,n)),Eu=(e,t)=>tr(t,"table",Tt(cn,e)),Ey=(e,t)=>Eu(e,t[0]).bind(n=>{const i=t[0],u=t[t.length-1],m=ZN(n);return R3(m,i,u).map(y=>zr([oH(y)]))}).getOrThunk(Gm),YN=(e,t,n)=>t.length>0&&t[0].collapsed?Gm():GN(e,t[0],n),P3=(e,t,n)=>{const i=rx(t,e);return i.length>0?Ey(e,i):YN(e,t,n)},ik=(e,t)=>t>=0&&t<e.length&&Kg(e.charAt(t)),XN=e=>kl(e.innerText),QN=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),Mx=e=>G.from(e.selection.getRng()).map(t=>{const n=G.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),u=QN(n),m=xe.fromDom(t.cloneContents());AM(m),TM(m);const y=e.dom.add(i,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},m.dom),_=XN(y),E=kl(y.textContent??"");if(e.dom.remove(y),ik(E,0)||ik(E,E.length-1)){const N=n.getOr(i),j=XN(N),W=j.indexOf(_);if(W===-1)return _;{const q=ik(j,W-1),ne=ik(j,W+_.length);return(q?" ":"")+_+(ne?" ":"")}}else return _}).getOr(""),_C=(e,t)=>{const n=e.selection.getRng(),i=e.dom.create("body"),u=e.selection.getSel(),m=x2(e,ca(u)),y=t.contextual?P3(xe.fromDom(e.getBody()),m,e.schema).dom:n.cloneContents();return y&&i.appendChild(y),e.selection.serializer.serialize(i,t)},JN=(e,t)=>{if(t.format==="text")return Mx(e);{const n=_C(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},eR=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),I3=(e,t,n={})=>{const i=eR(n,t);return ib(e,i).fold(To,u=>{const m=JN(e,u);return u3(e,m,u)})},CC=0,ak=1,F3=2,SC=(e,t)=>{const n=e.length+t.length+2,i=new Array(n),u=new Array(n),m=(j,W,q)=>({start:j,end:W,diag:q}),y=(j,W,q,ne,me)=>{const ce=E(j,W,q,ne);if(ce===null||ce.start===W&&ce.diag===W-ne||ce.end===j&&ce.diag===j-q){let be=j,Be=q;for(;be<W||Be<ne;)be<W&&Be<ne&&e[be]===t[Be]?(me.push([CC,e[be]]),++be,++Be):W-j>ne-q?(me.push([F3,e[be]]),++be):(me.push([ak,t[Be]]),++Be)}else{y(j,ce.start,q,ce.start-ce.diag,me);for(let be=ce.start;be<ce.end;++be)me.push([CC,e[be]]);y(ce.end,W,ce.end-ce.diag,ne,me)}},_=(j,W,q,ne)=>{let me=j;for(;me-W<ne&&me<q&&e[me]===t[me-W];)++me;return m(j,me,W)},E=(j,W,q,ne)=>{const me=W-j,ce=ne-q;if(me===0||ce===0)return null;const be=me-ce,Be=ce+me,Pe=(Be%2===0?Be:Be+1)/2;i[1+Pe]=j,u[1+Pe]=W+1;let $e,rt,gt,Bt,ro;for($e=0;$e<=Pe;++$e){for(rt=-$e;rt<=$e;rt+=2){for(gt=rt+Pe,rt===-$e||rt!==$e&&i[gt-1]<i[gt+1]?i[gt]=i[gt+1]:i[gt]=i[gt-1]+1,Bt=i[gt],ro=Bt-j+q-rt;Bt<W&&ro<ne&&e[Bt]===t[ro];)i[gt]=++Bt,++ro;if(be%2!==0&&be-$e<=rt&&rt<=be+$e&&u[gt-be]<=i[gt])return _(u[gt-be],rt+j-q,W,ne)}for(rt=be-$e;rt<=be+$e;rt+=2){for(gt=rt+Pe-be,rt===be-$e||rt!==be+$e&&u[gt+1]<=u[gt-1]?u[gt]=u[gt+1]-1:u[gt]=u[gt-1],Bt=u[gt]-1,ro=Bt-j+q-rt;Bt>=j&&ro>=q&&e[Bt]===t[ro];)u[gt]=Bt--,ro--;if(be%2===0&&-$e<=rt&&rt<=$e&&u[gt]<=i[gt+be])return _(u[gt],rt+j-q,W,ne)}}return null},N=[];return y(0,e.length,0,t.length,N),N},H3=e=>eo(e)?e.outerHTML:_t(e)?lu.encodeRaw(e.data,!1):iu(e)?"<!--"+e.data+"-->":"",tR=e=>{let t;const n=document.createElement("div"),i=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)i.appendChild(t);return i},oR=(e,t,n)=>{const i=tR(t);if(e.hasChildNodes()&&n<e.childNodes.length){const u=e.childNodes[n];e.insertBefore(i,u)}else e.appendChild(i)},lk=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},nH=(e,t)=>{let n=0;tt(e,i=>{i[0]===CC?n++:i[0]===ak?(oR(t,i[1],n),n++):i[0]===F3&&lk(t,n)})},nR=(e,t)=>we(Do(jt(e.childNodes),zo(kl,H3)),n=>n.length>0),sR=(e,t)=>{const n=Do(jt(t.childNodes),H3);return nH(SC(n,e),t),t},rR=Aa(()=>document.implementation.createHTMLDocument("undo")),$3=e=>e.querySelector("iframe")!==null,iR=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),aR=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),EC=e=>{const t=e.serializer.getTempAttrs(),n=IA(e.getBody(),t);return $3(n)?iR(nR(n)):aR(kl(n.innerHTML))},V3=(e,t,n)=>{const i=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?sR(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Me(i)&&ox(i)?!i.isFakeCaret:!0}),i&&(e.selection.moveToBookmark(i),e.selection.scrollIntoView())},j3=e=>e.type==="fragmented"?e.fragments.join(""):e.content,AC=e=>{const t=xe.fromTag("body",rR());return Gu(t,j3(e)),tt(Ae(t,"*[data-mce-bogus]"),Qi),oh(t)},sH=(e,t)=>j3(e)===j3(t),TC=(e,t)=>AC(e)===AC(t),U3=(e,t)=>!e||!t?!1:sH(e,t)?!0:TC(e,t),ck=e=>e.get()===0,dk=(e,t,n)=>{ck(n)&&(e.typing=t)},W3=(e,t)=>{e.typing&&(dk(e,!1,t),e.add())},lR=e=>{e.typing&&(e.typing=!1,e.add())},OC=(e,t,n)=>{ck(t)&&n.set(T_(e.selection))},rH=(e,t,n,i,u,m,y)=>{const _=EC(e),E=bt.extend(m||{},_);if(!ck(i)||e.removed)return null;const N=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:E,lastLevel:N,originalEvent:y}).isDefaultPrevented()||N&&U3(N,E))return null;t.data[n.get()]&&u.get().each(q=>{t.data[n.get()].beforeBookmark=q});const j=Hz(e);if(j&&t.data.length>j){for(let q=0;q<t.data.length-1;q++)t.data[q]=t.data[q+1];t.data.length--,n.set(t.data.length)}E.bookmark=T_(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(E),n.set(t.data.length-1);const W={level:E,lastLevel:N,originalEvent:y};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",W),e.dispatch("change",W)):e.dispatch("AddUndo",W),E},iH=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},Z3=(e,t,n,i,u)=>{if(t.transact(i)){const m=t.data[n.get()].bookmark,y=t.data[n.get()-1];V3(e,y,!0),t.transact(u)&&(t.data[n.get()-1].beforeBookmark=m)}},cR=(e,t,n)=>{let i;return t.get()<n.length-1&&(t.set(t.get()+1),i=n[t.get()],V3(e,i,!1),e.setDirty(!0),e.dispatch("Redo",{level:i})),i},aH=(e,t,n,i)=>{let u;return t.typing&&(t.add(),t.typing=!1,dk(t,!1,n)),i.get()>0&&(i.set(i.get()-1),u=t.data[i.get()],V3(e,u,!0),e.setDirty(!0),e.dispatch("Undo",{level:u})),u},lH=e=>{e.clear(),e.add()},cH=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!U3(EC(e),t.data[0]),dH=(e,t)=>t.get()<e.data.length-1&&!e.typing,q3=(e,t,n)=>(W3(e,t),e.beforeChange(),e.ignore(n),e.add()),dR=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},Di=(e,t)=>{const n=e.dom,i=Me(t)?t:e.getBody();tt(n.select("table,a",i),u=>{switch(u.nodeName){case"TABLE":const m=F0(e),y=n.getAttrib(u,"border");(!y||y==="0")&&e.hasVisual?n.addClass(u,m):n.removeClass(u,m);break;case"A":if(!n.getAttrib(u,"href")){const _=n.getAttrib(u,"name")||u.id,E=jz(e);_&&e.hasVisual?n.addClass(u,E):n.removeClass(u,E)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},uR=e=>({init:{bindEvents:Ft},undoManager:{beforeChange:(t,n)=>OC(e,t,n),add:(t,n,i,u,m,y)=>rH(e,t,n,i,u,m,y),undo:(t,n,i)=>aH(e,t,n,i),redo:(t,n)=>cR(e,t,n),clear:(t,n)=>iH(e,t,n),reset:t=>lH(t),hasUndo:(t,n)=>cH(e,t,n),hasRedo:(t,n)=>dH(t,n),transact:(t,n,i)=>q3(t,n,i),ignore:(t,n)=>dR(t,n),extra:(t,n,i,u)=>Z3(e,t,n,i,u)},formatter:{match:(t,n,i,u)=>S4(e,t,n,i,u),matchAll:(t,n)=>Cx(e,t,n),matchNode:(t,n,i,u)=>_u(e,t,n,i,u),canApply:t=>uy(e,t),closest:t=>v7(e,t),apply:(t,n,i)=>A3(e,t,n,i),remove:(t,n,i,u)=>z5(e,t,n,i,u),toggle:(t,n,i)=>rk(e,t,n,i),formatChanged:(t,n,i,u,m)=>JF(e,t,n,i,u,m)},editor:{getContent:t=>mx(e,t),setContent:(t,n)=>RN(e,t,n),insertContent:(t,n)=>cb(e,t,n),addVisual:t=>Di(e,t)},selection:{getContent:(t,n)=>I3(e,t,n)},autocompleter:{addDecoration:Ft,removeDecoration:Ft},raw:{getModel:()=>G.none()}}),uH=e=>{const t=N=>ge(N)?N:{},{init:n,undoManager:i,formatter:u,editor:m,selection:y,autocompleter:_,raw:E}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:(N,j,W)=>i.transact(W),ignore:(N,j)=>i.ignore(j),extra:(N,j,W,q)=>i.extra(W,q)},formatter:{match:(N,j,W,q)=>u.match(N,t(j),q),matchAll:u.matchAll,matchNode:u.matchNode,canApply:N=>u.canApply(N),closest:N=>u.closest(N),apply:(N,j,W)=>u.apply(N,t(j)),remove:(N,j,W,q)=>u.remove(N,t(j)),toggle:(N,j,W)=>u.toggle(N,t(j)),formatChanged:(N,j,W,q,ne)=>u.formatChanged(j,W,q,ne)},editor:{getContent:N=>m.getContent(N),setContent:(N,j)=>({content:m.setContent(N,j),html:""}),insertContent:(N,j)=>(m.insertContent(N),""),addVisual:m.addVisual},selection:{getContent:(N,j)=>y.getContent(j)},autocompleter:{addDecoration:_.addDecoration,removeDecoration:_.removeDecoration},raw:{getModel:()=>G.some(E.getRawModel())}}},fR=()=>{const e=ft(null),t=ft("");return{init:{bindEvents:Ft},undoManager:{beforeChange:Ft,add:e,undo:e,redo:e,clear:Ft,reset:Ft,hasUndo:_o,hasRedo:_o,transact:e,ignore:Ft,extra:Ft},formatter:{match:_o,matchAll:ft([]),matchNode:ft(void 0),canApply:_o,closest:t,apply:Ft,remove:Ft,toggle:Ft,formatChanged:ft({unbind:Ft})},editor:{getContent:t,setContent:ft({content:"",html:""}),insertContent:ft(""),addVisual:Ft},selection:{getContent:t},autocompleter:{addDecoration:Ft,removeDecoration:Ft},raw:{getModel:ft(G.none())}}},Tf=e=>Io(e.plugins,"rtc"),hR=e=>Dn(e.plugins,"rtc").bind(t=>G.from(t.setup)),uk=e=>{const t=e;return hR(e).fold(()=>(t.rtcInstance=uR(e),G.none()),n=>(t.rtcInstance=fR(),G.some(()=>n().then(i=>(t.rtcInstance=uH(i),i.rtc.isRemote)))))},K3=e=>e.rtcInstance?e.rtcInstance:uR(e),Zi=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},fH=(e,t,n)=>{Zi(e).undoManager.beforeChange(t,n)},hH=(e,t,n,i,u,m,y)=>Zi(e).undoManager.add(t,n,i,u,m,y),pH=(e,t,n,i)=>Zi(e).undoManager.undo(t,n,i),mH=(e,t,n)=>Zi(e).undoManager.redo(t,n),gH=(e,t,n)=>{Zi(e).undoManager.clear(t,n)},bH=(e,t)=>{Zi(e).undoManager.reset(t)},yH=(e,t,n)=>Zi(e).undoManager.hasUndo(t,n),xH=(e,t,n)=>Zi(e).undoManager.hasRedo(t,n),vH=(e,t,n,i)=>Zi(e).undoManager.transact(t,n,i),pR=(e,t,n)=>{Zi(e).undoManager.ignore(t,n)},mR=(e,t,n,i,u)=>{Zi(e).undoManager.extra(t,n,i,u)},gR=(e,t,n,i,u)=>Zi(e).formatter.match(t,n,i,u),bR=(e,t,n)=>Zi(e).formatter.matchAll(t,n),yR=(e,t,n,i,u)=>Zi(e).formatter.matchNode(t,n,i,u),xR=(e,t)=>Zi(e).formatter.canApply(t),vR=(e,t)=>Zi(e).formatter.closest(t),wH=(e,t,n,i)=>{Zi(e).formatter.apply(t,n,i)},kH=(e,t,n,i,u)=>{Zi(e).formatter.remove(t,n,i,u)},wR=(e,t,n,i)=>{Zi(e).formatter.toggle(t,n,i)},_H=(e,t,n,i,u,m)=>Zi(e).formatter.formatChanged(t,n,i,u,m),CH=(e,t)=>K3(e).editor.getContent(t),kR=(e,t,n)=>K3(e).editor.setContent(t,n),_R=(e,t,n)=>K3(e).editor.insertContent(t,n),SH=(e,t,n)=>Zi(e).selection.getContent(t,n),CR=(e,t)=>Zi(e).editor.addVisual(t),G3=e=>Zi(e).init.bindEvents(),EH=(e,t={})=>{const n=t.format?t.format:"html";return SH(e,n,t)},SR=(e,t,n)=>{if(Io(e,t)){const i=we(e[t],u=>u!==n);i.length===0?delete e[t]:e[t]=i}};var AH=(e,t)=>{let n,i;const u=(_,E)=>Wo(E,N=>e.is(N,_)),m=_=>e.getParents(_,void 0,e.getRoot()),y=()=>{n={},i={},t.on("NodeChange",_=>{const E=_.element,N=m(E),j={};yn(n,(W,q)=>{u(q,N).each(ne=>{i[q]||(tt(W,me=>{me(!0,{node:ne,selector:q,parents:N})}),i[q]=W),j[q]=W})}),yn(i,(W,q)=>{j[q]||(delete i[q],tt(W,ne=>{ne(!1,{node:E,selector:q,parents:N})}))})})};return{selectorChangedWithUnbind:(_,E)=>(n||y(),n[_]||(n[_]=[]),n[_].push(E),u(_,m(t.selection.getStart())).each(()=>{i[_]=n[_]}),{unbind:()=>{SR(n,_,E),SR(i,_,E)}})}};const ER=e=>!!(e&&e.ownerDocument)&&pr(xe.fromDom(e.ownerDocument),xe.fromDom(e)),TH=e=>e?ER(e.startContainer)&&ER(e.endContainer):!1,fk=(e,t,n,i)=>{let u,m;const{selectorChangedWithUnbind:y}=AH(e,i),_=(It,ho)=>{const Gn=e.createRng();Me(It)&&Me(ho)?(Gn.setStart(It,ho),Gn.setEnd(It,ho),rt(Gn),Be(!1)):(Q_(e,Gn,i.getBody(),!0),rt(Gn))},E=It=>EH(i,It),N=(It,ho)=>BF(i,It,ho),j=It=>yM(i.getBody(),$e(),It),W=It=>Wa(i.getBody(),$e(),It),q=(It,ho)=>Mi.getBookmark(It,ho),ne=It=>Mi.moveToBookmark(It),me=(It,ho)=>(vM(e,It,ho).each(rt),It),ce=()=>{const It=$e(),ho=Pe();return!It||It.item?!1:It.compareEndPoints?It.compareEndPoints("StartToEnd",It)===0:!ho||It.collapsed},be=()=>{if(i.mode.isReadOnly())return!1;const It=$e(),ho=i.getBody().querySelectorAll('[data-mce-selected="1"]');return ho.length>0?Sr(ho,Gn=>e.isEditable(Gn.parentElement)):MA(e,It)},Be=It=>{const ho=$e();ho.collapse(!!It),rt(ho)},Pe=()=>t.getSelection?t.getSelection():t.document.selection,$e=()=>{let It;const ho=(Yn,ao,Et)=>{try{return ao.compareBoundaryPoints(Yn,Et)}catch{return-1}},Gn=t.document;if(Me(i.bookmark)&&!ty(i)){const Yn=vA(i);if(Yn.isSome())return Yn.map(ao=>x2(i,[ao])[0]).getOr(Gn.createRange())}try{const Yn=Pe();Yn&&!xd(Yn.anchorNode)&&(Yn.rangeCount>0?It=Yn.getRangeAt(0):It=Gn.createRange(),It=x2(i,[It])[0])}catch{}if(It||(It=Gn.createRange()),bm(It.startContainer)&&It.collapsed){const Yn=e.getRoot();It.setStart(Yn,0),It.setEnd(Yn,0)}return u&&m&&(ho(It.START_TO_START,It,u)===0&&ho(It.END_TO_END,It,u)===0?It=m:(u=null,m=null)),It},rt=(It,ho)=>{if(!TH(It))return;const Gn=Pe();if(It=i.dispatch("SetSelectionRange",{range:It,forward:ho}).range,Gn){m=It;try{Gn.removeAllRanges(),Gn.addRange(It)}catch{}ho===!1&&Gn.extend&&(Gn.collapse(It.endContainer,It.endOffset),Gn.extend(It.startContainer,It.startOffset)),u=Gn.rangeCount>0?Gn.getRangeAt(0):null}if(!It.collapsed&&It.startContainer===It.endContainer&&(Gn!=null&&Gn.setBaseAndExtent)&&It.endOffset-It.startOffset<2&&It.startContainer.hasChildNodes()){const ao=It.startContainer.childNodes[It.startOffset];ao&&ao.nodeName==="IMG"&&(Gn.setBaseAndExtent(It.startContainer,It.startOffset,It.endContainer,It.endOffset),(Gn.anchorNode!==It.startContainer||Gn.focusNode!==It.endContainer)&&Gn.setBaseAndExtent(ao,0,ao,1))}i.dispatch("AfterSetSelectionRange",{range:It,forward:ho})},gt=It=>(Cy(i,e.getOuterHTML(It)),It),Bt=()=>xM(i.getBody(),$e()),ro=(It,ho)=>y2(e,$e(),It,ho),at=()=>{const It=Pe(),ho=It==null?void 0:It.anchorNode,Gn=It==null?void 0:It.focusNode;if(!It||!ho||!Gn||xd(ho)||xd(Gn))return!0;const Yn=e.createRng(),ao=e.createRng();try{Yn.setStart(ho,It.anchorOffset),Yn.collapse(!0),ao.setStart(Gn,It.focusOffset),ao.collapse(!0)}catch{return!0}return Yn.compareBoundaryPoints(Yn.START_TO_START,ao)<=0},Qs={dom:e,win:t,serializer:n,editor:i,expand:(It={type:"word"})=>rt(bf(e).expand($e(),It)),collapse:Be,setCursorLocation:_,getContent:E,setContent:N,getBookmark:q,moveToBookmark:ne,select:me,isCollapsed:ce,isEditable:be,isForward:at,setNode:gt,getNode:Bt,getSel:Pe,setRng:rt,getRng:$e,getStart:j,getEnd:W,getSelectedBlocks:ro,normalize:()=>{const It=$e(),ho=Pe();if(!mI(ho)&&J_(i)){const Gn=oy(e,It);return Gn.each(Yn=>{rt(Yn,at())}),Gn.getOr(It)}return It},selectorChanged:(It,ho)=>(y(It,ho),Qs),selectorChangedWithUnbind:y,getScrollContainer:()=>{let It,ho=e.getRoot();for(;ho&&ho.nodeName!=="BODY";){if(ho.scrollHeight>ho.clientHeight){It=ho;break}ho=ho.parentNode}return It},scrollIntoView:(It,ho)=>{Me(It)?gM(i,It,ho):vw(i,$e(),ho)},placeCaretAt:(It,ho)=>rt(vh(It,ho,i.getDoc())),getBoundingClientRect:()=>{const It=$e();return It.collapsed?it.fromRangeStart(It).getClientRects()[0]:It.getBoundingClientRect()},destroy:()=>{t=u=m=null,Du.destroy()}},Mi=Y0(Qs),Du=f2(Qs,i);return Qs.bookmarkManager=Mi,Qs.controlSelection=Du,Qs},AR=(e,t,n)=>{t.addNodeFilter("br",(i,u,m)=>{const y=bt.extend({},n.getBlockElements()),_=n.getNonEmptyElements(),E=n.getWhitespaceElements();y.body=1;const N=j=>j.name in y||v1(n,j);for(let j=0,W=i.length;j<W;j++){let q=i[j],ne=q.parent;if(ne&&N(ne)&&q===ne.lastChild){let me=q.prev;for(;me;){const ce=me.name;if(ce!=="span"||me.attr("data-mce-type")!=="bookmark"){ce==="br"&&(q=null);break}me=me.prev}if(q&&(q.remove(),$w(n,_,E,ne))){const ce=n.getElementRule(ne.name);ce&&(ce.removeEmpty?ne.remove():ce.paddEmpty&&eC(e,m,N,ne))}}else{let me=q;for(;ne&&ne.firstChild===me&&ne.lastChild===me&&(me=ne,!y[ne.name]);)ne=ne.parent;if(me===ne){const ce=new al("#text",3);ce.value=xr,q.replace(ce)}}}})},TR=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(i,u)=>{let m=i.length;for(;m--;){const y=i[m];y.attr("tabindex",y.attr("data-mce-tabindex")),y.attr(u,null)}}),e.addAttributeFilter("src,href,style",(i,u)=>{const m="data-mce-"+u,y=t.url_converter,_=t.url_converter_scope;let E=i.length;for(;E--;){const N=i[E];let j=N.attr(m);j!==void 0?(N.attr(u,j.length>0?j:null),N.attr(m,null)):(j=N.attr(u),u==="style"?j=n.serializeStyle(n.parseStyle(j),N.name):y&&(j=y.call(_,j,u,N.name)),N.attr(u,j.length>0?j:null))}}),e.addAttributeFilter("class",i=>{let u=i.length;for(;u--;){const m=i[u];let y=m.attr("class");y&&(y=y.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",y.length>0?y:null))}}),e.addAttributeFilter("data-mce-type",(i,u,m)=>{let y=i.length;for(;y--;){const _=i[y];_.attr("data-mce-type")==="bookmark"&&!m.cleanup&&(G.from(_.firstChild).exists(N=>!zm(N.value??""))?_.unwrap():_.remove())}}),e.addNodeFilter("script,style",(i,u)=>{const m=_=>_.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let y=i.length;for(;y--;){const _=i[y],E=_.firstChild,N=(E==null?void 0:E.value)??"";if(u==="script"){const j=_.attr("type");j&&_.attr("type",j==="mce-no/type"?null:j.replace(/^mce\-/,"")),t.element_format==="xhtml"&&E&&N.length>0&&(E.value=`// <![CDATA[
`+m(N)+`
// ]]>`)}else t.element_format==="xhtml"&&E&&N.length>0&&(E.value=`<!--
`+m(N)+`
-->`)}}),e.addNodeFilter("#comment",i=>{let u=i.length;for(;u--;){const m=i[u],y=m.value;t.preserve_cdata&&(y==null?void 0:y.indexOf("[CDATA["))===0?(m.name="#cdata",m.type=4,m.value=n.decode(y.replace(/^\[CDATA\[|\]\]$/g,""))):(y==null?void 0:y.indexOf("mce:protected "))===0&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(y).substr(14))}}),e.addNodeFilter("xml:namespace,input",(i,u)=>{let m=i.length;for(;m--;){const y=i[m];y.type===7?y.remove():y.type===1&&u==="input"&&!y.attr("type")&&y.attr("type","text")}}),e.addAttributeFilter("data-mce-type",i=>{tt(i,u=>{u.attr("data-mce-type")==="format-caret"&&(u.isEmpty(e.schema.getNonEmptyElements())?u.remove():u.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(i,u)=>{let m=i.length;for(;m--;)i[m].attr(u,null)}),t.remove_trailing_brs&&AR(t,e,e.schema)},OR=e=>{const t=i=>(i==null?void 0:i.name)==="br",n=e.lastChild;if(t(n)){const i=n.prev;t(i)&&(n.remove(),i.remove())}},OH=(e,t,n)=>{let i;const u=e.dom;let m=t.cloneNode(!0);const y=document.implementation;if(y.createHTMLDocument){const _=y.createHTMLDocument("");bt.each(m.nodeName==="BODY"?m.childNodes:[m],E=>{_.body.appendChild(_.importNode(E,!0))}),m.nodeName!=="BODY"?m=_.body.firstChild:m=_.body,i=u.doc,u.doc=_}return mh(e,{...n,node:m}),i&&(u.doc=i),m},zH=(e,t)=>Me(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,zR=(e,t,n)=>zH(e,n)?OH(e,t,n):t,DH=(e,t,n)=>{bt.inArray(t,n)===-1&&(e.addAttributeFilter(n,(i,u)=>{let m=i.length;for(;m--;)i[m].attr(u,null)}),t.push(n))},Y3=(e,t,n)=>!t.no_events&&e?f8(e,{...t,content:n}).content:n,DR=(e,t,n)=>{const i=kl(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||O0(xe.fromDom(t))?i:bt.trim(i)},MH=(e,t,n)=>{const i=n.selection?{forced_root_block:!1,...n}:n,u=e.parse(t,i);return OR(u),u},NH=(e,t,n)=>Hm(e,t).serialize(n),RH=(e,t,n,i,u)=>{const m=NH(t,n,i);return Y3(e,u,m)},LH=(e,t)=>{const n=["data-mce-selected"],i={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},u=t&&t.dom?t.dom:Kn.DOM,m=t&&t.schema?t.schema:af(i),y=Wi(i,m);TR(y,i,u);const _=(E,N={})=>{const{indent:j,entity_encoding:W,...q}=N,ne={format:"html",...q},me=zR(t,E,ne),ce=DR(u,me,ne),be=MH(y,ce,ne);if(ne.format==="tree")return be;const Be={...i,...Me(j)?{indent:j}:{},...Me(W)?{entity_encoding:W}:{}};return RH(t,Be,m,be,ne)};return{schema:m,addNodeFilter:y.addNodeFilter,addAttributeFilter:y.addAttributeFilter,serialize:_,addRules:m.addValidElements,setRules:m.setValidElements,addTempAttr:Tt(DH,y,n),getTempAttrs:ft(n),getNodeFilters:y.getNodeFilters,getAttributeFilters:y.getAttributeFilters,removeNodeFilter:y.removeNodeFilter,removeAttributeFilter:y.removeAttributeFilter}},X3=(e,t)=>{const n=LH(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},MR="html",BH=(e,t)=>({...e,format:t,get:!0,getInner:!0}),Q3=(e,t={})=>{const n=t.format?t.format:MR,i=BH(t,n);return ib(e,i).fold(To,u=>{const m=CH(e,u);return u3(e,m,u)})},Sp="html",NR=(e,t)=>({format:Sp,...e,set:!0,content:t}),zC=(e,t,n={})=>{const i=NR(n,t);fC(e,i).each(u=>{const m=kR(e,u.content,u);hC(e,m.html,u)})},Ay=Kn.DOM,J3=e=>{Ay.setStyle(e.id,"display",e.orgDisplay)},hk=e=>G.from(e).each(t=>t.destroy()),RR=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const i=n.dom;t.selection=n.win=n.dom=i.doc=null}},LR=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Ay.unbind(t,"submit reset",e.formEventDelegate))},PH=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,i=e.getBody(),u=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Me(u==null?void 0:u.nextSibling)&&Ay.remove(u.nextSibling),h8(e),e.editorManager.remove(e),!e.inline&&i&&J3(e),Nn(e),Ay.remove(e.getContainer()),hk(t),hk(n),e.destroy()}},eT=(e,t)=>{const{selection:n,dom:i}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),hk(n),hk(i)),LR(e),RR(e),e.destroyed=!0}},DC=(()=>{const e={};return{add:(u,m)=>{e[u]=m},get:u=>e[u]?e[u]:{icons:{}},has:u=>Io(e,u)}})(),Nx=ka.ModelManager,pk=(e,t)=>t.dom[e],BR=(e,t)=>parseInt(Pa(t,e),10),tT=Tt(pk,"clientWidth"),oT=Tt(pk,"clientHeight"),PR=Tt(BR,"margin-top"),IH=Tt(BR,"margin-left"),IR=e=>e.dom.getBoundingClientRect(),MC=(e,t,n)=>{const i=tT(e),u=oT(e);return t>=0&&n>=0&&t<=i&&n<=u},FR=(e,t,n,i)=>{const u=IR(t),m=e?u.left+t.dom.clientLeft+IH(t):0,y=e?u.top+t.dom.clientTop+PR(t):0,_=n-m,E=i-y;return{x:_,y:E}},HR=(e,t,n)=>{const i=xe.fromDom(e.getBody()),u=e.inline?i:rs(i),m=FR(e.inline,u,t,n);return MC(u,m.x,m.y)},FH=e=>G.from(e).map(xe.fromDom),HH=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return FH(t).map(rc).getOr(!1)};var nT=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const sT=e=>{const t=[],n=()=>{const q=e.theme;return q&&q.getNotificationManagerImpl?q.getNotificationManagerImpl():nT()},i=()=>G.from(t[0]),u=(q,ne)=>q.type===ne.type&&q.text===ne.text&&!q.progressBar&&!q.timeout&&!ne.progressBar&&!ne.timeout,m=()=>{i().each(q=>{q.reposition()})},y=q=>{t.push(q)},_=q=>{Xn(t,ne=>ne===q).each(ne=>{t.splice(ne,1)})},E=(q,ne=!0)=>e.removed||!HH(e)?{}:(ne&&e.dispatch("BeforeOpenNotification",{notification:q}),Wo(t,me=>u(n().getArgs(me),q)).getOrThunk(()=>{e.editorManager.setActive(e);const me=n().open(q,()=>{_(me)},()=>xh(e));return y(me),m(),e.dispatch("OpenNotification",{notification:{...me}}),me})),N=()=>{i().each(q=>{n().close(q),_(q),m()})},j=ft(t);return(q=>{q.on("SkinLoaded",()=>{const ne=A8(q);ne&&E({text:ne,type:"warning",timeout:0},!1),m()}),q.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(m)}),q.on("remove",()=>{tt(t.slice(),ne=>{n().close(ne)})}),q.on("keydown",ne=>{var ce;const me=((ce=ne.key)==null?void 0:ce.toLowerCase())==="f12"||ne.keyCode===123;ne.altKey&&me&&(ne.preventDefault(),i().map(be=>xe.fromDom(be.getEl())).each(be=>qu(be)))})})(e),{open:E,close:N,getNotifications:j}},Ty=ka.PluginManager,Oy=ka.ThemeManager;var $H=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const zy=e=>{let t=[];const n=()=>{const be=e.theme;return be&&be.getWindowManagerImpl?be.getWindowManagerImpl():$H()},i=(be,Be)=>(...Pe)=>Be?Be.apply(be,Pe):void 0,u=be=>{e.dispatch("OpenWindow",{dialog:be})},m=be=>{e.dispatch("CloseWindow",{dialog:be})},y=(be,Be)=>{t.push({instanceApi:be,triggerElement:Be}),u(be)},_=be=>{m(be);const Be=Tl(t,({instanceApi:Pe,triggerElement:$e})=>Pe===be?$e:G.none());t=we(t,({instanceApi:Pe})=>Pe!==be),t.length===0?e.focus():Be.filter(rc).each(qu)},E=()=>G.from(t[t.length-1]),N=be=>{e.editorManager.setActive(e),l2(e);const Be=Nc();e.ui.show();const Pe=be();return y(Pe,Be),Pe},j=(be,Be)=>N(()=>n().open(be,Be,_)),W=be=>N(()=>n().openUrl(be,_)),q=be=>{t.length!==0&&be.each(Be=>qu(Be))},ne=(be,Be,Pe)=>{const $e=Nc(),rt=n();rt.alert(be,i(Pe||rt,()=>{q($e),Be==null||Be()}))},me=(be,Be,Pe)=>{const $e=Nc(),rt=n();rt.confirm(be,i(Pe||rt,gt=>{q($e),Be==null||Be(gt)}))},ce=()=>{E().each(({instanceApi:be})=>{n().close(be),_(be)})};return e.on("remove",()=>{tt(t,({instanceApi:be})=>{n().close(be)})}),{open:j,openUrl:W,alert:ne,confirm:me,close:ce}},$R=(e,t)=>{e.notificationManager.open({type:"error",text:t})},NC=(e,t)=>{e._skinLoaded?$R(e,t):e.on("SkinLoaded",()=>{$R(e,t)})},VR=(e,t)=>{NC(e,uc.translate(["Failed to upload image: {0}",t]))},fb=(e,t,n)=>{kz(e,t,{message:n}),console.error(n)},Ep=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,VH=(e,t,n)=>{fb(e,"PluginLoadError",Ep("plugin",t,n))},jH=(e,t,n)=>{fb(e,"IconsLoadError",Ep("icons",t,n))},UH=(e,t,n)=>{fb(e,"LanguageLoadError",Ep("language",t,n))},WH=(e,t,n)=>{fb(e,"ThemeLoadError",Ep("theme",t,n))},ZH=(e,t,n)=>{fb(e,"ModelLoadError",Ep("model",t,n))},qH=(e,t)=>{fb(e,"LicenseKeyManagerLoadError",Ep("license key manager",t))},KH=(e,t)=>{fb(e,"ComponentLoadError",Ep("component",t))},GH=(e,t,n)=>{const i=uc.translate(["Failed to initialize plugin: {0}",t]);kz(e,"PluginLoadError",{message:i}),RC(i,n),NC(e,i)},RC=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},jR=new WeakMap,xs=e=>{if(jR.has(e))return;jR.set(e,!0);const t=()=>{e.on("SwitchMode",i=>{const{mode:u}=i;u!=="readonly"&&e.mode.set("readonly")})},n=()=>{e.on("DisabledStateChange",i=>{const{state:u}=i;u||i.preventDefault()},!0)};e.initialized?(e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)):e.on("init",()=>{e.removed||e.mode.set("readonly"),e.options.set("disabled",!0)}),n(),t()},rT=(e,t)=>{const{type:n,message:i}=t;e.notificationManager.open({type:n,text:i})},iT=e=>{switch(e){case"error":return console.error;case"info":return console.info;case"warn":return console.warn;case"log":default:return console.log}},UR=e=>{iT(e.type)(e.message)},LC=(e,t)=>{const{console:n,editor:i}=t;Me(i)&&(e._skinLoaded?rT(e,i):e.on("SkinLoaded",()=>{rT(e,i)})),Me(n)&&UR(n)},lT="Read more: https://www.tiny.cloud/docs/tinymce/latest/license-key/",cT="Make sure to provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms.",YH=e=>{const t="The editor is disabled because a TinyMCE license key has not been provided.";LC(e,{console:{type:"error",message:[`${t}`,cT,lT].join(" ")},editor:{type:"warning",message:`${t}`}})},XH=(e,t)=>{const n=`${t==="online"?"API":"license"} key`,i=`The editor is disabled because the TinyMCE ${n} could not be validated.`;LC(e,{console:{type:"error",message:[`${i}`,`The TinyMCE Commercial License Key Manager plugin is required for the provided ${n} to be validated but could not be loaded.`,lT].join(" ")},editor:{type:"warning",message:`${i}`}})},dT=(e,t)=>{const n=`The "${t}" plugin requires a valid TinyMCE license key.`;LC(e,{console:{type:"error",message:[`${n}`,lT].join(" ")}})},WR="licensekeymanager",QH=e=>He(V_(e))?"online":"offline",ZR=e=>{var n;const t=(n=H0(e))==null?void 0:n.toLowerCase();return t==="gpl"?"gpl":Kt(t)?"no_key":"non_gpl"},qR=e=>{const t=QH(e),n=ZR(e),i=new Set(ow(e)).has(WR);return n!=="gpl"||t==="online"||i?{type:"use_plugin",onlineStatus:t,licenseKeyType:n,forcePlugin:i}:{type:"use_gpl",onlineStatus:t,licenseKeyType:n,forcePlugin:i}},JH=e=>({validate:t=>{const{plugin:n}=t;return He(n)&&dT(e,n),Promise.resolve(!1)}}),e$=e=>({validate:t=>{const{plugin:n}=t,i=He(n);return i&&dT(e,n),Promise.resolve(!i)}}),Rx="manager",KR=WR,BC=(()=>{const e=ka();return{load:(u,m)=>{if(qR(u).type==="use_plugin"){const _=`plugins/${KR}/plugin${m}.js`;e.load(Rx,_).catch(()=>{qH(u,_)})}},add:u=>{e.add(Rx,u)},init:u=>{const m=E=>{Object.defineProperty(u,"licenseKeyManager",{value:E,writable:!1,configurable:!1,enumerable:!0})},y=qR(u),_=e.get(Rx);if(Me(_)){const E=_(u,e.urls[Rx]);m(E)}else switch(y.type){case"use_gpl":{m(e$(u));break}case"use_plugin":{xs(u),m(JH(u)),y.onlineStatus==="offline"&&y.licenseKeyType==="no_key"?YH(u):XH(u,y.onlineStatus);break}}u.licenseKeyManager.validate({})}}})(),t$=e=>{G.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},PC=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},YR=(e,t)=>{PC(e,"StyleWithCSS",t),PC(e,"enableInlineTableEditing",t),PC(e,"enableObjectResizing",t)},IC=e=>{e.selection.setRng(e.selection.getRng())},FC=(e,t,n)=>{ds(e,t)&&!n?$i(e,t):n&&xl(e,t)},HC=e=>{const t=xe.fromDom(e.getBody());FC(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),t$(e)},Dy=e=>{const t=xe.fromDom(e.getBody());FC(t,"mce-content-readonly",!1),e.hasEditableRoot()&&Hr(t,!0),YR(e,!1),xh(e)&&e.focus(),IC(e),e.nodeChanged()},Ym=e=>j_(e),Of="data-mce-contenteditable",mk=e=>{tt(Ae(e,'*[contenteditable="true"]'),t=>{Tr(t,Of,"true"),Hr(t,!1)})},Lx=e=>{tt(Ae(e,`*[${Of}="true"]`),t=>{Or(t,Of),Hr(t,!0)})},$C=(e,t)=>{const n=xe.fromDom(e.getBody());t?(HC(e),Hr(n,!1),mk(n)):(Lx(n),Dy(e))},XR=e=>{e.serializer?uT(e):e.on("PreInit",()=>{uT(e)})},uT=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Ym(e)&&tt(t,n=>{n.attr(Of,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Of,t=>{Ym(e)&&tt(t,n=>{n.attr("contenteditable",n.attr(Of))})}),e.serializer.addTempAttr(Of)},fT=e=>e.type==="click",QR=["copy"],JR=e=>Qo(QR,e.type),e6=(e,t)=>Pc(t,"a",i=>cn(i,xe.fromDom(e.getBody()))).bind(i=>Bl(i,"href")),hT=(e,t)=>{if(fT(t)&&!Ht.metaKeyPressed(t)){const n=xe.fromDom(t.target);e6(e,n).each(i=>{if(t.preventDefault(),/^#/.test(i)){const u=e.dom.select(`${i},[name="${mg(i,"#")}"]`);u.length&&e.selection.scrollIntoView(u[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else JR(t)&&e.dispatch(t.type,t)},t6=e=>{e.on("ShowCaret ObjectSelected",t=>{Ym(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||$C(e,t.state)})},o6=e=>{XR(e),t6(e)},pT=e=>/^[a-z0-9\-]+$/i.test(e),mT=e=>"content/"+e+"/content.css",n6=e=>tinymce.Resource.has(mT(e)),s6=e=>gk(e,Ca(e)),r6=e=>gk(e,Sa(e)),gk=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",u=`content${e.editorManager.suffix}.css`;return Do(t,m=>n6(m)?m:pT(m)&&!e.inline?`${n}/${m}/${u}`:e.documentBaseURI.toAbsolute(m))},i6=e=>{e.contentCSS=e.contentCSS.concat(s6(e),r6(e))},a6=e=>e?jt(e.getElementsByTagName("img")):[],o$=(e,t)=>{const n={};return{findAll:(u,m=fo)=>{const y=we(a6(u),E=>{const N=E.src;return E.hasAttribute("data-mce-bogus")||E.hasAttribute("data-mce-placeholder")||!N||N===$o.transparentSrc?!1:Ws(N,"blob:")?!e.isUploaded(N)&&m(E):Ws(N,"data:")?m(E):!1}),_=Do(y,E=>{const N=E.src;if(Io(n,N))return n[N].then(j=>He(j)?j:{image:E,blobInfo:j.blobInfo});{const j=fF(t,N).then(W=>(delete n[N],{image:E,blobInfo:W})).catch(W=>(delete n[N],W));return n[N]=j,j}});return Promise.all(_)}}},l6=()=>{let n={};const i=(q,ne)=>({status:q,resultUri:ne}),u=q=>q in n;return{hasBlobUri:u,getResultUri:q=>{const ne=n[q];return ne?ne.resultUri:null},isPending:q=>u(q)?n[q].status===1:!1,isUploaded:q=>u(q)?n[q].status===2:!1,markPending:q=>{n[q]=i(1,null)},markUploaded:(q,ne)=>{n[q]=i(2,ne)},removeFailed:q=>{delete n[q]},destroy:()=>{n={}}}};let n$=0;const s$=()=>{const e=()=>Math.round(jf()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},c6=e=>e+n$+++s$(),d6=()=>{let e=[];const t=W=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[W.toLowerCase()]||"dat",n=(W,q,ne,me,ce)=>{if(He(W))return i({id:W,name:me,filename:ce,blob:q,base64:ne});if(ge(W))return i(W);throw new Error("Unknown input type")},i=W=>{if(!W.blob||!W.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const q=W.id||c6("blobid"),ne=W.name||q,me=W.blob;return{id:ft(q),name:ft(ne),filename:ft(W.filename||ne+"."+t(me.type)),blob:ft(me),base64:ft(W.base64),blobUri:ft(W.blobUri||URL.createObjectURL(me)),uri:ft(W.uri)}},u=W=>{y(W.id())||e.push(W)},m=W=>Wo(e,W).getOrUndefined(),y=W=>m(q=>q.id()===W);return{create:n,add:u,get:y,getByUri:W=>m(q=>q.blobUri()===W),getByData:(W,q)=>m(ne=>ne.base64()===W&&ne.blob().type===q),findFirst:m,removeByUri:W=>{e=we(e,q=>q.blobUri()===W?(URL.revokeObjectURL(q.blobUri()),!1):!0)},destroy:()=>{tt(e,W=>{URL.revokeObjectURL(W.blobUri())}),e=[]}}},u6=(e,t)=>{const n={},i=(ce,be)=>ce?ce.replace(/\/$/,"")+"/"+be.replace(/^\//,""):be,u=(ce,be)=>new Promise((Be,Pe)=>{const $e=new XMLHttpRequest;$e.open("POST",t.url),$e.withCredentials=t.credentials,$e.upload.onprogress=gt=>{be(gt.loaded/gt.total*100)},$e.onerror=()=>{Pe("Image upload failed due to a XHR Transport error. Code: "+$e.status)},$e.onload=()=>{if($e.status<200||$e.status>=300){Pe("HTTP Error: "+$e.status);return}const gt=JSON.parse($e.responseText);if(!gt||!He(gt.location)){Pe("Invalid JSON: "+$e.responseText);return}Be(i(t.basePath,gt.location))};const rt=new FormData;rt.append("file",ce.blob(),ce.filename()),$e.send(rt)}),m=yt(t.handler)?t.handler:u,y=()=>new Promise(ce=>{ce([])}),_=(ce,be)=>({url:be,blobInfo:ce,status:!0}),E=(ce,be)=>({url:"",blobInfo:ce,status:!1,error:be}),N=(ce,be)=>{bt.each(n[ce],Be=>{Be(be)}),delete n[ce]},j=(ce,be,Be)=>(e.markPending(ce.blobUri()),new Promise(Pe=>{let $e,rt;try{const gt=()=>{$e&&($e.close(),rt=Ft)},Bt=at=>{gt(),e.markUploaded(ce.blobUri(),at),N(ce.blobUri(),_(ce,at)),Pe(_(ce,at))},ro=at=>{gt(),e.removeFailed(ce.blobUri()),N(ce.blobUri(),E(ce,at)),Pe(E(ce,at))};rt=at=>{at<0||at>100||G.from($e).orThunk(()=>G.from(Be).map(yo)).each(Xe=>{$e=Xe,Xe.progressBar.value(at)})},be(ce,rt).then(Bt,at=>{ro(He(at)?{message:at}:at)})}catch(gt){Pe(E(ce,gt))}})),W=ce=>ce===u,q=ce=>{const be=ce.blobUri();return new Promise(Be=>{n[be]=n[be]||[],n[be].push(Be)})},ne=(ce,be)=>(ce=bt.grep(ce,Be=>!e.isUploaded(Be.blobUri())),Promise.all(bt.map(ce,Be=>e.isPending(Be.blobUri())?q(Be):j(Be,m,be))));return{upload:(ce,be)=>!t.url&&W(m)?y():ne(ce,be)}},f6=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),Bx=(e,t)=>u6(t,{url:Rz(e),basePath:NE(e),credentials:L_(e),handler:Wg(e)}),r$=e=>{const t=l6(),n=Bx(e,t);return{upload:(i,u=!0)=>n.upload(i,u?f6(e):void 0)}},h6=(e,t)=>e.dom.isEmpty(t.dom)&&Me(e.schema.getTextBlockElements()[Xo(t)]),VC=e=>t=>{h6(e,t)&&un(t,xe.fromHtml('<br data-mce-bogus="1" />'))},p6=e=>{const t=d6();let n,i;const u=l6(),m=[],y=$e=>rt=>e.selection?$e(rt):[],_=$e=>$e+($e.indexOf("?")===-1?"?":"&")+new Date().getTime(),E=($e,rt,gt)=>{let Bt=0;do Bt=$e.indexOf(rt,Bt),Bt!==-1&&($e=$e.substring(0,Bt)+gt+$e.substr(Bt+rt.length),Bt+=gt.length-rt.length+1);while(Bt!==-1);return $e},N=($e,rt,gt)=>{const Bt=`src="${gt}"${gt===$o.transparentSrc?' data-mce-placeholder="1"':""}`;return $e=E($e,`src="${rt}"`,Bt),$e=E($e,'data-mce-src="'+rt+'"','data-mce-src="'+gt+'"'),$e},j=($e,rt)=>{tt(e.undoManager.data,gt=>{gt.type==="fragmented"?gt.fragments=Do(gt.fragments,Bt=>N(Bt,$e,rt)):gt.content=N(gt.content,$e,rt)})},W=($e,rt)=>{const gt=e.convertURL(rt,"src");j($e.src,rt),Ba(xe.fromDom($e),{src:hp(e)?_(rt):rt,"data-mce-src":gt})},q=()=>(n||(n=Bx(e,u)),be().then(y($e=>{const rt=Do($e,gt=>gt.blobInfo);return n.upload(rt,f6(e)).then(y(gt=>{const Bt=[];let ro=!1;const at=Do(gt,(Xe,lt)=>{const{blobInfo:Pt,image:wo}=$e[lt];let Ro=!1;return Xe.status&&R_(e)?(Xe.url&&!on(wo.src,Xe.url)&&(ro=!0),t.removeByUri(wo.src),Tf(e)||W(wo,Xe.url)):Xe.error&&(Xe.error.remove&&(j(wo.src,$o.transparentSrc),Bt.push(wo),Ro=!0),VR(e,Xe.error.message)),{element:wo,status:Xe.status,uploadUri:Xe.url,blobInfo:Pt,removed:Ro}});return Bt.length>0&&!Tf(e)?e.undoManager.transact(()=>{tt(Xa(Bt),Xe=>{const lt=pa(Xe);ts(Xe),lt.each(VC(e)),t.removeByUri(Xe.dom.src)})}):ro&&e.undoManager.dispatchChange(),at}))}))),ne=()=>tw(e)?q():Promise.resolve([]),me=$e=>Sr(m,rt=>rt($e)),ce=$e=>{m.push($e)},be=()=>(i||(i=o$(u,t)),i.findAll(e.getBody(),me).then(y($e=>{const rt=we($e,gt=>He(gt)?(NC(e,gt),!1):gt.uriType!=="blob");return Tf(e)||tt(rt,gt=>{j(gt.image.src,gt.blobInfo.blobUri()),gt.image.src=gt.blobInfo.blobUri(),gt.image.removeAttribute("data-mce-src")}),rt}))),Be=()=>{t.destroy(),u.destroy(),i=n=null},Pe=$e=>$e.replace(/src="(blob:[^"]+)"/g,(rt,gt)=>{const Bt=u.getResultUri(gt);if(Bt)return'src="'+Bt+'"';let ro=t.getByUri(gt);return ro||(ro=Dt(e.editorManager.get(),(at,Xe)=>at||Xe.editorUpload&&Xe.editorUpload.blobCache.getByUri(gt),void 0)),ro?'src="data:'+ro.blob().type+";base64,"+ro.base64()+'"':rt});return e.on("SetContent",()=>{tw(e)?ne():be()}),e.on("RawSaveContent",$e=>{$e.content=Pe($e.content)}),e.on("GetContent",$e=>{$e.source_view||$e.format==="raw"||$e.format==="tree"||($e.content=Pe($e.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",$e=>{tt($e,rt=>{const gt=rt.attr("src");if(!gt||t.getByUri(gt))return;const Bt=u.getResultUri(gt);Bt&&rt.attr("src",Bt)})})}),{blobCache:t,addFilter:ce,uploadImages:q,uploadImagesAuto:ne,scanForImages:be,destroy:Be}},m6=e=>{const t=e.dom,n=e.schema.type,i={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:u=>{t.setStyle(u,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:u=>{t.setStyle(u,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const u={inline:"span",styles:{textDecoration:"line-through"},exact:!0},m={inline:"strike",remove:"all",preserve_attributes:["class","style"]},y={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[y,u,m]:[u,y,m]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(u,m,y)=>eo(u)&&u.hasAttribute("href"),onformat:(u,m,y)=>{bt.each(y,(_,E)=>{t.setAttrib(u,E,_)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":u=>(u==null?void 0:u.customValue)??null}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return bt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),u=>{i[u]={block:u,remove:"all"}}),i},g6={remove_similar:!0,inherit:!1},Px={selector:"td,th",...g6},gT={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Px},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Px},tablecellbordercolor:{styles:{borderColor:"%value"},...Px},tablecellclass:{classes:["%value"],...Px},tableclass:{selector:"table",classes:["%value"],...g6},tablecellborderstyle:{styles:{borderStyle:"%value"},...Px},tablecellborderwidth:{styles:{borderWidth:"%value"},...Px}},jC=ft(gT),b6=e=>{const t={},n=y=>Me(y)?t[y]:t,i=y=>Io(t,y),u=(y,_)=>{y&&(He(y)?(he(_)||(_=[_]),tt(_,E=>{lo(E.deep)&&(E.deep=!Td(E)),lo(E.split)&&(E.split=!Td(E)||Ui(E)),lo(E.remove)&&Td(E)&&!Ui(E)&&(E.remove="none"),Td(E)&&Ui(E)&&(E.mixed=!0,E.block_expand=!0),He(E.classes)&&(E.classes=E.classes.split(/\s+/))}),t[y]=_):yn(y,(E,N)=>{u(N,E)}))},m=y=>(y&&t[y]&&delete t[y],t);return u(m6(e)),u(jC()),u(T8(e)),{get:n,has:i,register:u,unregister:m}},Ix=bt.each,Rd=Kn.DOM,bT=e=>Me(e)&&ge(e),yT=(e,t)=>{const n=t&&t.schema||af({}),i=(E,N)=>{N.classes.length>0&&Rd.addClass(E,N.classes.join(" ")),Rd.setAttribs(E,N.attrs)},u=E=>{const N=He(E)?{name:E,classes:[],attrs:{}}:E,j=Rd.create(N.name);return i(j,N),j},m=(E,N)=>{const j=n.getElementRule(E.nodeName.toLowerCase()),W=j==null?void 0:j.parentsRequired;return W&&W.length?N&&Qo(W,N)?N:W[0]:!1},y=(E,N,j)=>{let W;const q=N[0],ne=bT(q)?q.name:void 0,me=m(E,ne);if(me)ne===me?(W=q,N=N.slice(1)):W=me;else if(q)W=q,N=N.slice(1);else if(!j)return E;const ce=W?u(W):Rd.create("div");ce.appendChild(E),j&&bt.each(j,Be=>{const Pe=u(Be);ce.insertBefore(Pe,E)});const be=bT(W)?W.siblings:void 0;return y(ce,N,be)},_=Rd.create("div");if(e.length>0){const E=e[0],N=u(E),j=bT(E)?E.siblings:void 0;_.appendChild(y(N,e.slice(1),j))}return _},i$=e=>{e=bt.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(i,u,m,y,_)=>{switch(u){case"#":n.attrs.id=m;break;case".":n.classes.push(m);break;case":":bt.inArray("checked disabled enabled read-only required".split(" "),m)!==-1&&(n.attrs[m]=m);break}if(y==="["){const E=_.match(/([\w\-]+)(?:\=\"([^\"]+))?/);E&&(n.attrs[E[1]]=E[2])}return""})),n.name=t||"div",n},y6=e=>He(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),bt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=bt.map(t.split(/(?:~\+|~|\+)/),i$),i=n.pop();return n.length&&(i.siblings=n),i}).reverse()):[],xT=(e,t)=>{let n="",i=Iz(e);if(i==="")return"";const u=q=>He(q)?q.replace(/%(\w+)/g,""):"",m=(q,ne)=>Rd.getStyle(ne??e.getBody(),q,!0);if(He(t)){const q=e.formatter.get(t);if(!q)return"";t=q[0]}if("preview"in t){const q=t.preview;if(q===!1)return"";i=q||i}let y=t.block||t.inline||"span",_;const E=y6(t.selector);E.length>0?(E[0].name||(E[0].name=y),y=t.selector,_=yT(E,e)):_=yT([y],e);const N=Rd.select(y,_)[0]||_.firstChild;Ix(t.styles,(q,ne)=>{const me=u(q);me&&Rd.setStyle(N,ne,me)}),Ix(t.attributes,(q,ne)=>{const me=u(q);me&&Rd.setAttrib(N,ne,me)}),Ix(t.classes,q=>{const ne=u(q);Rd.hasClass(N,ne)||Rd.addClass(N,ne)}),e.dispatch("PreviewFormats"),Rd.setStyles(_,{position:"absolute",left:-65535}),e.getBody().appendChild(_);const j=m("fontSize"),W=/px$/.test(j)?parseInt(j,10):0;return Ix(i.split(" "),q=>{let ne=m(q,N);if(!(q==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ne)&&(ne=m(q),_m(ne).toLowerCase()==="#ffffff"))&&!(q==="color"&&_m(ne).toLowerCase()==="#000000")){if(q==="font-size"&&/em|%$/.test(ne)){if(W===0)return;ne=parseFloat(ne)/(/%$/.test(ne)?100:1)*W+"px"}q==="border"&&ne&&(n+="padding:0 2px;"),n+=q+":"+ne+";"}}),e.dispatch("AfterPreviewFormats"),Rd.remove(_),n},UC=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},vT=e=>{const t=b6(e),n=Mn({});return UC(e),S7(e),Tf(e)||T3(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(i,u,m)=>{wH(e,i,u,m)},remove:(i,u,m,y)=>{kH(e,i,u,m,y)},toggle:(i,u,m)=>{wR(e,i,u,m)},match:(i,u,m,y)=>gR(e,i,u,m,y),closest:i=>vR(e,i),matchAll:(i,u)=>bR(e,i,u),matchNode:(i,u,m,y)=>yR(e,i,u,m,y),canApply:i=>xR(e,i),formatChanged:(i,u,m,y)=>_H(e,n,i,u,m,y),getCssText:Tt(xT,e)}},wT=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},a$=(e,t,n)=>{const i=Mn(!1),u=E=>{dk(t,!1,n),t.add({},E)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",E=>{const N=E.command;wT(N)||(W3(t,n),t.beforeChange())}),e.on("ExecCommand",E=>{const N=E.command;wT(N)||u(E)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",u),e.on("dragend",u),e.on("keyup",E=>{const N=E.keyCode;if(E.isDefaultPrevented())return;const j=$o.os.isMacOS()&&E.key==="Meta";(N>=33&&N<=36||N>=37&&N<=40||N===45||E.ctrlKey||j)&&(u(),e.nodeChanged()),(N===46||N===8)&&e.nodeChanged(),i.get()&&t.typing&&!U3(EC(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),i.set(!1),e.nodeChanged())}),e.on("keydown",E=>{const N=E.keyCode;if(E.isDefaultPrevented())return;if(N>=33&&N<=36||N>=37&&N<=40||N===45){t.typing&&u(E);return}const j=E.ctrlKey&&!E.altKey||E.metaKey;if((N<16||N>20)&&N!==224&&N!==91&&!t.typing&&!j){t.beforeChange(),dk(t,!0,n),t.add({},E),i.set(!0);return}($o.os.isMacOS()?E.metaKey:E.ctrlKey&&!E.altKey)&&t.beforeChange()}),e.on("mousedown",E=>{t.typing&&u(E)});const m=E=>E.inputType==="insertReplacementText",y=E=>E.inputType==="insertText"&&E.data===null,_=E=>E.inputType==="insertFromPaste"||E.inputType==="insertFromDrop";e.on("input",E=>{E.inputType&&(m(E)||y(E)||_(E))&&u(E)}),e.on("AddUndo Undo Redo ClearUndos",E=>{E.isDefaultPrevented()||e.nodeChanged()})},x6=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},v6=e=>{const t=Ql(),n=Mn(0),i=Mn(0),u={data:[],typing:!1,beforeChange:()=>{fH(e,n,t)},add:(m,y)=>hH(e,u,i,n,t,m,y),dispatchChange:()=>{e.setDirty(!0);const m=EC(e);m.bookmark=T_(e.selection),e.dispatch("change",{level:m,lastLevel:en(u.data,i.get()).getOrUndefined()})},undo:()=>pH(e,u,n,i),redo:()=>mH(e,i,u.data),clear:()=>{gH(e,u,i)},reset:()=>{bH(e,u)},hasUndo:()=>yH(e,u,i),hasRedo:()=>xH(e,u,i),transact:m=>vH(e,u,n,m),ignore:m=>{pR(e,n,m)},extra:(m,y)=>{mR(e,u,i,m,y)}};return Tf(e)||a$(e,u,n),x6(e),u},l$=[9,27,Ht.HOME,Ht.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ht.DOWN,Ht.UP,Ht.LEFT,Ht.RIGHT].concat($o.browser.isFirefox()?[224]:[]),WC="data-mce-placeholder",w6=e=>e.type==="keydown"||e.type==="keyup",kT=e=>{const t=e.keyCode;return t===Ht.BACKSPACE||t===Ht.DELETE},_T=e=>{if(w6(e)){const t=e.keyCode;return!kT(e)&&(Ht.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Qo(l$,t))}else return!1},k6=e=>w6(e)&&!(kT(e)||e.type==="keyup"&&e.keyCode===229),_6=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const i=t.firstElementChild;return i?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===i.nodeName.toLowerCase():!0}else return!1},C6=e=>{const t=e.dom,n=Ua(e),i=Bz(e)??"",u=(m,y)=>{if(_T(m))return;const _=e.getBody(),E=k6(m)?!1:_6(t,_,n);(t.getAttrib(_,WC)!==""!==E||y)&&(t.setAttrib(_,WC,E?i:null),wE(e,E),e.on(E?"keydown":"keyup",u),e.off(E?"keyup":"keydown",u))};oi(i)&&e.on("init",m=>{u(m,!0),e.on("change SetContent ExecCommand",u),e.on("paste",y=>wu.setEditorTimeout(e,()=>u(y)))})},S6=e=>t=>Me(t)&&t.nodeName.toLowerCase()===e,ZC=e=>t=>Me(t)&&e.test(t.nodeName),Ap=e=>Me(e)&&e.nodeType===3,qC=e=>Me(e)&&e.nodeType===1,Au=ZC(/^(OL|UL|DL)$/),CT=ZC(/^(OL|UL)$/),KC=ZC(/^(LI|DT|DD)$/),E6=ZC(/^(DT|DD)$/),My=S6("br"),c$=e=>{var t;return((t=e.parentNode)==null?void 0:t.firstChild)===e},GC=(e,t)=>Me(t)&&t.nodeName in e.schema.getTextBlockElements(),bk=(e,t)=>Me(e)&&e.nodeName in t,d$=(e,t)=>Me(t)&&t.nodeName in e.schema.getVoidElements(),YC=(e,t)=>My(t)?e.isBlock(t.nextSibling)&&!My(t.previousSibling):!1,Ny=(e,t,n)=>{const i=e.isEmpty(t);return n&&e.select("span[data-mce-type=bookmark]",t).length>0?!1:i},A6=(e,t)=>e.isChildOf(t,e.getRoot()),T6=Kn.DOM,O6=(e,t)=>{const n=t.parentElement;if(n&&n.nodeName==="LI"&&n.firstChild===t){const i=n.previousSibling;i&&i.nodeName==="LI"?(i.appendChild(t),Ny(e,n)&&T6.remove(n)):T6.setStyle(n,"listStyleType","none")}if(Au(n)){const i=n.previousSibling;i&&i.nodeName==="LI"&&i.appendChild(t)}},XC=(e,t)=>{const n=bt.grep(e.select("ol,ul",t));bt.each(n,i=>{O6(e,i)})},z6=(e,t)=>{if(Ap(e))return{container:e,offset:t};const n=bf.getNode(e,t);return Ap(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Ap(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Ap(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},QC=e=>{const t=e.cloneRange(),n=z6(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const i=z6(e.endContainer,e.endOffset);return t.setEnd(i.container,i.offset),t},Fx=["OL","UL","DL"],ST=Fx.join(","),yk=(e,t)=>{const n=e.selection.getStart(!0);return e.dom.getParent(n,ST,Hx(e,n))},D6=(e,t)=>Me(e)&&t.length===1&&t[0]===e,M6=e=>we(e.querySelectorAll(ST),Au),u$=e=>{const t=yk(e),n=e.selection.getSelectedBlocks();return D6(t,n)?M6(t):we(n,i=>Au(i)&&t!==i)},f$=(e,t)=>{const n=bt.map(t,i=>{const u=e.dom.getParent(i,"li,dd,dt",Hx(e,i));return u||i});return kc(n)},ET=e=>{const t=e.selection.getSelectedBlocks();return we(f$(e,t),KC)},h$=e=>we(ET(e),E6),JC=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},AT=(e,t)=>!Au(t)&&!KC(t)&&Rn(Fx,n=>e.isValidChild(t.nodeName,n)),Hx=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),i=m=>m.nodeName.toLowerCase()!==Ua(e);return Wo(n,m=>i(m)&&AT(e.schema,m)).getOr(e.getBody())},N6=e=>pa(e).exists(t=>KC(t.dom)&&bl(t).exists(n=>!Au(n.dom))&&qr(t).exists(n=>!Au(n.dom))),TT=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",Hx(e,t));return Ls(n)},R6=e=>{const t=TT(e,e.selection.getStart()),n=we(e.selection.getSelectedBlocks(),CT);return t.toArray().concat(n)},p$=e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",Hx(e,t))},L6=e=>{const t=R6(e),n=p$(e);return Wo(n,i=>N6(xe.fromDom(i))).fold(()=>B6(e,t),i=>[i])},B6=(e,t)=>{const n=Do(t,i=>TT(e,i).getOr(i));return kc(n)},xk=e=>/\btox\-/.test(e.className),P6=(e,t)=>t!==null&&!e.dom.isEditable(t),m$=e=>{const t=yk(e);return P6(e,t)||!e.selection.isEditable()},zf=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return P6(e,n)||!e.selection.isEditable()},hb=(e,t,n)=>e.dispatch("ListMutation",{action:t,element:n}),OT=(e,t,n={})=>{const i=e.dom,u=e.schema.getBlockElements(),m=i.createFragment(),y=Ua(e),_=U1(e);let E,N,j=!1;for(N=i.create(y,{..._,...n.style?{style:n.style}:{}}),bk(t.firstChild,u)||m.appendChild(N);E=t.firstChild;){const W=E.nodeName;!j&&(W!=="SPAN"||E.getAttribute("data-mce-type")!=="bookmark")&&(j=!0),bk(E,u)?(m.appendChild(E),N=null):(N||(N=i.create(y,_),m.appendChild(N)),N.appendChild(E))}return!j&&N&&N.appendChild(i.create("br",{"data-mce-bogus":"1"})),m},Ry=e=>fd(e,"OL,UL"),eS=e=>fd(e,"LI"),I6=e=>bl(e).exists(Ry),F6=e=>qr(e).exists(Ry),g$=(e,t)=>nD(e).map(n=>n>=t).getOr(!0),pb=e=>"listAttributes"in e,H6=e=>"isComment"in e,$6=e=>"isFragment"in e,vk=e=>e.depth>0,zT=e=>e.isSelected,V6=e=>{const t=ln(e),n=F6(e)?t.slice(0,-1):t;return Do(n,gi)},j6=(e,t,n)=>pa(e).filter(mr).map(i=>({depth:t,dirty:!1,isSelected:n,content:V6(e),itemAttributes:sc(e),listAttributes:sc(i),listType:Xo(i),isInPreviousLi:!1})),U6=(e,t)=>{un(e.item,t.list)},W6=e=>{for(let t=1;t<e.length;t++)U6(e[t-1],e[t])},b$=(e,t)=>{Gs(Ls(e),ls(t),U6)},Z6=(e,t)=>{const n={list:xe.fromTag(t,e),item:xe.fromTag("li",e)};return un(n.list,n.item),n},q6=(e,t,n)=>{const i=[];for(let u=0;u<n;u++)i.push(Z6(e,pb(t)?t.listType:t.parentListType));return i},K6=(e,t)=>{for(let n=0;n<e.length-1;n++)gd(e[n].item,"list-style-type","none");Ls(e).each(n=>{pb(t)&&(Ba(n.list,t.listAttributes),Ba(n.item,t.itemAttributes)),er(n.item,t.content)})},G6=(e,t)=>{Xo(e.list)!==t.listType&&(e.list=Rc(e.list,t.listType)),Ba(e.list,t.listAttributes)},Y6=(e,t,n)=>{const i=xe.fromTag("li",e);return Ba(i,t),er(i,n),i},X6=(e,t)=>{un(e.list,t),e.item=t},tS=(e,t,n)=>{const i=t.slice(0,n.depth);return Ls(i).each(u=>{if(pb(n)){const m=Y6(e,n.itemAttributes,n.content);X6(u,m),G6(u,n)}else if($6(n))er(u.item,n.content);else{const m=xe.fromHtml(`<!--${n.content}-->`);un(u.list,m)}}),i},Q6=(e,t,n)=>{const i=q6(e,n,n.depth-t.length);return W6(i),K6(i,n),b$(t,i),t.concat(i)},J6=(e,t)=>{let n=G.none();const i=Dt(t,(u,m,y)=>H6(m)?y===0?(n=G.some(m),u):tS(e,u,m):m.depth>u.length?Q6(e,u,m):tS(e,u,m),[]);return n.each(u=>{const m=xe.fromHtml(`<!--${u.content}-->`);ls(i).each(y=>{nc(y.list,m)})}),ls(i).map(u=>u.list)},eL=(e,t,n)=>{switch(t){case"Indent":if(g$(e,n.depth))n.depth++;else return;break;case"Outdent":n.depth--;break;case"Flatten":n.depth=0}n.dirty=!0},tL=(e,t)=>{pb(e)&&pb(t)&&(e.listType=t.listType,e.listAttributes={...t.listAttributes})},oL=e=>{e.listAttributes=hi(e.listAttributes,(t,n)=>n!=="start")},nL=(e,t)=>{const n=e[t].depth,i=m=>m.depth===n&&!m.dirty,u=m=>m.depth<n;return bn(ar(e.slice(0,t)),i,u).orThunk(()=>bn(e.slice(t+1),i,u))},DT=e=>(tt(e,(t,n)=>{nL(e,n).fold(()=>{t.dirty&&pb(t)&&oL(t)},i=>tL(t,i))}),e),oS=(e,t,n,i)=>{if(Zb(i))return[{depth:e+1,content:i.dom.nodeValue??"",dirty:!1,isSelected:!1,isComment:!0}];t.each(y=>{cn(y.start,i)&&n.set(!0)});const u=j6(i,e,n.get());t.each(y=>{cn(y.end,i)&&n.set(!1)});const m=qr(i).filter(Ry).map(y=>Ly(e,t,n,y)).getOr([]);return u.toArray().concat(m)},MT=(e,t,n,i)=>bl(i).filter(Ry).fold(()=>oS(e,t,n,i),u=>{const m=Dt(ln(i),(y,_,E)=>{if(E===0)return y;if(eS(_))return y.concat(oS(e,t,n,_));{const N={isFragment:!0,depth:e,content:[_],isSelected:!1,dirty:!1,parentListType:Xo(u)};return y.concat(N)}},[]);return Ly(e,t,n,u).concat(m)}),Ly=(e,t,n,i)=>Ds(ln(i),u=>{const m=Ry(u)?Ly:MT,y=e+1;return m(y,t,n,u)}),sL=(e,t)=>{const n=Mn(!1),i=0;return Do(e,u=>({sourceList:u,entries:Ly(i,t,n,u)}))},rL=(e,t)=>{const n=DT(t);return Do(n,i=>{const u=H6(i)?zr([xe.fromHtml(`<!--${i.content}-->`)]):zr(i.content),m=pb(i)?i.itemAttributes:{};return xe.fromDom(OT(e,u.dom,m))})},iL=(e,t)=>{const n=DT(t);return J6(e.contentDocument,n).toArray()},NT=(e,t)=>Ds(mt(t,vk),n=>ls(n).exists(vk)?iL(e,n):rL(e,n)),aL=(e,t,n)=>{tt(we(t,zT),i=>eL(e,n,i))},lL=e=>{const t=Do(ET(e),xe.fromDom);return Gs(Wo(t,Le(I6)),Wo(ar(t),Le(I6)),(n,i)=>({start:n,end:i}))},cL=(e,t,n)=>{const i=sL(t,lL(e));tt(i,u=>{aL(e,u.entries,n);const m=NT(e,u.entries);tt(m,y=>{hb(e,n==="Indent"?"IndentList":"OutdentList",y.dom)}),Xd(u.sourceList,m),ts(u.sourceList)})},y$=e=>nD(e).forall(t=>{const n=e.selection.getSelectedBlocks();return Rn(n,i=>Pc(xe.fromDom(i),"li").forall(u=>de(u,"ol,ul").length<=t))}),Xm=Kn.DOM,dL=(e,t,n)=>{const i=N=>{const j=N.parentNode;j&&bt.each(u,W=>{j.insertBefore(W,n.parentNode)}),Xm.remove(N)},u=Xm.select('span[data-mce-type="bookmark"]',t),m=OT(e,n),y=Xm.createRng();y.setStartAfter(n),y.setEndAfter(t);const _=y.extractContents();for(let N=_.firstChild;N;N=N.firstChild)if(N.nodeName==="LI"&&e.dom.isEmpty(N)){Xm.remove(N);break}e.dom.isEmpty(_)||Xm.insertAfter(_,t),Xm.insertAfter(m,t);const E=n.parentElement;E&&Ny(e.dom,E)&&i(E),Xm.remove(n),Ny(e.dom,t)&&Xm.remove(t)},nS=ms("dd"),RT=ms("dt"),uL=(e,t)=>{nS(t)?Rc(t,"dt"):RT(t)&&pd(t).each(n=>dL(e,n.dom,t.dom))},LT=e=>{RT(e)&&Rc(e,"dd")},x$=(e,t,n)=>{t==="Indent"?tt(n,LT):tt(n,i=>uL(e,i))},fL=(e,t)=>{const n=Xa(L6(e)),i=Xa(h$(e));let u=!1;if(n.length||i.length){const m=e.selection.getBookmark();cL(e,n,t),x$(e,t,i),e.selection.moveToBookmark(m),e.selection.setRng(QC(e.selection.getRng())),e.nodeChanged(),u=!0}return u},BT=(e,t)=>!m$(e)&&fL(e,t),PT=e=>BT(e,"Indent"),sS=e=>BT(e,"Outdent"),rS=e=>BT(e,"Flatten"),$x=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},v$=(e,t,n)=>{const i=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",i)},Tu=(e,t)=>{bt.each(t,(n,i)=>{e.setAttribute(i,n)})},s=(e,t,n)=>{Tu(t,n["list-attributes"]),bt.each(e.select("li",t),i=>{Tu(i,n["list-item-attributes"])})},l=(e,t,n)=>{v$(e,t,n),s(e,t,n)},f=(e,t,n)=>{bt.each(n,i=>e.setStyle(t,i,""))},p=(e,t)=>Me(t)&&!bk(t,e.schema.getBlockElements()),b=(e,t,n,i)=>{let u=t[n?"startContainer":"endContainer"];const m=t[n?"startOffset":"endOffset"];qC(u)&&(u=u.childNodes[Math.min(m,u.childNodes.length-1)]||u),!n&&My(u.nextSibling)&&(u=u.nextSibling);const y=E=>{for(;!e.dom.isBlock(E)&&E.parentNode&&i!==E;)E=E.parentNode;return E},_=(E,N)=>{var ne;const j=new Dr(E,y(E)),W=N?"next":"prev";let q;for(;q=j[W]();)if(!(d$(e,q)||fa(q.textContent)||((ne=q.textContent)==null?void 0:ne.length)===0))return G.some(q);return G.none()};if(n&&Ap(u))if(fa(u.textContent))u=_(u,!1).getOr(u);else for(u.parentNode!==null&&p(e,u.parentNode)&&(u=u.parentNode);u.previousSibling!==null&&(p(e,u.previousSibling)||Ap(u.previousSibling));)u=u.previousSibling;if(!n&&Ap(u))if(fa(u.textContent))u=_(u,!0).getOr(u);else for(u.parentNode!==null&&p(e,u.parentNode)&&(u=u.parentNode);u.nextSibling!==null&&(p(e,u.nextSibling)||Ap(u.nextSibling));)u=u.nextSibling;for(;u.parentNode!==i;){const E=u.parentNode;if(GC(e,u)||/^(TD|TH)$/.test(E.nodeName))return u;u=E}return u},v=(e,t,n)=>{const i=[],u=e.dom,m=b(e,t,!0,n),y=b(e,t,!1,n);let _;const E=[];for(let N=m;N&&(E.push(N),N!==y);N=N.nextSibling);return bt.each(E,N=>{var W;if(GC(e,N)){i.push(N),_=null;return}if(u.isBlock(N)||My(N)){My(N)&&u.remove(N),_=null;return}const j=N.nextSibling;if(Y0.isBookmarkNode(N)&&(Au(j)||GC(e,j)||!j&&N.parentNode===n)){_=null;return}_||(_=u.create("p"),(W=N.parentNode)==null||W.insertBefore(_,N),i.push(_)),_.appendChild(N)}),i},C=(e,t,n)=>{const i=e.getStyle(t,"list-style-type");let u=n?n["list-style-type"]:"";return u=u===null?"":u,i===u},A=(e,t)=>{const n=e.selection.getStart(!0),i=b(e,t,!0,e.getBody());return Oo(xe.fromDom(i),xe.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:n},T=(e,t,n)=>{const i=e.selection.getRng();let u="LI";const m=Hx(e,A(e,i)),y=e.dom;if(y.getContentEditable(e.selection.getNode())==="false")return;t=t.toUpperCase(),t==="DL"&&(u="DT");const _=Zm(i),E=we(v(e,i,m),e.dom.isEditable);bt.each(E,N=>{let j;const W=N.previousSibling,q=N.parentNode;KC(q)||(W&&Au(W)&&W.nodeName===t&&C(y,W,n)?(j=W,N=y.rename(N,u),W.appendChild(N)):(j=y.create(t),q.insertBefore(j,N),j.appendChild(N),N=y.rename(N,u)),f(y,N,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),l(y,j,n),Z(e.dom,j))}),e.selection.setRng(_h(_))},M=(e,t)=>Au(e)&&e.nodeName===(t==null?void 0:t.nodeName),P=(e,t,n)=>{const i=e.getStyle(t,"list-style-type",!0),u=e.getStyle(n,"list-style-type",!0);return i===u},B=(e,t)=>e.className===t.className,H=(e,t,n)=>M(t,n)&&P(e,t,n)&&B(t,n),Z=(e,t)=>{let n,i=t.nextSibling;if(H(e,t,i)){const u=i;for(;n=u.firstChild;)t.appendChild(n);e.remove(u)}if(i=t.previousSibling,H(e,t,i)){const u=i;for(;n=u.lastChild;)t.insertBefore(n,t.firstChild);e.remove(u)}},X=(e,t,n,i)=>{if(t.nodeName!==n){const u=e.dom.rename(t,n);l(e.dom,u,i),hb(e,$x(n),u)}else l(e.dom,t,i),hb(e,$x(n),t)},le=(e,t,n,i)=>{if(t.classList.forEach((u,m,y)=>{u.startsWith("tox-")&&(y.remove(u),y.length===0&&t.removeAttribute("class"))}),t.nodeName!==n){const u=e.dom.rename(t,n);l(e.dom,u,i),hb(e,$x(n),u)}else l(e.dom,t,i),hb(e,$x(n),t)},se=(e,t,n,i,u)=>{const m=Au(t);if(m&&t.nodeName===i&&!ae(u)&&!xk(t))rS(e);else{T(e,i,u);const y=Zm(e.selection.getRng()),_=m?[t,...n]:n,E=m&&xk(t)?le:X;bt.each(_,N=>{E(e,N,i,u)}),e.selection.setRng(_h(y))}},ae=e=>"list-style-type"in e,te=(e,t,n,i)=>{if(t!==e.getBody())if(t)if(t.nodeName===n&&!ae(i)&&!xk(t))rS(e);else{const u=Zm(e.selection.getRng());xk(t)&&t.classList.forEach((y,_,E)=>{y.startsWith("tox-")&&(E.remove(y),E.length===0&&t.removeAttribute("class"))}),l(e.dom,t,i);const m=e.dom.rename(t,n);Z(e.dom,m),e.selection.setRng(_h(u)),T(e,n,i),hb(e,$x(n),m)}else T(e,n,i),hb(e,$x(n),t)},oe=(e,t,n)=>{const i=yk(e);if(zf(e,i))return;const u=u$(e),m=ge(n)?n:{};u.length>0?se(e,i,u,t,m):te(e,i,t,m)},ue=(e,t,n,i)=>{let u=t.startContainer;const m=t.startOffset;if(Ap(u)&&(n?m<u.data.length:m>0))return u;const y=e.schema.getNonEmptyElements();qC(u)&&(u=bf.getNode(u,m));const _=new Dr(u,i);n&&YC(e.dom,u)&&_.next();const E=n?_.next.bind(_):_.prev2.bind(_);for(;u=E();)if(u.nodeName==="LI"&&!u.hasChildNodes()||y[u.nodeName]||Ap(u)&&u.data.length>0)return u;return null},pe=(e,t)=>{const n=t.childNodes;return n.length===1&&!Au(n[0])&&e.isBlock(n[0])},Oe=e=>G.from(e).map(xe.fromDom).filter(hd).exists(t=>Qa(t)&&!Qo(["details"],Xo(t))),Te=(e,t)=>{pe(e,t)&&Oe(t.firstChild)&&e.remove(t.firstChild,!0)},De=(e,t,n)=>{let i;const u=pe(e,n)?n.firstChild:n;if(Te(e,t),!Ny(e,t,!0))for(;i=t.firstChild;)u.appendChild(i)},et=(e,t,n)=>{let i;const u=t.parentNode;if(!A6(e,t)||!A6(e,n))return;Au(n.lastChild)&&(i=n.lastChild),u===n.lastChild&&My(u.previousSibling)&&e.remove(u.previousSibling);const m=n.lastChild;m&&My(m)&&t.hasChildNodes()&&e.remove(m),Ny(e,n,!0)&&eu(xe.fromDom(n)),De(e,t,n),i&&n.appendChild(i);const _=pr(xe.fromDom(n),xe.fromDom(t))?e.getParents(t,Au,n):[];e.remove(t),tt(_,E=>{Ny(e,E)&&E!==e.getRoot()&&e.remove(E)})},nt=(e,t,n)=>{eu(xe.fromDom(n)),et(e.dom,t,n),e.selection.setCursorLocation(n,0)},Ye=(e,t,n,i)=>{const u=e.dom;if(u.isEmpty(i))nt(e,n,i);else{const m=Zm(t);et(u,n,i),e.selection.setRng(_h(m))}},st=(e,t,n,i)=>{const u=Zm(t);et(e.dom,n,i);const m=_h(u);e.selection.setRng(m)},wt=(e,t)=>{const n=e.dom,i=e.selection,u=i.getStart(),m=JC(e,u),y=n.getParent(i.getStart(),"LI",m);if(y){const _=y.parentElement;if(_===e.getBody()&&Ny(n,_))return!0;const E=QC(i.getRng()),N=n.getParent(ue(e,E,t,m),"LI",m),j=N&&(t?n.isChildOf(y,N):n.isChildOf(N,y));if(N&&N!==y&&!j)return e.undoManager.transact(()=>{t?Ye(e,E,N,y):c$(y)?sS(e):st(e,E,y,N)}),!0;if(j&&!t&&N!==y){const W=E.commonAncestorContainer.parentElement;return!W||n.isChildOf(N,W)?!1:(e.undoManager.transact(()=>{const q=Zm(E);De(n,W,N),W.remove();const ne=_h(q);e.selection.setRng(ne)}),!0)}else if(!N&&!t&&E.startOffset===0&&E.endOffset===0)return e.undoManager.transact(()=>{rS(e)}),!0}return!1},Gt=(e,t,n)=>{const i=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),i&&e.isEmpty(i)&&e.remove(i)},uo=(e,t)=>{const n=e.dom,i=e.selection.getStart(),u=JC(e,i),m=n.getParent(i,n.isBlock,u);if(m&&n.isEmpty(m,void 0,{checkRootAsContent:!0})){const y=QC(e.selection.getRng()),_=ue(e,y,t,u),E=n.getParent(_,"LI",u);if(_&&E){const N=ne=>Qo(["td","th","caption"],Xo(ne)),j=ne=>ne.dom===u,W=ya(xe.fromDom(E),N,j),q=ya(xe.fromDom(y.startContainer),N,j);return Wf(W,q,cn)?(e.undoManager.transact(()=>{const ne=E.parentNode;Gt(n,m,u),Z(n,ne),e.selection.select(_,!0),e.selection.collapse(t)}),!0):!1}}return!1},Eo=(e,t)=>wt(e,t)||uo(e,t),rn=e=>{const t=e.selection.getStart(),n=JC(e,t),i=e.dom.getParent(t,"LI,DT,DD",n);return Me(i)||ET(e).length>0},$n=e=>rn(e)?(e.undoManager.transact(()=>{let t=!0;const n=()=>t=!1;e.on("input",n),e.execCommand("Delete"),e.off("input",n),t&&e.dispatch("input"),XC(e.dom,e.getBody())}),!0):!1,ns=(e,t)=>{const n=e.selection;return!zf(e,n.getNode())&&(n.isCollapsed()?Eo(e,t):$n(e))},xo=(e,t)=>({block:e,position:t}),ss=(e,t)=>({from:e,to:t}),vo=(e,t)=>{const n=xe.fromDom(e),i=xe.fromDom(t.container());return Nw(n,i).map(u=>xo(u,t))},Fs=e=>!(pr(e.to.block,e.from.block)||pr(e.from.block,e.to.block)),Wn=e=>!cn(e.from.block,e.to.block),vi=(e,t)=>ya(t,u=>Ig(u)||ol(u.dom),u=>cn(u,e)).filter(mr).getOr(e),Es=(e,t)=>{const n=xe.fromDom(e);return cn(vi(n,t.from.block),vi(n,t.to.block))},yc=e=>us(e.from.block.dom)===!1&&us(e.to.block.dom)===!1,dl=e=>{const t=n=>Pg(n)||Tg(n.dom)||fh(n);return t(e.from.block)&&t(e.to.block)},Wl=(e,t,n,i)=>nr(i.position.getNode())&&!Ha(e,i.block)?U0(!1,i.block.dom).bind(u=>u.isEqual(i.position)?yu(n,t,u).bind(m=>vo(t,m)):G.some(i)).getOr(i):i,Qm=(e,t,n,i)=>{const u=vo(t,it.fromRangeStart(i)),m=u.bind(y=>yu(n,t,y.position).bind(_=>vo(t,_).map(E=>Wl(e,t,n,E))));return Gs(u,m,ss).filter(y=>Wn(y)&&Es(t,y)&&yc(y)&&dl(y)&&Fs(y))},Vx=(e,t,n,i)=>i.collapsed?Qm(e,t,n,i):G.none(),iS=(e,t)=>{const n=ln(e);return Xn(n,i=>t.isBlock(Xo(i))).fold(ft(n),i=>n.slice(0,i))},Df=(e,t)=>{const n=iS(e,t);return tt(n,ts),n},mb=(e,t,n)=>{const i=kh(n,t);return Wo(i.reverse(),u=>Ha(e,u)).each(ts)},Tp=(e,t)=>we(_s(t),n=>!Ha(e,n)).length===0,jx=(e,t,n,i,u)=>{if(Ha(i,n))return uf(n),_l(n.dom);Tp(i,u)&&Ha(i,t)&&ii(u,xe.fromTag("br"));const m=qc(n.dom,it.before(u.dom));return tt(Df(t,i),y=>{ii(u,y)}),mb(i,e,t),m},Ux=(e,t)=>e.isInline(Xo(t)),gb=(e,t,n,i)=>{if(Ha(i,n)){if(Ha(i,t)){const y=Yt((_=>{const E=(N,j)=>bl(N).fold(()=>j,W=>Ux(i,W)?E(W,j.concat(ga(W))):j);return E(_,[])})(n),(_,E)=>(Ar(_,E),E),Om());eu(t),un(t,y)}return ts(n),_l(t.dom)}const u=xu(n.dom);return tt(Df(t,i),m=>{un(n,m)}),mb(i,e,t),u},Wx=(e,t)=>{const n=kh(t,e);return G.from(n[n.length-1])},By=(e,t)=>pr(t,e)?Wx(t,e):G.none(),Zx=(e,t)=>{U0(e,t.dom).bind(n=>G.from(n.getNode())).map(xe.fromDom).filter(Fl).each(ts)},qx=(e,t,n,i)=>(Zx(!0,t),Zx(!1,n),By(t,n).fold(Tt(gb,e,t,n,i),Tt(jx,e,t,n,i))),Py=(e,t,n,i,u)=>t?qx(e,i,n,u):qx(e,n,i,u),Op=(e,t)=>{const n=xe.fromDom(e.getBody());return Vx(e.schema,n.dom,t,e.selection.getRng()).map(u=>()=>{Py(n,t,u.from.block,u.to.block,e.schema).each(m=>{e.selection.setRng(m.toRange())})})},Cn=(e,t,n)=>{const i=t.getRng();return Gs(Nw(e,xe.fromDom(i.startContainer)),Nw(e,xe.fromDom(i.endContainer)),(u,m)=>cn(u,m)?G.none():G.some(()=>{i.deleteContents(),Py(e,!0,u,m,n).each(y=>{t.setRng(y.toRange())})})).getOr(G.none())},Ou=(e,t)=>{const n=xe.fromDom(t),i=Tt(cn,e);return ea(n,Ig,i).isSome()},Sh=(e,t)=>Ou(e,t.startContainer)||Ou(e,t.endContainer),hL=(e,t)=>{const n=qc(e.dom,it.fromRangeStart(t)).isNone(),i=Vl(e.dom,it.fromRangeEnd(t)).isNone();return!Sh(e,t)&&n&&i},pL=e=>G.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),IT=e=>{const t=xe.fromDom(e.getBody()),n=e.selection.getRng();return hL(t,n)?pL(e):Cn(t,e.selection,e.schema)},aS=(e,t)=>e.selection.isCollapsed()?G.none():IT(e),Mf=(e,t,n,i,u)=>G.from(t._selectionOverrides.showCaret(e,n,i,u)),lS=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},zu=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?G.none():G.some(lS(t)),Kx=(e,t,n)=>{const i=oA(1,e.getBody(),t),u=it.fromRangeStart(i),m=u.getNode();if(G1(m))return Mf(1,e,m,!u.isAtEnd(),!1);const y=u.getNode(!0);if(G1(y))return Mf(1,e,y,!1,!1);const _=tb(e.dom.getRoot(),u.getNode());return G1(_)?Mf(1,e,_,!1,n):G.none()},wk=(e,t,n)=>t.collapsed?Kx(e,t,n).getOr(t):t,FT=e=>$m(e)||Jg(e),w$=e=>Vm(e)||sy(e),cS=(e,t)=>{_t(t)&&t.data.length===0&&e.remove(t)},kk=(e,t,n,i,u,m)=>{Mf(i,e,m.getNode(!u),u,!0).each(y=>{if(t.collapsed){const _=t.cloneRange();u?_.setEnd(y.startContainer,y.startOffset):_.setStart(y.endContainer,y.endOffset),_.deleteContents()}else t.deleteContents();e.selection.setRng(y)}),cS(e.dom,n)},k$=(e,t)=>{const n=e.selection.getRng();if(!_t(n.commonAncestorContainer))return G.none();const i=t?1:-1,u=pp(e.getBody()),m=Tt($0,t?u.next:u.prev),y=t?FT:w$,_=J1(i,e.getBody(),n),E=m(_),N=E&&ku(t,E);if(!N||!gf(_,N))return G.none();if(y(N))return G.some(()=>kk(e,n,_.getNode(),i,t,N));const j=m(N);return j&&y(j)&&gf(N,j)?G.some(()=>kk(e,n,_.getNode(),i,t,j)):G.none()},Iy=(e,t)=>k$(e,t),HT=(e,t)=>{const n=e.getBody();return t?_l(n).filter($m):xu(n).filter(Vm)},Za=e=>{const t=e.selection.getRng();return!t.collapsed&&(HT(e,!0).exists(n=>n.isEqual(it.fromRangeStart(t)))||HT(e,!1).exists(n=>n.isEqual(it.fromRangeEnd(t))))},Gx=e=>Me(e)&&(Ig(xe.fromDom(e))||fh(xe.fromDom(e))),Ld=Yl.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),mL=(e,t)=>{const n=t.getNode(!e),i=e?"after":"before";return eo(n)&&n.getAttribute("data-mce-caret")===i},$T=(e,t,n,i,u)=>{const m=y=>u.isInline(y.nodeName.toLowerCase())&&!Ti(n,i,e);return xD(!t,n).fold(()=>xD(t,i).fold(_o,m),m)},VT=(e,t,n,i,u)=>{const m=u.getNode(!n);return Nw(xe.fromDom(t),xe.fromDom(i.getNode())).map(y=>Ha(e,y)?Ld.remove(y.dom):Ld.moveToElement(m)).orThunk(()=>G.some(Ld.moveToElement(m)))},jT=(e,t,n,i)=>yu(t,e,n).bind(u=>Gx(u.getNode())||$T(e,t,n,u,i)?G.none():t&&us(u.getNode())||!t&&us(u.getNode(!0))?VT(i,e,t,n,u):t&&Vm(n)||!t&&$m(n)?G.some(Ld.moveToPosition(u)):G.none()),zp=(e,t)=>Kt(t)?G.none():e&&us(t.nextSibling)?G.some(Ld.moveToElement(t.nextSibling)):!e&&us(t.previousSibling)?G.some(Ld.moveToElement(t.previousSibling)):G.none(),Yx=(e,t,n)=>n.fold(i=>G.some(Ld.remove(i)),i=>G.some(Ld.moveToElement(i)),i=>Ti(t,i,e)?G.none():G.some(Ld.moveToPosition(i))),gL=(e,t,n,i)=>mL(t,n)?zp(t,n.getNode(!t)).orThunk(()=>jT(e,t,n,i)):jT(e,t,n,i).bind(u=>Yx(e,n,u)),bL=(e,t,n,i)=>{const u=oA(t?1:-1,e,n),m=it.fromRangeStart(u),y=xe.fromDom(e);return!t&&Vm(m)?G.some(Ld.remove(m.getNode(!0))):t&&$m(m)?G.some(Ld.remove(m.getNode())):!t&&$m(m)&&Ew(y,m,i)?GA(y,m,i).map(_=>Ld.remove(_.getNode())):t&&Vm(m)&&A2(y,m,i)?BM(y,m,i).map(_=>Ld.remove(_.getNode())):gL(e,t,m,i)},UT=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),vf(e,t,xe.fromDom(n)),!0),yL=(e,t)=>n=>{const i=t?it.before(n):it.after(n);return e.selection.setRng(i.toRange()),!0},Jm=e=>t=>(e.selection.setRng(t.toRange()),!0),WT=(e,t)=>G.from(tb(e.getBody(),t)),xL=(e,t)=>{const n=e.selection.getNode();return WT(e,n).filter(us).fold(()=>bL(e.getBody(),t,e.selection.getRng(),e.schema).map(i=>()=>i.fold(UT(e,t),yL(e,t),Jm(e))),()=>G.some(Ft))},vL=e=>{tt(Ae(e,".mce-offscreen-selection"),ts)},wL=(e,t)=>{const n=e.selection.getNode();return us(n)&&!xm(n)?WT(e,n.parentNode).filter(us).fold(()=>G.some(()=>{vL(xe.fromDom(e.getBody())),vf(e,t,xe.fromDom(e.selection.getNode())),R2(e)}),()=>G.some(Ft)):Za(e)?G.some(()=>{Rw(e,e.selection.getRng(),xe.fromDom(e.getBody()))}):G.none()},kL=e=>{const t=e.dom,n=e.selection,i=tb(e.getBody(),n.getNode());if(ol(i)&&t.isBlock(i)&&t.isEmpty(i)){const u=t.create("br",{"data-mce-bogus":"1"});t.setHTML(i,""),i.appendChild(u),n.setRng(it.before(u).toRange())}return!0},Ze=(e,t)=>e.selection.isCollapsed()?xL(e,t):wL(e,t),tn=(e,t)=>{var _;const n=e.dom,i=n.getParent(e.selection.getStart(),n.isBlock),u=n.getParent(e.selection.getEnd(),n.isBlock),m=e.getBody();if(((_=i==null?void 0:i.nodeName)==null?void 0:_.toLowerCase())==="div"&&i&&u&&i===m.firstChild&&u===m.lastChild&&!n.isEmpty(m)){const E=i.cloneNode(!1),N=()=>{if(t?XM(e):vx(e),m.firstChild!==i){const j=Zm(e.selection.getRng(),()=>document.createElement("span"));Array.from(m.childNodes).forEach(W=>E.appendChild(W)),m.appendChild(E),e.selection.setRng(_h(j))}};return G.some(N)}return G.none()},Po=(e,t)=>{const n=it.fromRangeStart(e.selection.getRng());return yu(t,e.getBody(),n).filter(i=>t?HA(i):$A(i)).bind(i=>q_(t?0:-1,i)).map(i=>()=>e.selection.select(i))},Rs=(e,t)=>e.selection.isCollapsed()?Po(e,t):G.none(),Hs=_t,vs=e=>Hs(e)&&e.data[0]===ui,qa=e=>Hs(e)&&e.data[e.data.length-1]===ui,eg=e=>(e.ownerDocument??document).createTextNode(ui),Dp=e=>{var t;if(Hs(e.previousSibling))return qa(e.previousSibling)||e.previousSibling.appendData(ui),e.previousSibling;if(Hs(e))return vs(e)||e.insertData(0,ui),e;{const n=eg(e);return(t=e.parentNode)==null||t.insertBefore(n,e),n}},ZT=e=>{var t,n;if(Hs(e.nextSibling))return vs(e.nextSibling)||e.nextSibling.insertData(0,ui),e.nextSibling;if(Hs(e))return qa(e)||e.appendData(ui),e;{const i=eg(e);return e.nextSibling?(t=e.parentNode)==null||t.insertBefore(i,e.nextSibling):(n=e.parentNode)==null||n.appendChild(i),i}},ul=(e,t)=>e?Dp(t):ZT(t),_L=Tt(ul,!0),CL=Tt(ul,!1),zU=(e,t)=>_t(e.container())?ul(t,e.container()):ul(t,e.getNode()),DU=(e,t)=>{const n=t.get();return n&&e.container()===n&&hh(n)},_$=(e,t)=>t.fold(n=>{Zg(e.get());const i=_L(n);return e.set(i),G.some(it(i,i.length-1))},n=>_l(n).map(i=>{if(DU(i,e)){const u=e.get();return it(u,1)}else{Zg(e.get());const u=zU(i,!0);return e.set(u),it(u,1)}}),n=>xu(n).map(i=>{if(DU(i,e)){const u=e.get();return it(u,u.length-1)}else{Zg(e.get());const u=zU(i,!1);return e.set(u),it(u,u.length-1)}}),n=>{Zg(e.get());const i=CL(n);return e.set(i),G.some(it(i,1))}),MU=(e,t)=>{for(let n=0;n<e.length;n++){const i=e[n].apply(null,t);if(i.isSome())return i}return G.none()},Xc=Yl.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),NU=(e,t)=>{const n=qg(t,e);return n||e},roe=(e,t,n)=>{const i=vp(n),u=NU(t,i.container());return Wm(e,u,i).fold(()=>Vl(u,i).bind(Tt(Wm,e,u)).map(m=>Xc.before(m)),G.none)},ioe=(e,t)=>Lm(e,t)===null,RU=(e,t,n)=>Wm(e,t,n).filter(Tt(ioe,t)),aoe=(e,t,n)=>{const i=xx(n);return RU(e,t,i).bind(u=>qc(u,i).isNone()?G.some(Xc.start(u)):G.none())},loe=(e,t,n)=>{const i=vp(n);return RU(e,t,i).bind(u=>Vl(u,i).isNone()?G.some(Xc.end(u)):G.none())},coe=(e,t,n)=>{const i=xx(n),u=NU(t,i.container());return Wm(e,u,i).fold(()=>qc(u,i).bind(Tt(Wm,e,u)).map(m=>Xc.after(m)),G.none)},LU=e=>!mc(C$(e)),bb=(e,t,n)=>MU([roe,aoe,loe,coe],[e,t,n]).filter(LU),C$=e=>e.fold(To,To,To,To),BU=e=>e.fold(ft("before"),ft("start"),ft("end"),ft("after")),SL=e=>e.fold(Xc.before,Xc.before,Xc.after,Xc.after),S$=e=>e.fold(Xc.start,Xc.start,Xc.end,Xc.end),doe=(e,t)=>BU(e)===BU(t)&&C$(e)===C$(t),uoe=(e,t,n,i,u,m)=>Gs(Wm(t,n,i),Wm(t,n,u),(y,_)=>y!==_&&Kc(n,y,_)?Xc.after(e?y:_):m).getOr(m),foe=(e,t)=>e.fold(fo,n=>!doe(n,t)),hoe=(e,t,n,i,u)=>{const m=ku(e,u);return yu(e,n,m).map(Tt(ku,e)).fold(()=>i.map(SL),E=>bb(t,n,E).map(Tt(uoe,e,t,n,m,E)).filter(Tt(foe,i))).filter(LU)},poe=(e,t)=>e?t.fold(zo(G.some,Xc.start),G.none,zo(G.some,Xc.after),G.none):t.fold(G.none,zo(G.some,Xc.before),G.none,zo(G.some,Xc.end)),moe=(e,t,n,i)=>{const u=ku(e,i),m=bb(t,n,u);return bb(t,n,u).bind(Tt(poe,e)).orThunk(()=>hoe(e,t,n,m,i))},goe=e=>yt(e.selection.getSel().modify),PU=(e,t,n)=>{const i=e?1:-1;return t.setRng(it(n.container(),n.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},boe=(e,t)=>{const n=t.selection.getRng(),i=e?it.fromRangeEnd(n):it.fromRangeStart(n);return goe(t)?e&&M0(i)?PU(!0,t.selection,i):!e&&N0(i)?PU(!1,t.selection,i):!1:!1};var yb;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(yb||(yb={}));const EL=(e,t)=>e===-1?ar(t):t,yoe=(e,t,n)=>e===1?t.next(n):t.prev(n),xoe=(e,t,n,i)=>nr(i.getNode(t===1))?yb.Br:Ti(n,i)===!1?yb.Block:yb.Wrap,IU=(e,t,n,i)=>{const u=pp(n);let m=i;const y=[];for(;m;){const _=yoe(t,u,m);if(!_)break;if(nr(_.getNode(!1)))return t===1?{positions:EL(t,y).concat([_]),breakType:yb.Br,breakAt:G.some(_)}:{positions:EL(t,y),breakType:yb.Br,breakAt:G.some(_)};if(!_.isVisible()){m=_;continue}if(e(m,_)){const E=xoe(n,t,m,_);return{positions:EL(t,y),breakType:E,breakAt:G.some(_)}}y.push(_),m=_}return{positions:EL(t,y),breakType:yb.Eol,breakAt:G.none()}},FU=(e,t,n,i)=>t(n,i).breakAt.map(u=>{const m=t(n,u).positions;return e===-1?m.concat(u):[u].concat(m)}).getOr([]),E$=(e,t)=>Dt(e,(n,i)=>n.fold(()=>G.some(i),u=>Gs(ls(u.getClientRects()),ls(i.getClientRects()),(m,y)=>{const _=Math.abs(t-m.left);return Math.abs(t-y.left)<=_?i:u}).or(n)),G.none()),AL=(e,t)=>ls(t.getClientRects()).bind(n=>E$(e,n.left)),qT=Tt(IU,it.isAbove,-1),KT=Tt(IU,it.isBelow,1),HU=Tt(FU,-1,qT),$U=Tt(FU,1,KT),A$=(e,t)=>qT(e,t).breakAt.isNone(),T$=(e,t)=>KT(e,t).breakAt.isNone(),voe=e=>_l(e).map(t=>[t].concat(KT(e,t).positions)).getOr([]),woe=e=>xu(e).map(t=>qT(e,t).positions.concat(t)).getOr([]),VU=(e,t)=>AL(HU(e,t),t),jU=(e,t)=>AL($U(e,t),t),koe=us,UU=(e,t)=>Math.abs(e.left-t),WU=(e,t)=>Math.abs(e.right-t),_oe=e=>je(e,"node"),ZU=(e,t)=>Ac(e,(n,i)=>{const u=Math.min(UU(n,t),WU(n,t)),m=Math.min(UU(i,t),WU(i,t));return m===u&&_oe(i)&&koe(i.node)||m<u?i:n}),Coe=e=>{const t=n=>Do(n,i=>{const u=S(i);return u.node=e,u});if(eo(e))return t(e.getClientRects());if(_t(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},qU=e=>Ds(e,Coe);var _k;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(_k||(_k={}));const Soe=(e,t,n,i)=>{let u=i;for(;u=sw(u,e,Ai,t);)if(n(u))return},KU=(e,t,n,i,u,m)=>{let y=0;const _=[],E=W=>{let q=qU([W]);e===_k.Up&&(q=q.reverse());for(let ne=0;ne<q.length;ne++){const me=q[ne];if(!n(me,N)){if(_.length>0&&t(me,Wr(_))&&y++,me.line=y,u(me))return!0;_.push(me)}}return!1},N=Wr(m.getClientRects());if(!N)return _;const j=m.getNode();return j&&(E(j),Soe(e,i,E,j)),_},Eoe=(e,t)=>t.line>e,Aoe=(e,t)=>t.line===e,Toe=Tt(KU,_k.Up,U,Q),Ooe=Tt(KU,_k.Down,Q,U),GU=e=>Wr(e.getClientRects()),zoe=(e,t,n,i)=>{const u=pp(t);let m,y,_,E;const N=[];let j=0;e===_k.Down?(m=u.next,y=Q,_=U,E=it.after(i)):(m=u.prev,y=U,_=Q,E=it.before(i));const W=GU(E);do{if(!E.isVisible())continue;const q=GU(E);if(_(q,W))continue;N.length>0&&y(q,Wr(N))&&j++;const ne=S(q);if(ne.position=E,ne.line=j,n(ne))return N;N.push(ne)}while(E=m(E));return N},YU=e=>t=>Eoe(e,t),O$=e=>t=>Aoe(e,t),xb=(e,t)=>{e.selection.setRng(t),vw(e,e.selection.getRng())},z$=(e,t,n)=>G.some(wk(e,t,n)),XU=(e,t)=>{const n=e.getNode(t===-1);return Me(n)&&$l(n)?G.some(n):G.none()},QU=(e,t)=>{const n=e.dom.createRng();return n.selectNode(t),n},JU=(e,t,n,i,u,m)=>{const y=t===1,_=pp(e.getBody()),E=Tt($0,y?_.next:_.prev),N=y?i:u;if(!n.collapsed){const me=Ce(n);if(m(me))if($l(me)){const ce=J1(t,e.getBody(),n);return G.from(E(ce)).map(be=>be.toRange())}else return Mf(t,e,me,t===-1,!1);else if(Za(e)){const ce=n.cloneRange();return ce.collapse(t===-1),G.from(ce)}}const j=J1(t,e.getBody(),n);if(N(j))return zu(e,j.getNode(!y));let W=E(j);const q=Zc(n);if(W)W=ku(y,W);else return q?G.some(n):G.none();if(N(W))return XU(W,t).fold(()=>Mf(t,e,W==null?void 0:W.getNode(!y),y,!1),me=>G.some(QU(e,me)));const ne=E(W);return ne&&N(ne)&&gf(W,ne)?XU(W,t).fold(()=>Mf(t,e,ne.getNode(!y),y,!1),me=>G.some(QU(e,me))):q?z$(e,W.toRange(),!1):G.none()},eW=(e,t,n,i,u,m)=>{const y=J1(t,e.getBody(),n),_=Wr(y.getClientRects()),E=t===_k.Down,N=e.getBody();if(!_)return G.none();if(Za(e)){const be=E?it.fromRangeEnd(n):it.fromRangeStart(n);return(E?jU:VU)(N,be).orThunk(()=>G.from(be)).map(Pe=>Pe.toRange())}const W=(E?Ooe:Toe)(N,YU(1),y),q=we(W,O$(1)),ne=_.left,me=ZU(q,ne);if(me&&m(me.node)){const be=Math.abs(ne-me.left),Be=Math.abs(ne-me.right);return Mf(t,e,me.node,be<Be,!1)}let ce;if(i(y)?ce=y.getNode():u(y)?ce=y.getNode(!0):ce=Ce(n),ce){const be=zoe(t,N,YU(1),ce);let Be=ZU(we(be,O$(1)),ne);if(Be||(Be=Wr(we(be,O$(0))),Be))return z$(e,Be.position.toRange(),!1)}return q.length===0?D$(e,E).filter(E?u:i).map(be=>wk(e,be.toRange(),!1)):G.none()},D$=(e,t)=>{const n=e.selection.getRng(),i=t?it.fromRangeEnd(n):it.fromRangeStart(n),u=sI(i.container(),e.getBody());if(t){const m=KT(u,i);return Ls(m.positions)}else{const m=qT(u,i);return ls(m.positions)}},tW=(e,t,n)=>D$(e,t).filter(n).exists(i=>(e.selection.setRng(i.toRange()),!0)),TL=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},oW=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},nW=(e,t,n)=>_$(t,n).map(i=>(TL(e,i),n)),Doe=(e,t,n)=>{const i=it.fromRangeStart(e);if(e.collapsed)return i;{const u=it.fromRangeEnd(e);return n?qc(t,u).getOr(u):Vl(t,i).getOr(i)}},Moe=(e,t,n)=>{const i=e.getBody(),u=Doe(e.selection.getRng(),i,n),m=Tt(Ul,e);return moe(n,m,i,u).bind(_=>nW(e,t,_))},Noe=(e,t,n)=>{const i=Do(Ae(xe.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),y=>y.dom),u=we(i,e),m=we(n,e);tt(lr(u,m),Tt(oW,!1)),tt(lr(m,u),Tt(oW,!0))},Roe=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const i=it.fromRangeStart(e.selection.getRng());it.isTextPosition(i)&&!Ns(i)&&(TL(e,XE(n,i)),t.set(null))}},Loe=(e,t,n,i)=>{if(t.selection.isCollapsed()){const u=we(i,e);tt(u,m=>{const y=it.fromRangeStart(t.selection.getRng());bb(e,t.getBody(),y).bind(_=>nW(t,n,_))})}},sW=(e,t,n)=>q1(e)?Moe(e,t,n).isSome():!1,rW=(e,t,n)=>q1(t)?boe(e,t):!1,Boe=e=>{const t=Mn(null),n=Tt(Ul,e);return e.on("NodeChange",i=>{q1(e)&&(Noe(n,e.dom,i.parents),Roe(e,t),Loe(n,e,t,i.parents))}),t},Poe=Tt(rW,!0),Ioe=Tt(rW,!1),OL=(e,t,n)=>{if(q1(e)){const i=D$(e,t).getOrThunk(()=>{const u=e.selection.getRng();return t?it.fromRangeEnd(u):it.fromRangeStart(u)});return bb(Tt(Ul,e),e.getBody(),i).exists(u=>{const m=SL(u);return _$(n,m).exists(y=>(TL(e,y),!0))})}else return!1},Foe=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},Hoe=e=>Gs(_l(e),xu(e),(t,n)=>{const i=ku(!0,t),u=ku(!1,n);return Vl(e,i).forall(m=>m.isEqual(u))}).getOr(!0),iW=(e,t)=>n=>_$(t,n).map(i=>()=>TL(e,i)),aW=(e,t,n,i)=>{const u=e.getBody(),m=Tt(Ul,e);e.undoManager.ignore(()=>{e.selection.setRng(Foe(n,i)),vx(e),bb(m,u,it.fromRangeStart(e.selection.getRng())).map(S$).bind(iW(e,t)).each(to)}),e.nodeChanged()},$oe=(e,t)=>{const n=qg(t,e);return n||e},Voe=(e,t,n,i)=>{const u=$oe(e.getBody(),i.container()),m=Tt(Ul,e),y=bb(m,u,i);return y.bind(E=>n?E.fold(ft(G.some(S$(E))),G.none,ft(G.some(SL(E))),G.none):E.fold(G.none,ft(G.some(SL(E))),G.none,ft(G.some(S$(E))))).map(iW(e,t)).getOrThunk(()=>{const E=os(n,u,i),N=E.bind(j=>bb(m,u,j));return Gs(y,N,()=>Wm(m,u,i).bind(j=>Hoe(j)?G.some(()=>{vf(e,n,xe.fromDom(j))}):G.none())).getOrThunk(()=>N.bind(()=>E.map(j=>()=>{n?aW(e,t,i,j):aW(e,t,j,i)})))})},M$=(e,t,n)=>{if(e.selection.isCollapsed()&&q1(e)){const i=it.fromRangeStart(e.selection.getRng());return Voe(e,t,n,i)}return G.none()},joe=e=>eh(e)>1,lW=(e,t)=>{const n=xe.fromDom(e.getBody()),i=xe.fromDom(e.selection.getStart()),u=kh(i,n);return Xn(u,t).fold(ft(u),m=>u.slice(0,m))},Uoe=e=>eh(e)===1,Woe=e=>lW(e,t=>e.schema.isBlock(Xo(t))||joe(t)),Zoe=e=>lW(e,t=>e.schema.isBlock(Xo(t))),cW=(e,t)=>{const n=Tt(my,e);return Ds(t,i=>n(i)?[i.dom]:[])},N$=e=>{const t=Zoe(e);return cW(e,t)},qoe=(e,t,n,i)=>{const u=cW(t,i);if(u.length===0)vf(t,e,n);else{const m=f5(n.dom,u);t.selection.setRng(m.toRange())}},Koe=(e,t)=>{const n=we(Woe(e),Uoe);return Ls(n).bind(i=>{const u=it.fromRangeStart(e.selection.getRng());return L2(t,u,i.dom)&&!jl(i)?G.some(()=>qoe(t,e,i,n)):G.none()})},Goe=(e,t)=>{const n=t.parentElement;return nr(t)&&!Ve(n)&&e.dom.isEmpty(n)},Yoe=e=>jl(xe.fromDom(e)),dW=(e,t)=>{const n=e.selection.getStart(),i=Goe(e,n)||Yoe(n)?f5(n,t):E7(e.selection.getRng(),t);e.selection.setRng(i.toRange())},uW=(e,t)=>{const n=lr(t,N$(e));n.length>0&&dW(e,n)},fW=e=>_t(e.startContainer),Xoe=e=>e.startOffset===0&&fW(e),Qoe=(e,t)=>{const n=t.startContainer.parentElement;return!Ve(n)&&my(e,xe.fromDom(n))},Joe=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!Ve(t)&&!Ve(n)&&t.isEqualNode(n)},ene=e=>{const t=e.endContainer;return e.endOffset===(_t(t)?t.length:t.childNodes.length)},tne=e=>Joe(e)&&ene(e),one=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),nne=e=>tne(e)||one(e),sne=e=>{const t=e.selection.getRng();return Xoe(t)&&Qoe(e,t)&&nne(t)},rne=e=>{if(sne(e)){const t=N$(e);return G.some(()=>{vx(e),uW(e,t)})}else return G.none()},R$=(e,t)=>e.selection.isCollapsed()?Koe(e,t):rne(e),ine=(e,t)=>ut(e,n=>Ko(n.dom),n=>t.isBlock(Xo(n))),ane=e=>ine(xe.fromDom(e.selection.getStart()),e.schema),lne=e=>{const t=e.selection.getRng();return t.collapsed&&(fW(t)||e.dom.isEmpty(t.startContainer))&&!ane(e)},GT=e=>(lne(e)&&dW(e,[]),!0),L$=(e,t,n)=>Me(n)?G.some(()=>{e._selectionOverrides.hideFakeCaret(),vf(e,t,xe.fromDom(n))}):G.none(),cne=(e,t)=>{const n=t?Jg:sy,u=J1(t?1:-1,e.getBody(),e.selection.getRng());return n(u)?L$(e,t,u.getNode(!t)):G.from(ku(t,u)).filter(m=>n(m)&&gf(u,m)).bind(m=>L$(e,t,m.getNode(!t)))},dne=(e,t)=>{const n=e.selection.getNode();return nl(n)?L$(e,t,n):G.none()},B$=(e,t)=>e.selection.isCollapsed()?cne(e,t):dne(e,t),une=e=>ya(e,t=>ol(t.dom)||us(t.dom)).exists(t=>ol(t.dom)),P$=e=>qf(e??"").getOr(0),hW=(e,t)=>{const n=e||B1(t)?"margin":"padding",i=Pa(t,"direction")==="rtl"?"-right":"-left";return n+i},fne=(e,t,n,i,u,m)=>{const y=hW(n,xe.fromDom(m)),_=P$(e.getStyle(m,y));if(t==="outdent"){const E=Math.max(0,_-i);e.setStyle(m,y,E?E+u:"")}else{const E=_+i+u;e.setStyle(m,y,E)}},hne=(e,t)=>Sr(t,n=>{const i=hW(Lz(e),n),u=bd(n,i).map(P$).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&u>0}),pW=e=>{const t=gW(e);return!e.mode.isReadOnly()&&(t.length>1||hne(e,t))},pne=e=>!e.mode.isReadOnly()&&y$(e),mW=e=>di(e)||fh(e),mne=e=>pa(e).exists(mW),gW=e=>we(Xa(e.selection.getSelectedBlocks()),t=>!mW(t)&&!mne(t)&&une(t)),bW=(e,t)=>{var _;if(e.mode.isReadOnly())return;const{dom:n}=e,i=E8(e),u=((_=/[a-z%]+$/i.exec(i))==null?void 0:_[0])??"px",m=P$(i),y=Lz(e);tt(gW(e),E=>{fne(n,t,y,m,u,E.dom)}),t==="indent"?PT(e):sS(e)},gne=e=>bW(e,"indent"),yW=e=>bW(e,"outdent"),xW=e=>{if(e.selection.isCollapsed()&&pW(e)){const t=e.dom,n=e.selection.getRng(),i=it.fromRangeStart(n),u=t.getParent(n.startContainer,t.isBlock);if(u!==null&&bx(xe.fromDom(u),i,e.schema))return G.some(()=>yW(e))}return G.none()},bne=(e,t)=>{const n=oC(e.selection.getRng());return bI(n)?G.some(()=>vf(e,t,xe.fromDom(e.selection.getNode()))):G.none()},I$=(e,t)=>e.selection.isCollapsed()?G.none():bne(e,t),vW=(e,t,n)=>Tl([xW,Ze,Iy,(i,u)=>M$(i,t,u),Op,Z2,Rs,B$,aS,R$,tn,I$],i=>i(e,n)).filter(i=>e.selection.isEditable()),F$=(e,t)=>{vW(e,t,!1).fold(()=>{e.selection.isEditable()&&(vx(e),R2(e))},to),rn(e)&&XC(e.dom,e.getBody())},yne=(e,t)=>{vW(e,t,!0).fold(()=>{e.selection.isEditable()&&XM(e)},to),rn(e)&&XC(e.dom,e.getBody())},xne=(e,t)=>{e.addCommand("delete",()=>{F$(e,t)}),e.addCommand("forwardDelete",()=>{yne(e,t)})},wW=5,vne=400,kW=e=>e.touches===void 0||e.touches.length!==1?G.none():G.some(e.touches[0]),wne=(e,t)=>{const n=Math.abs(e.clientX-t.x),i=Math.abs(e.clientY-t.y);return n>wW||i>wW},kne=e=>{const t=Ql(),n=Mn(!1),i=Ud(u=>{e.dispatch("longpress",{...u,type:"longpress"}),n.set(!0)},vne);e.on("touchstart",u=>{kW(u).each(m=>{i.cancel();const y={x:m.clientX,y:m.clientY,target:u.target};i.throttle(u),n.set(!1),t.set(y)})},!0),e.on("touchmove",u=>{i.cancel(),kW(u).each(m=>{t.on(y=>{wne(m,y)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",u=>{i.cancel(),u.type!=="touchcancel"&&t.get().filter(m=>m.target.isEqualNode(u.target)).each(()=>{n.get()?u.preventDefault():e.dispatch("tap",{...u,type:"tap"})})},!0)},H$=(e,t)=>Io(e,t.nodeName),_ne=(e,t)=>_t(t)?!0:eo(t)?!H$(e.getBlockElements(),t)&&!Ad(t)&&!rh(e,t)&&!i0(t)&&!na(t):!1,Cne=(e,t,n)=>Rn(jA(xe.fromDom(n),xe.fromDom(t)),i=>H$(e,i.dom)),Sne=(e,t)=>{if(_t(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||H$(e,t.nextSibling)||i0(t.nextSibling)}return!1},$$=e=>e.dom.create(Ua(e),U1(e)),Ene=e=>{const t=e.dom,n=e.selection,i=e.schema,u=i.getBlockElements(),m=n.getStart(),y=e.getBody();let _,E,N=null;const j=Ua(e);if(!m||!eo(m))return;const W=y.nodeName.toLowerCase();if(!i.isValidChild(W,j.toLowerCase())||Cne(u,y,m))return;if(y.firstChild===y.lastChild&&nr(y.firstChild)){_=$$(e),_.appendChild(Om().dom),y.replaceChild(_,y.firstChild),e.selection.setCursorLocation(_,0),e.nodeChanged();return}let q=y.firstChild;for(;q;)if(eo(q)&&sa(i,q),_ne(i,q)){if(Sne(u,q)){E=q,q=q.nextSibling,t.remove(E);continue}if(!_){if(!N&&e.hasFocus()&&(N=Zm(e.selection.getRng(),()=>document.createElement("span"))),!q.parentNode){q=null;break}_=$$(e),y.insertBefore(_,q)}E=q,q=q.nextSibling,_.appendChild(E)}else _=null,q=q.nextSibling;N&&(e.selection.setRng(_h(N)),e.nodeChanged())},_W=(e,t,n)=>{const i=xe.fromDom($$(e)),u=Om();un(i,u),n(t,i);const m=document.createRange();return m.setStartBefore(u.dom),m.setEndBefore(u.dom),m},Ane=e=>{e.on("NodeChange",()=>Ene(e))},CW=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,Tne=(e,t,n)=>function(i){const u=arguments,m=u[u.length-2],y=m>0?t.charAt(m-1):"";if(y==='"')return i;if(y===">"){const _=t.lastIndexOf("<",m);if(_!==-1&&t.substring(_,m).indexOf('contenteditable="false"')!==-1)return i}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(u[0])+'">'+e.dom.encode(typeof u[1]=="string"?u[1]:u[0])+"</span>"},One=(e,t,n)=>{let i=t.length,u=n.content;if(n.format!=="raw"){for(;i--;)u=u.replace(t[i],Tne(e,u,gh(e)));n.content=u}},zne=(e,t)=>Sr(e,n=>{const i=t.match(n);return i!==null&&i[0].length===t.length}),Dne=e=>{const t="contenteditable",n=" "+bt.trim(Z8(e))+" ",i=" "+bt.trim(gh(e))+" ",u=CW(n),m=CW(i),y=ZE(e);y.length>0&&e.on("BeforeSetContent",_=>{One(e,y,_)}),e.parser.addAttributeFilter("class",_=>{let E=_.length;for(;E--;){const N=_[E];u(N)?N.attr(t,"true"):m(N)&&N.attr(t,"false")}}),e.serializer.addAttributeFilter(t,_=>{let E=_.length;for(;E--;){const N=_[E];if(!u(N)&&!m(N))continue;const j=N.attr("data-mce-content");y.length>0&&j?zne(y,j)?(N.name="#text",N.type=3,N.raw=!0,N.value=j):N.remove():N.attr(t,null)}})},Mne=e=>Ys(xe.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),SW=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Xv(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},Nne=(e,t)=>{const n=Mne(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),SW(e,n);return}D0(n)&&(SW(e,n),e.undoManager.add())}},Rne=e=>{e.on("keyup compositionstart",Tt(Nne,e))},EW=us,Lne=(e,t,n)=>JU(t,e,n,$m,Vm,EW),Bne=(e,t,n)=>eW(t,e,n,m=>$m(m)||VA(m),m=>Vm(m)||E2(m),EW),Pne=e=>{const t=e.dom.create(Ua(e));return t.innerHTML='<br data-mce-bogus="1">',t},AW=(e,t,n)=>{const i=pp(e.getBody()),u=Tt($0,t===1?i.next:i.prev);if(n.collapsed){const m=e.dom.getParent(n.startContainer,"PRE");if(!m)return;if(!u(it.fromRangeStart(n))){const _=xe.fromDom(Pne(e));t===1?Ya(xe.fromDom(m),_):ii(xe.fromDom(m),_),e.selection.select(_.dom,!0),e.selection.collapse()}}},Ine=(e,t)=>{const n=t?1:-1,i=e.selection.getRng();return Lne(n,e,i).orThunk(()=>(AW(e,n,i),G.none()))},Fne=(e,t)=>{const n=t?1:-1,i=e.selection.getRng();return Bne(n,e,i).orThunk(()=>(AW(e,n,i),G.none()))},Hne=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return mc(n)?!t:t},TW=(e,t)=>Ine(e,Hne(e.selection,t)).exists(n=>(xb(e,n),!0)),OW=(e,t)=>Fne(e,t).exists(n=>(xb(e,n),!0)),zW=(e,t)=>tW(e,t,t?Vm:$m),zL=(e,t)=>HT(e,!t).map(n=>{const i=n.toRange(),u=e.selection.getRng();return t?i.setStart(u.startContainer,u.startOffset):i.setEnd(u.endContainer,u.endOffset),i}).exists(n=>(xb(e,n),!0)),DW=(e,t)=>{const n=y=>cn(y,t),i=y=>ol(y.dom),u=xe.fromDom(e.container());return ya(u,i,n).filter(y=>!n(y))},$ne=(e,t,n)=>(n?jU:VU)(e.getBody(),t).map(u=>u.toRange()),Vne=(e,t)=>{const n=it.fromRangeStart(e.selection.getRng()),i=it.fromRangeEnd(e.selection.getRng()),u=xe.fromDom(e.getBody());return Ut(Gs(DW(n,u),DW(i,u),(y,_)=>cn(y,_)?G.some(y):G.none())).fold(_o,y=>t&&T$(y.dom,i)||!t&&A$(y.dom,n)?$ne(e,t?i:n,t).exists(_=>(xb(e,_),!0)):!1)},MW=(e,t)=>Vne(e,t),jne=e=>Qo(["figcaption"],Xo(e)),Une=(e,t,n)=>{const i=Tt(cn,t);return ya(xe.fromDom(e.container()),u=>n.isBlock(Xo(u)),i).filter(jne)},Wne=(e,t,n)=>t?T$(e.dom,n):A$(e.dom,n),Zne=(e,t)=>{const n=xe.fromDom(e.getBody()),i=it.fromRangeStart(e.selection.getRng());return Une(i,n,e.schema).exists(()=>{if(Wne(n,t,i)){const m=_W(e,n,t?un:nc);return e.selection.setRng(m),!0}else return!1})},NW=(e,t)=>e.selection.isCollapsed()?Zne(e,t):!1,qne=(e,t,n)=>{const i=e.selection.getRng(),u=it.fromRangeStart(i);return e.getBody().firstChild===t&&A$(n,u)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Kne=(e,t)=>{const n=e.selection.getRng(),i=it.fromRangeStart(n);return e.getBody().lastChild===t&&T$(t,i)?(e.execCommand("InsertNewBlockAfter"),!0):!1},Gne=(e,t)=>t?G.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>Kne(e,n)).getOr(!1):G.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>G.from(e.dom.getParent(n,"details")).map(i=>qne(e,i,n))).getOr(!1),RW=(e,t)=>Gne(e,t),LW={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Yne=e=>Do(e,t=>({...LW,...t})),Xne=e=>Do(e,t=>({...LW,...t})),BW=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Qne=(e,t)=>Ds(Yne(e),n=>BW(n,t)?[n]:[]),Jne=(e,t)=>Ds(Xne(e),n=>BW(n,t)?[n]:[]),Fo=(e,...t)=>()=>e.apply(null,t),YT=(e,t)=>Wo(Qne(e,t),n=>n.action()),PW=(e,t)=>Tl(Jne(e,t),n=>n.action()),IW=(e,t)=>{const n=t?1:-1,i=e.selection.getRng();return JU(e,n,i,Jg,sy,nl).exists(u=>(xb(e,u),!0))},FW=(e,t)=>{const n=t?1:-1,i=e.selection.getRng();return eW(e,n,i,Jg,sy,nl).exists(u=>(xb(e,u),!0))},HW=(e,t)=>tW(e,t,t?sy:Jg),ese=(e,t)=>$W(e,t,fo),$W=(e,t,n)=>Ds(ln(e),i=>jn(i,t)?n(i)?[i]:[]:$W(i,t,n)),tse=(e,t,n=_o)=>{if(n(t))return G.none();if(Qo(e,Xo(t)))return G.some(t);const i=u=>jn(u,"table")||n(u);return tr(t,e.join(","),i)},ose=(e,t)=>tse(["td","th"],e,t),nse=e=>ese(e,"th,td"),VW=(e,t)=>Pc(e,"table",t),jW=Yl.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),XT={...jW,none:e=>jW.none(e)},V$=(e,t,n,i,u=fo)=>{const m=i===1;if(!m&&n<=0)return XT.first(e[0]);if(m&&n>=e.length-1)return XT.last(e[e.length-1]);{const y=n+i,_=e[y];return u(_)?XT.middle(t,_):V$(e,t,y,i,u)}},UW=(e,t)=>VW(e,t).bind(n=>{const i=nse(n);return Xn(i,m=>cn(e,m)).map(m=>({index:m,all:i}))}),sse=(e,t,n)=>UW(e,n).fold(()=>XT.none(e),u=>V$(u.all,e,u.index,1,t)),rse=(e,t,n)=>UW(e,n).fold(()=>XT.none(),u=>V$(u.all,e,u.index,-1,t));var ise=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ase=()=>{const e=N=>xe.fromDom(N.dom.cloneNode(!1)),t=N=>Nl(N).dom,n=N=>mr(N)?Xo(N)==="body"?!0:Qo(ise,Xo(N)):!1,i=N=>mr(N)?Qo(["br","img","hr","input"],Xo(N)):!1,u=N=>mr(N)&&fr(N,"contenteditable")==="false",m=(N,j)=>N.dom.compareDocumentPosition(j.dom),y=(N,j)=>{const W=sc(N);Ba(j,W)},_=N=>{const j=Xo(N);return Qo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],j)},E=N=>mr(N)?Bl(N,"lang"):G.none();return{up:ft({selector:tr,closest:Pc,predicate:ea,all:Zr}),down:ft({selector:Ae,predicate:J}),styles:ft({get:Pa,getRaw:bd,set:gd,remove:ba}),attrs:ft({get:fr,set:Tr,remove:Or,copyTo:y}),insert:ft({before:ii,after:Ya,afterAll:Zh,append:un,appendAll:er,prepend:nc,wrap:Ar}),remove:ft({unwrap:Qi,remove:ts}),create:ft({nu:xe.fromTag,clone:e,text:xe.fromText}),query:ft({comparePosition:m,prevSibling:Rl,nextSibling:ma}),property:ft({children:ln,name:Xo,parent:pa,document:t,isText:Ii,isComment:Zb,isElement:mr,isSpecial:_,getLanguage:E,getText:Bc,setText:Fa,isBoundary:n,isEmptyTag:i,isNonEditable:u}),eq:cn,is:fd}};const j$=(e,t)=>({element:e,offset:t}),WW=(e,t)=>{if(e.property().isText(t))return j$(t,e.property().getText(t).length);{const n=e.property().children(t);return n.length>0?WW(e,n[n.length-1]):j$(t,n.length)}},ZW=(e,t,n)=>{const i=e.property().children(t);return i.length>0&&n<i.length?ZW(e,i[n],0):i.length>0&&e.property().isElement(t)&&i.length===n?WW(e,i[i.length-1]):j$(t,n)},lse=ZW,cse=ase(),dse=(e,t)=>lse(cse,e,t),qW=jr("image"),use=e=>{const t=e;return G.from(t[qW])},fse=(e,t)=>{const n=e;n[qW]=t},U$=jr("event"),hse=e=>{const t=e;return G.from(t[U$])},DL=e=>t=>{const n=t;n[U$]=e},pse=(e,t)=>DL(t)(e),KW=DL(0),mse=DL(2),gse=DL(1),bse=(e=>t=>{const n=t;return G.from(n[U$]).exists(i=>i===e)})(0),yse=()=>Object.freeze({length:0,item:e=>null}),W$=jr("mode"),xse=e=>{const t=e;return G.from(t[W$])},ML=e=>t=>{const n=t;n[W$]=e},GW=(e,t)=>ML(t)(e),YW=ML(0),Z$=ML(2),vse=ML(1),XW=e=>t=>{const n=t;return G.from(n[W$]).exists(i=>i===e)},dS=XW(0),QW=XW(1),wse=(e,t)=>({...t,get length(){return t.length},add:(n,i)=>{if(dS(e))if(He(n)){if(!lo(i))return t.add(n,i)}else return t.add(n);return null},remove:n=>{dS(e)&&t.remove(n)},clear:()=>{dS(e)&&t.clear()}}),kse=["none","copy","link","move"],_se=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],q$=()=>{const e=new window.DataTransfer;let t="move",n="all";const i={get dropEffect(){return t},set dropEffect(u){Qo(kse,u)&&(t=u)},get effectAllowed(){return n},set effectAllowed(u){bse(i)&&Qo(_se,u)&&(n=u)},get items(){return wse(i,e.items)},get files(){return QW(i)?yse():e.files},get types(){return e.types},setDragImage:(u,m,y)=>{dS(i)&&(fse(i,{image:u,x:m,y}),e.setDragImage(u,m,y))},getData:u=>QW(i)?"":e.getData(u),setData:(u,m)=>{dS(i)&&e.setData(u,m)},clearData:u=>{dS(i)&&e.clearData(u)}};return YW(i),i},Cse=e=>{const t=q$(),n=xse(e);return Z$(e),KW(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,use(e).each(i=>t.setDragImage(i.image,i.x,i.y)),tt(e.types,i=>{i!=="Files"&&t.setData(i,e.getData(i))}),tt(e.files,i=>t.items.add(i)),hse(e).each(i=>{pse(t,i)}),n.each(i=>{GW(e,i),GW(t,i)}),t},Sse=e=>{const t=e.getData("text/html");return t===""?G.none():G.some(t)},JW=(e,t)=>e.setData("text/html",t),Ese=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),Ase=(e,t)=>Ds(t,n=>{const i=Ese(S(n.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:n},{x:i.right,y:e(i),cell:n}]}),Tse=(e,t,n)=>Dt(e,(i,u)=>i.fold(()=>G.some(u),m=>{const y=Math.sqrt(Math.abs(m.x-t)+Math.abs(m.y-n)),_=Math.sqrt(Math.abs(u.x-t)+Math.abs(u.y-n));return G.some(_<y?u:m)}),G.none()),eZ=(e,t,n,i,u)=>{const m=Ae(xe.fromDom(n),"td,th,caption").map(_=>_.dom),y=we(Ase(e,m),_=>t(_,u));return Tse(y,i,u).map(_=>_.cell)},Ose=e=>e.bottom,zse=e=>e.top,Dse=(e,t)=>e.y<t,Mse=(e,t)=>e.y>t,Nse=Tt(eZ,Ose,Dse),Rse=Tt(eZ,zse,Mse),Lse=(e,t)=>ls(t.getClientRects()).bind(n=>Nse(e,n.left,n.top)).bind(n=>AL(woe(n),t)),Bse=(e,t)=>Ls(t.getClientRects()).bind(n=>Rse(e,n.left,n.top)).bind(n=>AL(voe(n),t)),Pse=(e,t,n)=>n.breakAt.exists(i=>e(t,i).breakAt.isSome()),Ise=e=>e.breakType===yb.Wrap&&e.positions.length===0,Fse=e=>e.breakType===yb.Br&&e.positions.length===1,tZ=(e,t,n)=>{const i=e(t,n);return Ise(i)||!nr(n.getNode())&&Fse(i)?!Pse(e,t,i):i.breakAt.isNone()},Hse=Tt(tZ,qT),$se=Tt(tZ,KT),Vse=(e,t,n)=>{const i=it.fromRangeStart(t);return U0(!e,n).exists(u=>u.isEqual(i))},jse=(e,t,n,i)=>{const u=e.selection.getRng(),m=t?1:-1;return JE()&&Vse(t,u,n)?(Mf(m,e,n,!t,!1).each(y=>{xb(e,y)}),!0):!1},Use=(e,t,n)=>Lse(t,n).orThunk(()=>ls(n.getClientRects()).bind(i=>E$(HU(e,it.before(t)),i.left))).getOr(it.before(t)),Wse=(e,t,n)=>Bse(t,n).orThunk(()=>ls(n.getClientRects()).bind(i=>E$($U(e,it.after(t)),i.left))).getOr(it.after(t)),oZ=(e,t)=>{const n=t.getNode(e);return wd(n)?G.some(n):G.none()},Zse=(e,t,n)=>{t.undoManager.transact(()=>{const i=e?Ya:ii,u=_W(t,xe.fromDom(n),i);xb(t,u)})},nZ=(e,t,n)=>{const i=oZ(!!t,n),u=t===!1;i.fold(()=>xb(e,n.toRange()),m=>U0(u,e.getBody()).filter(y=>y.isEqual(n)).fold(()=>xb(e,n.toRange()),y=>Zse(t,e,m)))},qse=(e,t,n,i)=>{const u=e.selection.getRng(),m=it.fromRangeStart(u),y=e.getBody();if(!t&&Hse(i,m)){const _=Use(y,n,m);return nZ(e,t,_),!0}else if(t&&$se(i,m)){const _=Wse(y,n,m);return nZ(e,t,_),!0}else return!1},sZ=(e,t,n)=>G.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(i=>G.from(e.dom.getParent(i,"table")).map(u=>n(e,t,u,i))).getOr(!1),rZ=(e,t)=>sZ(e,t,jse),K$=(e,t)=>sZ(e,t,qse),Kse=e=>{const t=Ic.exact(e,0,e,0);return l1(t)},Gse=e=>NL(e)||Uh(e).some(t=>hd(t)&&NL(t)),iZ=(e,t,n)=>n.fold(G.none,G.none,(i,u)=>Xb(u).map(m=>Kse(m)),i=>e.mode.isReadOnly()||!Yse(i)||!Gse(i)?G.none():(e.execCommand("mceTableInsertRowAfter"),aZ(e,t,i))),Yse=e=>ya(e,ms("table")).exists(Qa),aZ=(e,t,n)=>iZ(e,t,sse(n,NL)),Xse=(e,t,n)=>iZ(e,t,rse(n,NL)),NL=e=>Qa(e)||Wt(e,Qse),Qse=e=>hd(e)&&Qa(e),lZ=(e,t)=>{const n=["table","li","dl"],i=xe.fromDom(e.getBody()),u=_=>{const E=Xo(_);return cn(_,i)||Qo(n,E)},m=e.selection.getRng(),y=xe.fromDom(t?m.endContainer:m.startContainer);return ose(y,u).map(_=>(VW(_,u).each(j=>{e.model.table.clearSelectedCells(j.dom)}),e.selection.collapse(!t),(t?aZ:Xse)(e,u,_).each(j=>{e.selection.setRng(j)}),!0)).getOr(!1)},Jse=(e,t,n)=>{const i=$o.os.isMacOS()||$o.os.isiOS(),u=$o.browser.isFirefox();YT([{keyCode:Ht.RIGHT,action:Fo(TW,e,!0)},{keyCode:Ht.LEFT,action:Fo(TW,e,!1)},{keyCode:Ht.UP,action:Fo(OW,e,!1)},{keyCode:Ht.DOWN,action:Fo(OW,e,!0)},...i?[{keyCode:Ht.UP,action:Fo(zL,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ht.DOWN,action:Fo(zL,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ht.RIGHT,action:Fo(rZ,e,!0)},{keyCode:Ht.LEFT,action:Fo(rZ,e,!1)},{keyCode:Ht.UP,action:Fo(K$,e,!1)},{keyCode:Ht.DOWN,action:Fo(K$,e,!0)},{keyCode:Ht.UP,action:Fo(K$,e,!1)},{keyCode:Ht.UP,action:Fo(RW,e,!1)},{keyCode:Ht.DOWN,action:Fo(RW,e,!0)},{keyCode:Ht.RIGHT,action:Fo(IW,e,!0)},{keyCode:Ht.LEFT,action:Fo(IW,e,!1)},{keyCode:Ht.UP,action:Fo(FW,e,!1)},{keyCode:Ht.DOWN,action:Fo(FW,e,!0)},{keyCode:Ht.RIGHT,action:Fo(sW,e,t,!0)},{keyCode:Ht.LEFT,action:Fo(sW,e,t,!1)},{keyCode:Ht.RIGHT,ctrlKey:!i,altKey:i,action:Fo(Poe,e,t)},{keyCode:Ht.LEFT,ctrlKey:!i,altKey:i,action:Fo(Ioe,e,t)},{keyCode:Ht.UP,action:Fo(NW,e,!1)},{keyCode:Ht.DOWN,action:Fo(NW,e,!0)},...u?[{keyCode:Ht.UP,action:Fo(MW,e,!1)},{keyCode:Ht.DOWN,action:Fo(MW,e,!0)}]:[]],n).each(m=>{n.preventDefault()})},ere=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||Jse(e,t,n)})},tg=(e,t)=>({container:e,offset:t}),RL=Kn.DOM,LL=e=>t=>e===t?-1:0,tre=e=>t=>e.isBlock(t)||Qo(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",G$=(e,t,n)=>{if(_t(e)&&t>=0)return G.some(tg(e,t));{const i=Wc(RL);return G.from(i.backwards(e,t,LL(e),n)).map(u=>tg(u.container,u.container.data.length))}},ore=(e,t,n)=>{if(_t(e)&&t>=e.length)return G.some(tg(e,t));{const i=Wc(RL);return G.from(i.forwards(e,t,LL(e),n)).map(u=>tg(u.container,0))}},Y$=(e,t,n)=>{if(!_t(e))return G.none();const i=e.data;if(t>=0&&t<=i.length)return G.some(tg(e,t));{const u=Wc(RL);return G.from(u.backwards(e,t,LL(e),n)).bind(m=>{const y=m.container.data;return Y$(m.container,t+y.length,n)})}},cZ=(e,t,n)=>{if(!_t(e))return G.none();const i=e.data;if(t<=i.length)return G.some(tg(e,t));{const u=Wc(RL);return G.from(u.forwards(e,t,LL(e),n)).bind(m=>cZ(m.container,t-i.length,n))}},X$=(e,t,n,i,u)=>{const m=Wc(e,tre(e));return G.from(m.backwards(t,n,i,u))},nre=e=>e.collapsed&&_t(e.startContainer),sre=e=>kl(e.toString().replace(/\u00A0/g," ")),dZ=e=>e!==""&&` \uFEFF\f
\r	\v`.indexOf(e)!==-1,rre=(e,t)=>e.substring(t.length),ire=(e,t,n,i=!1)=>{let u;const m=n.charAt(0);for(u=t-1;u>=0;u--){const y=e.charAt(u);if(!i&&dZ(y))return G.none();if(m===y&&on(e,n,u,t))break}return G.some(u)},Q$=(e,t,n,i=!1)=>{if(!nre(t))return G.none();const u={text:"",offset:0},m=(_,E,N)=>(u.text=N+u.text,u.offset+=E,ire(u.text,u.offset,n,i).getOr(E)),y=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return X$(e,t.startContainer,t.startOffset,m,y).bind(_=>{const E=t.cloneRange();if(E.setStart(_.container,_.offset),E.setEnd(t.endContainer,t.endOffset),E.collapsed)return G.none();const N=sre(E);return N.lastIndexOf(n)!==0?G.none():G.some({text:rre(N,n),range:E,trigger:n})})},are=e=>e.nodeType===Xf,lre=e=>e.nodeType===dd,uZ=e=>{if(are(e))return tg(e,e.data.length);{const t=e.childNodes;return t.length>0?uZ(t[t.length-1]):tg(e,t.length)}},fZ=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?fZ(n[t],0):n.length>0&&lre(e)&&n.length===t?uZ(n[n.length-1]):tg(e,t)},cre=(e,t)=>{const n=e.getParent(t.container,e.isBlock)??e.getRoot();return X$(e,t.container,t.offset,(i,u)=>u===0?-1:u,n).filter(i=>{const u=i.container.data.charAt(i.offset-1);return!dZ(u)}).isSome()},dre=e=>t=>{const n=fZ(t.startContainer,t.startOffset);return!cre(e,n)},ure=(e,t,n)=>Tl(n.triggers,i=>Q$(e,t,i)),fre=(e,t)=>{const n=t(),i=e.selection.getRng();return ure(e.dom,i,n).bind(u=>hZ(e,t,u))},hZ=(e,t,n,i={})=>{const u=t(),y=e.selection.getRng().startContainer.nodeValue??"",_=we(u.lookupByTrigger(n.trigger),N=>n.text.length>=N.minChars&&N.matches.getOrThunk(()=>dre(e.dom))(n.range,y,n.text));if(_.length===0)return G.none();const E=Promise.all(Do(_,N=>N.fetch(n.text,N.maxResults,i).then(W=>({matchText:n.text,items:W,columns:N.columns,onAction:N.onAction,highlightOn:N.highlightOn}))));return G.some({lookupData:E,context:n})};var og;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(og||(og={}));const J$=(e,t,n)=>e.stype===og.Error?t(e.serror):n(e.svalue),hre=e=>{const t=[],n=[];return tt(e,i=>{J$(i,u=>n.push(u),u=>t.push(u))}),{values:t,errors:n}},pre=(e,t)=>e.stype===og.Error?{stype:og.Error,serror:t(e.serror)}:e,mre=(e,t)=>e.stype===og.Value?{stype:og.Value,svalue:t(e.svalue)}:e,gre=(e,t)=>e.stype===og.Value?t(e.svalue):e,bre=(e,t)=>e.stype===og.Error?t(e.serror):e,pZ=e=>({stype:og.Value,svalue:e}),mZ=e=>({stype:og.Error,serror:e}),Qc={fromResult:e=>e.fold(mZ,pZ),toResult:e=>J$(e,Ks.error,Ks.value),svalue:pZ,partition:hre,serror:mZ,bind:gre,bindError:bre,map:mre,mapError:pre,fold:J$},gZ=e=>ge(e)&&Yi(e).length>100?" removed due to size":JSON.stringify(e,null,2),yre=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ft("... (only showing first ten failures)")}]):e;return Do(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},bZ=(e,t)=>Qc.serror([{path:e,getErrorInfo:t}]),xre=(e,t,n)=>bZ(e,()=>'Could not find valid *required* value for "'+t+'" in '+gZ(n)),vre=(e,t)=>bZ(e,ft(t)),yZ=e=>{const t=(i,u)=>Qc.bindError(e(u),m=>vre(i,m)),n=ft("val");return{extract:t,toString:n}},wre=yZ(Qc.svalue),e9=ft(wre),t9=(e,t)=>yZ(n=>{const i=typeof n;return e(n)?Qc.svalue(n):Qc.serror(`Expected type: ${t} but got: ${i}`)}),kre=t9(I,"number"),o9=t9(He,"string"),xZ=t9(yt,"function"),vZ=()=>({tag:"required",process:{}}),_re=e=>({tag:"defaultedThunk",process:e}),wZ=e=>_re(ft(e)),kZ=()=>({tag:"option",process:{}}),Cre=(e,t,n,i)=>({tag:"field",key:e,newKey:t,presence:n,prop:i}),_Z=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Sre=(e,t)=>Qc.svalue(Cc(t,Sc.apply(void 0,e))),CZ=e=>zo(Qc.serror,Rr)(e),Ere={consolidateObj:(e,t)=>{const n=Qc.partition(e);return n.errors.length>0?CZ(n.errors):Sre(n.values,t)},consolidateArr:e=>{const t=Qc.partition(e);return t.errors.length>0?CZ(t.errors):Qc.svalue(t.values)}},Are=(e,t,n,i)=>Dn(t,n).fold(()=>xre(e,n,t),i),SZ=(e,t,n,i)=>{const u=Dn(e,t).getOrThunk(()=>n(e));return i(u)},Tre=(e,t,n)=>n(Dn(e,t)),Ore=(e,t,n,i)=>{const u=Dn(e,t).map(m=>m===!0?n(e):m);return i(u)},zre=(e,t,n,i,u)=>{const m=_=>u.extract(t.concat([i]),_),y=_=>_.fold(()=>Qc.svalue(G.none()),E=>{const N=u.extract(t.concat([i]),E);return Qc.map(N,G.some)});switch(e.tag){case"required":return Are(t,n,i,m);case"defaultedThunk":return SZ(n,i,e.process,m);case"option":return Tre(n,i,y);case"defaultedOptionThunk":return Ore(n,i,e.process,y);case"mergeWithThunk":return SZ(n,i,ft({}),_=>{const E=Cc(e.process(n),_);return m(E)})}},Dre=(e,t,n)=>{const i={},u=[];for(const m of n)_Z(m,(y,_,E,N)=>{const j=zre(E,e,t,y,N);Qc.fold(j,W=>{u.push(...W)},W=>{i[_]=W})},(y,_)=>{i[y]=_(t)});return u.length>0?Qc.serror(u):Qc.svalue(i)},EZ=e=>({extract:(i,u)=>Dre(i,u,e),toString:()=>`obj{
`+Do(e,u=>_Z(u,(m,y,_,E)=>m+" -> "+E.toString(),(m,y)=>"state("+m+")")).join(`
`)+"}"}),Mre=e=>({extract:(i,u)=>{const m=Do(u,(y,_)=>e.extract(i.concat(["["+_+"]"]),y));return Ere.consolidateArr(m)},toString:()=>"array("+e.toString()+")"}),Nre=(e,t,n)=>{const i=t.extract([e],n);return Qc.mapError(i,u=>({input:n,errors:u}))},AZ=(e,t,n)=>Qc.toResult(Nre(e,t,n)),TZ=e=>`Errors: 
`+yre(e.errors).join(`
`)+`

Input object: `+gZ(e.input),uS=Cre,Rre=e=>uS(e,e,vZ(),e9()),OZ=(e,t)=>uS(e,e,vZ(),t),zZ=e=>OZ(e,o9),DZ=e=>OZ(e,xZ),Lre=e=>uS(e,e,kZ(),e9()),MZ=(e,t)=>uS(e,e,kZ(),t),NZ=e=>MZ(e,o9),Bre=e=>MZ(e,xZ),Pre=(e,t)=>uS(e,e,wZ(t),e9()),RZ=(e,t,n)=>uS(e,e,wZ(t),n),LZ=(e,t)=>RZ(e,t,kre),Ire=(e,t,n)=>RZ(e,t,Mre(n)),Fre=zZ("type"),Hre=DZ("fetch"),$re=DZ("onAction"),Vre=e=>Pre("columns",e),jre=EZ([Fre,zZ("trigger"),LZ("minChars",1),Vre(1),LZ("maxResults",10),Bre("matches"),Hre,$re,Ire("highlightOn",[],o9)]),Ure=e=>AZ("Autocompleter",jre,e),Wre=()=>{const e={},t={},n={},i={},u={},m={},y={},_={},E={},N=(ne,me)=>(ce,be)=>{ne[ce.toLowerCase()]={...be,type:me}},j=(ne,me)=>(ce,be)=>{ne[ce.toLowerCase()]={type:me,...be}},W=(ne,me)=>i[ne.toLowerCase()]=me,q=(ne,me)=>y[ne.toLowerCase()]=me;return{addButton:N(e,"button"),addGroupToolbarButton:N(e,"grouptoolbarbutton"),addToggleButton:N(e,"togglebutton"),addMenuButton:N(e,"menubutton"),addSplitButton:N(e,"splitbutton"),addMenuItem:N(t,"menuitem"),addNestedMenuItem:N(t,"nestedmenuitem"),addToggleMenuItem:N(t,"togglemenuitem"),addAutocompleter:N(n,"autocompleter"),addContextMenu:N(u,"contextmenu"),addContextToolbar:N(m,"contexttoolbar"),addContextForm:j(m,"contextform"),addSidebar:N(_,"sidebar"),addView:N(E,"views"),addIcon:W,addContext:q,getAll:()=>({buttons:e,menuItems:t,icons:i,popups:n,contextMenus:u,contextToolbars:m,sidebars:_,views:E,contexts:y})}},Zre=e=>{const t=e.ui.registry.getAll().popups,n=Ea(t,y=>Ure(y).fold(_=>{throw new Error(TZ(_))},To)),i=Ih(Ni(n,y=>y.trigger)),u=Us(n);return{dataset:n,triggers:i,lookupByTrigger:y=>we(u,_=>_.trigger===y)}},qre=(e,t)=>{const n=Ud(t.load,50);e.on("input",i=>{i.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",i=>{const u=i.which;u===8?n.throttle():u===27?(n.cancel(),t.cancelIfNecessary()):(u===38||u===40)&&n.cancel()},!0),e.on("remove",n.cancel)},Kre=e=>{const t=Ql(),n=Mn(!1),i=t.isSet,u=()=>{i()&&(io(e),n.set(!1),t.clear())},m=W=>{i()||t.set({trigger:W.trigger,matchLength:W.text.length})},y=Aa(()=>Zre(e)),_=W=>t.get().map(q=>Q$(e.dom,e.selection.getRng(),q.trigger,!0).bind(ne=>hZ(e,y,ne,W))).getOrThunk(()=>fre(e,y)),E=W=>{_(W).fold(u,q=>{m(q.context),q.lookupData.then(ne=>{t.get().map(me=>{const ce=q.context;me.trigger===ce.trigger&&(t.set({...me,matchLength:ce.text.length}),n.get()?(CE(e,{range:ce.range}),v8(e,{lookupData:ne})):(n.set(!0),CE(e,{range:ce.range}),x8(e,{lookupData:ne})))})})})},N=(W,q)=>{const ne=W.compareBoundaryPoints(window.Range.START_TO_START,q),me=W.compareBoundaryPoints(window.Range.END_TO_END,q);return ne>=0&&me<=0},j=()=>t.get().bind(({trigger:W})=>{const q=e.selection.getRng();return Q$(e.dom,q,W,n.get()).filter(({range:ne})=>N(q,ne)).map(({range:ne})=>ne)});e.addCommand("mceAutocompleterReload",(W,q)=>{const ne=ge(q)?q.fetchOptions:{};E(ne)}),e.addCommand("mceAutocompleterClose",u),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{j().each(W=>{CE(e,{range:W})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>j().isSome()),qre(e,{cancelIfNecessary:u,load:E})},Gre=gl().browser.isSafari(),BZ=e=>uf(xe.fromDom(e)),PZ=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)==null?void 0:n.length)},BL=(e,t)=>G.from(e.getParent(t.container(),"details")),IZ=(e,t)=>BL(e,t).isSome(),Yre=(e,t)=>{const n=G.from(e.getParent(t.startContainer,"details")),i=G.from(e.getParent(t.endContainer,"details"));if(n.isSome()||i.isSome()){const u=n.bind(m=>G.from(e.select("summary",m)[0]));return G.some({startSummary:u,startDetails:n,endDetails:i})}else return G.none()},Xre=(e,t)=>_l(t).exists(n=>n.isEqual(e)),Qre=(e,t)=>xu(t).exists(n=>nr(n.getNode())&&qc(t,n).exists(i=>i.isEqual(e))||n.isEqual(e)),Jre=(e,t)=>t.startSummary.exists(n=>Xre(e,n)),eie=(e,t)=>t.startSummary.exists(n=>Qre(e,n)),tie=(e,t)=>t.startDetails.exists(n=>qc(n,e).forall(i=>t.startSummary.exists(u=>!u.contains(e.container())&&u.contains(i.container())))),oie=(e,t,n)=>n.startDetails.exists(i=>Vl(e,t).forall(u=>!i.contains(u.container()))),FZ=(e,t)=>{const n=t.getNode();lo(n)||e.selection.setCursorLocation(n,t.offset())},HZ=(e,t,n)=>{const i=e.dom.getParent(t.container(),"details");if(i&&!i.open){const u=e.dom.select("summary",i)[0];u&&(n?_l(u):xu(u)).each(y=>FZ(e,y))}else FZ(e,t)},nie=(e,t)=>{const n=E=>E.contains(e.startContainer),i=E=>E.contains(e.endContainer),u=t.startSummary.exists(n),m=t.startSummary.exists(i),y=t.startDetails.forall(E=>t.endDetails.forall(N=>E!==N));return(u||m)&&!(u&&m)||y},$Z=(e,t,n)=>{const{dom:i,selection:u}=e,m=e.getBody();if(n==="character"){const y=it.fromRangeStart(u.getRng()),_=i.getParent(y.container(),i.isBlock),E=BL(i,y),N=_&&i.isEmpty(_),j=Ve(_==null?void 0:_.previousSibling),W=Ve(_==null?void 0:_.nextSibling);return N&&(t?W:j)&&os(!t,m,y).exists(me=>IZ(i,me)&&!Wf(E,BL(i,me)))?!0:os(t,m,y).fold(_o,q=>{const ne=BL(i,q);if(IZ(i,q)&&!Wf(E,ne)){if(t||HZ(e,q,!1),_&&N){if(t&&j)return!0;if(!t&&W)return!0;HZ(e,q,t),e.dom.remove(_)}return!0}else return!1})}else return!1},sie=(e,t,n,i)=>{const m=e.selection.getRng(),y=it.fromRangeStart(m),_=e.getBody();return i==="selection"?nie(m,t):n?eie(y,t)||oie(_,y,t):Jre(y,t)||tie(y,t)},rie=(e,t,n)=>Yre(e.dom,e.selection.getRng()).fold(()=>$Z(e,t,n),i=>sie(e,i,t,n)||$Z(e,t,n)),iie=(e,t,n)=>{const i=e.selection,u=i.getNode(),m=i.getRng(),y=it.fromRangeStart(m);return dE(u)?(n==="selection"&&PZ(m,u)||L2(t,y,u)?BZ(u):e.undoManager.transact(()=>{const _=i.getSel();let{anchorNode:E,anchorOffset:N,focusNode:j,focusOffset:W}=_??{};const q=()=>{Me(E)&&Me(N)&&Me(j)&&Me(W)&&(_==null||_.setBaseAndExtent(E,N,j,W))},ne=()=>{E=_==null?void 0:_.anchorNode,N=_==null?void 0:_.anchorOffset,j=_==null?void 0:_.focusNode,W=_==null?void 0:_.focusOffset},me=(be,Be)=>{tt(be.childNodes,Pe=>{fw(Pe)&&Be.appendChild(Pe)})},ce=e.dom.create("span",{"data-mce-bogus":"1"});me(u,ce),u.appendChild(ce),q(),(n==="word"||n==="line")&&(_==null||_.modify("extend",t?"right":"left",n)),!i.isCollapsed()&&PZ(i.getRng(),ce)?BZ(u):(e.execCommand(t?"ForwardDelete":"Delete"),ne(),me(ce,u),q()),e.dom.remove(ce)}),!0):!1},Ck=(e,t,n)=>rie(e,t,n)||Gre&&iie(e,t,n)?G.some(Ft):G.none(),VZ=e=>(t,n,i={})=>{const u=t.getBody(),m={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:u,currentTarget:u,eventPhase:Event.AT_TARGET,originalTarget:u,explicitOriginalTarget:u,isTrusted:!1,srcElement:u,cancelable:!1,preventDefault:Ft,inputType:n},y=Cd(new InputEvent(e));return t.dispatch(e,{...y,...m,...i})},QT=VZ("input"),PL=VZ("beforeinput"),jZ=gl(),UZ=jZ.os,WZ=UZ.isMacOS()||UZ.isiOS(),aie=jZ.browser.isFirefox(),lie=(e,t,n)=>{const i=n.keyCode===Ht.BACKSPACE?"deleteContentBackward":"deleteContentForward",u=e.selection.isCollapsed(),m=u?"character":"selection",y=_=>u?_?"word":"line":"selection";PW([{keyCode:Ht.BACKSPACE,action:Fo(xW,e)},{keyCode:Ht.BACKSPACE,action:Fo(Ze,e,!1)},{keyCode:Ht.DELETE,action:Fo(Ze,e,!0)},{keyCode:Ht.BACKSPACE,action:Fo(Iy,e,!1)},{keyCode:Ht.DELETE,action:Fo(Iy,e,!0)},{keyCode:Ht.BACKSPACE,action:Fo(M$,e,t,!1)},{keyCode:Ht.DELETE,action:Fo(M$,e,t,!0)},{keyCode:Ht.BACKSPACE,action:Fo(Z2,e,!1)},{keyCode:Ht.DELETE,action:Fo(Z2,e,!0)},{keyCode:Ht.BACKSPACE,action:Fo(Ck,e,!1,m)},{keyCode:Ht.DELETE,action:Fo(Ck,e,!0,m)},...WZ?[{keyCode:Ht.BACKSPACE,altKey:!0,action:Fo(Ck,e,!1,y(!0))},{keyCode:Ht.DELETE,altKey:!0,action:Fo(Ck,e,!0,y(!0))},{keyCode:Ht.BACKSPACE,metaKey:!0,action:Fo(Ck,e,!1,y(!1))}]:[{keyCode:Ht.BACKSPACE,ctrlKey:!0,action:Fo(Ck,e,!1,y(!0))},{keyCode:Ht.DELETE,ctrlKey:!0,action:Fo(Ck,e,!0,y(!0))}],{keyCode:Ht.BACKSPACE,action:Fo(Rs,e,!1)},{keyCode:Ht.DELETE,action:Fo(Rs,e,!0)},{keyCode:Ht.BACKSPACE,action:Fo(B$,e,!1)},{keyCode:Ht.DELETE,action:Fo(B$,e,!0)},{keyCode:Ht.BACKSPACE,action:Fo(aS,e,!1)},{keyCode:Ht.DELETE,action:Fo(aS,e,!0)},{keyCode:Ht.BACKSPACE,action:Fo(Op,e,!1)},{keyCode:Ht.DELETE,action:Fo(Op,e,!0)},{keyCode:Ht.BACKSPACE,action:Fo(R$,e,!1)},{keyCode:Ht.DELETE,action:Fo(R$,e,!0)},{keyCode:Ht.BACKSPACE,action:Fo(tn,e,!1)},{keyCode:Ht.DELETE,action:Fo(tn,e,!0)},{keyCode:Ht.BACKSPACE,action:Fo(I$,e,!1)},{keyCode:Ht.DELETE,action:Fo(I$,e,!0)}],n).filter(_=>e.selection.isEditable()).each(_=>{n.preventDefault(),PL(e,i).isDefaultPrevented()||(_(),QT(e,i))})},cie=(e,t,n,i)=>YT([{keyCode:Ht.BACKSPACE,action:Fo(kL,e)},{keyCode:Ht.DELETE,action:Fo(kL,e)},...WZ?[{keyCode:Ht.BACKSPACE,altKey:!0,action:Fo(GT,e)},{keyCode:Ht.DELETE,altKey:!0,action:Fo(GT,e)},...n?[{keyCode:aie?224:91,action:Fo(()=>(uW(e,i),GT(e)))}]:[]]:[{keyCode:Ht.BACKSPACE,ctrlKey:!0,action:Fo(GT,e)},{keyCode:Ht.DELETE,ctrlKey:!0,action:Fo(GT,e)}]],t),die=(e,t)=>{let n=!1,i=[];e.on("keydown",u=>{n=u.keyCode===Ht.BACKSPACE,i=N$(e),u.isDefaultPrevented()||lie(e,t,u)}),e.on("keyup",u=>{u.isDefaultPrevented()||(cie(e,u,n,i),i.length=0),n=!1})},uie=(e,t)=>{const n=xe.fromDom(e),i=xe.fromDom(t),u=ms("span"),m=Tt(cn,n),y=E=>mr(E)&&bd(E,"font-size").isSome(),_=[...y(i)?[i]:[],...R(i,y,m)];tt(_.slice(1),E=>{ba(E,"font-size"),Or(E,"data-mce-style"),u(E)&&Jd(E)&&Qi(E)})},fie=e=>{for(;e;){if(eo(e)||_t(e)&&e.data&&/[\r\n\s]/.test(e.data))return G.from(xe.fromDom(e));e=e.nextSibling}return G.none()},fS=(e,t)=>{const n=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const m=E=>/^(ul|ol|dl)$/.test(Xo(E)),y=E=>m(E)?G.from(E):xa(E,m),_=E=>n.isEmpty(E.dom);fie(t.firstChild).each(E=>{y(E).fold(()=>{if(_(E)){const N=dse(E,0).element;mr(N)&&!Fl(N)&&un(N,xe.fromText(xr))}},N=>{ii(N,xe.fromText(xr))})})}const u=n.createRng();if(t.normalize(),t.hasChildNodes()){const m=new Dr(t,t);let y=t,_;for(;_=m.current();){if(_t(_)){u.setStart(_,0),u.setEnd(_,0);break}if(i[_.nodeName.toLowerCase()]){u.setStartBefore(_),u.setEndBefore(_);break}y=_,_=m.next()}_||(u.setStart(y,0),u.setEnd(y,0))}else nr(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),vw(e,u)},JT=(e,t)=>{const n=e.getRoot();let i,u=t;for(;u!==n&&u&&e.getContentEditable(u)!=="false";){if(e.getContentEditable(u)==="true"){i=u;break}u=u.parentNode}return u!==n?i:n},n9=e=>G.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),hie=e=>n9(e).fold(ft(""),t=>t.nodeName.toUpperCase()),pie=e=>n9(e).filter(t=>fh(xe.fromDom(t))).isSome(),s9=e=>{e.innerHTML='<br data-mce-bogus="1">'},mie=(e,t,n)=>{const i=e.dom;G.from(n.style).map(i.parseStyle).each(E=>{const j={...Xu(xe.fromDom(t)),...E};i.setStyles(t,j)});const u=G.from(n.class).map(E=>E.split(/\s+/)),m=G.from(t.className).map(E=>we(E.split(/\s+/),N=>N!==""));Gs(u,m,(E,N)=>{const j=we(N,q=>!Qo(E,q)),W=[...E,...j];i.setAttrib(t,"class",W.join(" "))});const y=["style","class"],_=hi(n,(E,N)=>!Qo(y,N));i.setAttribs(t,_)},eO=(e,t)=>{if(Ua(e).toLowerCase()===t.tagName.toLowerCase()){const i=U1(e);mie(e,t,i)}},ZZ=(e,t,n,i,u=!0,m,y)=>{const _=e.dom,E=e.schema,N=Ua(e),j=n?n.nodeName.toUpperCase():"";let W=t;const q=E.getTextInlineElements();let ne;m||j==="TABLE"||j==="HR"?ne=_.create(m||N,y||{}):ne=n.cloneNode(!1);let me=ne;if(!u)_.setAttrib(ne,"style",null),_.setAttrib(ne,"class",null);else{do if(q[W.nodeName]){if(Ko(W)||Ad(W))continue;const ce=W.cloneNode(!1);_.setAttrib(ce,"id",""),ne.hasChildNodes()?(ce.appendChild(ne.firstChild),ne.appendChild(ce)):(me=ce,ne.appendChild(ce))}while((W=W.parentNode)&&W!==i);uie(ne,me)}return eO(e,ne),s9(me),ne},gie=(e,t)=>e.dom.getParent(t,Dv),bie=(e,t,n)=>{let i=t;for(;i&&i!==e&&Ve(i.nextSibling);){const u=i.parentElement;if(!u||!n(u))return Dv(u);i=u}return!1},yie=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Ua(e)&&e.dom.isEmpty(n)&&bie(e.getBody(),n,i=>Io(e.schema.getTextBlockElements(),i.nodeName.toLowerCase())),xie=(e,t,n)=>{var m,y;const i=t(Ua(e)),u=gie(e,n);u&&(e.dom.insertAfter(i,u),fS(e,i),(((y=(m=n.parentElement)==null?void 0:m.childNodes)==null?void 0:y.length)??0)>1&&e.dom.remove(n))},vie=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,wie=e=>{var t;return((t=e.parentNode)==null?void 0:t.firstChild)===e},qZ=(e,t)=>{const n=e==null?void 0:e.parentNode;return Me(n)&&n.nodeName===t},KZ=e=>Me(e)&&/^(OL|UL|LI)$/.test(e.nodeName),r9=e=>Me(e)&&/^(LI|DT|DD)$/.test(e.nodeName),kie=e=>KZ(e)&&KZ(e.parentNode),IL=e=>{const t=e.parentNode;return r9(t)?t:e},FL=(e,t,n)=>{let i=e[n?"firstChild":"lastChild"];for(;i&&!eo(i);)i=i[n?"nextSibling":"previousSibling"];return i===t},GZ=e=>Dt(Ni(Xu(xe.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),_ie=(e,t,n,i,u)=>{const m=e.dom,y=e.selection.getRng(),_=n.parentNode;if(n===e.getBody()||!_)return;kie(n)&&(u="LI");const E=r9(i)?GZ(i):void 0;let N=r9(i)&&E?t(u,{style:GZ(i)}):t(u);if(FL(n,i,!0)&&FL(n,i,!1))if(qZ(n,"LI")){const j=IL(n);m.insertAfter(N,j),wie(n)?m.remove(j):m.remove(n)}else m.replace(N,n);else if(FL(n,i,!0))qZ(n,"LI")?(m.insertAfter(N,IL(n)),N.appendChild(m.doc.createTextNode(" ")),N.appendChild(n)):_.insertBefore(N,n),m.remove(i);else if(FL(n,i,!1))m.insertAfter(N,IL(n)),m.remove(i);else{n=IL(n);const j=y.cloneRange();j.setStartAfter(i),j.setEndAfter(n);const W=j.extractContents();if(u==="LI"&&vie(W,"LI")){const q=we(Do(N.children,xe.fromDom),Le(ms("br")));N=W.firstChild,m.insertAfter(W,n),tt(q,ne=>nc(xe.fromDom(N),ne)),E&&N.setAttribute("style",E)}else m.insertAfter(W,n),m.insertAfter(N,n);m.remove(i)}fS(e,N)},Cie=e=>{tt(J(xe.fromDom(e),Ii),t=>{const n=t.dom;n.nodeValue=kl(n.data)})},Sie=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},Eie=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),i9=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,Aie=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,a9=(e,t)=>Me(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",Tie=(e,t,n)=>{var y;const i=[];if(!n)return;let u=n;for(;u=u.firstChild;){if(e.isBlock(u))return;eo(u)&&!t[u.nodeName.toLowerCase()]&&i.push(u)}let m=i.length;for(;m--;)u=i[m],(!u.hasChildNodes()||u.firstChild===u.lastChild&&((y=u.firstChild)==null?void 0:y.nodeValue)===""||Eie(e,u))&&e.remove(u)},l9=(e,t,n)=>_t(t)?e?n===1&&t.data.charAt(n-1)===ui?0:n:n===t.data.length-1&&t.data.charAt(n)===ui?t.data.length:n:n,Oie=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,l9(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,l9(!1,e.endContainer,e.endOffset)),t},zie=e=>{let t=e;do _t(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},Die=(e,t,n,i,u)=>{var E;const m=e.dom,y=JT(m,i)??m.getRoot();let _=m.getParent(i,m.isBlock);if(!_||!a9(m,_)){if(_=_||y,!_.hasChildNodes()){const q=m.create(t);return eO(e,q),_.appendChild(q),n.setStart(q,0),n.setEnd(q,0),q}let N=i;for(;N&&N.parentNode!==_;)N=N.parentNode;let j;for(;N&&!m.isBlock(N);)j=N,N=N.previousSibling;const W=(E=j==null?void 0:j.parentElement)==null?void 0:E.nodeName;if(j&&W&&e.schema.isValidChild(W,t.toLowerCase())){const q=j.parentNode,ne=m.create(t);for(eO(e,ne),q.insertBefore(ne,j),N=j;N&&!m.isBlock(N);){const me=N.nextSibling;ne.appendChild(N),N=me}n.setStart(i,u),n.setEnd(i,u)}}return i},Mie=(e,t)=>{t.normalize();const n=t.lastChild;(!n||eo(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},Nie=(e,t)=>{const n=N_(e);return Kt(t)?!1:He(n)?Qo(bt.explode(n),t.nodeName.toLowerCase()):n},YZ={insert:(e,t)=>{let n,i,u,m,y=!1;const _=e.dom,E=e.schema,N=E.getNonEmptyElements(),j=e.selection.getRng(),W=Ua(e),q=xe.fromDom(j.startContainer),ne=kr(q,j.startOffset),me=ne.exists(lt=>hd(lt)&&!Qa(lt)),ce=j.collapsed&&me,be=(lt,Pt)=>ZZ(e,n,Bt,gt,ME(e),lt,Pt),Be=lt=>{const Pt=l9(lt,n,i);if(_t(n)&&(lt?Pt>0:Pt<n.data.length))return!1;if((n.parentNode===Bt||n===Bt)&&y&&!lt||lt&&eo(n)&&n===Bt.firstChild)return!0;if(i9(n,"TABLE")||i9(n,"HR"))return Aie(n,"BR")?!lt:y&&!lt||!y&&lt;const wo=new Dr(n,Bt);_t(n)&&(lt&&Pt===0?wo.prev():!lt&&Pt===n.data.length&&wo.next());let Ro;for(;Ro=wo.current();){if(eo(Ro)){if(!Ro.getAttribute("data-mce-bogus")){const _n=Ro.nodeName.toLowerCase();if(N[_n]&&_n!=="br")return!1}}else if(_t(Ro)&&!Qh(Ro.data))return!1;lt?wo.prev():wo.next()}return!0},Pe=()=>{let lt;return/^(H[1-6]|PRE|FIGURE)$/.test(u)&&ro!=="HGROUP"?lt=be(W):lt=be(),Nie(e,m)&&a9(_,m)&&_.isEmpty(Bt,void 0,{includeZwsp:!0})?lt=_.split(m,Bt):_.insertAfter(lt,Bt),fS(e,lt),lt};oy(_,j).each(lt=>{j.setStart(lt.startContainer,lt.startOffset),j.setEnd(lt.endContainer,lt.endOffset)}),n=j.startContainer,i=j.startOffset;const $e=!!(t&&t.shiftKey),rt=!!(t&&t.ctrlKey);eo(n)&&n.hasChildNodes()&&!ce&&(y=i>n.childNodes.length-1,n=n.childNodes[Math.min(i,n.childNodes.length-1)]||n,y&&_t(n)?i=n.data.length:i=0);const gt=JT(_,n);if(!gt||Sie(e,n))return;$e||(n=Die(e,W,j,n,i));let Bt=_.getParent(n,_.isBlock)||_.getRoot();m=Me(Bt==null?void 0:Bt.parentNode)?_.getParent(Bt.parentNode,_.isBlock):null,u=Bt?Bt.nodeName.toUpperCase():"";const ro=m?m.nodeName.toUpperCase():"";if(ro==="LI"&&!rt){const lt=m;Bt=lt,m=lt.parentNode,u=ro}if(eo(m)&&yie(e,$e,Bt))return xie(e,be,Bt);if(/^(LI|DT|DD)$/.test(u)&&eo(m)&&_.isEmpty(Bt)){_ie(e,be,m,Bt,W);return}if(!ce&&(Bt===e.getBody()||!a9(_,Bt)))return;const at=Bt.parentNode;let Xe;if(ce)Xe=be(W),ne.fold(()=>{un(q,xe.fromDom(Xe))},lt=>{ii(lt,xe.fromDom(Xe))}),e.selection.setCursorLocation(Xe,0);else if(Dm(Bt))Xe=Xv(Bt),_.isEmpty(Bt)&&s9(Bt),eO(e,Xe),fS(e,Xe);else if(Be(!1))Xe=Pe();else if(Be(!0)&&at){const lt=it.fromRangeStart(j),Pt=E2(lt),wo=xe.fromDom(Bt),_n=Ew(wo,lt,e.schema)?GA(wo,lt,e.schema).bind($s=>G.from($s.getNode())):G.none();Xe=at.insertBefore(be(),Bt);const as=i9(Bt,"HR")||Pt?Xe:_n.getOr(Bt);fS(e,as)}else{const lt=Oie(j).cloneRange();lt.setEndAfter(Bt);const Pt=lt.extractContents();Cie(Pt),zie(Pt),Xe=Pt.firstChild,Bt===Xe?Me(at)&&_.insertAfter(Pt,at):_.insertAfter(Pt,Bt),Tie(_,N,Xe),Mie(_,Bt),_.isEmpty(Bt)&&s9(Bt),Xe.normalize(),_.isEmpty(Xe)?(_.remove(Xe),Pe()):(eO(e,Xe),fS(e,Xe))}_.setAttrib(Xe,"id",""),e.dispatch("NewBlock",{newBlock:Xe})},fakeEventName:"insertParagraph"},Rie=(e,t,n)=>{const i=new Dr(t,n);let u;const m=e.getNonEmptyElements();for(;u=i.next();)if(m[u.nodeName.toLowerCase()]||_t(u)&&u.length>0)return!0;return!1},XZ=(e,t,n)=>{const i=e.dom.createRng();n?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),e.selection.setRng(i),vw(e,i)},Lie=(e,t)=>{const n=e.selection,i=e.dom,u=n.getRng();let m,y=!1;oy(i,u).each(ne=>{u.setStart(ne.startContainer,ne.startOffset),u.setEnd(ne.endContainer,ne.endOffset)});let _=u.startOffset,E=u.startContainer;if(eo(E)&&E.hasChildNodes()){const ne=_>E.childNodes.length-1;E=E.childNodes[Math.min(_,E.childNodes.length-1)]||E,ne&&_t(E)?_=E.data.length:_=0}let N=i.getParent(E,i.isBlock);const j=N&&N.parentNode?i.getParent(N.parentNode,i.isBlock):null,W=j?j.nodeName.toUpperCase():"",q=!!(t&&t.ctrlKey);W==="LI"&&!q&&(N=j),_t(E)&&_>=E.data.length&&(Rie(e.schema,E,N||i.getRoot())||(m=i.create("br"),u.insertNode(m),u.setStartAfter(m),u.setEndAfter(m),y=!0)),m=i.create("br"),S_(i,u,m),XZ(e,m,y),e.undoManager.add()},Bie=(e,t)=>{const n=xe.fromTag("br");ii(xe.fromDom(t),n),e.undoManager.add()},Pie=(e,t)=>{Fie(e.getBody(),t)||Ya(xe.fromDom(t),xe.fromTag("br"));const n=xe.fromTag("br");Ya(xe.fromDom(t),n),XZ(e,n.dom,!1),e.undoManager.add()},Iie=e=>nr(e.getNode()),Fie=(e,t)=>Iie(it.after(t))?!0:Vl(e,it.after(t)).map(n=>nr(n.getNode())).getOr(!1),QZ=e=>e&&e.nodeName==="A"&&"href"in e,Hie=e=>e.fold(_o,QZ,QZ,_o),$ie=e=>{const t=Tt(Ul,e),n=it.fromRangeStart(e.selection.getRng());return bb(t,e.getBody(),n).filter(Hie)},Vie=(e,t)=>{t.fold(Ft,Tt(Bie,e),Tt(Pie,e),Ft)},JZ={insert:(e,t)=>{const n=$ie(e);n.isSome()?n.each(Tt(Vie,e)):Lie(e,t)},fakeEventName:"insertLineBreak"},eq=(e,t)=>n9(e).filter(n=>t.length>0&&jn(xe.fromDom(n),t)).isSome(),jie=e=>eq(e,C8(e)),Uie=e=>eq(e,sr(e)),Nf=Yl.generate([{br:[]},{block:[]},{none:[]}]),Wie=(e,t)=>Uie(e),tq=e=>(t,n)=>pie(t)===e,oq=(e,t)=>(n,i)=>hie(n)===e.toUpperCase()===t,Zie=e=>{const t=JT(e.dom,e.selection.getStart());return Kt(t)},tO=e=>oq("pre",e),qie=()=>oq("summary",!0),HL=e=>(t,n)=>k8(t)===e,Kie=(e,t)=>jie(e),$L=(e,t)=>t,Gie=e=>{const t=Ua(e),n=JT(e.dom,e.selection.getStart());return Me(n)&&e.schema.isValidChild(n.nodeName,t)},Yie=e=>{const t=e.selection.getRng(),n=xe.fromDom(t.startContainer),u=kr(n,t.startOffset).map(m=>hd(m)&&!Qa(m));return t.collapsed&&u.getOr(!0)},Eh=(e,t)=>(n,i)=>Dt(e,(m,y)=>m&&y(n,i),!0)?G.some(t):G.none(),Xie=(e,t)=>MU([Eh([Wie],Nf.none()),Eh([tO(!0),Zie],Nf.none()),Eh([qie()],Nf.br()),Eh([tO(!0),HL(!1),$L],Nf.br()),Eh([tO(!0),HL(!1)],Nf.block()),Eh([tO(!0),HL(!0),$L],Nf.block()),Eh([tO(!0),HL(!0)],Nf.br()),Eh([tq(!0),$L],Nf.br()),Eh([tq(!0)],Nf.block()),Eh([Kie],Nf.br()),Eh([$L],Nf.br()),Eh([Gie],Nf.block()),Eh([Yie],Nf.block())],[e,!!(t&&t.shiftKey)]).getOr(Nf.none()),VL=(e,t,n)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||a4(t),!(Me(n)&&PL(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Me(n)&&QT(t,e.fakeEventName)))},nq=(e,t)=>{if(e.mode.isReadOnly())return;const n=()=>VL(JZ,e,t),i=()=>VL(YZ,e,t),u=Xie(e,t);switch(_8(e)){case"linebreak":u.fold(n,n,Ft);break;case"block":u.fold(i,i,Ft);break;case"invert":u.fold(i,n,Ft);break;default:u.fold(n,i,Ft);break}},sq=gl(),Qie=sq.os.isiOS()&&sq.browser.isSafari(),rq=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),lR(e.undoManager),e.undoManager.transact(()=>{nq(e,t)}))},Jie=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(_t(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,i=t.data.charAt(e.startOffset-1);return n.test(i)}else return!1},eae=e=>{let t=G.none();const n=u=>{t=G.some(u.selection.getBookmark()),u.undoManager.add()},i=(u,m)=>{u.undoManager.undo(),t.fold(Ft,y=>u.selection.moveToBookmark(y)),rq(u,m),t=G.none()};e.on("keydown",u=>{u.keyCode===Ht.ENTER&&(Qie&&Jie(e.selection.getRng())?n(e):rq(e,u))}),e.on("keyup",u=>{u.keyCode===Ht.ENTER&&t.each(()=>i(e,u))})},tae=(e,t,n)=>{const i=$o.os.isMacOS()||$o.os.isiOS();YT([{keyCode:Ht.END,action:Fo(zW,e,!0)},{keyCode:Ht.HOME,action:Fo(zW,e,!1)},...i?[]:[{keyCode:Ht.HOME,action:Fo(zL,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ht.END,action:Fo(zL,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ht.END,action:Fo(HW,e,!0)},{keyCode:Ht.HOME,action:Fo(HW,e,!1)},{keyCode:Ht.END,action:Fo(OL,e,!0,t)},{keyCode:Ht.HOME,action:Fo(OL,e,!1,t)}],n).each(u=>{n.preventDefault()})},oae=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||tae(e,t,n)})},nae=e=>{e.on("input",t=>{t.isComposing||WM(e)})},sae=gl(),rae=(e,t,n)=>{YT([{keyCode:Ht.PAGE_UP,action:Fo(OL,e,!1,t)},{keyCode:Ht.PAGE_DOWN,action:Fo(OL,e,!0,t)}],n)},iq=e=>e.stopImmediatePropagation(),aq=e=>e.keyCode===Ht.PAGE_UP||e.keyCode===Ht.PAGE_DOWN,lq=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",iq,!0):!n&&e.get()&&t.off("NodeChange",iq),e.set(n)},iae=(e,t)=>{if(sae.os.isMacOS())return;const n=Mn(!1);e.on("keydown",i=>{aq(i)&&lq(n,e,!0)}),e.on("keyup",i=>{i.isDefaultPrevented()||rae(e,t,i),aq(i)&&n.get()&&(lq(n,e,!1),e.nodeChanged())})},cq=(e,t)=>e===t||e.contains(t),aae=(e,t)=>!cq(e.getBody(),t.startContainer)||!cq(e.getBody(),t.endContainer)?!0:MA(e.dom,t),lae=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Rn(t.getTargetRanges(),n=>!aae(e,n)))&&t.preventDefault()})},dq=(e,t)=>{const n=t.container(),i=t.offset();return _t(n)?(n.insertData(i,e),G.some(it(n,i+e.length))):K_(t).map(u=>{const m=xe.fromText(e);return t.isAtEnd()?Ya(u,m):ii(u,m),it(m.dom,e.length)})},uq=Tt(dq,xr),fq=Tt(dq," "),cae=(e,t,n)=>Tw(e,t,n)?uq(t):fq(t),dae=e=>t=>t.fold(n=>qc(e.dom,it.before(n)),n=>_l(n),n=>xu(n),n=>Vl(e.dom,it.after(n))),uae=(e,t,n)=>i=>Tw(e,i,n)?uq(t):fq(t),hq=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},fae=(e,t)=>e.isEditable(e.getParent(t,"summary")),hae=e=>{const t=it.fromRangeStart(e.selection.getRng()),n=xe.fromDom(e.getBody());if(e.selection.isCollapsed()){const i=Tt(Ul,e),u=it.fromRangeStart(e.selection.getRng());return bb(i,e.getBody(),u).bind(dae(n)).map(m=>()=>uae(n,t,e.schema)(m).each(hq(e)))}else return G.none()},pae=e=>{const t=()=>{const n=xe.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const i=it.fromRangeStart(e.selection.getRng());cae(n,i,e.schema).each(hq(e))};return id($o.browser.isFirefox()&&e.selection.isEditable()&&fae(e.dom,e.selection.getRng().startContainer),t)},mae=(e,t)=>{PW([{keyCode:Ht.SPACEBAR,action:Fo(hae,e)},{keyCode:Ht.SPACEBAR,action:Fo(pae,e)}],t).each(n=>{t.preventDefault(),PL(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),QT(e,"insertText",{data:" "}))})},gae=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||mae(e,t)})},bae=e=>tD(e)?[{keyCode:Ht.TAB,action:Fo(lZ,e,!0)},{keyCode:Ht.TAB,shiftKey:!0,action:Fo(lZ,e,!1)}]:[],yae=(e,t)=>{YT([...bae(e)],t).each(n=>{t.preventDefault()})},xae=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||yae(e,t)})},vae=e=>{if(e.addShortcut("Meta+P","","mcePrint"),Kre(e),Tf(e))return Mn(null);{const t=Boe(e);return lae(e),Rne(e),ere(e,t),die(e,t),eae(e),gae(e),nae(e),xae(e),oae(e,t),iae(e,t),t}},wae=(e,t)=>{const n=yk(e);n===null||zf(e,n)||e.undoManager.transact(()=>{ge(t.styles)&&e.dom.setStyles(n,t.styles),ge(t.attrs)&&yn(t.attrs,(i,u)=>e.dom.setAttrib(n,u,i))})},c9=(e,t)=>()=>{const n=yk(e);return Me(n)&&n.nodeName===t},kae=e=>{e.addCommand("InsertUnorderedList",(t,n)=>{oe(e,"UL",n)}),e.addCommand("InsertOrderedList",(t,n)=>{oe(e,"OL",n)}),e.addCommand("InsertDefinitionList",(t,n)=>{oe(e,"DL",n)}),e.addCommand("RemoveList",()=>{rS(e)}),e.addCommand("mceListUpdate",(t,n)=>{ge(n)&&wae(e,n)}),e.addCommand("mceListBackspaceDelete",(t,n)=>{ns(e,n)}),e.addQueryStateHandler("InsertUnorderedList",c9(e,"UL")),e.addQueryStateHandler("InsertOrderedList",c9(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",c9(e,"DL"))},_ae=e=>{e.on("keydown",t=>{t.keyCode===Ht.BACKSPACE?ns(e,!1)&&t.preventDefault():t.keyCode===Ht.DELETE&&ns(e,!0)&&t.preventDefault()})},pq=e=>e.type===3,mq=e=>e.length===0,Cae=e=>{const t=(u,m)=>{const y=al.create("li");tt(u,_=>y.append(_)),m?e.insert(y,m,!0):e.append(y)},n=(u,m)=>pq(m)?[...u,m]:!mq(u)&&!pq(m)?(t(u,m),[]):u,i=Dt(e.children(),n,[]);mq(i)||t(i)},Sae=e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",n=>tt(n,Cae))})},Eae=e=>{e.on("keydown",t=>{t.keyCode!==Ht.TAB||Ht.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?sS(e):PT(e))&&t.preventDefault()})})},Aae=e=>{Q8(e)&&Eae(e)},Tae=e=>{_ae(e),kae(e),Sae(e),Aae(e)};class Oae{constructor(t){vt(this,"editor");vt(this,"lastPath",[]);this.editor=t;let n;const i=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",u=>{const m=t.selection.getRng(),y={startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset};(u.type==="nodechange"||!zd(y,n))&&t.dispatch("SelectionChange"),n=y}),t.on("contextmenu",()=>{l2(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const u=t.selection.getStart(!0);u&&J_(t)&&!i.isSameElementPath(u)&&t.dom.isChildOf(u,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",u=>{!u.isDefaultPrevented()&&J_(t)&&(t.selection.getNode().nodeName==="IMG"?wu.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor,i=n.selection;let u;if(n.initialized&&i&&!M8(n)&&!j_(n)){const m=n.getBody();u=i.getStart(!0)||m,(u.ownerDocument!==n.getDoc()||!n.dom.isChildOf(u,m))&&(u=m);const y=[];n.dom.getParent(u,_=>_===m?!0:(y.push(_),!1)),n.dispatch("NodeChange",{...t,element:u,parents:y})}}isSameElementPath(t){let n;const i=this.editor,u=ar(i.dom.getParents(t,fo,i.getBody()));if(u.length===this.lastPath.length){for(n=u.length;n>=0&&u[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=u,!0}return this.lastPath=u,!1}}const gq="x-tinymce/html",jL=ft(gq),d9="<!-- "+gq+" -->",zae=e=>d9+e,Dae=e=>e.replace(d9,""),bq=e=>e.indexOf(d9)!==-1,Mae=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Nae=(e,t)=>{let n="<"+e;const i=Ni(t,(u,m)=>m+'="'+lu.encodeAllRaw(u)+'"');return i.length&&(n+=" "+i.join(" ")),n+">"},Rae=(e,t,n)=>{const i=e.split(/\n\n/),u=Nae(t,n),m="</"+t+">",y=Do(i,E=>E.split(/\n/).join("<br />")),_=E=>u+E+m;return y.length===1?y[0]:Do(y,_).join("")},yq="%MCEPASTEBIN%",Lae=(e,t)=>{const{dom:n,selection:i}=e,u=e.getBody();t.set(i.getRng());const m=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},yq);$o.browser.isFirefox()&&n.setStyle(m,"left",n.getStyle(u,"direction",!0)==="rtl"?65535:-65535),n.bind(m,"beforedeactivate focusin focusout",y=>{y.stopPropagation()}),m.focus(),i.select(m,!0)},Bae=(e,t)=>{const n=e.dom;if(u9(e)){let i;const u=t.get();for(;i=u9(e);)n.remove(i),n.unbind(i);u&&e.selection.setRng(u)}t.set(null)},u9=e=>e.dom.get("mcepastebin"),Pae=e=>Me(e)&&e.id==="mcepastebin",Iae=e=>{const t=e.dom,n=(y,_)=>{y.appendChild(_),t.remove(_,!0)},[i,...u]=we(e.getBody().childNodes,Pae);tt(u,y=>{n(i,y)});const m=t.select("div[id=mcepastebin]",i);for(let y=m.length-1;y>=0;y--){const _=t.create("div");i.insertBefore(_,m[y]),n(_,m[y])}return i?i.innerHTML:""},xq=e=>e===yq,Fae=e=>{const t=Mn(null);return{create:()=>Lae(e,t),remove:()=>Bae(e,t),getEl:()=>u9(e),getHtml:()=>Iae(e),getLastRng:t.get}},vq=(e,t)=>(bt.each(t,n=>{Je(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),Hae=e=>{const t=af(),n=Wi({},t);let i="";const u=t.getVoidElements(),m=bt.makeMap("script noscript style textarea video audio iframe object"," "),y=t.getBlockElements(),_=E=>{const N=E.name,j=E;if(N==="br"){i+=`
`;return}if(N!=="wbr"){if(u[N]&&(i+=" "),m[N]){i+=" ";return}if(E.type===3&&(i+=E.value),!(E.name in t.getVoidElements())){let W=E.firstChild;if(W)do _(W);while(W=W.next)}y[N]&&j.next&&(i+=`
`,N==="p"&&(i+=`
`))}};return e=vq(e,[/<!\[[^\]]+\]>/g]),_(n.parse(e)),i},wq=e=>(e=vq(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,i,u)=>!i&&!u?" ":xr],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),$ae=e=>{let t=0;return()=>e+t++},Vae=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return bt.hasOwn(n,t)?"image/"+n[t]:"image/"+t},jae=(e,t)=>{const n=Wi({sanitize:I_(e),sandbox_iframes:qE(e),sandbox_iframes_exclusions:KE(e),convert_unsafe_embeds:$_(e)},e.schema);n.addNodeFilter("meta",u=>{bt.each(u,m=>{m.remove()})});const i=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Hm({validate:!0},e.schema).serialize(i)},kq=(e,t)=>({content:e,cancelled:t}),Uae=(e,t,n)=>{const i=e.dom.create("div",{style:"display:none"},t),u=Sz(e,i,n);return kq(u.node.innerHTML,u.isDefaultPrevented())},Wae=(e,t,n)=>{const i=mf(e,t,n),u=jae(e,i.content);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?Uae(e,u,n):kq(u,i.isDefaultPrevented())},Zae=(e,t,n)=>Wae(e,t,n),f9=(e,t)=>(e.insertContent(t,{merge:$8(e),paste:!0}),!0),h9=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),qae=(e,t)=>h9(t)&&Rn(eD(e),n=>Zf(t.toLowerCase(),`.${n.toLowerCase()}`)),Kae=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),Gae=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),Yae=(e,t,n)=>!e.selection.isCollapsed()&&h9(t)?Gae(e,t,n):!1,Xae=(e,t,n)=>qae(e,t)?Kae(e,t,n):!1,Qae=(e,t)=>{bt.each([Yae,Xae,f9],n=>!n(e,t,f9))},Jae=(e,t,n)=>{n||!Yz(e)?f9(e,t):Qae(e,t)},ele=$ae("mceclip"),tle=e=>{const t=q$();return JW(t,e),Z$(t),t},_q=(e,t,n,i,u)=>{const m=Zae(e,t,n);if(!m.cancelled){const y=m.content,_=()=>Jae(e,y,i);u?PL(e,"insertFromPaste",{dataTransfer:tle(y)}).isDefaultPrevented()||(_(),QT(e,"insertFromPaste")):_()}},UL=(e,t,n,i)=>{const u=n||bq(t);_q(e,Dae(t),u,!1,i)},p9=(e,t,n)=>{const i=e.dom.encode(t).replace(/\r\n/g,`
`),u=Jk(i,j8(e)),m=Rae(u,Ua(e),U1(e));_q(e,m,!1,!0,n)},Cq=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const i=e.types[n];try{t[i]=e.getData(i)}catch{t[i]=""}}return t},Xx=(e,t)=>t in e&&e[t].length>0,Sq=e=>Xx(e,"text/html")||Xx(e,"text/plain"),ole=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Me(n)?e.dom.encode(n[1]):void 0},nle=(e,t,n,i)=>{const u=ele(),m=hp(e)&&Me(n.name),y=m?ole(e,n.name):u,_=m?n.name:void 0,E=t.create(u,n,i,y,_);return t.add(E),E},sle=(e,t)=>{nC(t.uri).each(({data:n,type:i,base64Encoded:u})=>{const m=u?n:btoa(n),y=t.file,_=e.editorUpload.blobCache,N=_.getByData(m,i)??nle(e,_,y,m);UL(e,`<img src="${N.blobUri()}">`,!1,!0)})},rle=e=>e.type==="paste",ile=e=>Promise.all(Do(e,t=>sC(t).then(n=>({file:t,uri:n})))),ale=e=>{const t=eD(e);return n=>Ws(n.type,"image/")&&Rn(t,i=>Vae(i)===n.type)},lle=(e,t)=>{const n=t.items?Ds(jt(t.items),u=>u.kind==="file"?[u.getAsFile()]:[]):[],i=t.files?jt(t.files):[];return we(n.length>0?n:i,ale(e))},Eq=(e,t,n)=>{const i=rle(t)?t.clipboardData:t.dataTransfer;if(K1(e)&&i){const u=lle(e,i);if(u.length>0)return t.preventDefault(),ile(u).then(m=>{n&&e.selection.setRng(n),tt(m,y=>{sle(e,y)})}),!0}return!1},cle=e=>{var t,n;return $o.os.isAndroid()&&((n=(t=e.clipboardData)==null?void 0:t.items)==null?void 0:n.length)===0},dle=e=>Ht.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,m9=(e,t,n,i,u)=>{let m=wq(n);const y=Xx(t,jL())||bq(n),_=!y&&Mae(m),E=h9(m);(xq(m)||!m.length||_&&!E)&&(i=!0),(i||E)&&(Xx(t,"text/plain")&&_?m=t["text/plain"]:m=Hae(m)),!xq(m)&&(i?p9(e,m,u):UL(e,m,y,u))},ule=(e,t,n)=>{let i;const u=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",m=>{dle(m)&&!m.isDefaultPrevented()&&(i=m.shiftKey&&m.keyCode===86)}),e.on("paste",m=>{if(m.isDefaultPrevented()||cle(m))return;const y=n.get()==="text"||i;i=!1;const _=Cq(m.clipboardData);!Sq(_)&&Eq(e,m,u())||(Xx(_,"text/html")?(m.preventDefault(),m9(e,_,_["text/html"],y,!0)):Xx(_,"text/plain")&&Xx(_,"text/uri-list")?(m.preventDefault(),m9(e,_,_["text/plain"],y,!0)):(t.create(),wu.setEditorTimeout(e,()=>{const E=t.getHtml();t.remove(),m9(e,_,E,y,!1)},0)))})},fle=e=>{const t=u=>Ws(u,"webkit-fake-url"),n=u=>Ws(u,"data:"),i=u=>{var m;return((m=u.data)==null?void 0:m.paste)===!0};e.parser.addNodeFilter("img",(u,m,y)=>{if(!K1(e)&&i(y))for(const _ of u){const E=_.attr("src");He(E)&&!_.attr("data-mce-object")&&E!==$o.transparentSrc&&(t(E)||!U8(e)&&n(E))&&_.remove()}})},hle=(e,t,n)=>{ule(e,t,n),fle(e)},ple=(e,t)=>{t.get()==="text"?(t.set("html"),Ez(e,!1)):(t.set("text"),Ez(e,!0)),e.focus()},mle=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{ple(e,t)}),e.addCommand("mceInsertClipboardContent",(n,i)=>{i.html&&UL(e,i.html,i.internal,!1),i.text&&p9(e,i.text,!1)})},gle=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(jL(),t),!0}catch{return!1}else return!1},Aq=(e,t,n,i)=>{gle(e.clipboardData,t.html,t.text)?(e.preventDefault(),i()):n(t.html,i)},Tq=e=>(t,n)=>{const{dom:i,selection:u}=e,m=i.create("div",{contenteditable:"false","data-mce-bogus":"all"}),y=i.create("div",{contenteditable:"true"},t);i.setStyles(m,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),m.appendChild(y),i.add(e.getBody(),m);const _=u.getRng();y.focus();const E=i.createRng();E.selectNodeContents(y),u.setRng(E),wu.setEditorTimeout(e,()=>{u.setRng(_),i.remove(m),n()},0)},Oq=e=>({html:zae(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),ble=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),zq=e=>!e.selection.isCollapsed()||ble(e),yle=(e,t)=>n=>{!n.isDefaultPrevented()&&zq(e)&&e.selection.isEditable()&&Aq(n,Oq(e),Tq(e),()=>{if($o.browser.isChromium()||$o.browser.isFirefox()){const i=e.selection.getRng();wu.setEditorTimeout(e,()=>{e.selection.setRng(i),F$(e,t)},0)}else F$(e,t)})},xle=e=>t=>{!t.isDefaultPrevented()&&zq(e)&&Aq(t,Oq(e),Tq(e),Ft)},vle=(e,t)=>{e.on("cut",yle(e,t)),e.on("copy",xle(e))},Dq=(e,t)=>bf.getCaretRangeFromPoint(t.clientX??0,t.clientY??0,e.getDoc()),wle=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},Mq=(e,t)=>{t&&e.selection.setRng(t),e.focus()},kle=e=>Rn(e.files,t=>/^image\//.test(t.type)),_le=(e,t,n,i)=>{const u=e.getParent(n,y=>rh(t,y));if(!Ve(e.getParent(n,"summary")))return!0;if(u&&Io(i,"text/html")){const y=new DOMParser().parseFromString(i["text/html"],"text/html").body;return!Ve(y.querySelector(u.nodeName.toLowerCase()))}else return!1},Cle=e=>{e.on("input",t=>{const n=i=>Ve(i.querySelector("summary"));if(t.inputType==="deleteByDrag"){const i=we(e.dom.select("details"),n);tt(i,u=>{nr(u.firstChild)&&u.firstChild.remove();const m=e.dom.create("summary");m.appendChild(Om().dom),u.prepend(m)})}})},Sle=(e,t)=>{I8(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),K1(e)||e.on("drop",n=>{const i=n.dataTransfer;i&&kle(i)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const i=Dq(e,n);if(Kt(i))return;const u=Cq(n.dataTransfer),m=Xx(u,jL());if((!Sq(u)||wle(u))&&Eq(e,n,i))return;const y=u[jL()],_=y||u["text/html"]||u["text/plain"],E=_le(e.dom,e.schema,i.startContainer,u),N=t.get();N&&!E||_&&(n.preventDefault(),wu.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(y||N&&E)&&e.execCommand("Delete"),Mq(e,i);const j=wq(_);u["text/html"]?UL(e,j,m,!0):p9(e,j,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{K1(e)&&!t.get()&&(n.preventDefault(),Mq(e,Dq(e,n))),n.type==="dragend"&&t.set(!1)}),Cle(e)},Ele=e=>{const t=u=>m=>{u(e,m)},n=qz(e);yt(n)&&e.on("PastePreProcess",t(n));const i=F8(e);yt(i)&&e.on("PastePostProcess",t(i))},Ale=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},Tle=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Nq=e=>bt.trim(e).replace(Tle,_m).toLowerCase(),Ole=(e,t,n)=>{const i=Kz(e);if(n||i==="all"||!Gz(e))return t;const u=i?i.split(/[, ]/):[];if(u&&i!=="none"){const m=e.dom,y=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(_,E,N,j)=>{const W=m.parseStyle(m.decode(N)),q={};for(let me=0;me<u.length;me++){const ce=W[u[me]];let be=ce,Be=m.getStyle(y,u[me],!0);/color/.test(u[me])&&(be=Nq(be),Be=Nq(Be)),Be!==be&&(q[u[me]]=ce)}const ne=m.serializeStyle(q,"span");return ne?E+' style="'+ne+'"'+j:E+j})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(m,y,_,E)=>y+' style="'+_+'"'+E),t},zle=e=>{($o.browser.isChromium()||$o.browser.isSafari())&&Ale(e,Ole)},Dle=(e,t)=>{const n=Mn(!1),i=Mn(V8(e)?"text":"html"),u=Fae(e);zle(e),mle(e,i),Ele(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>i.get()==="text"),e.on("PreInit",()=>{vle(e,t),Sle(e,n),hle(e,u,i)})},Mle=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Nle=e=>{e.parser.addNodeFilter("details",t=>{const n=H_(e);tt(t,i=>{n==="expanded"?i.attr("open","open"):n==="collapsed"&&i.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=Y8(e);tt(t,i=>{n==="expanded"?i.attr("open","open"):n==="collapsed"&&i.attr("open",null)})})},Rle=e=>{Mle(e),Nle(e)},Lle=nr,Rq=_t,Ble=e=>us(e.dom),Ple=e=>ol(e.dom),Lq=e=>t=>cn(xe.fromDom(e),t),Ile=(e,t,n)=>ya(xe.fromDom(e),i=>Ple(i)||n.isBlock(Xo(i)),Lq(t)).getOr(xe.fromDom(t)).dom,Bq=(e,t)=>ya(xe.fromDom(e),Ble,Lq(t)),Pq=(e,t,n)=>{const i=new Dr(e,t),u=n?i.next.bind(i):i.prev.bind(i);let m=e;for(let y=n?e:u();y&&!Lle(y);y=u())Lo(y)&&(m=y);return m},Fle=(e,t,n)=>{const u=it.fromRangeStart(e).getNode(),m=Ile(u,t,n),y=Pq(u,m,!1),_=Pq(u,m,!0),E=document.createRange();return Bq(y,m).fold(()=>{Rq(y)?E.setStart(y,0):E.setStartBefore(y)},N=>E.setStartBefore(N.dom)),Bq(_,m).fold(()=>{Rq(_)?E.setEnd(_,_.data.length):E.setEndAfter(_)},N=>E.setEndAfter(N.dom)),E},Hle=e=>{const t=Fle(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(oC(t))},$le=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),Hle(e))})};var hS;(function(e){e.Before="before",e.After="after"})(hS||(hS={}));const Vle=(e,t)=>Math.abs(e.left-t),jle=(e,t)=>Math.abs(e.right-t),Ule=(e,t)=>e>=t.top&&e<=t.bottom,Wle=(e,t)=>e.top<t.bottom&&e.bottom>t.top,Zle=(e,t)=>{const n=Re(e,t)/Math.min(e.height,t.height);return Wle(e,t)&&n>.5},qle=(e,t)=>{const n=we(e,i=>Ule(t,i));return fe(n).fold(()=>[[],e],i=>{const{pass:u,fail:m}=ze(e,y=>Zle(y,i));return[u,m]})},Kle=(e,t)=>({node:e.node,position:Vle(e,t)<jle(e,t)?hS.Before:hS.After}),Gle=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),g9=(e,t,n,i)=>{const u=W=>Lo(W.node)?G.some(W):eo(W.node)?g9(jt(W.node.childNodes),t,n,!1):G.none(),m=(W,q,ne)=>u(q).filter(me=>Math.abs(ne(W,t,n)-ne(me,t,n))<2&&_t(me.node)),y=(W,q)=>{const ne=so(W,(me,ce)=>q(me,t,n)-q(ce,t,n));return Tl(ne,u).map(me=>i&&!_t(me.node)&&ne.length>1?m(me,ne[1],q).getOr(me):me)},[_,E]=qle(qU(e),n),{pass:N,fail:j}=ze(E,W=>W.top<n);return y(_,Gle).orThunk(()=>y(j,ke)).orThunk(()=>y(N,ke))},Yle=(e,t,n,i)=>{const u=(m,y)=>{const _=N=>eo(N)&&N.classList.contains("mce-drag-container"),E=we(m.dom.childNodes,Le(_));return y.fold(()=>g9(E,n,i,!0),N=>{const j=we(E,W=>W!==N.dom);return g9(j,n,i,!0)}).orThunk(()=>(cn(m,e)?G.none():pd(m)).bind(j=>u(j,G.some(m))))};return u(t,G.none())},Xle=(e,t,n)=>{const i=xe.fromDom(e),u=Nl(i),y=xe.fromPoint(u,t,n).filter(_=>pr(i,_)).getOr(i);return Yle(i,y,t,n)},Iq=(e,t,n)=>Xle(e,t,n).filter(i=>Y1(i.node)).map(i=>Kle(i,t)),Fq=e=>{const t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.documentElement,u=n.defaultView;return{top:t.top+((u==null?void 0:u.scrollY)??0)-i.clientTop,left:t.left+((u==null?void 0:u.scrollX)??0)-i.clientLeft}},Qle=e=>e.inline?Fq(e.getBody()):{left:0,top:0},Jle=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},ece=e=>{const t=e.getBody(),n=e.getDoc().documentElement,i={left:t.scrollLeft,top:t.scrollTop},u={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?i:u},tce=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=Fq(e.getContentAreaContainer()),i=ece(e);return{left:t.pageX-n.left+i.left,top:t.pageY-n.top+i.top}}return{left:t.pageX,top:t.pageY}},oce=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),nce=(e,t)=>oce(Qle(e),Jle(e),tce(e,t)),Hq=e=>({target:e,srcElement:e}),sce=(e,t,n,i)=>({...t,dataTransfer:i,type:e,...Hq(n)}),rce=(e,t,n)=>{const i=Ge("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:i,initEvent:i,preventDefault:Ft,stopImmediatePropagation:Ft,stopPropagation:Ft,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:i,initMouseEvent:i,getModifierState:i,dataTransfer:n,...Hq(t)}},ice=(e,t)=>{const n=Cse(e);return t==="dragstart"?(KW(n),YW(n)):t==="drop"?(mse(n),Z$(n)):(gse(n),vse(n)),n},ace=(e,t,n,i)=>{const u=ice(n,e);return lo(i)?rce(e,t,u):sce(e,i,t,u)},$q=32,lce=100,WL=8,ZL=16,Vq=us,cce=dt(Vq,ol),dce=(e,t,n)=>Vq(n)&&n!==t&&e.isEditable(n.parentElement),uce=(e,t,n)=>Kt(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),fce=(e,t,n,i)=>{const u=e.dom,m=t.cloneNode(!0);u.setStyles(m,{width:n,height:i}),u.setAttrib(m,"data-mce-selected",null);const y=u.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return u.setStyles(y,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),u.setStyles(m,{margin:0,boxSizing:"border-box"}),y.appendChild(m),y},hce=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},qL=(e,t)=>n=>()=>{const i=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:i+t,behavior:"smooth"})},jq=qL("left",-32),Uq=qL("left",$q),Wq=qL("top",-32),Zq=qL("top",$q),pce=(e,t,n,i,u,m,y,_,E,N,j,W)=>{let q=0,ne=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>u&&(q=t.pageX+n-u),t.pageY+i>m&&(ne=t.pageY+i-m),e.style.width=n-q+"px",e.style.height=i-ne+"px";const me=E.clientHeight,ce=E.clientWidth,be=y+E.getBoundingClientRect().top,Be=_+E.getBoundingClientRect().left;j.on(Pe=>{Pe.intervalId.clear(),Pe.dragging&&W&&(y+WL>=me?Pe.intervalId.set(Zq(N)):y-WL<=0?Pe.intervalId.set(Wq(N)):_+WL>=ce?Pe.intervalId.set(Uq(N)):_-WL<=0?Pe.intervalId.set(jq(N)):be+ZL>=window.innerHeight?Pe.intervalId.set(Zq(window)):be-ZL<=0?Pe.intervalId.set(Wq(window)):Be+ZL>=window.innerWidth?Pe.intervalId.set(Uq(window)):Be-ZL<=0&&Pe.intervalId.set(jq(window)))})},qq=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},mce=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);qq(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&uf(xe.fromDom(n))},gce=e=>e.button===0,bce=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),yce=(e,t)=>n=>{if(gce(n)){const i=Wo(t.dom.getParents(n.target),cce).getOr(null);if(Me(i)&&dce(t.dom,t.getBody(),i)){const u=t.dom.getPos(i),m=t.getBody(),y=t.getDoc().documentElement;e.set({element:i,dataTransfer:q$(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?m.scrollWidth:y.offsetWidth)-2,maxY:(t.inline?m.scrollHeight:y.offsetHeight)-2,relX:n.pageX-u.x,relY:n.pageY-u.y,width:i.offsetWidth,height:i.offsetHeight,ghost:fce(t,i,i.offsetWidth,i.offsetHeight),intervalId:pg(lce)})}}},xce=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),Iq(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),i=>{const u=e._selectionOverrides.showCaret(1,i.node,i.position===hS.Before,!1);u?e.selection.setRng(u):e.selection.placeCaretAt(t,n)})},oO=(e,t,n,i,u)=>{t==="dragstart"&&JW(i,e.dom.getOuterHTML(n));const m=ace(t,n,i,u);return e.dispatch(t,m)},vce=(e,t)=>{const n=Zs((u,m)=>xce(t,u,m),0);t.on("remove",n.cancel);const i=e;return u=>e.on(m=>{const y=Math.max(Math.abs(u.screenX-m.screenX),Math.abs(u.screenY-m.screenY));if(!m.dragging&&y>10){const _=oO(t,"dragstart",m.element,m.dataTransfer,u);if(Me(_.dataTransfer)&&(m.dataTransfer=_.dataTransfer),_.isDefaultPrevented())return;m.dragging=!0,t.focus()}if(m.dragging){const _=u.currentTarget===t.getDoc().documentElement,E=bce(m,nce(t,u));hce(m.ghost,t.getBody()),pce(m.ghost,E,m.width,m.height,m.maxX,m.maxY,u.clientY,u.clientX,t.getContentAreaContainer(),t.getWin(),i,_),n.throttle(u.clientX,u.clientY)}})},wce=e=>{const t=e.getSel();if(Me(t)){const i=t.getRangeAt(0).startContainer;return _t(i)?i.parentNode:i}else return null},kce=(e,t)=>n=>{e.on(i=>{if(i.intervalId.clear(),i.dragging){if(uce(t,wce(t.selection),i.element)){const u=t.getDoc().elementFromPoint(n.clientX,n.clientY)??t.getBody();oO(t,"drop",u,i.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{mce(t.dom,i.element),Sse(i.dataTransfer).each(y=>t.insertContent(y)),t._selectionOverrides.hideFakeCaret()})}oO(t,"dragend",t.getBody(),i.dataTransfer,n)}}),Gq(e)},Kq=(e,t,n)=>{e.on(i=>{i.intervalId.clear(),i.dragging&&n.fold(()=>oO(t,"dragend",i.element,i.dataTransfer),u=>oO(t,"dragend",i.element,i.dataTransfer,u))}),Gq(e)},_ce=(e,t)=>n=>Kq(e,t,G.some(n)),Gq=e=>{e.on(t=>{t.intervalId.clear(),qq(t.ghost)}),e.clear()},Cce=e=>{const t=Ql(),n=Kn.DOM,i=document,u=yce(t,e),m=vce(t,e),y=kce(t,e),_=_ce(t,e);e.on("mousedown",u),e.on("mousemove",m),e.on("mouseup",y),n.bind(i,"mousemove",m),n.bind(i,"mouseup",_),e.on("remove",()=>{n.unbind(i,"mousemove",m),n.unbind(i,"mouseup",_)}),e.on("keydown",E=>{E.keyCode===Ht.ESC&&Kq(t,e,G.none())})},Sce=e=>{const t=u=>{if(!u.isDefaultPrevented()){const m=u.dataTransfer;m&&(Qo(m.types,"Files")||m.files.length>0)&&(u.preventDefault(),u.type==="drop"&&NC(e,"Dropped file type is not supported"))}},n=u=>{ey(e,u.target)&&t(u)},i=()=>{const u=Kn.DOM,m=e.dom,y=document,_=e.inline?e.getBody():e.getDoc(),E=["drop","dragover"];tt(E,N=>{u.bind(y,N,n),m.bind(_,N,t)}),e.on("remove",()=>{tt(E,N=>{u.unbind(y,N,n),m.unbind(_,N,t)})})};e.on("init",()=>{wu.setEditorTimeout(e,i,0)})},Ece=e=>{Cce(e),R8(e)&&Sce(e)},Ace=e=>{const t=Zs(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const i=wk(e,n,!1);e.selection.setRng(i)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Tce=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(nl(n)){const i=tb(e.getBody(),n),u=us(i)?i:n;e.selection.getNode()!==u&&zu(e,u).each(m=>e.selection.setRng(m))}})})},nO=us,Yq=(e,t)=>tb(e.getBody(),t),Oce=e=>{const t=e.selection,n=e.dom,i=e.getBody(),u=fD(e,i,n.isBlock,()=>ty(e)),m="sel-"+n.uniqueId(),y="data-mce-selected";let _;const E=at=>Me(at)&&n.hasClass(at,"mce-offscreen-selection"),N=at=>at!==i&&(nO(at)||nl(at))&&n.isChildOf(at,i)&&n.isEditable(at.parentNode),j=at=>{at&&t.setRng(at)},W=(at,Xe,lt,Pt=!0)=>e.dispatch("ShowCaret",{target:Xe,direction:at,before:lt}).isDefaultPrevented()?null:(Pt&&t.scrollIntoView(Xe,at===-1),u.show(lt,Xe)),q=at=>{at.hasAttribute("data-mce-caret")&&(Xv(at),t.scrollIntoView(at))},ne=()=>{e.on("click",Xe=>{n.isEditable(Xe.target)||(Xe.preventDefault(),e.focus())}),e.on("blur NewBlock",gt),e.on("ResizeWindow FullscreenStateChanged",u.reposition),e.on("tap",Xe=>{const lt=Xe.target,Pt=Yq(e,lt);nO(Pt)?(Xe.preventDefault(),zu(e,Pt).each(rt)):N(lt)&&zu(e,lt).each(rt)},!0),e.on("mousedown",Xe=>{const lt=Xe.target;if(lt!==i&&lt.nodeName!=="HTML"&&!n.isChildOf(lt,i)||!HR(e,Xe.clientX,Xe.clientY))return;gt(),ro();const Pt=Yq(e,lt);nO(Pt)?(Xe.preventDefault(),zu(e,Pt).each(rt)):Iq(i,Xe.clientX,Xe.clientY).each(wo=>{Xe.preventDefault();const Ro=W(1,wo.node,wo.position===hS.Before,!1);j(Ro),sn(Pt)?Pt.focus():e.getBody().focus()})}),e.on("keypress",Xe=>{Ht.modifierPressed(Xe)||nO(t.getNode())&&Xe.preventDefault()}),e.on("GetSelectionRange",Xe=>{let lt=Xe.range;if(_){if(!_.parentNode){_=null;return}lt=lt.cloneRange(),lt.selectNode(_),Xe.range=lt}}),e.on("focusin",Xe=>{if(!nl(Xe.target)&&e.getBody().contains(Xe.target)&&Xe.target!==e.getBody()&&!e.dom.isEditable(Xe.target.parentNode)){u.isShowing()&&u.hide(),Xe.target.contains(e.selection.getNode())||(e.selection.select(Xe.target,!0),e.selection.collapse(!0));const lt=rt(e.selection.getRng(),!0);lt&&e.selection.setRng(lt)}}),e.on("SetSelectionRange",Xe=>{Xe.range=be(Xe.range);const lt=rt(Xe.range,Xe.forward);lt&&(Xe.range=lt)});const at=Xe=>eo(Xe)&&Xe.id==="mcepastebin";e.on("AfterSetSelectionRange",Xe=>{const lt=Xe.range,Pt=lt.startContainer.parentElement;!ce(lt)&&!at(Pt)&&ro(),E(Pt)||gt()}),Ece(e),Ace(e),Tce(e)},me=at=>fc(at)||Mm(at)||R0(at),ce=at=>me(at.startContainer)||me(at.endContainer),be=at=>{const Xe=e.schema.getVoidElements(),lt=n.createRng(),Pt=at.startContainer,wo=at.startOffset,Ro=at.endContainer,_n=at.endOffset;return Io(Xe,Pt.nodeName.toLowerCase())?wo===0?lt.setStartBefore(Pt):lt.setStartAfter(Pt):lt.setStart(Pt,wo),Io(Xe,Ro.nodeName.toLowerCase())?_n===0?lt.setEndBefore(Ro):lt.setEndAfter(Ro):lt.setEnd(Ro,_n),lt},Be=(at,Xe)=>{const lt=xe.fromDom(e.getBody()),Pt=e.getDoc(),wo=Ys(lt,"#"+m).getOrThunk(()=>{const as=xe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Pt);return Tr(as,"id",m),un(lt,as),as}),Ro=n.createRng();eu(wo),er(wo,[xe.fromText(xr,Pt),xe.fromDom(Xe),xe.fromText(xr,Pt)]),Ro.setStart(wo.dom.firstChild,1),Ro.setEnd(wo.dom.lastChild,0),Yu(wo,{top:n.getPos(at,e.getBody()).y+"px"}),qu(wo);const _n=t.getSel();return _n&&(_n.removeAllRanges(),_n.addRange(Ro)),Ro},Pe=at=>{const Xe=e.getDoc().createElement("div");Xe.style.width=at.style.width,Xe.style.height=at.style.height;const lt=at.getAttribute("width");lt&&Xe.setAttribute("width",lt);const Pt=at.getAttribute("height");return Pt&&Xe.setAttribute("height",Pt),Xe},$e=at=>{const Xe=h1(at)?Pe(at):at.cloneNode(!0),lt=e.dispatch("ObjectSelected",{target:at,targetClone:Xe});if(lt.isDefaultPrevented())return null;const Pt=Be(at,lt.targetClone),wo=xe.fromDom(at);return tt(Ae(xe.fromDom(e.getBody()),`*[${y}]`),Ro=>{cn(wo,Ro)||Or(Ro,y)}),n.getAttrib(at,y)||at.setAttribute(y,"1"),_=at,ro(),Pt},rt=(at,Xe)=>{if(!at)return null;if(at.collapsed){if(!ce(at)){const Ro=Xe?1:-1,_n=J1(Ro,i,at),as=_n.getNode(!Xe);if(Me(as)){if(Y1(as))return W(Ro,as,Xe?!_n.isAtEnd():!1,!1);if(hh(as)&&us(as.nextSibling)){const Qs=n.createRng();return Qs.setStart(as,0),Qs.setEnd(as,0),Qs}}const $s=_n.getNode(Xe);if(Me($s)){if(Y1($s))return W(Ro,$s,Xe?!1:!_n.isAtEnd(),!1);if(hh($s)&&us($s.previousSibling)){const Qs=n.createRng();return Qs.setStart($s,1),Qs.setEnd($s,1),Qs}}}return null}let lt=at.startContainer,Pt=at.startOffset;const wo=at.endOffset;if(_t(lt)&&Pt===0&&nO(lt.parentNode)&&(lt=lt.parentNode,Pt=n.nodeIndex(lt),lt=lt.parentNode),!eo(lt))return null;if(wo===Pt+1&&lt===at.endContainer){const Ro=lt.childNodes[Pt];if(N(Ro))return $e(Ro)}return null},gt=()=>{_&&_.removeAttribute(y),Ys(xe.fromDom(e.getBody()),"#"+m).each(ts),_=null},Bt=()=>{u.destroy(),_=null},ro=()=>{u.hide()};return Tf(e)||ne(),{showCaret:W,showBlockCaretContainer:q,hideFakeCaret:ro,destroy:Bt}},zce=(e,t)=>{let n=t;for(let i=e.previousSibling;_t(i);i=i.previousSibling)n+=i.data.length;return n},Xq=(e,t,n,i,u)=>{if(_t(n)&&(i<0||i>n.data.length))return[];const m=u&&_t(n)?[zce(n,i)]:[i];let y=n;for(;y!==t&&y.parentNode;)m.push(e.nodeIndex(y,u)),y=y.parentNode;return y===t?m.reverse():[]},b9=(e,t,n,i,u,m,y=!1)=>{const _=Xq(e,t,n,i,y),E=Xq(e,t,u,m,y);return{start:_,end:E}},Qq=(e,t)=>{const n=t.slice(),i=n.pop();return I(i)?Dt(n,(m,y)=>m.bind(_=>G.from(_.childNodes[y])),G.some(e)).bind(m=>_t(m)&&(i<0||i>m.data.length)?G.none():G.some({node:m,offset:i})):G.none()},Jq=(e,t)=>Qq(e,t.start).bind(({node:n,offset:i})=>Qq(e,t.end).map(({node:u,offset:m})=>{const y=document.createRange();return y.setStart(n,i),y.setEnd(u,m),y})),Dce=(e,t,n,i=!1)=>b9(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,i),pS=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const i=t.parentNode;e.remove(t,_t(t.firstChild)&&Qh(t.firstChild.data)),pS(e,i,n)}},KL=(e,t,n,i=!0)=>{const u=t.startContainer.parentNode,m=t.endContainer.parentNode;t.deleteContents(),i&&!n(t.startContainer)&&(_t(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),_t(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),pS(e,u,n),u!==m&&pS(e,m,n))},GL=(e,t)=>G.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),y9=(e,t,n)=>{const i=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:O_(i).concat(e.blockPatterns),inlinePatterns:ja(i).concat(e.inlinePatterns)}},x9=(e,t,n,i)=>{const u=e.createRng();return u.setStart(t,0),u.setEnd(n,i),u.toString()},eK=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),YL=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},tK=(e,t,n)=>{const i=Jq(e.getRoot(),n).getOrDie("Unable to resolve path range"),u=i.startContainer,m=i.endContainer,y=i.endOffset===0?m:m.splitText(i.endOffset),_=i.startOffset===0?u:u.splitText(i.startOffset),E=_.parentNode,N=y.parentNode;return{prefix:t,end:N.insertBefore(eK(e,t+"-end"),y),start:E.insertBefore(eK(e,t+"-start"),_)}},oK=(e,t,n)=>{pS(e,e.get(t.prefix+"-end"),n),pS(e,e.get(t.prefix+"-start"),n)},v9=e=>e.start.length===0,Mce=e=>(t,n)=>{const u=t.data.substring(0,n),m=u.lastIndexOf(e.charAt(e.length-1)),y=u.lastIndexOf(e);return y!==-1?y+e.length:m!==-1?m+1:-1},nK=(e,t,n,i)=>{const u=t.start;return X$(e,i.container,i.offset,Mce(u),n).bind(y=>{var N;const _=((N=n.textContent)==null?void 0:N.indexOf(u))??-1;if(_!==-1&&y.offset>=_+u.length){const j=e.createRng();return j.setStart(y.container,y.offset-u.length),j.setEnd(y.container,y.offset),G.some(j)}else{const j=y.offset-u.length;return Y$(y.container,j,n).map(W=>{const q=e.createRng();return q.setStart(W.container,W.offset),q.setEnd(y.container,y.offset),q}).filter(W=>W.toString()===u).orThunk(()=>nK(e,t,n,tg(y.container,0)))}})},Nce=(e,t,n,i,u,m=!1)=>{if(t.start.length===0&&!m){const y=e.createRng();return y.setStart(n,i),y.setEnd(n,i),G.some(y)}return G$(n,i,u).bind(y=>nK(e,t,u,y).bind(E=>{var N;if(m){if(E.endContainer===y.container&&E.endOffset===y.offset)return G.none();if(y.offset===0&&((N=E.endContainer.textContent)==null?void 0:N.length)===E.endOffset)return G.none()}return G.some(E)}))},Rce=(e,t,n,i)=>{const u=e.dom,m=u.getRoot(),y=n.pattern,_=n.position.container,E=n.position.offset;return Y$(_,E-n.pattern.end.length,t).bind(N=>{const j=b9(u,m,N.container,N.offset,_,E,i);if(v9(y))return G.some({matches:[{pattern:y,startRng:j,endRng:j}],position:N});{const W=XL(e,n.remainingPatterns,N.container,N.offset,t,i),q=W.getOr({matches:[],position:N}),ne=q.position;return Nce(u,y,ne.container,ne.offset,t,W.isNone()).map(ce=>{const be=Dce(u,m,ce,i);return{matches:q.matches.concat([{pattern:y,startRng:be,endRng:j}]),position:tg(ce.startContainer,ce.startOffset)}})}})},XL=(e,t,n,i,u,m)=>{const y=e.dom;return G$(n,i,y.getRoot()).bind(_=>{const E=x9(y,u,n,i);for(let N=0;N<t.length;N++){const j=t[N];if(!Zf(E,j.end))continue;const W=t.slice();W.splice(N,1);const q=Rce(e,u,{pattern:j,remainingPatterns:W,position:_},m);if(q.isNone()&&i>0)return XL(e,t,n,i-1,u,m);if(q.isSome())return q}return G.none()})},sK=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?tt(t.format,i=>{e.formatter.apply(i)}):e.execCommand(t.cmd,!1,t.value)},Lce=(e,t,n,i)=>{const u=YL(e.dom,n);KL(e.dom,u,i),sK(e,t,u)},Bce=(e,t,n,i,u)=>{const m=e.dom,y=YL(m,i),_=YL(m,n);KL(m,_,u),KL(m,y,u);const E={prefix:n.prefix,start:n.end,end:i.start},N=YL(m,E);sK(e,t,N)},Pce=(e,t)=>{const n=jr("mce_textpattern"),i=Yt(t,(u,m)=>{const y=tK(e,n+`_end${u.length}`,m.endRng);return u.concat([{...m,endMarker:y}])},[]);return Yt(i,(u,m)=>{const y=i.length-u.length-1,_=v9(m.pattern)?m.endMarker:tK(e,n+`_start${y}`,m.startRng);return u.concat([{...m,startMarker:_}])},[])},Ice=e=>so(e,(t,n)=>n.end.length-t.end.length),Fce=(e,t)=>{const n=Sr(e,i=>Rn(t,u=>i.pattern.start===u.pattern.start&&i.pattern.end===u.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},rK=(e,t,n,i,u,m)=>{const y=XL(e,u.inlinePatterns,n,i,t,m).fold(()=>[],E=>E.matches),_=XL(e,Ice(u.inlinePatterns),n,i,t,m).fold(()=>[],E=>E.matches);return Fce(y,_)},iK=(e,t)=>{if(t.length===0)return;const n=e.dom,i=e.selection.getBookmark(),u=Pce(n,t);tt(u,m=>{const y=n.getParent(m.startMarker.start,n.isBlock),_=E=>E===y;v9(m.pattern)?Lce(e,m.pattern,m.endMarker,_):Bce(e,m.pattern,m.startMarker,m.endMarker,_),oK(n,m.endMarker,_),oK(n,m.startMarker,_)}),e.selection.moveToBookmark(i)},aK=(e,t,n)=>ore(t,0,t).map(i=>{const u=i.container;return cZ(u,n.start.length,t).each(m=>{const y=e.createRng();y.setStart(u,0),y.setEnd(m.container,m.offset),KL(e,y,_=>_===t)}),u}),lK=e=>(t,n)=>{const i=t.dom,u=n.pattern,m=Jq(i.getRoot(),n.range).getOrDie("Unable to resolve path range"),y=(_,E)=>{const N=E.get(_);return he(N)&&ls(N).exists(j=>Io(j,"block"))};return GL(t,m).each(_=>{u.type==="block-format"?y(u.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,_,u),t.formatter.apply(u.format)}):u.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,_,u),t.execCommand(u.cmd,!1,u.value)})}),!0},Hce=e=>so(e,(t,n)=>n.start.length-t.start.length),cK=e=>(t,n)=>{const i=Hce(t),u=n.replace(xr," ");return Wo(i,m=>e(m,n,u))},dK=(e,t)=>(n,i,u,m,y=i.textContent??"")=>{const _=n.dom,E=Ua(n);return _.is(i,E)?e(u.blockPatterns,y).map(N=>t&&bt.trim(y).length===N.start.length?[]:[{pattern:N,range:b9(_,_.getRoot(),i,0,i,0,m)}]).getOr([]):[]},$ce=e=>/^\s[^\s]/.test(e),Vce=lK((e,t,n)=>{aK(e,t,n).each(i=>{const u=xe.fromDom(i),m=Bc(u);$ce(m)&&Fa(u,m.slice(1))})}),jce=cK((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),Uce=dK(jce,!0),Wce=(e,t)=>{const n=e.selection.getRng();return GL(e,n).map(i=>{const u=Math.max(0,n.startOffset),m=y9(t,i,i.textContent??""),y=rK(e,i,n.startContainer,u,m,!0),_=Uce(e,i,m,!0);return{inlineMatches:y,blockMatches:_}}).filter(({inlineMatches:i,blockMatches:u})=>u.length>0||i.length>0)},Zce=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();tt(t,i=>Vce(e,i)),e.selection.moveToBookmark(n)},qce=lK(aK),Kce=cK((e,t,n)=>t===e.start||n===e.start),Gce=dK(Kce,!1),Yce=(e,t)=>{const n=e.selection.getRng();return GL(e,n).map(i=>{const u=Math.max(0,n.startOffset),m=x9(e.dom,i,n.startContainer,u),y=y9(t,i,m);return Gce(e,i,y,!1,m)}).filter(i=>i.length>0)},Xce=(e,t)=>{tt(t,n=>qce(e,n))},Qce=(e,t)=>Wce(e,t).fold(_o,({inlineMatches:n,blockMatches:i})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{y_(e),iK(e,n),Zce(e,i);const u=e.selection.getRng(),m=G$(u.startContainer,u.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),m.each(y=>{const _=y.container;_.data.charAt(y.offset-1)===pl&&(_.deleteData(y.offset-1,1),pS(e.dom,_.parentNode,E=>E===e.dom.getRoot()))})}),!0)),Jce=(e,t)=>{const n=e.selection.getRng();GL(e,n).map(i=>{const u=Math.max(0,n.startOffset-1),m=x9(e.dom,i,n.startContainer,u),y=y9(t,i,m),_=rK(e,i,n.startContainer,u,y,!1);_.length>0&&e.undoManager.transact(()=>{iK(e,_)})})},ede=(e,t)=>Yce(e,t).fold(_o,n=>(e.undoManager.transact(()=>{Xce(e,n)}),!0)),uK=(e,t,n)=>{for(let i=0;i<e.length;i++)if(n(e[i],t))return!0;return!1},tde=(e,t)=>uK(e,t,(n,i)=>n===i.keyCode&&!Ht.modifierPressed(i)),ode=(e,t)=>uK(e,t,(n,i)=>n.charCodeAt(0)===i.charCode),nde=e=>{const t=[",",".",";",":","!","?"],n=[32],i=()=>Ed(W8(e).filter(y=>y.type==="inline-command"||y.type==="block-command"?e.queryCommandSupported(y.cmd):!0),Zt(e)),u=()=>Jz(e);e.on("keydown",y=>{if(y.keyCode===13&&!Ht.modifierPressed(y)&&e.selection.isCollapsed()&&e.selection.isEditable()){const _=z_(i(),"enter");(_.inlinePatterns.length>0||_.blockPatterns.length>0||u())&&Qce(e,_)&&y.preventDefault()}},!0),e.on("keydown",y=>{if(y.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const _=z_(i(),"space");(_.blockPatterns.length>0||u())&&ede(e,_)&&y.preventDefault()}},!0);const m=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const y=z_(i(),"space");(y.inlinePatterns.length>0||u())&&Jce(e,y)}};e.on("keyup",y=>{tde(n,y)&&m()}),e.on("keypress",y=>{ode(t,y)&&wu.setEditorTimeout(e,m)})},sde=e=>{nde(e)},rde=e=>{const t=bt.each,n=Ht.BACKSPACE,i=Ht.DELETE,u=e.dom,m=e.selection,y=e.parser,_=$o.browser,E=_.isFirefox(),N=_.isChromium()||_.isSafari(),j=$o.deviceType.isiPhone()||$o.deviceType.isiPad(),W=$o.os.isMacOS()||$o.os.isiOS(),q=(Et,$t)=>{try{e.getDoc().execCommand(Et,!1,String($t))}catch{}},ne=Et=>Et.isDefaultPrevented(),me=()=>{const Et=go=>{const Uo=u.create("body"),Tn=go.cloneContents();return Uo.appendChild(Tn),m.serializer.serialize(Uo,{format:"html"})},$t=go=>{const Uo=Et(go),Tn=u.createRng();Tn.selectNode(e.getBody());const Vs=Et(Tn);return Uo===Vs};e.on("keydown",go=>{const Uo=go.keyCode;if(!ne(go)&&(Uo===i||Uo===n)&&e.selection.isEditable()){const Tn=e.selection.isCollapsed(),Vs=e.getBody();if(Tn&&!au(e.schema,Vs)||!Tn&&!$t(e.selection.getRng()))return;go.preventDefault(),e.setContent(""),Vs.firstChild&&u.isBlock(Vs.firstChild)?e.selection.setCursorLocation(Vs.firstChild,0):e.selection.setCursorLocation(Vs,0),e.nodeChanged()}})},ce=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},be=()=>{e.inline||u.bind(e.getDoc(),"mousedown mouseup",Et=>{var go;let $t;if(Et.target===e.getDoc().documentElement)if($t=m.getRng(),((go=e.getDoc().getSelection())==null?void 0:go.anchorNode)!==null&&e.getBody().focus(),Et.type==="mousedown"){if(fc($t.startContainer))return;m.placeCaretAt(Et.clientX,Et.clientY)}else m.setRng($t)})},Be=()=>{e.on("keydown",Et=>{if(!ne(Et)&&Et.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(m.isCollapsed()&&m.getRng().startOffset===0){const $t=m.getNode(),go=$t.previousSibling;if($t.nodeName==="HR"){u.remove($t),Et.preventDefault();return}go&&go.nodeName&&go.nodeName.toLowerCase()==="hr"&&(u.remove(go),Et.preventDefault())}}})},Pe=()=>{Range.prototype.getClientRects||e.on("mousedown",Et=>{if(!ne(Et)&&Et.target.nodeName==="HTML"){const $t=e.getBody();$t.blur(),wu.setEditorTimeout(e,()=>{$t.focus()})}})},$e=()=>{const Et=jz(e);e.on("click",$t=>{const go=$t.target;/^(IMG|HR)$/.test(go.nodeName)&&u.isEditable(go)&&($t.preventDefault(),e.selection.select(go),e.nodeChanged()),go.nodeName==="A"&&u.hasClass(go,Et)&&go.childNodes.length===0&&u.isEditable(go.parentNode)&&($t.preventDefault(),m.select(go))})},rt=()=>{const Et=$t=>$t.nodeName==="IMG"&&e.dom.isEditable($t);e.on("mousedown",$t=>{Gs(G.from($t.clientX),G.from($t.clientY),(go,Uo)=>{var Ah;const Tn=e.getDoc().caretPositionFromPoint(go,Uo),Vs=((Ah=Tn==null?void 0:Tn.offsetNode)==null?void 0:Ah.childNodes[Tn.offset-(Tn.offset>0?1:0)])||(Tn==null?void 0:Tn.offsetNode);if(Me(Vs)&&Et(Vs)){const Ka=Vs.getBoundingClientRect();$t.preventDefault(),e.hasFocus()||e.focus(),e.selection.select(Vs),$t.clientX<Ka.left||$t.clientY<Ka.top?e.selection.collapse(!0):($t.clientX>Ka.right||$t.clientY>Ka.bottom)&&e.selection.collapse(!1)}})})},gt=()=>{const Et=()=>{const go=u.getAttribs(m.getStart().cloneNode(!1));return()=>{const Uo=m.getStart();Uo!==e.getBody()&&(u.setAttrib(Uo,"style",null),t(go,Tn=>{Uo.setAttributeNode(Tn.cloneNode(!0))}))}},$t=()=>!m.isCollapsed()&&u.getParent(m.getStart(),u.isBlock)!==u.getParent(m.getEnd(),u.isBlock);e.on("keypress",go=>{let Uo;return!ne(go)&&(go.keyCode===8||go.keyCode===46)&&$t()?(Uo=Et(),e.getDoc().execCommand("delete",!1),Uo(),go.preventDefault(),!1):!0}),u.bind(e.getDoc(),"cut",go=>{if(!ne(go)&&$t()){const Uo=Et();wu.setEditorTimeout(e,()=>{Uo()})}})},Bt=()=>{e.on("keydown",Et=>{if(!ne(Et)&&Et.keyCode===n&&m.isCollapsed()&&m.getRng().startOffset===0){const $t=m.getNode().previousSibling;if($t&&$t.nodeName&&$t.nodeName.toLowerCase()==="table")return Et.preventDefault(),!1}return!0})},ro=()=>{e.on("keydown",Et=>{if(ne(Et)||Et.keyCode!==Ht.BACKSPACE)return;let $t=m.getRng();const go=$t.startContainer,Uo=$t.startOffset,Tn=u.getRoot();let Vs=go;if(!(!$t.collapsed||Uo!==0)){for(;Vs.parentNode&&Vs.parentNode.firstChild===Vs&&Vs.parentNode!==Tn;)Vs=Vs.parentNode;Vs.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Vs),$t=u.createRng(),$t.setStart(go,0),$t.setEnd(go,0),m.setRng($t))}})},at=()=>{const Et=ms("figcaption");e.on("keydown",$t=>{if($t.keyCode===Ht.LEFT||$t.keyCode===Ht.RIGHT){const go=xe.fromDom(e.selection.getNode());Et(go)&&e.selection.isCollapsed()&&pa(go).bind(Uo=>{var Tn;return e.selection.getRng().startOffset===0&&$t.keyCode===Ht.LEFT?Rl(Uo):e.selection.getRng().endOffset===((Tn=go.dom.textContent)==null?void 0:Tn.length)&&$t.keyCode===Ht.RIGHT?ma(Uo):G.none()}).each(Uo=>{e.selection.setCursorLocation(Uo.dom,0)})}})},Xe=()=>{const Et=()=>{q("StyleWithCSS",!1),q("enableInlineTableEditing",!1),PE(e)||q("enableObjectResizing",!1)};jE(e)||e.on("BeforeExecCommand mousedown",Et)},lt=()=>{const Et=()=>{t(u.select("a:not([data-mce-block])"),$t=>{var Tn;let go=$t.parentNode;const Uo=u.getRoot();if((go==null?void 0:go.lastChild)===$t){for(;go&&!u.isBlock(go);){if(((Tn=go.parentNode)==null?void 0:Tn.lastChild)!==go||go===Uo)return;go=go.parentNode}u.add(go,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",$t=>{($t.type==="setcontent"||$t.command==="mceInsertLink")&&Et()})},Pt=()=>{e.on("init",()=>{q("DefaultParagraphSeparator",Ua(e))})},wo=Et=>{const $t=Et.getBody(),go=Et.selection.getRng();return go.startContainer===go.endContainer&&go.startContainer===$t&&go.startOffset===0&&go.endOffset===$t.childNodes.length},Ro=()=>{e.on("keyup focusin mouseup",Et=>{!Ht.modifierPressed(Et)&&!wo(e)&&m.normalize()},!0)},_n=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},as=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},$s=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Et=>{let $t;Et.target.nodeName==="HTML"&&($t=e.selection.getRng(),e.getBody().focus(),e.selection.setRng($t),e.selection.normalize(),e.nodeChanged())}))},Qs=()=>{W&&e.on("keydown",Et=>{Ht.metaKeyPressed(Et)&&!Et.shiftKey&&(Et.keyCode===37||Et.keyCode===39)&&(Et.preventDefault(),e.selection.getSel().modify("move",Et.keyCode===37?"backward":"forward","lineboundary"))})},Mi=()=>{e.on("click",Et=>{let $t=Et.target;do if($t.tagName==="A"){Et.preventDefault();return}while($t=$t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Du=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Et=>{Et.preventDefault()})})},It=()=>{y.addNodeFilter("br",Et=>{let $t=Et.length;for(;$t--;)Et[$t].attr("class")==="Apple-interchange-newline"&&Et[$t].remove()})},ho=Ft,Gn=()=>{if(!E||e.removed)return!1;const Et=e.selection.getSel();return!Et||!Et.rangeCount||Et.rangeCount===0},Yn=()=>{N&&(be(),$e(),Du(),ce(),j&&(as(),$s(),Mi())),E&&(Pe(),Xe(),_n(),Qs())},ao=()=>{ro(),me(),$o.windowsPhone||Ro(),N&&(be(),$e(),Pt(),Du(),Bt(),It(),j?(as(),$s(),Mi()):ce()),E&&(at(),rt(),Be(),Pe(),gt(),Xe(),lt(),_n(),Qs(),Bt())};return Tf(e)?Yn():ao(),{refreshContentEditable:ho,isHidden:Gn}};class fK extends Error{constructor(n,i){super(n);vt(this,"url");this.url=i}}const w9={},ide=(e,t,n)=>new Promise((i,u)=>{const m=xe.fromTag("script");Ba(m,{type:"text/javascript",src:e,...n});const y=()=>{ts(m)};th(m,"load",()=>{y(),i()}),th(m,"error",()=>{y(),u(new Error(`Failed to load script url: ${e}`))}),un(Pr(t),m)}),hK=async(e,t)=>{const n=$a.ScriptLoader.getScriptAttributes(e);return await ide(e,t,n).catch(()=>Promise.reject(new fK(`Failed to load component url: ${e}`,e))),e},ade=e=>Ni(e,(t,n)=>Dn(w9,t).getOrThunk(()=>{if(Kt(window.customElements.get(n))){const i=hK(t,Fi());return w9[t]=i,i}else return Promise.resolve(t)}).catch(i=>(delete w9[t],Promise.reject(i)))),lde=(e,t)=>{const n=kc(Us(e));return Do(n,i=>hK(i,xe.fromDom(t)))},cde=e=>{const t=e.schema.getComponentUrls();return e.inline?ade(t):lde(t,e.getDoc())},dde=async e=>{const t=cde(e),n=we(await Promise.allSettled(t),i=>i.status==="rejected");n.length>0&&tt(n,i=>{if(i.reason instanceof fK){const{url:u}=i.reason;KH(e,u)}})},ude=e=>{dde(e)},k9=Kn.DOM,fde=(e,t)=>{const n=xe.fromDom(e.getBody()),i=ri(Dc(n)),u=xe.fromTag("style");Tr(u,"type","text/css"),un(u,xe.fromText(t)),un(i,u),e.on("remove",()=>{ts(u)})},hde=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,_9=e=>hi(e,t=>lo(t)===!1),pK=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return _9({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_html_in_comments:t("allow_html_in_comments"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:hde(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:KE(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},mK=e=>{const t=e.options.get;return _9({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},pde=e=>{const t=e.options.get;return{...pK(e),...mK(e),..._9({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},mde=e=>{const t=Wi(pK(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,i)=>{const u=e.dom,m="data-mce-"+i;let y=n.length;for(;y--;){const _=n[y];let E=_.attr(i);if(E&&!_.attr(m)){if(E.indexOf("data:")===0||E.indexOf("blob:")===0)continue;i==="style"?(E=u.serializeStyle(u.parseStyle(E),_.name),E.length||(E=null),_.attr(m,E),_.attr(i,E)):i==="tabindex"?(_.attr(m,E),_.attr(i,null)):_.attr(m,e.convertURL(E,i,_.name))}}}),t.addNodeFilter("script",n=>{let i=n.length;for(;i--;){const u=n[i],m=u.attr("type")||"no/type";m.indexOf("mce-")!==0&&u.attr("type","mce-"+m)}}),Xz(e)&&t.addNodeFilter("#cdata",n=>{let i=n.length;for(;i--;){const u=n[i];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode(u.value??"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let i=n.length;const u=e.schema.getNonEmptyElements();for(;i--;){const m=n[i];m.isEmpty(u)&&m.getAll("br").length===0&&m.append(new al("br",1))}}),t},gde=e=>{const t=WE(e);t&&wu.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},bde=e=>{const t=e.dom.getRoot();!e.inline&&(!J_(e)||e.selection.getStart(!0)===t)&&_l(t).each(n=>{const i=n.getNode(),u=wd(i)?_l(i).getOr(n):n;e.selection.setRng(u.toRange())})},yde=e=>{e.bindPendingEventDelegates(),e.initialized=!0,wz(e),e.focus(!0),bde(e),e.nodeChanged({initial:!0});const t=Wz(e);yt(t)&&t.call(e,e),gde(e),Ym(e)&&$C(e,!0)},C9=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,xde=(e,t,n)=>{const{pass:i,fail:u}=ze(t,_=>tinymce.Resource.has(mT(_))),y=[...i.map(_=>{const E=tinymce.Resource.get(mT(_));return He(E)?Promise.resolve(C9(e).loadRawCss(_,E)):Promise.resolve()}),C9(e).loadAll(u)];return e.inline?y:y.concat([e.ui.styleSheetLoader.loadAll(n)])},gK=e=>{const t=C9(e),n=Sa(e),i=e.contentCSS,u=()=>{t.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(n)},m=()=>{e.removed?u():e.on("remove",u)};if(e.contentStyles.length>0){let E="";bt.each(e.contentStyles,N=>{E+=N+`\r
`}),e.dom.addStyle(E)}const y=Promise.all(xde(e,i,n)).then(m).catch(m),_=BE(e);return _&&fde(e,_),y},vde=e=>{const t=e.getDoc(),n=e.getBody();Yr(e),B8(e)||(t.body.spellcheck=!1,k9.setAttrib(n,"spellcheck","false")),e.quirks=rde(e),b8(e);const i=W1(e);i!==void 0&&(n.dir=i);const u=P8(e);u&&e.on("BeforeSetContent",m=>{bt.each(u,y=>{m.content=m.content.replace(y,_=>"<!--mce:protected "+escape(_)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",m=>{e.composing=m.type==="compositionstart"})},wde=e=>{Tf(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},S9=e=>{e.removed!==!0&&(wde(e),yde(e))},kde=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},bK=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(k9.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const i=e.getBody();i.disabled=!0,e.readonly=jE(e),e._editableRoot=$z(e),!j_(e)&&e.hasEditableRoot()&&(e.inline&&k9.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable="true"),i.disabled=!1,e.editorUpload=p6(e),e.schema=af(mK(e)),e.dom=Kn(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:I0(e),referrerPolicy:B_(e),crossOrigin:RE(e),onSetAttrib:y=>{e.dispatch("SetAttrib",y)}}),e.parser=mde(e),e.serializer=X3(pde(e),e),e.selection=fk(e.dom,e.getWin(),e.serializer,e),e.annotator=qD(e),e.formatter=vT(e),e.undoManager=v6(e),e._nodeChangeDispatcher=new Oae(e),e._selectionOverrides=Oce(e),Tae(e),kne(e),Rle(e),Dne(e),Tf(e)||($le(e),sde(e));const u=vae(e);xne(e,u),Ane(e),C6(e),Dle(e,u);const m=uk(e);vde(e),ude(e),m.fold(()=>{const y=kde(e);gK(e).then(()=>{S9(e),y()})},y=>{e.setProgressState(!0),gK(e).then(()=>{y().then(_=>{e.setProgressState(!1),S9(e),G3(e)},_=>{e.notificationManager.open({type:"error",text:String(_)}),S9(e),G3(e)})})})},E9=Kn.DOM,_de=(e,t,n,i)=>{const u=xe.fromTag("iframe");return i.each(m=>Tr(u,"tabindex",m)),Ba(u,n),Ba(u,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",...$o.browser.isFirefox()?{title:t}:{}}),xl(u,"tox-edit-area__iframe"),u},Cde=e=>{let t=Dz(e)+"<html><head>";zE(e)!==e.editorManager.documentBaseURL&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=M_(e),i=Mz(e),u=e.translate(UE(e)),m=$o.browser.isFirefox()?"":`aria-label="${u}"`;return DE(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+DE(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${i}" data-id="${e.id}" ${m}><br></body></html>`,t},Sde=(e,t)=>{const n=UE(e),i=e.translate(n),u=Bl(xe.fromDom(e.getElement()),"tabindex").bind(qf),m=_de(e.id,i,OE(e),u).dom;m.onload=()=>{m.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=m,e.iframeHTML=Cde(e),E9.add(t.iframeContainer,m)},Ede=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,bK(e)};if(q8(e)||$o.browser.isFirefox()){const i=e.getDoc();i.open(),i.write(e.iframeHTML),i.close(),n()}else{const i=th(xe.fromDom(t),"load",()=>{i.unbind(),n()});t.srcdoc=e.iframeHTML}},Ade=(e,t)=>{Sde(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=E9.isHidden(t.editorContainer)),e.getElement().style.display="none",E9.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Ede(e)},yK=Kn.DOM,Tde=(e,t,n)=>{const i=Ty.get(n),u=Ty.urls[n]||e.editorManager.documentBaseURL.replace(/\/$/,"");if(n=bt.trim(n),i&&bt.inArray(t,n)===-1){if(e.plugins[n])return;try{const m=i(e,u)||{};e.plugins[n]=m,yt(m.init)&&(m.init(e,u),t.push(n))}catch(m){GH(e,n,m)}}},Ode=e=>{const t=n=>{n.keyCode===Ht.ESC&&!n.defaultPrevented&&Tz(e).isDefaultPrevented()&&n.preventDefault()};document.addEventListener("keyup",t),e.inline||e.on("keyup",t),e.on("remove",()=>{document.removeEventListener("keyup",t),e.inline||e.off("keyup",t)})},zde=e=>e.replace(/^\-/,""),Dde=e=>{const t=[];tt(ow(e),n=>{Tde(e,t,zde(n))})},Mde=e=>{const t=bt.trim(P0(e)),n=e.ui.registry.getAll().icons,i={...DC.get("default").icons,...DC.get(t).icons};yn(i,(u,m)=>{Io(n,m)||e.ui.registry.addIcon(m,u)})},Nde=e=>{const t=il(e);if(He(t)){const n=Oy.get(t);e.theme=n(e,Oy.urls[t])||{},yt(e.theme.init)&&e.theme.init(e,Oy.urls[t]||e.editorManager.documentBaseURL.replace(/\/$/,""))}else e.theme={}},Rde=e=>{const t=gu(e),n=Nx.get(t);e.model=n(e,Nx.urls[t])},Lde=e=>{BC.init(e)},Bde=e=>{const t=e.theme.renderUI;return t?t():vK(e)},Pde=e=>{const t=e.getElement(),i=il(e)(e,t);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:t.offsetHeight,i},xK=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),Ide=e=>{const t=yK.create("div");return yK.insertAfter(t,e),xK(t,t)},vK=e=>{const t=e.getElement();return e.inline?xK(null):Ide(t)},Fde=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,He(il(e))?Bde(e):yt(il(e))?Pde(e):vK(e)},Hde=(e,t)=>{const n={show:G.from(t.show).getOr(Ft),hide:G.from(t.hide).getOr(Ft),isEnabled:G.from(t.isEnabled).getOr(fo),setEnabled:i=>{i&&(e.mode.get()==="readonly"||Ym(e))||G.from(t.setEnabled).each(m=>m(i))}};e.ui={...e.ui,...n}},$de=async e=>{e.dispatch("ScriptsLoaded"),Mde(e),Ode(e),Nde(e),Rde(e),Lde(e),Dde(e);const t=await Fde(e);Hde(e,G.from(t.api).getOr({})),e.editorContainer=t.editorContainer,i6(e),e.inline?bK(e):Ade(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Sk=Kn.DOM,wK=e=>e.charAt(0)==="-",Vde=(e,t)=>{const n=LE(t),i=S8(t);if(!uc.hasCode(n)&&n!=="en"){const u=oi(i)?i:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(u).catch(()=>{UH(t,u,n)})}},jde=(e,t)=>{const n=il(e);if(He(n)&&!wK(n)&&!Io(Oy.urls,n)){const i=Hl(e),u=i?e.documentBaseURI.toAbsolute(i):`themes/${n}/theme${t}.js`;Oy.load(n,u).catch(()=>{WH(e,u,n)})}},Ude=(e,t)=>{const n=gu(e);if(n!=="plugin"&&!Io(Nx.urls,n)){const i=FE(e),u=He(i)?e.documentBaseURI.toAbsolute(i):`models/${n}/model${t}.js`;Nx.load(n,u).catch(()=>{ZH(e,u,n)})}},Wde=(e,t)=>{BC.load(e,t)},Zde=e=>G.from(Nz(e)).filter(oi).map(t=>({url:t,name:G.none()})),kK=(e,t,n)=>G.from(t).filter(i=>oi(i)&&!DC.has(i)).map(i=>({url:`${e.editorManager.baseURL}/icons/${i}/icons${n}.js`,name:G.some(i)})),qde=(e,t,n)=>{const i=kK(t,"default",n),u=Zde(t).orThunk(()=>kK(t,P0(t),""));tt(Bb([i,u]),m=>{e.add(m.url).catch(()=>{jH(t,m.url,m.name.getOrUndefined())})})},Kde=(e,t)=>{const n=(i,u)=>{i!=="licensekeymanager"&&Ty.load(i,u).catch(()=>{VH(e,u,i)})};yn(N8(e),(i,u)=>{n(u,i),e.options.set("plugins",ow(e).concat(u))}),tt(ow(e),i=>{i=bt.trim(i),i&&!Ty.urls[i]&&!wK(i)&&n(i,`plugins/${i}/plugin${t}.js`)})},Gde=e=>{const t=il(e);return!He(t)||Me(Oy.get(t))},Yde=e=>{const t=gu(e);return Me(Nx.get(t))},Xde=(e,t)=>{const n=$a.ScriptLoader,i=()=>{!e.removed&&Gde(e)&&Yde(e)&&$de(e)};jde(e,t),Ude(e,t),Wde(e,t),Vde(n,e),qde(n,e,t),Kde(e,t),n.loadQueue().then(i,i)},Qde=(e,t)=>w1.forElement(e,{contentCssCors:Vz(t),referrerPolicy:B_(t)}),Jde=e=>{const t=e.id;uc.setCode(LE(e));const n=()=>{Sk.unbind(window,"ready",n),e.render()};if(!ap.Event.domLoaded){Sk.bind(window,"ready",n);return}if(!e.getElement())return;const i=xe.fromDom(e.getElement()),u=sc(i);e.on("remove",()=>{es(i.dom.attributes,y=>Or(i,y.name)),Ba(i,u)}),e.ui.styleSheetLoader=Qde(i,e),P_(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const m=e.getElement().form||Sk.getParent(t,"form");m&&(e.formElement=m,$E(e)&&!t0(e.getElement())&&(Sk.insertAfter(Sk.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=y=>{e.dispatch(y.type,y)},Sk.bind(m,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),Fz(e)&&!m.submit.nodeType&&!m.submit.length&&!m._mceOldSubmit&&(m._mceOldSubmit=m.submit,m.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),m._mceOldSubmit(m)))),e.windowManager=zy(e),e.notificationManager=sT(e),F_(e)&&e.on("GetContent",y=>{y.save&&(y.content=Sk.encode(y.content))}),VE(e)&&e.on("submit",()=>{e.initialized&&e.save()}),D8(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Xde(e,e.suffix)},_K=["#E41B60","#AD1457","#1939EC","#001CB5","#648000","#465B00","#006CE7","#0054B4","#00838F","#006064","#00866F","#004D40","#51742F","#385021","#CF4900","#A84600","#CC0000","#6A1B9A","#9C27B0","#6A00AB","#3041BA","#0A1877","#774433","#452B24","#607D8B","#455A64"],eue=e=>{var t;return Intl.Segmenter?`${(t=new Intl.Segmenter().segment(e)[Symbol.iterator]().next().value)==null?void 0:t.segment}`:e.trim()[0]},tue=(e,t)=>{let n=5381;for(let i=0;i<e.length;i++)n=(n<<5)+n+e.charCodeAt(i);return(n>>>0)%(t+1)},oue=e=>{const t=tue(e??"",_K.length-1);return _K[t]},nue=(e,t,n)=>{const i=n/2;return`<svg height="${n}" width="${n}" xmlns="http://www.w3.org/2000/svg"><circle cx="${i}" cy="${i}" r="${i}" fill="${t}"/><text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" fill="#FFF" font-family="sans-serif" font-size="${i}">`+e+"</text></svg>"},sue=(e,t,n)=>"data:image/svg+xml,"+encodeURIComponent(nue(e,t,n)),A9=(e,t={size:36})=>sue(eue(e.name),oue(e.id),t.size),rue=EZ([Rre("id"),NZ("name"),NZ("avatar"),Lre("custom")]),iue=e=>{const t={};return yn(e,(n,i)=>{n.each(u=>{t[i]=u})}),t},aue=e=>{if(!Array.isArray(e))throw new Error("fetch_users must return an array");const t=Do(e,u=>AZ("Invalid user object",rue,u)),{errors:n,values:i}=Ol(t);if(n.length>0){const u=Do(n,(m,y)=>`User at index ${y}: ${TZ(m)}`);console.warn(`User validation errors:
`+u.join(`
`))}return Do(i,u=>{const{id:m,name:y,avatar:_,...E}=u;return{id:m,name:y.getOr(m),avatar:_.getOr(A9({id:m,name:y.getOr(m)})),...iue(E)}})},lue=e=>{const t=new Map,n=new Map,i=N=>G.from(t.get(N)),u=(N,j)=>{t.set(j,N)},m=(N,j)=>G.from(n.get(N)).each(({reject:W})=>{W(j),n.delete(N)}),y=(N,j)=>G.from(n.get(N)).each(({resolve:W})=>{W(j),n.delete(N)}),_=N=>{const j=oD(e);if(Array.isArray(N)){if(!j)return ps(N,q=>Promise.resolve({id:q,name:q,avatar:A9({id:q,name:q})}))}else return{};const W=kc(we(N,q=>!i(q).isSome()));return tt(W,q=>{const ne=new Promise((me,ce)=>{n.set(q,{resolve:me,reject:ce})});u(ne,q)}),W.length>0&&j(W).then(aue).then(q=>{const ne=new Set(Do(q,me=>me.id));tt(q,me=>y(me.id,me)),tt(W,me=>{ne.has(me)||m(me,new Error(`User ${me} not found`))})}).catch(q=>{tt(W,ne=>m(ne,q instanceof Error?q:new Error("Network error")))}),Dt(N,(q,ne)=>(q[ne]=i(ne).getOr(Promise.resolve({id:ne,name:ne,avatar:A9({id:ne,name:ne})})),q),{})},E=X8(e);return Object.freeze({userId:E,fetchUsers:_})},cue=e=>lue(e),due=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,Ym(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),w8(e,t))},uue=e=>e._editableRoot,fue=(e,t)=>({sections:ft(e),options:ft(t)}),CK=gl().deviceType,SK=CK.isPhone(),hue=CK.isTablet(),sO=e=>{if(Kt(e))return[];{const t=he(e)?e:e.split(/[ ,]/),n=Do(t,zl);return we(n,oi)}},pue=(e,t)=>{const n=An(t,(i,u)=>Qo(e,u));return fue(n.t,n.f)},mue=(e,t,n={})=>{const i=e.sections(),u=Dn(i,t).getOr({});return bt.extend({},n,u)},T9=(e,t)=>Io(e.sections(),t),gue=(e,t)=>T9(e,t)?e.sections()[t]:{},bue=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Dn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),yue=(e,t)=>{const n=t.external_plugins??{};return e&&e.external_plugins?bt.extend({},e.external_plugins,n):n},xue=(e,t)=>[...sO(e),...sO(t)],vue=(e,t,n,i)=>e&&T9(t,"mobile")?i:n,wue=(e,t,n,i)=>{const u=sO(n.forced_plugins),m=sO(i.plugins),y=gue(t,"mobile"),_=y.plugins?sO(y.plugins):m,E=vue(e,t,m,_),N=xue(u,E);return bt.extend(i,{forced_plugins:u,plugins:N})},kue=(e,t)=>e&&T9(t,"mobile"),_ue=(e,t,n,i,u)=>{const m=e?{mobile:bue(u.mobile??{},t)}:{},y=pue(["mobile"],Cc(m,u)),_=bt.extend(n,i,y.options(),kue(e,y)?mue(y,"mobile"):{},{external_plugins:yue(i,y.options())});return wue(e,y,i,_)},Cue=(e,t)=>{const n=Sc(t);return _ue(SK||hue,SK,n,e,n)},Sue=(e,t)=>CR(e,t),Eue=e=>{const t=(i,u)=>{e.formatter.toggle(i,u),e.nodeChanged()},n=i=>()=>{tt("left,center,right,justify".split(","),u=>{i!==u&&e.formatter.remove("align"+u)}),i!=="none"&&t("align"+i)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},Aue=e=>{const t=n=>()=>{const i=e.selection,u=i.isCollapsed()?[e.dom.getParent(i.getNode(),e.dom.isBlock)]:i.getSelectedBlocks();return Rn(u,m=>Me(e.formatter.matchNode(m,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},Tue=e=>{Eue(e),Aue(e)},Oue=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let i;try{n.execCommand(t)}catch{i=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(i=!0),i||!n.queryCommandSupported(t)){let u=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");($o.os.isMacOS()||$o.os.isiOS())&&(u=u.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:u,type:"error"})}}})},zue=(e,t,n,i)=>{const u=xe.fromDom(e.getRoot());return iy(u,it.fromRangeStart(t),i)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),ay(u,it.fromRangeEnd(t),i)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},Due=e=>{if(typeof e!="string"){const t=bt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Mue=(e,t)=>{const n=e.selection,i=e.dom;return/^ | $/.test(t)?zue(i,n.getRng(),t,e.schema):t},QL=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:i}=Due(t);fC(e,{...i,content:Mue(e,n),format:"html",set:!1,selection:!0}).each(u=>{const m=_R(e,u.content,i);hC(e,m,u),e.addVisual()})}},Nue=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,i)=>{QL(e,e.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,i)=>{QL(e,e.dom.encode(i))},insertHTML:(t,n,i)=>{QL(e,i)},mceInsertContent:(t,n,i)=>{QL(e,i)},mceSetContent:(t,n,i)=>{e.setContent(i)},mceReplaceContent:(t,n,i)=>{e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(H8(e))}})},Rue={"font-size":"size","font-family":"face"},Lue=ms("font"),Bue=(e,t,n)=>{const i=m=>bd(m,e).orThunk(()=>Lue(m)?Dn(Rue,e).bind(y=>Bl(m,y)):G.none()),u=m=>cn(xe.fromDom(t),m);return Ts(xe.fromDom(n),m=>i(m),u)},Pue=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Iue=(e,t)=>G.from(Kn.DOM.getStyle(t,e,!0)),EK=e=>(t,n)=>G.from(n).map(xe.fromDom).filter(mr).bind(i=>Bue(e,t,i.dom).or(Iue(e,i.dom))).getOr(""),Fue=EK("font-size"),Hue=zo(Pue,EK("font-family")),$ue=e=>_l(e.getBody()).bind(t=>{const n=t.container();return G.from(_t(n)?n.parentNode:n)}),Vue=e=>G.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?G.none():G.from(e.selection.getStart(!0))}),jue=(e,t)=>Vue(e).orThunk(Tt($ue,e)).map(xe.fromDom).filter(mr).bind(t),O9=(e,t)=>jue(e,En(G.some,t)),AK=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const i=K8(e),u=G8(e);return u.length>0?u[n-1]||t:i[n-1]||t}else return t}else return t},Uue=e=>{const t=e.split(/\s*,\s*/);return Do(t,n=>n.indexOf(" ")!==-1&&!(Ws(n,'"')||Ws(n,"'"))?`'${n}'`:n).join(",")},Wue=(e,t)=>{const n=AK(e,t);e.formatter.toggle("fontname",{value:Uue(n)}),e.nodeChanged()},Zue=e=>O9(e,t=>Hue(e.getBody(),t.dom)).getOr(""),que=(e,t)=>{e.formatter.toggle("fontsize",{value:AK(e,t)}),e.nodeChanged()},Kue=e=>O9(e,t=>Fue(e.getBody(),t.dom)).getOr(""),Gue=e=>O9(e,t=>{const n=xe.fromDom(e.getBody()),i=Ts(t,m=>bd(m,"line-height"),Tt(cn,n)),u=()=>{const m=parseFloat(Pa(t,"line-height")),y=parseFloat(Pa(t,"font-size"));return String(m/y)};return i.getOrThunk(u)}).getOr(""),Yue=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},Xue=e=>{const t=(n,i)=>{e.formatter.toggle(n,i),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,i,u)=>{t(n,{value:u})},BackColor:(n,i,u)=>{t("hilitecolor",{value:u})},FontName:(n,i,u)=>{Wue(e,u)},FontSize:(n,i,u)=>{que(e,u)},LineHeight:(n,i,u)=>{Yue(e,u)},Lang:(n,i,u)=>{t(n,{value:u.code,customValue:u.customCode??null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,i,u)=>{t(He(u)?u:"p")},mceToggleFormat:(n,i,u)=>{t(u)}})},Que=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Zue(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Kue(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>Gue(e))},Jue=e=>{Xue(e),Que(e)},efe=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},tfe=e=>{e.editorCommands.addCommands({Indent:()=>{gne(e)},Outdent:()=>{yW(e)}}),e.editorCommands.addCommands({Outdent:()=>pW(e),Indent:()=>pne(e)},"state")},ofe=e=>{const t=(n,i,u)=>{if(e.mode.isReadOnly())return;const m=He(u)?{href:u}:u,y=e.dom.getParent(e.selection.getNode(),"a");ge(m)&&He(m.href)&&(m.href=m.href.replace(/ /g,"%20").replace(/&amp;/g,"&"),(!y||!m.href)&&e.formatter.remove("link"),m.href&&e.formatter.apply("link",m,y))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},nfe=(e,t,n,i)=>{const u=e.dom,m=_=>u.isBlock(_)&&_.parentElement===n,y=m(t)?t:u.getParent(i,m,n);return G.from(y).map(xe.fromDom)},TK=(e,t)=>{if(e.mode.isReadOnly())return;const n=e.dom,i=e.selection.getRng(),u=t?e.selection.getStart():e.selection.getEnd(),m=t?i.startContainer:i.endContainer,y=JT(n,m);if(!y||!y.isContentEditable)return;const _=t?ii:Ya,E=Ua(e);nfe(e,u,y,m).each(N=>{const j=ZZ(e,m,N.dom,y,!1,E);_(N,xe.fromDom(j)),e.selection.setCursorLocation(j,0),e.dispatch("NewBlock",{newBlock:j}),QT(e,"insertParagraph")})},sfe=e=>TK(e,!0),rfe=e=>TK(e,!1),ife=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{sfe(e)},InsertNewBlockAfter:()=>{rfe(e)}})},afe=e=>{e.editorCommands.addCommands({insertParagraph:()=>{VL(YZ,e)},mceInsertNewLine:(t,n,i)=>{nq(e,i)},InsertLineBreak:(t,n,i)=>{VL(JZ,e)}})},lfe=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,i)=>{let u=0;e.dom.getParent(e.selection.getNode(),m=>eo(m)&&u++===i?(e.selection.select(m),!1):!0,e.getBody())},mceSelectNode:(t,n,i)=>{e.selection.select(i)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),ol);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},cfe=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,i)=>{const u=i??e.selection.getNode();if(u!==e.getBody()){const m=e.selection.getBookmark();e.dom.remove(u,!0),e.selection.moveToBookmark(m)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,i)=>{SA(e,i===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},dfe=e=>{Tue(e),Oue(e),efe(e),lfe(e),Nue(e),ofe(e),tfe(e),ife(e),afe(e),Jue(e),cfe(e)},ufe=["toggleview"],OK=e=>Qo(ufe,e.toLowerCase());class zK{constructor(t){vt(this,"editor");vt(this,"commands",{state:{},exec:{},value:{}});this.editor=t}execCommand(t,n=!1,i,u){const m=this.editor,y=t.toLowerCase(),_=u==null?void 0:u.skip_focus;if(m.removed||(y!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(y)&&!_?m.focus():MI(m)),m.dispatch("BeforeExecCommand",{command:t,ui:n,value:i}).isDefaultPrevented()))return!1;const N=this.commands.exec[y];return yt(N)?(N(y,n,i,u),m.dispatch("ExecCommand",{command:t,ui:n,value:i,args:u}),!0):!1}queryCommandState(t){if(!OK(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),i=this.commands.state[n];return yt(i)?i(n):!1}queryCommandValue(t){if(!OK(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),i=this.commands.value[n];return yt(i)?i(n):""}addCommands(t,n="exec"){const i=this.commands;yn(t,(u,m)=>{tt(m.toLowerCase().split(","),y=>{i[n][y]=u})})}addCommand(t,n,i){const u=t.toLowerCase();this.commands.exec[u]=(m,y,_,E)=>n.call(i??this.editor,y,_,E)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,i){this.commands.state[t.toLowerCase()]=()=>n.call(i??this.editor)}addQueryValueHandler(t,n,i){this.commands.value[t.toLowerCase()]=()=>n.call(i??this.editor)}}const ffe=bt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class z9{constructor(t){vt(this,"settings");vt(this,"scope");vt(this,"toggleEvent");vt(this,"bindings",{});this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||_o}static isNative(t){return!!ffe[t.toLowerCase()]}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const i=t.toLowerCase(),u=Ng(i,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(u);const m=this.bindings[i];if(m)for(let y=0,_=m.length;y<_;y++){const E=m[y];if(!E.removed){if(E.once&&this.off(i,E.func),u.isImmediatePropagationStopped())return u;if(E.func.call(this.scope,u)===!1)return u.preventDefault(),u}}return u}on(t,n,i,u){if(n===!1&&(n=_o),n){const m={func:n,removed:!1};u&&bt.extend(m,u);const y=t.toLowerCase().split(" ");let _=y.length;for(;_--;){const E=y[_];let N=this.bindings[E];N||(N=[],this.toggleEvent(E,!0)),i?N=[m,...N]:N=[...N,m],this.bindings[E]=N}}return this}off(t,n){if(t){const i=t.toLowerCase().split(" ");let u=i.length;for(;u--;){const m=i[u];let y=this.bindings[m];if(!m)return yn(this.bindings,(_,E)=>{this.toggleEvent(E,!1),delete this.bindings[E]}),this;if(y){if(!n)y.length=0;else{const _=ze(y,E=>E.func===n);y=_.fail,this.bindings[m]=y,tt(_.pass,E=>{E.removed=!0})}y.length||(this.toggleEvent(t,!1),delete this.bindings[m])}}}else yn(this.bindings,(i,u)=>{this.toggleEvent(u,!1)}),this.bindings={};return this}once(t,n,i){return this.on(t,n,i,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const rO=e=>(e._eventDispatcher||(e._eventDispatcher=new z9({scope:e,toggleEvent:(t,n)=>{z9.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),D9={fire(e,t,n){return gC("fire"),this.dispatch(e,t,n)},dispatch(e,t,n){const i=this;if(i.removed&&e!=="remove"&&e!=="detach")return Ng(e.toLowerCase(),t??{},i);const u=rO(i).dispatch(e,t);if(n!==!1&&i.parent){let m=i.parent();for(;m&&!u.isPropagationStopped();)m.dispatch(e,u,!1),m=m.parent?m.parent():void 0}return u},on(e,t,n){return rO(this).on(e,t,n)},off(e,t){return rO(this).off(e,t)},once(e,t){return rO(this).once(e,t)},hasEventListeners(e){return rO(this).has(e)}},JL=Kn.DOM;let Ek;const eB=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=Pz(e);return n?(e.eventRoot||(e.eventRoot=JL.select(n)[0]),e.eventRoot):e.getBody()},hfe=e=>!e.hidden&&!Ym(e),DK=(e,t,n)=>{hfe(e)?e.dispatch(t,n):Ym(e)&&hT(e,n)},MK=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=eB(e,t);if(Pz(e)){if(Ek||(Ek={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Ek&&(yn(Ek,(u,m)=>{e.dom.unbind(eB(e,m))}),Ek=null)})),Ek[t])return;const i=u=>{const m=u.target,y=e.editorManager.get();let _=y.length;for(;_--;){const E=y[_].getBody();(E===m||JL.isChildOf(m,E))&&DK(y[_],t,u)}};Ek[t]=i,JL.bind(n,t,i)}else{const i=u=>{DK(e,t,u)};JL.bind(n,t,i),e.delegates[t]=i}},NK={...D9,bindPendingEventDelegates(){const e=this;bt.each(e._pendingNativeEvents,t=>{MK(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?MK(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(eB(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(yn(e.delegates,(i,u)=>{e.dom.unbind(eB(e,u),u,i)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},pfe=e=>He(e)?{value:e.split(/[ ,]/),valid:!0}:Mt(e,He)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},mfe=e=>{const t=(()=>{switch(e){case"array":return he;case"boolean":return bo;case"function":return yt;case"number":return I;case"object":return ge;case"string":return He;case"string[]":return pfe;case"object[]":return n=>Mt(n,ge);case"regexp":return n=>Je(n,RegExp);default:return fo}})();return n=>M9(n,t,`The value must be a ${e}.`)},gfe=e=>He(e.processor),RK=(e,t)=>{const n=ad(t.message)?"":`. ${t.message}`;return e+n},LK=e=>e.valid,M9=(e,t,n="")=>{const i=t(e);return bo(i)?i?{value:e,valid:!0}:{valid:!1,message:n}:i},bfe=(e,t,n)=>{if(!lo(t)){const i=M9(t,n);if(LK(i))return i.value;console.error(RK(`Invalid default value passed for the "${e}" option`,i))}},yfe=(e,t,n=t)=>{const i={},u={},m=(ne,me,ce)=>{const be=M9(me,ce);return LK(be)?(u[ne]=be.value,!0):(console.warn(RK(`Invalid value passed for the ${ne} option`,be)),!1)},y=(ne,me)=>{const ce=gfe(me)?mfe(me.processor):me.processor,be=bfe(ne,me.default,ce);i[ne]={...me,default:be,processor:ce},Dn(u,ne).orThunk(()=>Dn(t,ne)).each(Pe=>m(ne,Pe,ce))},_=ne=>Io(i,ne);return{register:y,isRegistered:_,get:ne=>Dn(u,ne).orThunk(()=>Dn(i,ne).map(me=>me.default)).getOrUndefined(),set:(ne,me)=>{if(_(ne)){const ce=i[ne];return ce.immutable?(console.error(`"${ne}" is an immutable option and cannot be updated`),!1):m(ne,me,ce.processor)}else return console.warn(`"${ne}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ne=>{const me=_(ne);return me&&delete u[ne],me},isSet:ne=>Io(u,ne),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(ne,me)=>bo(me)||I(me)||He(me)||Ve(me)||he(me)||Ie(me)?me:Object.prototype.toString.call(me))))}catch(ne){console.error(ne)}}}},xfe=(e,t)=>{e.dom.contentEditable="true"},vfe=(e,t)=>{const n=xe.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&xfe(n),HC(e)):(e.readonly=!1,Dy(e))},mS=e=>e.readonly,wfe=e=>{const t=e.undoManager.add();Me(t)&&(e.undoManager.undo(),e.undoManager.reset())},kfe=e=>Rn(e,t=>t.type==="characterData"||t.type==="childList"),_fe=e=>{const t=i=>{mS(e)&&kfe(i)&&wfe(e)},n=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",i=>{mS(e)&&i.preventDefault()}),e.on("BeforeExecCommand",i=>{(i.command==="Undo"||i.command==="Redo")&&mS(e)&&i.preventDefault()}),e.on("compositionstart",()=>{mS(e)&&n.observe(e.getBody(),{characterData:!0,childList:!0,subtree:!0})}),e.on("compositionend",()=>{if(mS(e)){const i=n.takeRecords();t(i)}n.disconnect()})},Cfe=["design","readonly"],BK=(e,t,n,i)=>{const u=n[t.get()],m=n[i];try{m.activate()}catch(y){console.error(`problem while activating editor mode ${i}:`,y);return}u.deactivate(),u.editorReadOnly!==m.editorReadOnly&&vfe(e,m.editorReadOnly),t.set(i),p8(e,i)},Sfe=(e,t,n,i)=>{if(!(i===n.get()||e.initialized&&Ym(e))){if(!Io(t,i))throw new Error(`Editor mode '${i}' is invalid`);e.initialized?BK(e,n,t,i):e.on("init",()=>BK(e,n,t,i))}},Efe=(e,t,n)=>{if(Qo(Cfe,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(i){console.error(`problem while deactivating editor mode ${t}:`,i)}}}}},Afe=e=>{const t=Mn("design"),n=Mn({design:{activate:Ft,deactivate:Ft,editorReadOnly:!1},readonly:{activate:Ft,deactivate:Ft,editorReadOnly:!0}});return _fe(e),o6(e),{isReadOnly:()=>mS(e),set:i=>Sfe(e,n.get(),t,i),get:()=>t.get(),register:(i,u)=>{n.set(Efe(n.get(),i,u))}}},N9=bt.each,R9=bt.explode,Tfe={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},PK=bt.makeMap("alt,ctrl,shift,meta,access"),Ofe=e=>e in PK,zfe=e=>{const t={},n=$o.os.isMacOS()||$o.os.isiOS();N9(R9(e.toLowerCase(),"+"),m=>{Ofe(m)?t[m]=!0:/^[0-9]{2,}$/.test(m)?t.keyCode=parseInt(m,10):(t.charCode=m.charCodeAt(0),t.keyCode=Tfe[m]||m.toUpperCase().charCodeAt(0))});const i=[t.keyCode];let u;for(u in PK)t[u]?i.push(u):t[u]=!1;return t.id=i.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class IK{constructor(t){vt(this,"editor");vt(this,"shortcuts",{});vt(this,"pendingPatterns",[]);this.editor=t;const n=this;t.on("keyup keypress keydown",i=>{(n.hasModifier(i)||n.isFunctionKey(i))&&!i.isDefaultPrevented()&&(N9(n.shortcuts,u=>{n.matchShortcut(i,u)&&(n.pendingPatterns=u.subpatterns.slice(0),i.type==="keydown"&&n.executeShortcutAction(u))}),n.matchShortcut(i,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&i.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,i,u){const m=this,y=m.normalizeCommandFunc(i);return N9(R9(bt.trim(t)),_=>{const E=m.createShortcut(_,n,y,u);m.shortcuts[E.id]=E}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,i=t;return typeof i=="string"?()=>{n.editor.execCommand(i,!1,null)}:bt.isArray(i)?()=>{n.editor.execCommand(i[0],i[1],i[2])}:i}createShortcut(t,n,i,u){const m=bt.map(R9(t,">"),zfe);return m[m.length-1]=bt.extend(m[m.length-1],{func:i,scope:u||this.editor}),bt.extend(m[0],{desc:this.editor.translate(n),subpatterns:m.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Dfe=()=>{const e=Wre();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},Ak=Kn.DOM,FK=bt.extend,Mfe=bt.each;class tB{constructor(t,n,i){vt(this,"baseUri");vt(this,"id");vt(this,"editorUid");vt(this,"plugins",{});vt(this,"documentBaseURI");vt(this,"baseURI");vt(this,"contentCSS",[]);vt(this,"contentStyles",[]);vt(this,"ui");vt(this,"mode");vt(this,"options");vt(this,"editorUpload");vt(this,"userLookup");vt(this,"shortcuts");vt(this,"loadedCSS",{});vt(this,"editorCommands");vt(this,"suffix");vt(this,"editorManager");vt(this,"hidden");vt(this,"inline");vt(this,"hasVisual");vt(this,"isNotDirty",!1);vt(this,"annotator");vt(this,"bodyElement");vt(this,"bookmark");vt(this,"composing",!1);vt(this,"container");vt(this,"contentAreaContainer");vt(this,"contentDocument");vt(this,"contentWindow");vt(this,"delegates");vt(this,"destroyed",!1);vt(this,"dom");vt(this,"editorContainer");vt(this,"eventRoot");vt(this,"formatter");vt(this,"formElement");vt(this,"formEventDelegate");vt(this,"hasHiddenInput",!1);vt(this,"iframeElement",null);vt(this,"iframeHTML");vt(this,"initialized",!1);vt(this,"notificationManager");vt(this,"orgDisplay");vt(this,"orgVisibility");vt(this,"parser");vt(this,"quirks");vt(this,"readonly",!1);vt(this,"removed",!1);vt(this,"schema");vt(this,"selection");vt(this,"serializer");vt(this,"startContent","");vt(this,"targetElm");vt(this,"theme");vt(this,"model");vt(this,"undoManager");vt(this,"windowManager");vt(this,"licenseKeyManager");vt(this,"_beforeUnload");vt(this,"_eventDispatcher");vt(this,"_nodeChangeDispatcher");vt(this,"_pendingNativeEvents",[]);vt(this,"_selectionOverrides");vt(this,"_skinLoaded",!1);vt(this,"_editableRoot",!0);vt(this,"bindPendingEventDelegates");vt(this,"toggleNativeEvent");vt(this,"unbindAllNativeEvents");vt(this,"fire");vt(this,"dispatch");vt(this,"on");vt(this,"off");vt(this,"once");vt(this,"hasEventListeners");this.editorManager=i,FK(this,NK);const u=this;this.id=t,this.editorUid=ug(),this.hidden=!1;const m=Cue(i.defaultOptions,n);this.options=yfe(u,m,n),zz(u),this.userLookup=cue(this);const y=this.options.get;y("deprecation_warnings")&&pN(n,m);const _=y("suffix");_&&(i.suffix=_),this.suffix=i.suffix;const E=y("base_url");E&&i._setBaseUrl(E),this.baseUri=i.baseURI;const N=B_(u);N&&($a.ScriptLoader._setReferrerPolicy(N),Kn.DOM.styleSheetLoader._setReferrerPolicy(N)),$a.ScriptLoader._setCrossOrigin(ne=>RE(u)(ne,"script")),Kn.DOM.styleSheetLoader._setCrossOrigin(ne=>RE(u)(ne,"stylesheet"));const j=Vz(u);Me(j)&&Kn.DOM.styleSheetLoader._setContentCssCors(j),ka.languageLoad=y("language_load"),ka.baseURL=i.baseURL,this.setDirty(!1),this.documentBaseURI=new Su(zE(u),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=P_(u),this.hasVisual=L8(u),this.shortcuts=new IK(this),this.editorCommands=new zK(this),dfe(this);const W=y("cache_suffix");W&&($o.cacheSuffix=W.replace(/^[\?\&]+/,"")),this.ui={registry:Dfe(),styleSheetLoader:void 0,show:Ft,hide:Ft,setEnabled:Ft,isEnabled:fo},this.mode=Afe(u),Object.defineProperty(this,"editorUid",{writable:!1,configurable:!1,enumerable:!0}),i.dispatch("SetupEditor",{editor:this});const q=Uz(u);yt(q)&&q.call(u,u)}render(){Jde(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return ty(this)}translate(t){return uc.translate(t)}getParam(t,n,i){const u=this.options;return u.isRegistered(t)||(Me(i)?u.register(t,{processor:i,default:n}):u.register(t,{processor:fo,default:n})),!u.isSet(t)&&!lo(n)?n:u.get(t)}hasPlugin(t,n){return Qo(ow(this),t)?n?Ty.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,i){this.editorCommands.addCommand(t,n,i)}addQueryStateHandler(t,n,i){this.editorCommands.addQueryStateHandler(t,n,i)}addQueryValueHandler(t,n,i){this.editorCommands.addQueryValueHandler(t,n,i)}addShortcut(t,n,i,u){this.shortcuts.add(t,n,i,u)}execCommand(t,n,i,u){return this.editorCommands.execCommand(t,n,i,u)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Ak.show(t.getContainer()),Ak.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Ak.hide(t.getContainer()),Ak.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,i=n.getElement();if(!n.removed&&i){const u={...t,load:!0},m=t0(i)?i.value:i.innerHTML;n.setContent(m,u),u.no_events||n.dispatch("LoadContent",{...u,element:i})}}save(t={}){const n=this;let i=n.getElement();if(!i||!n.initialized||n.removed)return"";const u={...t,save:!0,element:i};let m=n.getContent(u);const y={...u,content:m};if(y.no_events||n.dispatch("SaveContent",y),y.format==="raw"&&n.dispatch("RawSaveContent",y),m=y.content,t0(i))i.value=m;else{(t.is_removing||!n.inline)&&(i.innerHTML=m);const _=Ak.getParent(n.id,"form");_&&Mfe(_.elements,E=>E.name===n.id?(E.value=m,!1):!0)}return y.element=u.element=i=null,y.set_dirty!==!1&&n.setDirty(!1),m}setContent(t,n){zC(this,t,n)}getContent(t){return Q3(this,t)}insertContent(t,n){n&&(t=FK({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?zC(this,this.startContent,{initial:!0,format:"raw"}):zC(this,t,{initial:!0}),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Ak.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Ak.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){const t=this.getDoc();return this.bodyElement??(t==null?void 0:t.body)??null}convertURL(t,n,i){const u=this,m=u.options.get,y=Zz(u);if(yt(y))return y.call(u,t,i,!0,n);if(!m("convert_urls")||i==="link"||ge(i)&&i.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const _=new Su(t);return _.protocol!=="http"&&_.protocol!=="https"&&_.protocol!==""?t:m("relative_urls")?u.documentBaseURI.toRelative(t):(t=u.documentBaseURI.toAbsolute(t,m("remove_script_host")),t)}addVisual(t){Sue(this,t)}setEditableRoot(t){due(this,t)}hasEditableRoot(){return uue(this)}remove(){PH(this)}destroy(t){eT(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const gS=Kn.DOM,oB=bt.each;let HK=!1,nB,Bd=[];const sB=e=>{const t=e.type;oB(Qx.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},$K=e=>{if(e!==HK){const t=Kn.DOM;e?(t.bind(window,"resize",sB),t.bind(window,"scroll",sB)):(t.unbind(window,"resize",sB),t.unbind(window,"scroll",sB)),HK=e}},VK=e=>{const t=Bd;return Bd=we(Bd,n=>e!==n),Qx.activeEditor===e&&(Qx.activeEditor=Bd.length>0?Bd[0]:null),Qx.focusedEditor===e&&(Qx.focusedEditor=null),t.length!==Bd.length},Nfe=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(VK(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Rfe=document.compatMode!=="CSS1Compat",Qx={...D9,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,pageUid:ug(),majorVersion:"8",minorVersion:"2.1",releaseDate:"2025-11-06",i18n:uc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",i=Su.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/"));const u=window.tinymce||window.tinyMCEPreInit;if(u)t=u.base||u.baseURL,n=u.suffix;else{const m=document.getElementsByTagName("script");for(let y=0;y<m.length;y++){const _=m[y].src||"";if(_==="")continue;const E=_.substring(_.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(_)){E.indexOf(".min")!==-1&&(n=".min"),t=_.substring(0,_.lastIndexOf("/"));break}}if(!t&&document.currentScript){const y=document.currentScript.src;y.indexOf(".min")!==-1&&(n=".min"),t=y.substring(0,y.lastIndexOf("/"))}}e.baseURL=new Su(i).toAbsolute(t),e.documentBaseURL=i,e.baseURI=new Su(e.baseURL),e.suffix=n,_A(e),tt(["majorVersion","minorVersion","releaseDate","pageUid","_addLicenseKeyManager"],m=>Object.defineProperty(e,m,{writable:!1,configurable:!1,enumerable:!0}))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const i=e.plugin_base_urls;i!==void 0&&yn(i,(u,m)=>{ka.PluginManager.urls[m]=u})},init(e){const t=this;let n;const i=bt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),u=(j,W)=>j.inline&&W.tagName.toLowerCase()in i,m=j=>{let W=j.id;return W||(W=Dn(j,"name").filter(q=>!gS.get(q)).getOrThunk(gS.uniqueId),j.setAttribute("id",W)),W},y=j=>{const W=e[j];if(W)return W.apply(t,[])},_=j=>$o.browser.isIE()||$o.browser.isEdge()?(RC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/8/support/#supportedwebbrowsers"),[]):Rfe?(RC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):He(j.selector)?gS.select(j.selector):Me(j.target)?[j.target]:[];let E=j=>{n=j};const N=()=>{let j=0;const W=[];let q;const ne=(me,ce,be)=>{const Be=new tB(me,ce,t);W.push(Be),Be.on("init",()=>{++j===q.length&&E(W)}),Be.targetElm=Be.targetElm||be,Be.render()};gS.unbind(window,"ready",N),y("onpageload"),q=kc(_(e)),bt.each(q,me=>{Nfe(t.get(me.id))}),q=bt.grep(q,me=>!t.get(me.id)),q.length===0?E([]):oB(q,me=>{u(e,me)?RC("Could not initialize inline editor on invalid inline target element",me):ne(m(me),e,me)})};return gS.bind(window,"ready",N),new Promise(j=>{n?j(n):E=W=>{j(W)}})},get(e){return arguments.length===0?Bd.slice(0):He(e)?Wo(Bd,t=>t.id===e).getOr(null):I(e)&&Bd[e]?Bd[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&Bd.push(e),$K(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),nB||(nB=i=>{const u=t.dispatch("BeforeUnload");if(u.returnValue)return i.preventDefault(),i.returnValue=u.returnValue,u.returnValue},window.addEventListener("beforeunload",nB))),e},createEditor(e,t){return this.add(new tB(e,t,this))},remove(e){const t=this;let n;if(!e){for(let i=Bd.length-1;i>=0;i--)t.remove(Bd[i]);return}if(He(e)){oB(gS.select(e),i=>{n=t.get(i.id),n&&t.remove(n)});return}return n=e,Ve(t.get(n.id))?null:(VK(n)&&t.dispatch("RemoveEditor",{editor:n}),Bd.length===0&&window.removeEventListener("beforeunload",nB),n.remove(),$K(Bd.length>0),n)},execCommand(e,t,n){const i=this,u=ge(n)?n.id??n.index:n;switch(e){case"mceAddEditor":{if(!i.get(u)){const m=n.options;new tB(u,m,i).render()}return!0}case"mceRemoveEditor":{const m=i.get(u);return m&&m.remove(),!0}case"mceToggleEditor":{const m=i.get(u);return m?(m.isHidden()?m.show():m.hide(),!0):(i.execCommand("mceAddEditor",!1,n),!0)}}return i.activeEditor?i.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{oB(Bd,e=>{e.save()})},addI18n:(e,t)=>{uc.add(e,t)},translate:e=>uc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Su(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Su(this.baseURL)},_addLicenseKeyManager:e=>BC.add(e)};Qx.setup();const Lfe=(()=>{const e=Ql(),t=m=>({items:m,types:Yi(m),getType:y=>Dn(m,y).getOrUndefined()}),n=m=>{e.set(m)},i=()=>e.get().getOrUndefined(),u=e.clear;return{FakeClipboardItem:t,write:n,read:i,clear:u}})(),jK=Math.min,bS=Math.max,rB=Math.round,UK=(e,t,n)=>{let i=t.x,u=t.y;const m=e.w,y=e.h,_=t.w,E=t.h,N=(n||"").split("");return N[0]==="b"&&(u+=E),N[1]==="r"&&(i+=_),N[0]==="c"&&(u+=rB(E/2)),N[1]==="c"&&(i+=rB(_/2)),N[3]==="b"&&(u-=y),N[4]==="r"&&(i-=m),N[3]==="c"&&(u-=rB(y/2)),N[4]==="c"&&(i-=rB(m/2)),yS(i,u,m,y)},Bfe=(e,t,n,i)=>{for(let u=0;u<i.length;u++){const m=UK(e,t,i[u]);if(m.x>=n.x&&m.x+m.w<=n.w+n.x&&m.y>=n.y&&m.y+m.h<=n.h+n.y)return i[u]}return null},Pfe=(e,t,n)=>yS(e.x-t,e.y-n,e.w+t*2,e.h+n*2),Ife=(e,t)=>{const n=bS(e.x,t.x),i=bS(e.y,t.y),u=jK(e.x+e.w,t.x+t.w),m=jK(e.y+e.h,t.y+t.h);return u-n<0||m-i<0?null:yS(n,i,u-n,m-i)},Ffe=(e,t,n)=>{let i=e.x,u=e.y,m=e.x+e.w,y=e.y+e.h;const _=t.x+t.w,E=t.y+t.h,N=bS(0,t.x-i),j=bS(0,t.y-u),W=bS(0,m-_),q=bS(0,y-E);return i+=N,u+=j,n&&(m+=N,y+=j,i-=W,u-=q),m-=W,y-=q,yS(i,u,m-i,y-u)},yS=(e,t,n,i)=>({x:e,y:t,w:n,h:i}),Hfe={inflate:Pfe,relativePosition:UK,findBestRelativePosition:Bfe,intersect:Ife,clamp:Ffe,create:yS,fromClientRect:e=>yS(e.left,e.top,e.width,e.height)},$fe=(e,t,n=1e3)=>{let i=!1,u=null;const m=N=>(...j)=>{i||(i=!0,u!==null&&(window.clearTimeout(u),u=null),N.apply(null,j))},y=m(e),_=m(t);return{start:(...N)=>{!i&&u===null&&(u=window.setTimeout(()=>_.apply(null,N),n))},resolve:y,reject:_}},Vfe=(()=>{const e={},t={},n={};return{load:(E,N)=>{const j=`Script at URL "${N}" failed to load`,W=`Script at URL "${N}" did not call \`tinymce.Resource.add('${E}', data)\` within 1 second`;if(e[E]!==void 0)return e[E];{const q=new Promise((ne,me)=>{const ce=$fe(ne,me);t[E]=ce.resolve,$a.ScriptLoader.loadScript(N).then(()=>ce.start(W),()=>ce.reject(j))});return e[E]=q,q}},add:(E,N)=>{t[E]!==void 0&&(t[E](N),delete t[E]),e[E]=Promise.resolve(N),n[E]=N},has:E=>E in n,get:E=>n[E],unload:E=>{delete e[E],delete n[E]}}})(),jfe=()=>(()=>{let e={},t=[];const n={getItem:i=>{const u=e[i];return u||null},setItem:(i,u)=>{t.push(i),e[i]=String(u)},key:i=>t[i],removeItem:i=>{t=t.filter(u=>u===i),delete e[i]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let iO;try{const e="__storage_test__";iO=window.localStorage,iO.setItem(e,e),iO.removeItem(e)}catch{iO=jfe()}var Ufe=iO;const Wfe={geom:{Rect:Hfe},util:{Delay:wu,Tools:bt,VK:Ht,URI:Su,EventDispatcher:z9,Observable:D9,I18n:uc,LocalStorage:Ufe,ImageUploader:r$},dom:{EventUtils:ap,TreeWalker:Dr,TextSeeker:Wc,DOMUtils:Kn,ScriptLoader:$a,RangeUtils:bf,Serializer:X3,StyleSheetLoader:Pv,ControlSelection:f2,BookmarkManager:Y0,Selection:fk,Event:ap.Event},html:{Styles:du,Entities:lu,Node:al,Schema:af,DomParser:Wi,Writer:FA,Serializer:Hm},Env:$o,AddOnManager:ka,Annotator:qD,Formatter:vT,UndoManager:v6,EditorCommands:zK,WindowManager:zy,NotificationManager:sT,EditorObservable:NK,Shortcuts:IK,Editor:tB,FocusManager:GD,EditorManager:Qx,DOM:Kn.DOM,ScriptLoader:$a.ScriptLoader,PluginManager:Ty,ThemeManager:Oy,ModelManager:Nx,IconManager:DC,Resource:Vfe,FakeClipboard:Lfe,trim:bt.trim,isArray:bt.isArray,is:bt.is,toArray:bt.toArray,makeMap:bt.makeMap,each:bt.each,map:bt.map,grep:bt.grep,inArray:bt.inArray,extend:bt.extend,walk:bt.walk,resolve:bt.resolve,explode:bt.explode,_addCacheSuffix:bt._addCacheSuffix},WK=bt.extend(Qx,Wfe),Zfe=e=>{try{c.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(WK),Zfe(WK)})()}(CV)),CV.exports}var x_e=y_e();const v_e=Ybe(x_e);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',"checkmark-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.8 5a1 1 0 0 0-1.4.3l-5.4 8-2-2.1a1 1 0 1 0-1.5 1.4l3 3a1 1 0 0 0 1.5-.2l6-9a1 1 0 0 0-.2-1.4Z"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',"close-filled":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm4.7 5.3a1 1 0 0 0-1.3 0L12 10.6 8.6 7.3a1 1 0 0 0-1.3 1.3l3.3 3.4-3.3 3.4a1 1 0 0 0 1.3 1.3l3.4-3.3 3.4 3.3a1 1 0 0 0 1.3-1.3L13.4 12l3.3-3.4a1 1 0 0 0 0-1.3Z"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-gear-properties":'<svg height="24" width="24"><path d="M17.3 14.5a7.1 7.1 0 0 1 1.2.6l1.5-.5 1 1.8-1.2 1V18.7l1.2 1-1 1.6-1.5-.4a4.5 4.5 0 0 1-.6.3 7.1 7.1 0 0 1-.6.3L17 23h-2l-.3-1.5a7.4 7.4 0 0 1-.6-.3 4.5 4.5 0 0 1-.6-.3l-1.5.5-1-1.8 1.2-1a3.9 3.9 0 0 1 0-.6v-.7l-1.2-1 1-1.6 1.5.4a4.5 4.5 0 0 1 1.2-.6L15 13h2zM16 16a2 2 0 0 0-1.5.6A1.9 1.9 0 0 0 14 18c0 .6.2 1 .6 1.4s1 .6 1.5.6 1-.2 1.5-.6.6-.8.6-1.4-.2-1-.6-1.4A2 2 0 0 0 16 16z" fill-rule="evenodd"/><path d="M19 7.6V12h-2V9h-4V5H7v14h3v2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h7.4z"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',feedback:'<svg width="24" height="24"><path fill-rule="evenodd" d="M16 6c1 0 2 1 2 2v5c0 1-1 2-2 2h-3l-4 3v-3H8c-1 0-2-1-2-2V8c0-1 1-2 2-2h8Zm-7 5v1h4v-1H9Zm0-2v1h6V9H9Z"/></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',"suggestededits-badge":'<svg height="24" width="24"><path d="M11 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9.7a6 6 0 0 1-2 .3v9H7V5h4a6 6 0 0 1 0-2z"/><path d="M15 13v-2h-4v2zm-3 2H9v2h3zm-1-8H9v2h2zm4 10v-2h-2v2z"/><path d="M21 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" class="tox-icon--badge"/></svg>',suggestededits:'<svg width="24" height="24"><path d="M7 3h7.4L19 7.6V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2Zm0 16h10V9h-3V5H7v14Z" clip-rule="evenodd"/><path d="M9 7h2v2H9V7Zm2 4h4v2h-4v-2Zm-2 4h3v2H9v-2Z"/><path d="M9 7h2v2H9V7Zm4 8h2v2h-2v-2Z"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const c=Object.getPrototypeOf,o=(s,l,f)=>{var p;return!!f(s,l.prototype)||((p=s.constructor)==null?void 0:p.name)===l.name},r=s=>l=>(f=>{const p=typeof f;return f===null?"null":p==="object"&&Array.isArray(f)?"array":p==="object"&&o(f,String,(b,v)=>v.isPrototypeOf(b))?"string":p})(l)===s,a=s=>l=>typeof l===s,d=s=>l=>s===l,h=r("string"),g=r("object"),x=s=>((l,f)=>g(l)&&o(l,f,(p,b)=>c(p)===b))(s,Object),k=r("array"),z=d(null),D=a("boolean"),$=d(void 0),K=s=>s==null,Y=s=>!K(s),ie=a("function"),ve=a("number"),Ne=(s,l)=>{if(k(s)){for(let f=0,p=s.length;f<p;++f)if(!l(s[f]))return!1;return!0}return!1},ye=()=>{},Je=s=>()=>s(),He=(s,l)=>(...f)=>s(l.apply(null,f)),ge=s=>()=>s,Ie=s=>s,he=(s,l)=>s===l;function Ve(s,...l){return(...f)=>{const p=l.concat(f);return s.apply(null,p)}}const bo=s=>l=>!s(l),lo=s=>()=>{throw new Error(s)},Kt=s=>s(),Me=ge(!1),yt=ge(!0),Tu=class Tu{constructor(l,f){vt(this,"tag");vt(this,"value");this.tag=l,this.value=f}static some(l){return new Tu(!0,l)}static none(){return Tu.singletonNone}fold(l,f){return this.tag?f(this.value):l()}isSome(){return this.tag}isNone(){return!this.tag}map(l){return this.tag?Tu.some(l(this.value)):Tu.none()}bind(l){return this.tag?l(this.value):Tu.none()}exists(l){return this.tag&&l(this.value)}forall(l){return!this.tag||l(this.value)}filter(l){return!this.tag||l(this.value)?this:Tu.none()}getOr(l){return this.tag?this.value:l}or(l){return this.tag?this:l}getOrThunk(l){return this.tag?this.value:l()}orThunk(l){return this.tag?this:l()}getOrDie(l){if(this.tag)return this.value;throw new Error(l??"Called getOrDie on None")}static from(l){return Y(l)?Tu.some(l):Tu.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(l){this.tag&&l(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}};vt(Tu,"singletonNone",new Tu(!1));let I=Tu;const Mt=Array.prototype.slice,Ft=Array.prototype.indexOf,zo=Array.prototype.push,En=(s,l)=>Ft.call(s,l),ft=(s,l)=>En(s,l)>-1,To=(s,l)=>{for(let f=0,p=s.length;f<p;f++)if(l(s[f],f))return!0;return!1},zs=(s,l)=>{const f=[];for(let p=0;p<s;p++)f.push(l(p));return f},Tt=(s,l)=>{const f=[];for(let p=0;p<s.length;p+=l){const b=Mt.call(s,p,p+l);f.push(b)}return f},Le=(s,l)=>{const f=s.length,p=new Array(f);for(let b=0;b<f;b++){const v=s[b];p[b]=l(v,b)}return p},Ge=(s,l)=>{for(let f=0,p=s.length;f<p;f++)l(s[f],f)},yo=(s,l)=>{const f=[],p=[];for(let b=0,v=s.length;b<v;b++){const C=s[b];(l(C,b)?f:p).push(C)}return{pass:f,fail:p}},to=(s,l)=>{const f=[];for(let p=0,b=s.length;p<b;p++){const v=s[p];l(v,p)&&f.push(v)}return f},_o=(s,l,f)=>(((p,b)=>{for(let v=p.length-1;v>=0;v--)b(p[v],v)})(s,(p,b)=>{f=l(f,p,b)}),f),fo=(s,l,f)=>(Ge(s,(p,b)=>{f=l(f,p,b)}),f),G=(s,l)=>((f,p,b)=>{for(let v=0,C=f.length;v<C;v++){const A=f[v];if(p(A,v))return I.some(A);if(b(A,v))break}return I.none()})(s,l,Me),ir=(s,l)=>{for(let f=0,p=s.length;f<p;f++)if(l(s[f],f))return I.some(f);return I.none()},Vn=s=>{const l=[];for(let f=0,p=s.length;f<p;++f){if(!k(s[f]))throw new Error("Arr.flatten item "+f+" was not an array, input: "+s);zo.apply(l,s[f])}return l},Zo=(s,l)=>Vn(Le(s,l)),yr=(s,l)=>{for(let f=0,p=s.length;f<p;++f)if(l(s[f],f)!==!0)return!1;return!0},Jr=s=>{const l=Mt.call(s,0);return l.reverse(),l},Qo=(s,l)=>to(s,f=>!ft(l,f)),Rn=(s,l)=>{const f={};for(let p=0,b=s.length;p<b;p++){const v=s[p];f[String(v)]=l(v,p)}return f},Do=s=>[s],tt=(s,l)=>{const f=Mt.call(s,0);return f.sort(l),f},es=(s,l)=>l>=0&&l<s.length?I.some(s[l]):I.none(),ze=s=>es(s,0),we=s=>es(s,s.length-1),mt=ie(Array.from)?Array.from:s=>Mt.call(s),Yt=(s,l)=>{for(let f=0;f<s.length;f++){const p=l(s[f],f);if(p.isSome())return p}return I.none()},Dt=Object.keys,bn=Object.hasOwnProperty,Wo=(s,l)=>{const f=Dt(s);for(let p=0,b=f.length;p<b;p++){const v=f[p];l(s[v],v)}},Xn=(s,l)=>Gi(s,(f,p)=>({k:p,v:l(f,p)})),Gi=(s,l)=>{const f={};return Wo(s,(p,b)=>{const v=l(p,b);f[v.k]=v.v}),f},Rr=s=>(l,f)=>{s[f]=l},Ds=(s,l,f,p)=>{Wo(s,(b,v)=>{(l(b,v)?f:p)(b,v)})},Sr=(s,l)=>{const f={};return Ds(s,l,Rr(f),ye),f},ar=(s,l)=>{const f=[];return Wo(s,(p,b)=>{f.push(l(p,b))}),f},lr=(s,l)=>{const f=Dt(s);for(let p=0,b=f.length;p<b;p++){const v=f[p],C=s[v];if(l(C,v,s))return I.some(C)}return I.none()},ps=s=>ar(s,Ie),so=(s,l)=>en(s,l)?I.from(s[l]):I.none(),en=(s,l)=>bn.call(s,l),ls=(s,l)=>en(s,l)&&s[l]!==void 0&&s[l]!==null,Ls=s=>{if(!k(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const l=[],f={};return Ge(s,(p,b)=>{const v=Dt(p);if(v.length!==1)throw new Error("one and only one name per case");const C=v[0],A=p[C];if(f[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!k(A))throw new Error("case arguments must be an array");l.push(C),f[C]=(...T)=>{const M=T.length;if(M!==A.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+A.length+" ("+A+"), got "+M);return{fold:(...P)=>{if(P.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+P.length);return P[b].apply(null,T)},match:P=>{const B=Dt(P);if(l.length!==B.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+B.join(","));if(!yr(l,H=>ft(B,H)))throw new Error("Not all branches were specified when using match. Specified: "+B.join(", ")+`
Required: `+l.join(", "));return P[C].apply(null,T)},log:P=>{console.log(P,{constructors:l,constructor:C,params:T})}}}}),f},jt=s=>{let l=s;return{get:()=>l,set:f=>{l=f}}},Tl=s=>{let l=I.none(),f=[];const p=C=>{b()?v(C):f.push(C)},b=()=>l.isSome(),v=C=>{l.each(A=>{setTimeout(()=>{C(A)},0)})};return s(C=>{b()||(l=I.some(C),Ge(f,v),f=[])}),{get:p,map:C=>Tl(A=>{p(T=>{A(C(T))})}),isReady:b}},kc={nu:Tl,pure:s=>Tl(l=>{l(s)})},Yi=s=>{setTimeout(()=>{throw s},0)},Vr=s=>{const l=f=>{s().then(f,Yi)};return{map:f=>Vr(()=>s().then(f)),bind:f=>Vr(()=>s().then(p=>f(p).toPromise())),anonBind:f=>Vr(()=>s().then(()=>f.toPromise())),toLazy:()=>kc.nu(l),toCached:()=>{let f=null;return Vr(()=>(f===null&&(f=s()),f))},toPromise:s,get:l}},yn=s=>Vr(()=>new Promise(s)),Ea=s=>Vr(()=>Promise.resolve(s)),Zp=s=>{const l=v=>v(s),f=ge(s),p=()=>b,b={tag:!0,inner:s,fold:(v,C)=>C(s),isValue:yt,isError:Me,map:v=>pn.value(v(s)),mapError:p,bind:l,exists:l,forall:l,getOr:f,or:p,getOrThunk:f,orThunk:p,getOrDie:f,each:v=>{v(s)},toOptional:()=>I.some(s)};return b},hl=s=>{const l=()=>f,f={tag:!1,inner:s,fold:(p,b)=>p(s),isValue:Me,isError:yt,map:l,mapError:p=>pn.error(p(s)),bind:l,exists:Me,forall:yt,getOr:Ie,or:Ie,getOrThunk:Kt,orThunk:Kt,getOrDie:lo(String(s)),each:ye,toOptional:I.none};return f},pn={value:Zp,error:hl,fromOption:(s,l)=>s.fold(()=>hl(l),Zp)},An=s=>({...s,toCached:()=>An(s.toCached()),bindFuture:l=>An(s.bind(f=>f.fold(p=>Ea(pn.error(p)),p=>l(p)))),bindResult:l=>An(s.map(f=>f.bind(l))),mapResult:l=>An(s.map(f=>f.map(l))),mapError:l=>An(s.map(f=>f.mapError(l))),foldResult:(l,f)=>s.map(p=>p.fold(l,f)),withTimeout:(l,f)=>An(yn(p=>{let b=!1;const v=setTimeout(()=>{b=!0,p(pn.error(f()))},l);s.get(C=>{b||(clearTimeout(v),p(C))})}))}),hi=s=>An(yn(s)),Ni=typeof window<"u"?window:Function("return this;")(),Us=(s,l,f,p)=>{const b=s+l;return b>p?f:b<f?p:b},Dn=(s,l,f)=>Math.min(Math.max(s,l),f);let Io=0;const je=s=>{const l=new Date().getTime(),f=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Io++,s+"_"+f+Io+String(l)},Iu=s=>(...l)=>{if(l.length===0)throw new Error("Can't merge zero objects");const f={};for(let p=0;p<l.length;p++){const b=l[p];for(const v in b)en(b,v)&&(f[v]=s(f[v],b[v]))}return f},Js=Iu((s,l)=>x(s)&&x(l)?Js(s,l):l),Yl=Iu((s,l)=>l),Mn=(s,l,f=he)=>s.exists(p=>f(p,l)),Xl=s=>{const l=[],f=p=>{l.push(p)};for(let p=0;p<s.length;p++)s[p].each(f);return l},pi=(s,l,f)=>s.isSome()&&l.isSome()?I.some(f(s.getOrDie(),l.getOrDie())):I.none(),jd=(s,l)=>s!=null?I.some(l(s)):I.none(),Ks=(s,l)=>s?I.some(l):I.none(),dg=(s,l)=>((f,p)=>{let b=p??Ni;for(let v=0;v<f.length&&b!=null;++v)b=b[f[v]];return b})(s.split("."),l);Ls([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ei=s=>{const l=jt(I.none()),f=()=>l.get().each(s);return{clear:()=>{f(),l.set(I.none())},isSet:()=>l.get().isSome(),get:()=>l.get(),set:p=>{f(),l.set(I.some(p))}}},ti=()=>ei(s=>s.unbind()),Qn=()=>{const s=ei(ye);return{...s,on:l=>s.get().each(l)}},jf=(s,l,f)=>l===""||s.length>=l.length&&s.substr(f,f+l.length)===l,cs=(s,l)=>ug(s,l)?((f,p)=>f.substring(p))(s,l.length):s,jr=(s,l,f=0,p)=>{const b=s.indexOf(l,f);return b!==-1&&(!!$(p)||b+l.length<=p)},ug=(s,l)=>jf(s,l,0),rd=(s,l)=>jf(s,l,s.length-l.length),Uf=(Ql=/^\s+|\s+$/g,s=>s.replace(Ql,"")),_c=s=>s.length>0,Cc=s=>!_c(s),Sc=(s,l)=>{let f=null;const p=()=>{z(f)||(clearTimeout(f),f=null)};return{cancel:p,throttle:(...b)=>{p(),f=setTimeout(()=>{f=null,s.apply(null,b)},l)}}},Ur=s=>{let l,f=!1;return(...p)=>(f||(f=!0,l=s.apply(null,p)),l)},Wf=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},Bb=(s,l)=>{const f=document.createElement("div");if(f.innerHTML=s,!f.hasChildNodes()||f.childNodes.length>1){const p="HTML does not have a single root node";throw console.error(p,s),new Error(p)}return Wf(f.childNodes[0])},Gs=(s,l)=>{const f=document.createElement(s);return Wf(f)},fg=(s,l)=>{const f=document.createTextNode(s);return Wf(f)},Ut=Wf,id=(s,l,f)=>{const p=s.document.createRange();var b;return b=p,l.fold(v=>{b.setStartBefore(v.dom)},(v,C)=>{b.setStart(v.dom,C)},v=>{b.setStartAfter(v.dom)}),((v,C)=>{C.fold(A=>{v.setEndBefore(A.dom)},(A,T)=>{v.setEnd(A.dom,T)},A=>{v.setEndAfter(A.dom)})})(p,f),p},qp=(s,l,f,p,b)=>{const v=s.document.createRange();return v.setStart(l.dom,f),v.setEnd(p.dom,b),v},hg=s=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}),Ol=Ls([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Kp=(s,l,f)=>l(Ut(f.startContainer),f.startOffset,Ut(f.endContainer),f.endOffset),pg=(s,l)=>((f,p)=>{const b=((v,C)=>C.match({domRange:A=>({ltr:ge(A),rtl:I.none}),relative:(A,T)=>({ltr:Ur(()=>id(v,A,T)),rtl:Ur(()=>I.some(id(v,T,A)))}),exact:(A,T,M,P)=>({ltr:Ur(()=>qp(v,A,T,M,P)),rtl:Ur(()=>I.some(qp(v,M,P,A,T)))})}))(f,p);return((v,C)=>{const A=C.ltr();return A.collapsed?C.rtl().filter(T=>T.collapsed===!1).map(T=>Ol.rtl(Ut(T.endContainer),T.endOffset,Ut(T.startContainer),T.startOffset)).getOrThunk(()=>Kp(0,Ol.ltr,A)):Kp(0,Ol.ltr,A)})(0,b)})(s,l).match({ltr:(f,p,b,v)=>{const C=s.document.createRange();return C.setStart(f.dom,p),C.setEnd(b.dom,v),C},rtl:(f,p,b,v)=>{const C=s.document.createRange();return C.setStart(b.dom,v),C.setEnd(f.dom,p),C}});var Ql;Ol.ltr,Ol.rtl;const Ec=(s,l)=>{const f=s.dom;if(f.nodeType!==1)return!1;{const p=f;if(p.matches!==void 0)return p.matches(l);if(p.msMatchesSelector!==void 0)return p.msMatchesSelector(l);if(p.webkitMatchesSelector!==void 0)return p.webkitMatchesSelector(l);if(p.mozMatchesSelector!==void 0)return p.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")}},Gp=s=>s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11||s.childElementCount===0,mg=(s,l)=>{const f=l===void 0?document:l.dom;return Gp(f)?I.none():I.from(f.querySelector(s)).map(Ut)},on=(s,l)=>s.dom===l.dom,Ws=(s,l)=>{const f=s.dom,p=l.dom;return f!==p&&f.contains(p)},Zf=()=>Fu(0,0),Fu=(s,l)=>({major:s,minor:l}),zl={nu:Fu,detect:(s,l)=>{const f=String(l).toLowerCase();return s.length===0?Zf():((p,b)=>{const v=((A,T)=>{for(let M=0;M<A.length;M++){const P=A[M];if(P.test(T))return P}})(p,b);if(!v)return{major:0,minor:0};const C=A=>Number(b.replace(v,"$"+A));return Fu(C(1),C(2))})(s,f)},unknown:Zf},gg=(s,l)=>{const f=String(l).toLowerCase();return G(s,p=>p.search(f))},Hu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,oi=s=>l=>jr(l,s),ad=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>jr(s,"edge/")&&jr(s,"chrome")&&jr(s,"safari")&&jr(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Hu],search:s=>jr(s,"chrome")&&!jr(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>jr(s,"msie")||jr(s,"trident")},{name:"Opera",versionRegexes:[Hu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:oi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:oi("firefox")},{name:"Safari",versionRegexes:[Hu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(jr(s,"safari")||jr(s,"mobile/"))&&jr(s,"applewebkit")}],Pb=[{name:"Windows",search:oi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>jr(s,"iphone")||jr(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:oi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:oi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:oi("linux"),versionRegexes:[]},{name:"Solaris",search:oi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:oi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:oi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],qf={browsers:ge(ad),oses:ge(Pb)},Zs="Edge",Ud="Chromium",Aa="Opera",pl="Firefox",xr="Safari",ml=s=>{const l=s.current,f=s.version,p=b=>()=>l===b;return{current:l,version:f,isEdge:p(Zs),isChromium:p(Ud),isIE:p("IE"),isOpera:p(Aa),isFirefox:p(pl),isSafari:p(xr)}},fa=()=>ml({current:void 0,version:zl.unknown()}),bg=ml,Ih="Windows",Xi="Android",$u="Linux",Kf="macOS",Dl="Solaris",Fh="FreeBSD",Vu="ChromeOS",Hh=s=>{const l=s.current,f=s.version,p=b=>()=>l===b;return{current:l,version:f,isWindows:p(Ih),isiOS:p("iOS"),isAndroid:p(Xi),isMacOS:p(Kf),isLinux:p($u),isSolaris:p(Dl),isFreeBSD:p(Fh),isChromeOS:p(Vu)}},Ac=()=>Hh({current:void 0,version:zl.unknown()}),Ta=Hh,Wr=s=>window.matchMedia(s).matches;let re=Ur(()=>((s,l,f)=>{const p=qf.browsers(),b=qf.oses(),v=l.bind(T=>((M,P)=>Yt(P.brands,B=>{const H=B.brand.toLowerCase();return G(M,Z=>{var X;return H===((X=Z.brand)==null?void 0:X.toLowerCase())}).map(Z=>({current:Z.name,version:zl.nu(parseInt(B.version,10),0)}))}))(p,T)).orThunk(()=>((T,M)=>gg(T,M).map(P=>{const B=zl.detect(P.versionRegexes,M);return{current:P.name,version:B}}))(p,s)).fold(fa,bg),C=((T,M)=>gg(T,M).map(P=>{const B=zl.detect(P.versionRegexes,M);return{current:P.name,version:B}}))(b,s).fold(Ac,Ta),A=((T,M,P,B)=>{const H=T.isiOS()&&/ipad/i.test(P)===!0,Z=T.isiOS()&&!H,X=T.isiOS()||T.isAndroid(),le=X||B("(pointer:coarse)"),se=H||!Z&&X&&B("(min-device-width:768px)"),ae=Z||X&&!se,te=M.isSafari()&&T.isiOS()&&/safari/i.test(P)===!1,oe=!ae&&!se&&!te;return{isiPad:ge(H),isiPhone:ge(Z),isTablet:ge(se),isPhone:ge(ae),isTouch:ge(le),isAndroid:T.isAndroid,isiOS:T.isiOS,isWebView:ge(te),isDesktop:ge(oe)}})(C,v,s,f);return{browser:v,os:C,deviceType:A}})(window.navigator.userAgent,I.from(window.navigator.userAgentData),Wr));const _e=()=>re(),Fe=Object.getPrototypeOf,ht=s=>{const l=dg("ownerDocument.defaultView",s);return g(s)&&((f=>((p,b)=>{const v=((C,A)=>dg(C,A))(p,b);if(v==null)throw new Error(p+" not available on this browser");return v})("HTMLElement",f))(l).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(Fe(s).constructor.name))},Ot=s=>s.dom.nodeName.toLowerCase(),Jt=s=>l=>(f=>f.dom.nodeType)(l)===s,an=s=>In(s)&&ht(s.dom),In=Jt(1),wn=Jt(3),cr=Jt(9),dr=Jt(11),ks=s=>l=>In(l)&&Ot(l)===s,mi=s=>Ut(s.dom.ownerDocument),$h=s=>cr(s)?s:mi(s),Oa=s=>Ut($h(s).dom.documentElement),ju=s=>Ut($h(s).dom.defaultView),Jn=s=>I.from(s.dom.parentNode).map(Ut),za=s=>I.from(s.dom.parentElement).map(Ut),Uu=s=>I.from(s.dom.offsetParent).map(Ut),Wd=s=>I.from(s.dom.previousSibling).map(Ut),Lr=s=>I.from(s.dom.nextSibling).map(Ut),Jl=s=>Le(s.dom.childNodes,Ut),Zd=(s,l)=>{const f=s.dom.childNodes;return I.from(f[l]).map(Ut)},Ri=s=>Zd(s,0),Ib=(s,l)=>({element:s,offset:l}),Yp=(s,l)=>{const f=Jl(s);return f.length>0&&l<f.length?Ib(f[l],0):Ib(s,l)},yg=s=>dr(s)&&Y(s.dom.host),ni=s=>Ut(s.dom.getRootNode()),Gf=s=>yg(s)?s:Ut($h(s).dom.body),ld=s=>{const l=ni(s);return yg(l)?I.some(l):I.none()},ec=s=>Ut(s.dom.host),xg=s=>{const l=Ut((v=>{if(Y(v.target)){const C=Ut(v.target);if(In(C)&&(A=>Y(A.dom.shadowRoot))(C)&&v.composed&&v.composedPath){const A=v.composedPath();if(A)return ze(A)}}return I.from(v.target)})(s).getOr(s.target)),f=()=>s.stopPropagation(),p=()=>s.preventDefault(),b=He(p,f);return((v,C,A,T,M,P,B)=>({target:v,x:C,y:A,stop:T,prevent:M,kill:P,raw:B}))(l,s.clientX,s.clientY,f,p,b,s)},Ci=(s,l,f,p,b)=>{const v=((C,A)=>T=>{C(T)&&A(xg(T))})(f,p);return s.dom.addEventListener(l,v,b),{unbind:Ve(Xp,s,l,v,b)}},Xp=(s,l,f,p)=>{s.dom.removeEventListener(l,f,p)},qd=yt,Li=(s,l,f)=>((p,b,v,C)=>Ci(p,b,v,C,!1))(s,l,qd,f),Da=(s,l,f)=>((p,b,v,C)=>Ci(p,b,v,C,!0))(s,l,qd,f),tc=xg,Qp=()=>Ut(document),Er=(s,l=!1)=>s.dom.focus({preventScroll:l}),gl=s=>s.dom.blur(),cd=s=>{const l=ni(s).dom;return s.dom===l.activeElement},Tc=(s=Qp())=>I.from(s.dom.activeElement).map(Ut),Bi=s=>Tc(ni(s)).filter(l=>s.dom.contains(l.dom)),Ml=(s,l)=>{Jn(s).each(f=>{f.dom.insertBefore(l.dom,s.dom)})},Fb=(s,l)=>{Lr(s).fold(()=>{Jn(s).each(f=>{Ma(f,l)})},f=>{Ml(f,l)})},Hb=(s,l)=>{Ri(s).fold(()=>{Ma(s,l)},f=>{s.dom.insertBefore(l.dom,f.dom)})},Ma=(s,l)=>{s.dom.appendChild(l.dom)},ha=(s,l)=>{Ge(l,f=>{Ma(s,f)})},Na=(s,l,f)=>{if(!(h(f)||D(f)||ve(f)))throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",f,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(l,f+"")},mo=(s,l,f)=>{Na(s.dom,l,f)},Qy=(s,l)=>{const f=s.dom;Wo(l,(p,b)=>{Na(f,b,p)})},$o=(s,l)=>{const f=s.dom.getAttribute(l);return f===null?void 0:f},si=(s,l)=>I.from($o(s,l)),Jp=(s,l)=>{const f=s.dom;return!(!f||!f.hasAttribute)&&f.hasAttribute(l)},ur=(s,l)=>{s.dom.removeAttribute(l)},$b=s=>{s.dom.textContent="",Ge(Jl(s),l=>{Kd(l)})},Kd=s=>{const l=s.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},Jy=(s,l)=>Ut(s.dom.cloneNode(l)),Yf=s=>s.dom.innerHTML,Ga=(s,l)=>{const f=mi(s).dom,p=Ut(f.createDocumentFragment()),b=((v,C)=>{const A=(C||document).createElement("div");return A.innerHTML=v,Jl(Ut(A))})(l,f);ha(p,b),$b(s),Ma(s,p)},Wu=s=>new Promise((l,f)=>{const p=()=>{v(),l(s)},b=[Li(s,"load",p),Li(s,"error",()=>{v(),f("Unable to load data from image: "+s.dom.src)})],v=()=>Ge(b,C=>C.unbind());s.dom.complete&&p()}),Vh=s=>s.style!==void 0&&ie(s.style.getPropertyValue),bt=s=>{const l=wn(s)?s.dom.parentNode:s.dom;if(l==null||l.ownerDocument===null)return!1;const f=l.ownerDocument;return ld(Ut(l)).fold(()=>f.body.contains(l),(p=bt,b=ec,v=>p(b(v))));var p,b},vr=()=>Vb(Ut(document)),Vb=s=>{const l=s.dom.body;if(l==null)throw new Error("Body is not available yet");return Ut(l)},jb=(s,l,f)=>{if(!h(f))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",f,":: Element ",s),new Error("CSS value must be a string: "+f);Vh(s)&&s.style.setProperty(l,f)},oc=(s,l)=>{Vh(s)&&s.style.removeProperty(l)},Vo=(s,l,f)=>{const p=s.dom;jb(p,l,f)},xe=(s,l)=>{const f=s.dom;Wo(l,(p,b)=>{jb(f,b,p)})},Zu=(s,l)=>{const f=s.dom;Wo(l,(p,b)=>{p.fold(()=>{oc(f,b)},v=>{jb(f,b,v)})})},Pi=(s,l)=>{const f=s.dom,p=window.getComputedStyle(f).getPropertyValue(l);return p!==""||bt(s)?p:vg(f,l)},vg=(s,l)=>Vh(s)?s.style.getPropertyValue(l):"",wr=(s,l)=>{const f=s.dom,p=vg(f,l);return I.from(p).filter(b=>b.length>0)},Gd=s=>{const l={},f=s.dom;if(Vh(f))for(let p=0;p<f.style.length;p++){const b=f.style.item(p);l[b]=f.style[b]}return l},Oc=(s,l,f)=>{const p=Gs(s);return Vo(p,l,f),wr(p,l).isSome()},xn=(s,l)=>{const f=s.dom;oc(f,l),Mn(si(s,"style").map(Uf),"")&&ur(s,"style")},em=s=>s.dom.offsetWidth,Ub=(s,l)=>{const f=b=>{const v=l(b);if(v<=0||v===null){const C=Pi(b,s);return parseFloat(C)||0}return v},p=(b,v)=>fo(v,(C,A)=>{const T=Pi(b,A),M=T===void 0?0:parseInt(T,10);return isNaN(M)?C:C+M},0);return{set:(b,v)=>{if(!ve(v)&&!v.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+v);const C=b.dom;Vh(C)&&(C.style[s]=v+"px")},get:f,getOuter:f,aggregate:p,max:(b,v,C)=>{const A=p(b,C);return v>A?v-A:0}}},jh=Ub("height",s=>{const l=s.dom;return bt(s)?l.getBoundingClientRect().height:l.offsetHeight}),Br=s=>jh.get(s),Yd=s=>jh.getOuter(s),dd=s=>!(l=>l.offsetWidth<=0&&l.offsetHeight<=0)(s.dom),Xf=Ub("width",s=>{const l=s.dom;return bt(s)?l.getBoundingClientRect().width:l.offsetWidth}),jn=s=>Xf.get(s),ud=s=>Xf.getOuter(s),Qf=(s,l)=>({left:s,top:l,translate:(f,p)=>Qf(s+f,l+p)}),Bs=Qf,cn=(s,l)=>s!==void 0?s:l!==void 0?l:0,pr=s=>{const l=s.dom.ownerDocument,f=l.body,p=l.defaultView,b=l.documentElement;if(f===s.dom)return Bs(f.offsetLeft,f.offsetTop);const v=cn(p==null?void 0:p.pageYOffset,b.scrollTop),C=cn(p==null?void 0:p.pageXOffset,b.scrollLeft),A=cn(b.clientTop,f.clientTop),T=cn(b.clientLeft,f.clientLeft);return fd(s).translate(C-T,v-A)},fd=s=>{const l=s.dom,f=l.ownerDocument.body;return f===l?Bs(f.offsetLeft,f.offsetTop):bt(s)?(p=>{const b=p.getBoundingClientRect();return Bs(b.left,b.top)})(l):Bs(0,0)},Ra=s=>{const l=s!==void 0?s.dom:document,f=l.body.scrollLeft||l.documentElement.scrollLeft,p=l.body.scrollTop||l.documentElement.scrollTop;return Bs(f,p)},Xo=(s,l,f)=>{const p=(f!==void 0?f.dom:document).defaultView;p&&p.scrollTo(s,l)},Wb=(s=>{const l=f=>s(f)?I.from(f.dom.nodeValue):I.none();return{get:f=>{if(!s(f))throw new Error("Can only get text value of a text node");return l(f).getOr("")},getOption:l,set:(f,p)=>{if(!s(f))throw new Error("Can only set raw text value of a text node");f.dom.nodeValue=p}}})(wn),Jf=(s,l)=>f=>Zb(f)==="rtl"?l:s,Zb=s=>Pi(s,"direction")==="rtl"?"rtl":"ltr",hd=(s,l)=>{const f=$o(s,l);return f===void 0||f===""?[]:f.split(" ")};var mr=(s,l,f,p,b)=>s(f,p)?I.some(f):ie(b)&&b(f)?I.none():l(f,p,b);const Ii=(s,l,f)=>{let p=s.dom;const b=ie(f)?f:Me;for(;p.parentNode;){p=p.parentNode;const v=Ut(p);if(l(v))return I.some(v);if(b(v))break}return I.none()},e1=(s,l,f)=>mr((p,b)=>b(p),Ii,s,l,f),t1=(s,l)=>G(s.dom.childNodes,f=>l(Ut(f))).map(Ut),ms=(s,l,f)=>Ii(s,p=>Ec(p,l),f),qb=(s,l)=>(f=>{const p=f.dom;return p.parentNode?t1(Ut(p.parentNode),b=>!on(f,b)&&Ec(b,l)):I.none()})(s),Nl=(s,l)=>t1(s,f=>Ec(f,l)),rs=(s,l)=>mg(l,s),La=(s,l,f)=>mr((p,b)=>Ec(p,b),ms,s,l,f),pa=(s,l)=>{s.dom.checked=l},pd=s=>s.dom.checked,Zr=s=>s.dom.classList!==void 0,Uh=s=>hd(s,"class"),Rl=(s,l)=>((f,p,b)=>{const v=hd(f,p).concat([b]);return mo(f,p,v.join(" ")),!0})(s,"class",l),ma=(s,l)=>((f,p,b)=>{const v=to(hd(f,p),C=>C!==b);return v.length>0?mo(f,p,v.join(" ")):ur(f,p),!1})(s,"class",l),_s=(s,l)=>{Zr(s)?s.dom.classList.add(l):Rl(s,l)},wg=s=>{(Zr(s)?s.dom.classList:Uh(s)).length===0&&ur(s,"class")},ln=(s,l)=>{Zr(s)?s.dom.classList.remove(l):ma(s,l),wg(s)},kr=(s,l)=>Zr(s)&&s.dom.classList.contains(l),bl=(s,l)=>{Ge(l,f=>{_s(s,f)})},qr=(s,l)=>{Ge(l,f=>{ln(s,f)})},eh=s=>Zr(s)?(l=>{const f=l.dom.classList,p=new Array(f.length);for(let b=0;b<f.length;b++){const v=f.item(b);v!==null&&(p[b]=v)}return p})(s):Uh(s),Pr=s=>s.dom.value,zc=(s,l)=>{if(l===void 0)throw new Error("Value.set was undefined");s.dom.value=l},Dc=(s,l,f)=>to(((p,b)=>{const v=ie(b)?b:Me;let C=p.dom;const A=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const T=C.parentNode,M=Ut(T);if(A.push(M),v(M)===!0)break;C=T}return A})(s,f),l),ri=(s,l)=>((f,p)=>{const b=p===void 0?document:p.dom;return Gp(b)?[]:Le(b.querySelectorAll(f),Ut)})(l,s),tm=(s,l,f)=>e1(s,l,f).isSome(),om=(s,l,f)=>La(s,l,f).isSome(),Kb=s=>ie(s)?s:Me,nm=(s,l,f)=>{let p=s.dom;const b=Kb(f);for(;p.parentNode;){p=p.parentNode;const v=Ut(p),C=l(v);if(C.isSome())return C;if(b(v))break}return I.none()},sm=(s,l,f)=>{const p=l(s),b=Kb(f);return p.orThunk(()=>b(s)?I.none():nm(s,l,b))},kg=(s,l,f,p)=>({start:s,soffset:l,finish:f,foffset:p}),_g=Ls([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Cg=(_g.before,_g.on,_g.after,s=>s.fold(Ie,Ie,Ie)),rm=Ls([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Mc={domRange:rm.domRange,relative:rm.relative,exact:rm.exact,exactFromRange:s=>rm.exact(s.start,s.soffset,s.finish,s.foffset),getWin:s=>{const l=(f=>f.match({domRange:p=>Ut(p.startContainer),relative:(p,b)=>Cg(p),exact:(p,b,v,C)=>p}))(s);return ju(l)},range:kg},im=s=>{if(s.rangeCount>0){const l=s.getRangeAt(0),f=s.getRangeAt(s.rangeCount-1);return I.some(kg(Ut(l.startContainer),l.startOffset,Ut(f.endContainer),f.endOffset))}return I.none()},o1=s=>{if(s.anchorNode===null||s.focusNode===null)return im(s);{const l=Ut(s.anchorNode),f=Ut(s.focusNode);return((p,b,v,C)=>{const A=((M,P,B,H)=>{const Z=mi(M).dom.createRange();return Z.setStart(M.dom,P),Z.setEnd(B.dom,H),Z})(p,b,v,C),T=on(p,v)&&b===C;return A.collapsed&&!T})(l,s.anchorOffset,f,s.focusOffset)?I.some(kg(l,s.anchorOffset,f,s.focusOffset)):im(s)}},th=(s,l)=>(f=>{const p=f.getClientRects(),b=p.length>0?p[0]:f.getBoundingClientRect();return b.width>0||b.height>0?I.some(b).map(hg):I.none()})(pg(s,l)),Fi={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},qu=(()=>{const s="[0-9]+",l="[eE][+-]?"+s,f=b=>`(?:${b})?`,p=["Infinity",s+"\\."+f(s)+f(l),"\\."+s+f(l),s+f(l)].join("|");return new RegExp(`^([+-]?(?:${p}))(.*)$`)})(),Ll=(s,l)=>I.from(qu.exec(s)).bind(f=>{const p=Number(f[1]),b=f[2];return((v,C)=>To(C,A=>To(Fi[A],T=>v===T)))(b,l)?I.some({value:p,unit:b}):I.none()}),Nc=(s,l,f,p)=>({x:s,y:l,width:f,height:p,right:s+f,bottom:l+p}),Wh=s=>{const l=s===void 0?window:s,f=l.document,p=Ra(Ut(f));return(b=>{const v=b===void 0?window:b;return _e().browser.isFirefox()?I.none():I.from(v.visualViewport)})(l).fold(()=>{const b=l.document.documentElement,v=b.clientWidth,C=b.clientHeight;return Nc(p.left,p.top,v,C)},b=>Nc(Math.max(b.pageLeft,p.left),Math.max(b.pageTop,p.top),b.width,b.height))},ii=(s,l)=>s.view(l).fold(ge([]),f=>{const p=s.owner(f),b=ii(s,p);return[f].concat(b)});var Ya=Object.freeze({__proto__:null,view:s=>{var l;return(s.dom===document?I.none():I.from((l=s.dom.defaultView)==null?void 0:l.frameElement)).map(Ut)},owner:s=>mi(s)});const nc=s=>{const l=Qp(),f=Ra(l);return((b,v)=>{const C=v.owner(b),A=ii(v,C);return I.some(A)})(s,Ya).fold(Ve(pr,s),b=>{const v=fd(s),C=_o(b,(A,T)=>{const M=fd(T);return{left:A.left+M.left,top:A.top+M.top}},{left:0,top:0});return Bs(C.left+v.left+f.left,C.top+v.top+f.top)})},un=(s,l,f,p)=>({x:s,y:l,width:f,height:p,right:s+f,bottom:l+p}),Ar=s=>{const l=pr(s),f=ud(s),p=Yd(s);return un(l.left,l.top,f,p)},Xd=s=>{const l=nc(s),f=ud(s),p=Yd(s);return un(l.left,l.top,f,p)},Zh=(s,l)=>{const f=Math.max(s.x,l.x),p=Math.max(s.y,l.y),b=Math.min(s.right,l.right),v=Math.min(s.bottom,l.bottom);return un(f,p,b-f,v-p)},er=()=>Wh(window),qh=(s,l)=>on(s.element,l.event.target),Tr=s=>(Mn(wr(s,"position"),"fixed")?I.none():Uu(s)).orThunk(()=>{const l=Gs("span");return Jn(s).bind(f=>{Ma(f,l);const p=Uu(l);return Kd(l),p})}),Ba=s=>Tr(s).map(pr).getOrThunk(()=>Bs(0,0));var fr;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(fr||(fr={}));const Bl=(s,l,f)=>s.stype===fr.Error?l(s.serror):f(s.svalue),Qd=s=>({stype:fr.Value,svalue:s}),Or=s=>({stype:fr.Error,serror:s}),Jd=Qd,sc=Or,eu=Bl,ts=s=>g(s)&&Dt(s).length>100?" removed due to size":JSON.stringify(s,null,2),Qi=(s,l)=>sc([{path:s,getErrorInfo:l}]),md=s=>({extract:(l,f)=>((p,b)=>p.stype===fr.Error?b(p.serror):p)(s(f),p=>((b,v)=>Qi(b,ge(v)))(l,p)),toString:ge("val")}),ga=md(Jd),gi=ge(ga),Ku=(s,l)=>md(f=>{const p=typeof f;return s(f)?Jd(f):sc(`Expected type: ${l} but got: ${p}`)}),Rc=Ku(ve,"number"),hr=Ku(h,"string"),Xa=Ku(D,"boolean"),oh=Ku(ie,"function"),Gu=s=>{if(Object(s)!==s)return!0;switch({}.toString.call(s).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(s).every(l=>Gu(s[l]));default:return!1}},n1=md(s=>Gu(s)?Jd(s):sc("Expected value to be acceptable for sending via postMessage")),tu=s=>({tag:"defaultedThunk",process:s}),rc=s=>tu(ge(s)),Gb=s=>({tag:"mergeWithThunk",process:s}),am=(s,l,f,p)=>({tag:"field",key:s,newKey:l,presence:f,prop:p}),gd=(s,l,f)=>{switch(s.tag){case"field":return l(s.key,s.newKey,s.presence,s.prop);case"custom":return f(s.newKey,s.instantiator)}},Yu=s=>{const l=(p=>{const b=[],v=[];return Ge(p,C=>{Bl(C,A=>v.push(A),A=>b.push(A))}),{values:b,errors:v}})(s);return l.errors.length>0?(f=l.errors,He(sc,Vn)(f)):Jd(l.values);var f},Pa=(s,l,f,p)=>p(so(s,l).getOrThunk(()=>f(s))),Yb=(s,l,f,p,b)=>{const v=A=>b.extract(l.concat([p]),A),C=A=>A.fold(()=>Jd(I.none()),T=>((M,P)=>M.stype===fr.Value?{stype:fr.Value,svalue:P(M.svalue)}:M)(b.extract(l.concat([p]),T),I.some));switch(s.tag){case"required":return((A,T,M,P)=>so(T,M).fold(()=>((B,H,Z)=>Qi(B,()=>'Could not find valid *required* value for "'+H+'" in '+ts(Z)))(A,M,T),P))(l,f,p,v);case"defaultedThunk":return Pa(f,p,s.process,v);case"option":return((A,T,M)=>M(so(A,T)))(f,p,C);case"defaultedOptionThunk":return((A,T,M,P)=>P(so(A,T).map(B=>B===!0?M(A):B)))(f,p,s.process,C);case"mergeWithThunk":return Pa(f,p,ge({}),A=>{const T=Js(s.process(f),A);return v(T)})}},bd=s=>({extract:(l,f)=>s().extract(l,f),toString:()=>s().toString()}),Xu=s=>Dt(Sr(s,Y)),ba=s=>{const l=ko(s),f=_o(s,(p,b)=>gd(b,v=>Js(p,{[v]:!0}),ge(p)),{});return{extract:(p,b)=>{const v=D(b)?[]:Xu(b),C=to(v,A=>!ls(f,A));return C.length===0?l.extract(p,b):((A,T)=>Qi(A,()=>"There are unsupported fields: ["+T.join(", ")+"] specified"))(p,C)},toString:l.toString}},ko=s=>({extract:(l,f)=>((p,b,v)=>{const C={},A=[];for(const T of v)gd(T,(M,P,B,H)=>{const Z=Yb(B,p,b,M,H);eu(Z,X=>{A.push(...X)},X=>{C[P]=X})},(M,P)=>{C[M]=P(b)});return A.length>0?sc(A):Jd(C)})(l,f,s),toString:()=>`obj{
`+Le(s,f=>gd(f,(p,b,v,C)=>p+" -> "+C.toString(),(p,b)=>"state("+p+")")).join(`
`)+"}"}),Qu=s=>({extract:(l,f)=>{const p=Le(f,(b,v)=>s.extract(l.concat(["["+v+"]"]),b));return Yu(p)},toString:()=>"array("+s.toString()+")"}),lm=(s,l)=>{const f=l!==void 0?l:Ie;return{extract:(p,b)=>{const v=[];for(const C of s){const A=C.extract(p,b);if(A.stype===fr.Value)return{stype:fr.Value,svalue:f(A.svalue)};v.push(A)}return Yu(v)},toString:()=>"oneOf("+Le(s,p=>p.toString()).join(", ")+")"}},s1=(s,l)=>({extract:(f,p)=>{const b=Dt(p),v=((C,A)=>Qu(md(s)).extract(C,A))(f,b);return((C,A)=>C.stype===fr.Value?A(C.svalue):C)(v,C=>{const A=Le(C,T=>am(T,T,{tag:"required",process:{}},l));return ko(A).extract(f,p)})},toString:()=>"setOf("+l.toString()+")"}),Kh=He(Qu,ko),Lc=(s,l)=>({extract:(f,p)=>so(p,s).fold(()=>((b,v)=>Qi(b,()=>'Choice schema did not contain choice key: "'+v+'"'))(f,s),b=>((v,C,A,T)=>so(A,T).fold(()=>((M,P,B)=>Qi(M,()=>'The chosen schema: "'+B+'" did not exist in branches: '+ts(P)))(v,A,T),M=>M.extract(v.concat(["branch: "+T]),C)))(f,p,l,b)),toString:()=>"chooseOn("+s+"). Possible values: "+Dt(l)}),cm=s=>md(l=>s(l).fold(sc,Jd)),dm=(s,l)=>s1(f=>s(f).fold(Or,Qd),l),Ps=(s,l,f)=>{return p=((b,v,C)=>((A,T)=>A.stype===fr.Error?{stype:fr.Error,serror:T(A.serror)}:A)(v.extract([b],C),A=>({input:C,errors:A})))(s,l,f),Bl(p,pn.error,pn.value);var p},Ia=s=>s.fold(l=>{throw new Error(ou(l))},Ie),Hi=(s,l,f)=>Ia(Ps(s,l,f)),ou=s=>`Errors: 
`+(l=>{const f=l.length>10?l.slice(0,10).concat([{path:[],getErrorInfo:ge("... (only showing first ten failures)")}]):l;return Le(f,p=>"Failed path: ("+p.path.join(" > ")+`)
`+p.getErrorInfo())})(s.errors).join(`
`)+`

Input object: `+ts(s.input),Ji=(s,l)=>Lc(s,Xn(l,ko)),um=(s,l)=>((f,p)=>{const b=Ur(p);return{extract:(v,C)=>b().extract(v,C),toString:()=>b().toString()}})(0,l),zr=am,bi=(s,l)=>({tag:"custom",newKey:s,instantiator:l}),Bc=s=>cm(l=>ft(s,l)?pn.value(l):pn.error(`Unsupported value: "${l}", choose one of "${s.join(", ")}".`)),xt=s=>zr(s,s,{tag:"required",process:{}},gi()),Fa=(s,l)=>zr(s,s,{tag:"required",process:{}},l),Ju=s=>Fa(s,Rc),Ir=s=>Fa(s,hr),ic=(s,l)=>zr(s,s,{tag:"required",process:{}},Bc(l)),yl=s=>Fa(s,oh),ea=(s,l)=>zr(s,s,{tag:"required",process:{}},ko(l)),ya=(s,l)=>zr(s,s,{tag:"required",process:{}},Kh(l)),ta=(s,l)=>zr(s,s,{tag:"required",process:{}},Qu(l)),Fn=s=>zr(s,s,{tag:"option",process:{}},gi()),xa=(s,l)=>zr(s,s,{tag:"option",process:{}},l),tr=s=>xa(s,Rc),Ys=s=>xa(s,hr),Pc=(s,l)=>xa(s,Bc(l)),Fr=s=>xa(s,oh),ef=(s,l)=>xa(s,Qu(l)),oa=(s,l)=>xa(s,ko(l)),Ke=(s,l)=>zr(s,s,rc(l),gi()),Pl=(s,l,f)=>zr(s,s,rc(l),f),xl=(s,l)=>Pl(s,l,Rc),gs=(s,l)=>Pl(s,l,hr),$i=(s,l,f)=>Pl(s,l,Bc(f)),yi=(s,l)=>Pl(s,l,Xa),ds=(s,l)=>Pl(s,l,oh),nu=(s,l,f)=>Pl(s,l,Qu(f)),Gh=(s,l,f)=>Pl(s,l,ko(f)),nh=(s,l)=>((f,p)=>({[f]:p}))(s,l),Qa=s=>(l=>{const f={};return Ge(l,p=>{f[p.key]=p.value}),f})(s),xi=ge,Hr=xi("touchstart"),R=xi("touchmove"),F=xi("touchend"),J=xi("touchcancel"),de=xi("mousedown"),Ae=xi("mousemove"),ut=xi("mouseout"),Rt=xi("mouseup"),Wt=xi("mouseover"),Oo=xi("focusin"),dn=xi("focusout"),Ln=xi("keydown"),or=xi("keyup"),Ts=xi("input"),Si=xi("change"),Ja=xi("click"),su=xi("transitioncancel"),ac=xi("transitionend"),Xb=xi("transitionstart"),Yh=xi("selectstart"),Ms=s=>ge("alloy."+s),tf={tap:Ms("tap")},el=Ms("focus"),lc=Ms("blur.post"),Xh=Ms("paste.post"),of=Ms("receive"),tl=Ms("execute"),nn=Ms("focus.item"),bs=tf.tap,va=Ms("longpress"),wa=Ms("sandbox.close"),Qb=Ms("typeahead.cancel"),Sg=Ms("system.init"),fm=Ms("system.touchmove"),hm=Ms("system.touchend"),r1=Ms("system.scroll"),Ic=Ms("system.resize"),yd=Ms("system.attached"),nf=Ms("system.detached"),pm=Ms("system.dismissRequested"),Yk=Ms("system.repositionRequested"),mm=Ms("focusmanager.shifted"),i1=Ms("slotcontainer.visibility"),Jb=Ms("system.external.element.scroll"),a1=Ms("change.tab"),l1=Ms("dismiss.tab"),Av=Ms("highlight"),Tv=Ms("dehighlight"),Fc=s=>(l=>{if(yg(l))return"#shadow-root";{const f=(p=>Jy(p,!1))(l);return(p=>{const b=Gs("div"),v=Ut(p.dom.cloneNode(!0));return Ma(b,v),Yf(b)})(f)}})(s);var ru;(function(s){s[s.STOP=0]="STOP",s[s.NORMAL=1]="NORMAL",s[s.LOGGING=2]="LOGGING"})(ru||(ru={}));const Dr=jt({}),Xk=["alloy/data/Fields","alloy/debugging/Debugging"],Qh=(s,l,f)=>((p,b,v)=>{switch(so(Dr.get(),p).orThunk(()=>{const C=Dt(Dr.get());return Yt(C,A=>p.indexOf(A)>-1?I.some(Dr.get()[A]):I.none())}).getOr(ru.NORMAL)){case ru.NORMAL:return v(Ov());case ru.LOGGING:{const C=((T,M)=>{const P=[],B=new Date().getTime();return{logEventCut:(H,Z,X)=>{P.push({outcome:"cut",target:Z,purpose:X})},logEventStopped:(H,Z,X)=>{P.push({outcome:"stopped",target:Z,purpose:X})},logNoParent:(H,Z,X)=>{P.push({outcome:"no-parent",target:Z,purpose:X})},logEventNoHandlers:(H,Z)=>{P.push({outcome:"no-handlers-left",target:Z})},logEventResponse:(H,Z,X)=>{P.push({outcome:"response",purpose:X,target:Z})},write:()=>{const H=new Date().getTime();ft(["mousemove","mouseover","mouseout",Sg()],T)||console.log(T,{event:T,time:H-B,target:M.dom,sequence:Le(P,Z=>ft(["cut","stopped","response"],Z.outcome)?"{"+Z.purpose+"} "+Z.outcome+" at ("+Fc(Z.target)+")":Z.outcome)})}}})(p,b),A=v(C);return C.write(),A}case ru.STOP:return!0}})(s,l,f),Ov=ge({logEventCut:ye,logEventStopped:ye,logNoParent:ye,logEventNoHandlers:ye,logEventResponse:ye,write:ye}),c1=ge([xt("menu"),xt("selectedMenu")]),e0=ge([xt("item"),xt("selectedItem")]);ge(ko(e0().concat(c1())));const Qk=ge(ko(e0())),Jk=ea("initSize",[xt("numColumns"),xt("numRows")]),sh=()=>ea("markers",[xt("backgroundMenu")].concat(c1()).concat(e0())),xd=s=>ea("markers",Le(s,xt)),eo=(s,l,f)=>((()=>{const p=new Error;if(p.stack!==void 0){const b=p.stack.split(`
`);G(b,v=>v.indexOf("alloy")>0&&!To(Xk,C=>v.indexOf(C)>-1)).getOr("unknown")}})(),zr(l,l,f,cm(p=>pn.value((...b)=>p.apply(void 0,b))))),sn=s=>eo(0,s,rc(ye)),vl=s=>eo(0,s,rc(I.none)),vd=s=>eo(0,s,{tag:"required",process:{}}),cc=s=>eo(0,s,{tag:"required",process:{}}),ys=(s,l)=>bi(s,ge(l)),e_=s=>bi(s,Ie),Jh=ge(Jk),gm=s=>Le(s,l=>rd(l,"/*")?l.substring(0,l.length-2):l),wd=(s,l)=>{const f=s.toString(),p=f.indexOf(")")+1,b=f.indexOf("("),v=f.substring(b+1,p-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:l,parameters:gm(v)}),s},d1=(s,l)=>{let f=null;return{cancel:()=>{f!==null&&(clearTimeout(f),f=null)},schedule:(...p)=>{f=setTimeout(()=>{s.apply(null,p),f=null},l)}}},t0=s=>{const l=s.raw;return l.touches===void 0||l.touches.length!==1?I.none():I.some(l.touches[0])};var _t;(function(s){s.OnFocusMode="onFocus",s.OnEnterOrSpaceMode="onEnterOrSpace",s.OnApiMode="onApi"})(_t||(_t={}));const zv="placeholder",o0=Ls([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),iu=s=>en(s,"uiType"),bm=(s,l,f,p)=>((b,v,C,A)=>iu(C)&&C.uiType===zv?((T,M,P,B)=>T.exists(H=>H!==P.owner)?o0.single(!0,ge(P)):so(B,P.name).fold(()=>{throw new Error("Unknown placeholder component: "+P.name+`
Known: [`+Dt(B)+`]
Namespace: `+T.getOr("none")+`
Spec: `+JSON.stringify(P,null,2))},H=>H.replace()))(b,0,C,A):o0.single(!1,ge(C)))(s,0,f,p).fold((b,v)=>{const C=iu(f)?v(l,f.config,f.validated):v(l),A=so(C,"components").getOr([]),T=Zo(A,M=>bm(s,l,M,p));return[{...C,components:T}]},(b,v)=>{if(iu(f)){const C=v(l,f.config,f.validated);return f.validated.preprocess.getOr(Ie)(C)}return v(l)}),n0=o0.single,nr=o0.multiple,u1=ge(zv),s0=Ls([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),ol=Ke("factory",{sketch:Ie}),us=Ke("schema",[]),ym=xt("name"),xm=zr("pname","pname",tu(s=>"<alloy."+je(s.name)+">"),gi()),f1=bi("schema",()=>[Fn("preprocess")]),na=Ke("defaults",ge({})),nl=Ke("overrides",ge({})),cE=ko([ol,us,ym,xm,na,nl]),Dv=ko([ol,us,ym,na,nl]),dE=ko([ol,us,ym,xm,na,nl]),t_=ko([ol,f1,ym,xt("unit"),xm,na,nl]),h1=s=>s.fold(I.some,I.none,I.some,I.some),Mv=s=>{const l=f=>f.name;return s.fold(l,l,l,l)},p1=(s,l)=>f=>{const p=Hi("Converting part type",l,f);return s(p)},sl=p1(s0.required,cE),Hc=p1(s0.external,Dv),kd=p1(s0.optional,dE),m1=p1(s0.group,t_),Nv=ge("entirety");var uE=Object.freeze({__proto__:null,required:sl,external:Hc,optional:kd,group:m1,asNamedPart:h1,name:Mv,asCommon:s=>s.fold(Ie,Ie,Ie,Ie),original:Nv});const r0=(s,l,f,p)=>Js(l.defaults(s,f,p),f,{uid:s.partUids[l.name]},l.overrides(s,f,p)),au=(s,l)=>{const f={};return Ge(l,p=>{h1(p).each(b=>{const v=Ha(s,b.pname);f[b.name]=C=>{const A=Hi("Part: "+b.name+" in "+s,ko(b.schema),C);return{...v,config:C,validated:A}}})}),f},Ha=(s,l)=>({uiType:u1(),owner:s,name:l}),g1=(s,l,f)=>({uiType:u1(),owner:s,name:l,config:f,validated:{}}),Eg=s=>Zo(s,l=>l.fold(I.none,I.some,I.none,I.none).map(f=>ea(f.name,f.schema.concat([e_(Nv())]))).toArray()),ep=s=>Le(s,Mv),i0=(s,l,f)=>((p,b,v)=>{const C={},A={};return Ge(v,T=>{T.fold(M=>{C[M.pname]=n0(!0,(P,B,H)=>M.factory.sketch(r0(P,M,B,H)))},M=>{const P=b.parts[M.name];A[M.name]=ge(M.factory.sketch(r0(b,M,P[Nv()]),P))},M=>{C[M.pname]=n0(!1,(P,B,H)=>M.factory.sketch(r0(P,M,B,H)))},M=>{C[M.pname]=nr(!0,(P,B,H)=>{const Z=P[M.name];return Le(Z,X=>M.factory.sketch(Js(M.defaults(P,X,H),X,M.overrides(P,X))))})})}),{internals:ge(C),externals:ge(A)}})(0,l,f),b1=(s,l,f)=>((p,b,v,C)=>{const A=Xn(C,(M,P)=>((B,H)=>{let Z=!1;return{name:ge(B),required:()=>H.fold((X,le)=>X,(X,le)=>X),used:()=>Z,replace:()=>{if(Z)throw new Error("Trying to use the same placeholder more than once: "+B);return Z=!0,H}}})(P,M)),T=((M,P,B,H)=>Zo(B,Z=>bm(M,P,Z,H)))(p,b,v,A);return Wo(A,M=>{if(M.used()===!1&&M.required())throw new Error("Placeholder: "+M.name()+` was not found in components list
Namespace: `+p.getOr("none")+`
Components: `+JSON.stringify(b.components,null,2))}),T})(I.some(s),l,l.components,f),Os=(s,l,f)=>{const p=l.partUids[f];return s.getSystem().getByUid(p).toOptional()},tp=(s,l,f)=>Os(s,l,f).getOrDie("Could not find part: "+f),vm=(s,l,f)=>{const p={},b=l.partUids,v=s.getSystem();return Ge(f,C=>{p[C]=ge(v.getByUid(b[C]))}),p},Rv=(s,l)=>{const f=s.getSystem();return Xn(l.partUids,(p,b)=>ge(f.getByUid(p)))},a0=s=>Dt(s.partUids),l0=(s,l,f)=>{const p={},b=l.partUids,v=s.getSystem();return Ge(f,C=>{p[C]=ge(v.getByUid(b[C]).getOrDie())}),p},y1=(s,l)=>{const f=ep(l);return Qa(Le(f,p=>({key:p,value:s+"-"+p})))},x1=s=>zr("partUids","partUids",Gb(l=>y1(l.uid,s)),gi());var o_=Object.freeze({__proto__:null,generate:au,generateOne:g1,schemas:Eg,names:ep,substitutes:i0,components:b1,defaultUids:y1,defaultUidsSchema:x1,getAllParts:Rv,getAllPartNames:a0,getPart:Os,getPartOrDie:tp,getParts:vm,getPartsOrDie:l0});const Lv=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Il=(s,l,f,p=1)=>{const b=s*p,v=l*p,C=T=>so(f,T).getOr([]),A=(T,M,P)=>{const B=Qo(Lv,P);return{offset:Bs(T,M),classesOn:Zo(P,C),classesOff:Zo(B,C)}};return{southeast:()=>A(-s,l,["top","alignLeft"]),southwest:()=>A(s,l,["top","alignRight"]),south:()=>A(-s/2,l,["top","alignCentre"]),northeast:()=>A(-s,-l,["bottom","alignLeft"]),northwest:()=>A(s,-l,["bottom","alignRight"]),north:()=>A(-s/2,-l,["bottom","alignCentre"]),east:()=>A(s,-l/2,["valignCentre","left"]),west:()=>A(-s,-l/2,["valignCentre","right"]),insetNortheast:()=>A(b,v,["top","alignLeft","inset"]),insetNorthwest:()=>A(-b,v,["top","alignRight","inset"]),insetNorth:()=>A(-b/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>A(b,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>A(-b,-v,["bottom","alignRight","inset"]),insetSouth:()=>A(-b/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>A(-b,-v/2,["valignCentre","right","inset"]),insetWest:()=>A(b,-v/2,["valignCentre","left","inset"])}},Ag=()=>Il(0,0,{}),sa=(s,l,f,p,b,v,C,A=!1)=>({x:s,y:l,bubble:f,direction:p,placement:b,restriction:v,label:`${C}-${b}`,alwaysFit:A}),op=Ls([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Tg=op.southeast,c0=op.southwest,d0=op.northeast,rh=op.northwest,n_=op.south,v1=op.north,s_=op.east,Bv=op.west,ra=(s,l)=>Rn(["left","right","top","bottom"],f=>so(l,f).map(p=>((b,v)=>{switch(v){case 1:return b.x;case 0:return b.x+b.width;case 2:return b.y;case 3:return b.y+b.height}})(s,p))),ih="layout",r_=s=>s.x,i_=(s,l)=>s.x+s.width/2-l.width/2,Pv=(s,l)=>s.x+s.width-l.width,a_=(s,l)=>s.y-l.height,w1=s=>s.y+s.height,l_=(s,l)=>s.y+s.height/2-l.height/2,Kr=(s,l,f)=>sa(r_(s),w1(s),f.southeast(),Tg(),"southeast",ra(s,{left:1,top:3}),ih),ai=(s,l,f)=>sa(Pv(s,l),w1(s),f.southwest(),c0(),"southwest",ra(s,{right:0,top:3}),ih),Vi=(s,l,f)=>sa(r_(s),a_(s,l),f.northeast(),d0(),"northeast",ra(s,{left:1,bottom:2}),ih),ia=(s,l,f)=>sa(Pv(s,l),a_(s,l),f.northwest(),rh(),"northwest",ra(s,{right:0,bottom:2}),ih),Ei=(s,l,f)=>sa(i_(s,l),a_(s,l),f.north(),v1(),"north",ra(s,{bottom:2}),ih),li=(s,l,f)=>sa(i_(s,l),w1(s),f.south(),n_(),"south",ra(s,{top:3}),ih),Og=(s,l,f)=>sa((p=>p.x+p.width)(s),l_(s,l),f.east(),s_(),"east",ra(s,{left:0}),ih),k1=(s,l,f)=>sa(((p,b)=>p.x-b.width)(s,l),l_(s,l),f.west(),Bv(),"west",ra(s,{right:1}),ih),zg=()=>[Kr,ai,Vi,ia,li,Ei,Og,k1],u0=()=>[ai,Kr,ia,Vi,li,Ei,Og,k1],_1=()=>[Vi,ia,Kr,ai,Ei,li],f0=()=>[ia,Vi,ai,Kr,Ei,li],Iv=()=>[Kr,ai,Vi,ia,li,Ei],sf=()=>[ai,Kr,ia,Vi,li,Ei],dc="data-alloy-placement",np=s=>si(s,dc),ah="layout-inset",h0=s=>s.x,Fv=(s,l)=>s.x+s.width/2-l.width/2,Hv=(s,l)=>s.x+s.width-l.width,p0=s=>s.y,m0=(s,l)=>s.y+s.height-l.height,C1=(s,l)=>s.y+s.height/2-l.height/2,g0=(s,l,f)=>sa(Hv(s,l),m0(s,l),f.insetSouthwest(),rh(),"southwest",ra(s,{right:0,bottom:3}),ah),lu=(s,l,f)=>sa(h0(s),m0(s,l),f.insetSoutheast(),d0(),"southeast",ra(s,{left:1,bottom:3}),ah),ci=(s,l,f)=>sa(Hv(s,l),p0(s),f.insetNorthwest(),c0(),"northwest",ra(s,{right:0,top:2}),ah),sp=(s,l,f)=>sa(h0(s),p0(s),f.insetNortheast(),Tg(),"northeast",ra(s,{left:1,top:2}),ah),$c=(s,l,f)=>sa(Fv(s,l),p0(s),f.insetNorth(),n_(),"north",ra(s,{top:2}),ah),b0=(s,l,f)=>sa(Fv(s,l),m0(s,l),f.insetSouth(),v1(),"south",ra(s,{bottom:3}),ah),S1=(s,l,f)=>sa(Hv(s,l),C1(s,l),f.insetEast(),Bv(),"east",ra(s,{right:0}),ah),E1=(s,l,f)=>sa(h0(s),C1(s,l),f.insetWest(),s_(),"west",ra(s,{left:1}),ah),c_=s=>{switch(s){case"north":return $c;case"northeast":return sp;case"northwest":return ci;case"south":return b0;case"southeast":return lu;case"southwest":return g0;case"east":return S1;case"west":return E1}},A1=(s,l,f,p,b)=>np(p).map(c_).getOr($c)(s,l,f,p,b),fE=s=>{switch(s){case"north":return b0;case"northeast":return lu;case"northwest":return g0;case"south":return $c;case"southeast":return sp;case"southwest":return ci;case"east":return E1;case"west":return S1}},d_=(s,l,f,p,b)=>np(p).map(fE).getOr($c)(s,l,f,p,b),rp=(s,l)=>{((f,p)=>{const b=jh.max(f,p,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Vo(f,"max-height",b+"px")})(s,Math.floor(l))},$v=ge((s,l)=>{rp(s,l),xe(s,{"overflow-x":"hidden","overflow-y":"auto"})}),lh=ge((s,l)=>{rp(s,l)}),T1=ge((s,l)=>{((f,p)=>{const b=Xf.max(f,p,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Vo(f,"max-width",b+"px")})(s,Math.floor(l))});var rf;(function(s){s.TopToBottom="toptobottom",s.BottomToTop="bottomtotop"})(rf||(rf={}));const y0="data-alloy-vertical-dir",u_=s=>tm(s,l=>In(l)&&$o(l,"data-alloy-vertical-dir")===rf.BottomToTop);var aa;(function(s){s[s.HighlightMenuAndItem=0]="HighlightMenuAndItem",s[s.HighlightJustMenu=1]="HighlightJustMenu",s[s.HighlightNone=2]="HighlightNone"})(aa||(aa={}));const rl={init:()=>Mr({readState:ge("No State required")})},Mr=s=>s,wm={can:yt,abort:Me,run:ye},cu=s=>{if(!ls(s,"can")&&!ls(s,"abort")&&!ls(s,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(s,null,2)+" does not have can, abort, or run!");return{...wm,...s}},mn=(s,l)=>{Vv(s,s.element,l,{})},co=(s,l,f)=>{Vv(s,s.element,l,f)},km=s=>{mn(s,tl())},af=(s,l,f)=>{Vv(s,l,f,{})},Vv=(s,l,f,p)=>{const b={target:l,...p};s.getSystem().triggerEvent(f,l,b)},x0=(s,l,f,p)=>{s.getSystem().triggerEvent(f,l,p.event)},is=s=>Qa(s),ip=(s,l)=>({key:s,value:cu({abort:l})}),v0=s=>({key:s,value:cu({run:(l,f)=>{f.event.prevent()}})}),ct=(s,l)=>({key:s,value:cu({run:l})}),O1=(s,l,f)=>({key:s,value:cu({run:(p,b)=>{l.apply(void 0,[p,b].concat(f))}})}),Dg=s=>l=>({key:s,value:cu({run:(f,p)=>{qh(f,p)&&l(f,p)}})}),Mg=(s,l,f)=>((p,b)=>ct(p,(v,C)=>{v.getSystem().getByUid(b).each(A=>{x0(A,A.element,p,C)})}))(s,l.partUids[f]),z1=(s,l)=>ct(s,(f,p)=>{const b=p.event,v=f.getSystem().getByDom(b.target).getOrThunk(()=>sm(b.target,C=>f.getSystem().getByDom(C).toOptional(),Me).getOr(f));l(f,v,p)}),ch=s=>ct(s,(l,f)=>{f.cut()}),_m=s=>ct(s,(l,f)=>{f.stop()}),du=(s,l)=>Dg(s)(l),Cs=Dg(yd()),_d=Dg(nf()),f_=Dg(Sg()),lf=(s=>l=>ct(s,l))(tl()),Cd=s=>({classes:$(s.classes)?[]:s.classes,attributes:$(s.attributes)?{}:s.attributes,styles:$(s.styles)?{}:s.styles}),Ng=(s,l,f)=>f_((p,b)=>{f(p,s,l)}),hE=s=>({key:s,value:void 0}),h_=(s,l,f,p,b,v,C)=>{const A=P=>ls(P,f)?P[f]():I.none(),T=Xn(b,(P,B)=>((H,Z,X)=>((le,se,ae)=>{const te=ae.toString(),oe=te.indexOf(")")+1,ue=te.indexOf("("),pe=te.substring(ue+1,oe-1).split(/,\s*/);return le.toFunctionAnnotation=()=>({name:se,parameters:gm(pe.slice(0,1).concat(pe.slice(3)))}),le})((le,...se)=>{const ae=[le].concat(se);return le.config({name:ge(H)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+H+". Using API: "+X)},te=>{const oe=Array.prototype.slice.call(ae,1);return Z.apply(void 0,[le,te.config,te.state].concat(oe))})},X,Z))(f,P,B)),M={...Xn(v,(P,B)=>wd(P,B)),...T,revoke:Ve(hE,f),config:P=>{const B=Hi(f+"-config",s,P);return{key:f,value:{config:B,me:M,configAsRaw:Ur(()=>Hi(f+"-config",s,P)),initialConfig:P,state:C}}},schema:ge(l),exhibit:(P,B)=>pi(A(P),so(p,"exhibit"),(H,Z)=>Z(B,H.config,H.state)).getOrThunk(()=>Cd({})),name:ge(f),handlers:P=>A(P).map(B=>so(p,"events").getOr(()=>({}))(B.config,B.state)).getOr({})};return M},Ct=s=>Qa(s),D1=ba([xt("fields"),xt("name"),Ke("active",{}),Ke("apis",{}),Ke("state",rl),Ke("extra",{})]),ji=s=>{const l=Hi("Creating behaviour: "+s.name,D1,s);return((f,p,b,v,C,A)=>{const T=ba(f),M=oa(p,[(P=f,xa("config",ba(P)))]);var P;return h_(T,M,p,b,v,C,A)})(l.fields,l.name,l.active,l.apis,l.extra,l.state)},w0=ba([xt("branchKey"),xt("branches"),xt("name"),Ke("active",{}),Ke("apis",{}),Ke("state",rl),Ke("extra",{})]),jv=s=>{const l=Hi("Creating behaviour: "+s.name,w0,s);return((f,p,b,v,C,A)=>{const T=f,M=oa(p,[xa("config",f)]);return h_(T,M,p,b,v,C,A)})(Ji(l.branchKey,l.branches),l.name,l.active,l.apis,l.extra,l.state)},ap=ge(void 0),Co=(s,l)=>{const f=((p,b)=>{const v=is(b);return ji({fields:[xt("enabled")],name:p,active:{events:ge(v)}})})(s,l);return{key:s,value:{config:{},me:f,configAsRaw:ge({}),initialConfig:{},state:rl}}},Uv=(s,l)=>{l.ignore||(Er(s.element),l.onFocus(s))};var Rg=Object.freeze({__proto__:null,focus:Uv,blur:(s,l)=>{l.ignore||gl(s.element)},isFocused:s=>cd(s.element)}),pE=Object.freeze({__proto__:null,exhibit:(s,l)=>{const f=l.ignore?{}:{attributes:{tabindex:"-1"}};return Cd(f)},events:s=>is([ct(el(),(l,f)=>{Uv(l,s),f.stop()})].concat(s.stopMousedown?[ct(de(),(l,f)=>{f.event.prevent()})]:[]))}),cf=[sn("onFocus"),Ke("stopMousedown",!1),Ke("ignore",!1)];const Mo=ji({fields:cf,name:"focusing",active:pE,apis:Rg}),lp=[8],df=[9],Vc=[13],cp=[27],wl=[32],Kn=[37],Lg=[38],k0=[39],Cm=[40],jc=ge("tooltipping.close.all"),uu=ge("dismiss.popups"),$a=ge("reposition.popups"),_0=ge("mouse.released"),p_=(s,l,f)=>{const p=Jr(s.slice(0,l)),b=Jr(s.slice(l+1));return G(p.concat(b),f)},Wv=(s,l,f)=>{const p=Jr(s.slice(0,l));return G(p,f)},C0=(s,l,f)=>{const p=s.slice(0,l),b=s.slice(l+1);return G(b.concat(p),f)},S0=(s,l,f)=>{const p=s.slice(l+1);return G(p,f)},kn=s=>l=>{const f=l.raw;return ft(s,f.which)},fu=s=>l=>yr(s,f=>f(l)),Bg=s=>s.raw.shiftKey===!0,mE=s=>s.raw.ctrlKey===!0,E0=bo(Bg),Bn=(s,l)=>({matches:s,classification:l}),gE=(s,l,f,p)=>{const b=ri(s.element,"."+l.highlightClass);Ge(b,v=>{To(p,C=>on(C.element,v))||(ln(v,l.highlightClass),s.getSystem().getByDom(v).each(C=>{l.onDehighlight(s,C),mn(C,Tv())}))})},A0=(s,l,f,p)=>{gE(s,l,0,[p]),uc(s,l,f,p)||(_s(p.element,l.highlightClass),l.onHighlight(s,p),mn(p,Av()))},uc=(s,l,f,p)=>kr(p.element,l.highlightClass),ka=(s,l,f)=>rs(s.element,"."+l.itemClass).bind(p=>s.getSystem().getByDom(p).toOptional()),Sm=(s,l,f)=>{const p=ri(s.element,"."+l.itemClass);return(p.length>0?I.some(p[p.length-1]):I.none()).bind(b=>s.getSystem().getByDom(b).toOptional())},dh=(s,l,f,p)=>{const b=ri(s.element,"."+l.itemClass);return ir(b,v=>kr(v,l.highlightClass)).bind(v=>{const C=Us(v,p,0,b.length-1);return s.getSystem().getByDom(b[C]).toOptional()})},Sd=(s,l,f)=>{const p=ri(s.element,"."+l.itemClass);return Xl(Le(p,b=>s.getSystem().getByDom(b).toOptional()))};var Em=Object.freeze({__proto__:null,dehighlightAll:(s,l,f)=>gE(s,l,0,[]),dehighlight:(s,l,f,p)=>{uc(s,l,f,p)&&(ln(p.element,l.highlightClass),l.onDehighlight(s,p),mn(p,Tv()))},highlight:A0,highlightFirst:(s,l,f)=>{ka(s,l).each(p=>{A0(s,l,f,p)})},highlightLast:(s,l,f)=>{Sm(s,l).each(p=>{A0(s,l,f,p)})},highlightAt:(s,l,f,p)=>{((b,v,C,A)=>{const T=ri(b.element,"."+v.itemClass);return I.from(T[A]).fold(()=>pn.error(new Error("No element found with index "+A)),b.getSystem().getByDom)})(s,l,0,p).fold(b=>{throw b},b=>{A0(s,l,f,b)})},highlightBy:(s,l,f,p)=>{const b=Sd(s,l);G(b,p).each(v=>{A0(s,l,f,v)})},isHighlighted:uc,getHighlighted:(s,l,f)=>rs(s.element,"."+l.highlightClass).bind(p=>s.getSystem().getByDom(p).toOptional()),getFirst:ka,getLast:Sm,getPrevious:(s,l,f)=>dh(s,l,0,-1),getNext:(s,l,f)=>dh(s,l,0,1),getCandidates:Sd}),dp=[xt("highlightClass"),xt("itemClass"),sn("onHighlight"),sn("onDehighlight")];const gn=ji({fields:dp,name:"highlighting",apis:Em}),Zv=(s,l,f)=>{l.exists(p=>f.exists(b=>on(b,p)))||co(s,mm(),{prevFocus:l,newFocus:f})},M1=()=>{const s=l=>Bi(l.element);return{get:s,set:(l,f)=>{const p=s(l);l.getSystem().triggerFocus(f,l.element);const b=s(l);Zv(l,p,b)}}},qv=()=>{const s=l=>gn.getHighlighted(l).map(f=>f.element);return{get:s,set:(l,f)=>{const p=s(l);l.getSystem().getByDom(f).fold(ye,v=>{gn.highlight(l,v)});const b=s(l);Zv(l,p,b)}}},Uc=(s,l,f,p,b)=>{const v=(A,T,M,P,B)=>{return(H=M(A,T,P,B),Z=T.event,G(H,X=>X.matches(Z)).map(X=>X.classification)).bind(X=>X(A,T,P,B));var H,Z},C={schema:()=>s.concat([Ke("focusManager",M1()),Pl("focusInside","onFocus",cm(A=>ft(["onFocus","onEnterOrSpace","onApi"],A)?pn.value(A):pn.error("Invalid value for focusInside"))),ys("handler",C),ys("state",l),ys("sendFocusIn",b)]),processKey:v,toEvents:(A,T)=>{const M=A.focusInside!==_t.OnFocusMode?I.none():b(A).map(B=>ct(el(),(H,Z)=>{B(H,A,T),Z.stop()})),P=[ct(Ln(),(B,H)=>{v(B,H,f,A,T).fold(()=>{((Z,X)=>{const le=kn(wl.concat(Vc))(X.event);A.focusInside===_t.OnEnterOrSpaceMode&&le&&qh(Z,X)&&b(A).each(se=>{se(Z,A,T),X.stop()})})(B,H)},Z=>{H.stop()})}),ct(or(),(B,H)=>{v(B,H,p,A,T).each(Z=>{H.stop()})})];return is(M.toArray().concat(P))}};return C},N1=s=>{const l=[Fn("onEscape"),Fn("onEnter"),Ke("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ke("firstTabstop",0),Ke("useTabstopAt",yt),Fn("visibilitySelector")].concat([s]),f=(P,B)=>{const H=P.visibilitySelector.bind(Z=>La(B,Z)).getOr(B);return Br(H)>0},p=(P,B)=>B.focusManager.get(P).bind(H=>La(H,B.selector)),b=(P,B,H)=>{((Z,X)=>{const le=ri(Z.element,X.selector),se=to(le,ae=>f(X,ae));return I.from(se[X.firstTabstop])})(P,B).each(Z=>{B.focusManager.set(P,Z)})},v=(P,B,H,Z)=>{const X=to(ri(P.element,H.selector),le=>f(H,le));return p(P,H).bind(le=>ir(X,Ve(on,le)).bind(se=>((ae,te,oe,ue,pe)=>pe(te,oe,Oe=>((Te,De)=>f(Te,De)&&Te.useTabstopAt(De))(ue,Oe)).fold(()=>ue.cyclic?I.some(!0):I.none(),Oe=>(ue.focusManager.set(ae,Oe),I.some(!0))))(P,X,se,H,Z)))},C=(P,B,H)=>{const Z=H.cyclic?p_:Wv;return v(P,0,H,Z)},A=(P,B,H)=>{const Z=H.cyclic?C0:S0;return v(P,0,H,Z)},T=ge([Bn(fu([Bg,kn(df)]),C),Bn(kn(df),A),Bn(fu([E0,kn(Vc)]),(P,B,H)=>H.onEnter.bind(Z=>Z(P,B)))]),M=ge([Bn(kn(cp),(P,B,H)=>(P.getSystem().broadcastOn([jc()],{closedTooltip:()=>{B.stop()}}),B.isStopped()?I.none():H.onEscape.bind(Z=>Z(P,B)))),Bn(kn(df),(P,B,H)=>p(P,H).filter(Z=>!H.useTabstopAt(Z)).bind(Z=>((X=>(le=>Jn(le))(X).bind(Ri).exists(le=>on(le,X)))(Z)?C:A)(P,B,H)))]);return Uc(l,rl.init,T,M,()=>I.some(b))};var R1=N1(bi("cyclic",Me)),L1=N1(bi("cyclic",yt));const up=s=>ks("input")(s)&&$o(s,"type")!=="radio"||ks("textarea")(s),Am=(s,l,f)=>up(f)&&kn(wl)(l.event)?I.none():((p,b,v)=>(af(p,v,tl()),I.some(!0)))(s,0,f),Tm=(s,l)=>I.some(!0),Wc=[Ke("execute",Am),Ke("useSpace",!1),Ke("useEnter",!0),Ke("useControlEnter",!1),Ke("useDown",!1)],T0=(s,l,f)=>f.execute(s,l,s.element);var m_=Uc(Wc,rl.init,(s,l,f,p)=>{const b=f.useSpace&&!up(s.element)?wl:[],v=f.useEnter?Vc:[],C=f.useDown?Cm:[],A=b.concat(v).concat(C);return[Bn(kn(A),T0)].concat(f.useControlEnter?[Bn(fu([mE,kn(Vc)]),T0)]:[])},(s,l,f,p)=>f.useSpace&&!up(s.element)?[Bn(kn(wl),Tm)]:[],()=>I.none());const g_=()=>{const s=Qn();return Mr({readState:()=>s.get().map(l=>({numRows:String(l.numRows),numColumns:String(l.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(l,f)=>{s.set({numRows:l,numColumns:f})},getNumRows:()=>s.get().map(l=>l.numRows),getNumColumns:()=>s.get().map(l=>l.numColumns)})};var Kv=Object.freeze({__proto__:null,flatgrid:g_,init:s=>s.state(s)});const hu=s=>(l,f,p,b)=>{const v=s(l.element);return Fl(v,l,f,p,b)},Gv=(s,l)=>{const f=Jf(s,l);return hu(f)},uh=(s,l)=>{const f=Jf(l,s);return hu(f)},B1=s=>(l,f,p,b)=>Fl(s,l,f,p,b),Fl=(s,l,f,p,b)=>p.focusManager.get(l).bind(v=>s(l.element,v,p,b)).map(v=>(p.focusManager.set(l,v),!0)),Pg=B1,di=B1,fh=B1,Yv=(s,l,f)=>{const p=ri(s,f);return(b=>ir(b,v=>on(v,l)).map(v=>({index:v,candidates:b})))(to(p,dd))},Ig=(s,l)=>ir(s,f=>on(l,f)),O0=(s,l,f,p)=>p(Math.floor(l/f),l%f).bind(b=>{const v=b.row*f+b.column;return v>=0&&v<s.length?I.some(s[v]):I.none()}),b_=(s,l,f,p,b)=>O0(s,l,p,(v,C)=>{const A=v===f-1?s.length-v*p:p,T=Us(C,b,0,A-1);return I.some({row:v,column:T})}),z0=(s,l,f,p,b)=>O0(s,l,p,(v,C)=>{const A=Us(v,b,0,f-1),T=A===f-1?s.length-A*p:p,M=Dn(C,0,T-1);return I.some({row:A,column:M})}),Om=[xt("selector"),Ke("execute",Am),vl("onEscape"),Ke("captureTab",!1),Jh()],uf=(s,l,f)=>{rs(s.element,l.selector).each(p=>{l.focusManager.set(s,p)})},Fg=s=>(l,f,p,b)=>Yv(l,f,p.selector).bind(v=>s(v.candidates,v.index,b.getNumRows().getOr(p.initSize.numRows),b.getNumColumns().getOr(p.initSize.numColumns))),ui=(s,l,f)=>f.captureTab?I.some(!0):I.none(),zm=Fg((s,l,f,p)=>b_(s,l,f,p,-1)),kl=Fg((s,l,f,p)=>b_(s,l,f,p,1)),y_=Fg((s,l,f,p)=>z0(s,l,f,p,-1)),x_=Fg((s,l,f,p)=>z0(s,l,f,p,1)),Hg=ge([Bn(kn(Kn),Gv(zm,kl)),Bn(kn(k0),uh(zm,kl)),Bn(kn(Lg),Pg(y_)),Bn(kn(Cm),di(x_)),Bn(fu([Bg,kn(df)]),ui),Bn(fu([E0,kn(df)]),ui),Bn(kn(wl.concat(Vc)),(s,l,f,p)=>((b,v)=>v.focusManager.get(b).bind(C=>La(C,v.selector)))(s,f).bind(b=>f.execute(s,l,b)))]),Dm=ge([Bn(kn(cp),(s,l,f)=>f.onEscape(s,l)),Bn(kn(wl),Tm)]);var hh=Uc(Om,g_,Hg,Dm,()=>I.some(uf));const fc=(s,l,f,p,b)=>{const v=(C,A,T)=>b(C,A,p,0,T.length-1,T[A],M=>{return P=T[M],Ot(P)==="button"&&$o(P,"disabled")==="disabled"?v(C,M,T):I.from(T[M]);var P});return Yv(s,f,l).bind(C=>{const A=C.index,T=C.candidates;return v(A,A,T)})},D0=(s,l,f,p)=>fc(s,l,f,p,(b,v,C,A,T,M,P)=>{const B=Dn(v+C,A,T);return B===b?I.from(M):P(B)}),P1=(s,l,f,p)=>fc(s,l,f,p,(b,v,C,A,T,M,P)=>{const B=Us(v,C,A,T);return B===b?I.none():P(B)}),M0=[xt("selector"),Ke("getInitial",I.none),Ke("execute",Am),vl("onEscape"),Ke("executeOnMove",!1),Ke("allowVertical",!0),Ke("allowHorizontal",!0),Ke("cycles",!0)],N0=(s,l,f)=>((p,b)=>b.focusManager.get(p).bind(v=>La(v,b.selector)))(s,f).bind(p=>f.execute(s,l,p)),v_=(s,l,f)=>{l.getInitial(s).orThunk(()=>rs(s.element,l.selector)).each(p=>{l.focusManager.set(s,p)})},Mm=(s,l,f)=>(f.cycles?P1:D0)(s,f.selector,l,-1),R0=(s,l,f)=>(f.cycles?P1:D0)(s,f.selector,l,1),w_=s=>(l,f,p,b)=>s(l,f,p,b).bind(()=>p.executeOnMove?N0(l,f,p):I.some(!0)),Xv=ge([Bn(kn(wl),Tm),Bn(kn(cp),(s,l,f)=>f.onEscape(s,l))]);var Zc=Uc(M0,rl.init,(s,l,f,p)=>{const b=[...f.allowHorizontal?Kn:[]].concat(f.allowVertical?Lg:[]),v=[...f.allowHorizontal?k0:[]].concat(f.allowVertical?Cm:[]);return[Bn(kn(b),w_(Gv(Mm,R0))),Bn(kn(v),w_(uh(Mm,R0))),Bn(kn(Vc),N0),Bn(kn(wl),N0)]},Xv,()=>I.some(v_));const w=(s,l,f)=>I.from(s[l]).bind(p=>I.from(p[f]).map(b=>({rowIndex:l,columnIndex:f,cell:b}))),S=(s,l,f,p)=>{const b=s[l].length,v=Us(f,p,0,b-1);return w(s,l,v)},O=(s,l,f,p)=>{const b=Us(f,p,0,s.length-1),v=s[b].length,C=Dn(l,0,v-1);return w(s,b,C)},L=(s,l,f,p)=>{const b=s[l].length,v=Dn(f+p,0,b-1);return w(s,l,v)},V=(s,l,f,p)=>{const b=Dn(f+p,0,s.length-1),v=s[b].length,C=Dn(l,0,v-1);return w(s,b,C)},U=[ea("selectors",[xt("row"),xt("cell")]),Ke("cycles",!0),Ke("previousSelector",I.none),Ke("execute",Am)],Q=(s,l,f)=>{l.previousSelector(s).orThunk(()=>{const p=l.selectors;return rs(s.element,p.cell)}).each(p=>{l.focusManager.set(s,p)})},ee=(s,l)=>(f,p,b)=>{const v=b.cycles?s:l;return La(p,b.selectors.row).bind(C=>{const A=ri(C,b.selectors.cell);return Ig(A,p).bind(T=>{const M=ri(f,b.selectors.row);return Ig(M,C).bind(P=>{const B=((H,Z)=>Le(H,X=>ri(X,Z.selectors.cell)))(M,b);return v(B,P,T).map(H=>H.cell)})})})},fe=ee((s,l,f)=>S(s,l,f,-1),(s,l,f)=>L(s,l,f,-1)),ke=ee((s,l,f)=>S(s,l,f,1),(s,l,f)=>L(s,l,f,1)),Re=ee((s,l,f)=>O(s,f,l,-1),(s,l,f)=>V(s,f,l,-1)),Ce=ee((s,l,f)=>O(s,f,l,1),(s,l,f)=>V(s,f,l,1)),Ee=ge([Bn(kn(Kn),Gv(fe,ke)),Bn(kn(k0),uh(fe,ke)),Bn(kn(Lg),Pg(Re)),Bn(kn(Cm),di(Ce)),Bn(kn(wl.concat(Vc)),(s,l,f)=>Bi(s.element).bind(p=>f.execute(s,l,p)))]),Se=ge([Bn(kn(wl),Tm)]);var Ue=Uc(U,rl.init,Ee,Se,()=>I.some(Q));const We=[xt("selector"),Ke("execute",Am),Ke("moveOnTab",!1)],dt=(s,l,f)=>f.focusManager.get(s).bind(p=>f.execute(s,l,p)),pt=(s,l,f)=>{rs(s.element,l.selector).each(p=>{l.focusManager.set(s,p)})},kt=(s,l,f)=>P1(s,f.selector,l,-1),St=(s,l,f)=>P1(s,f.selector,l,1),At=ge([Bn(kn(Lg),fh(kt)),Bn(kn(Cm),fh(St)),Bn(fu([Bg,kn(df)]),(s,l,f,p)=>f.moveOnTab?fh(kt)(s,l,f,p):I.none()),Bn(fu([E0,kn(df)]),(s,l,f,p)=>f.moveOnTab?fh(St)(s,l,f,p):I.none()),Bn(kn(Vc),dt),Bn(kn(wl),dt)]),zt=ge([Bn(kn(wl),Tm)]);var Lt=Uc(We,rl.init,At,zt,()=>I.some(pt));const oo=[vl("onSpace"),vl("onEnter"),vl("onShiftEnter"),vl("onLeft"),vl("onRight"),vl("onTab"),vl("onShiftTab"),vl("onUp"),vl("onDown"),vl("onEscape"),Ke("stopSpaceKeyup",!1),Fn("focusIn")];var No=Uc(oo,rl.init,(s,l,f)=>[Bn(kn(wl),f.onSpace),Bn(fu([E0,kn(Vc)]),f.onEnter),Bn(fu([Bg,kn(Vc)]),f.onShiftEnter),Bn(fu([Bg,kn(df)]),f.onShiftTab),Bn(fu([E0,kn(df)]),f.onTab),Bn(kn(Lg),f.onUp),Bn(kn(Cm),f.onDown),Bn(kn(Kn),f.onLeft),Bn(kn(k0),f.onRight),Bn(kn(wl),f.onSpace)],(s,l,f)=>[...f.stopSpaceKeyup?[Bn(kn(wl),Tm)]:[],Bn(kn(cp),f.onEscape)],s=>s.focusIn);const Un=R1.schema(),Lo=L1.schema(),vn=Zc.schema(),qo=hh.schema(),fs=Ue.schema(),Gr=m_.schema(),_a=Lt.schema(),Ai=No.schema(),Qt=jv({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Un,cyclic:Lo,flow:vn,flatgrid:qo,matrix:fs,execution:Gr,menu:_a,special:Ai}),name:"keying",active:{events:(s,l)=>s.handler.toEvents(s,l)},apis:{focusIn:(s,l,f)=>{l.sendFocusIn(l).fold(()=>{s.getSystem().triggerFocus(s.element,s.element)},p=>{p(s,l,f)})},setGridSize:(s,l,f,p,b)=>{(v=>ls(v,"setGridSize"))(f)?f.setGridSize(p,b):console.error("Layout does not support setGridSize")}},state:Kv}),ff=je("alloy-premade"),Va=s=>(Object.defineProperty(s.element.dom,ff,{value:s.uid,writable:!0}),nh(ff,s)),fp=s=>so(s,ff),pu=s=>((l,f)=>{const p=f.toString(),b=p.indexOf(")")+1,v=p.indexOf("("),C=p.substring(v+1,b-1).split(/,\s*/);return l.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:gm(C.slice(1))}),l})((l,...f)=>s(l.getApis(),l,...f),s),$g=s=>s.getSystem().isConnected(),mu=s=>{mn(s,nf());const l=s.components();Ge(l,mu)},hf=s=>{const l=s.components();Ge(l,hf),mn(s,yd())},Vg=(s,l)=>{s.getSystem().addToWorld(l),bt(s.element)&&hf(l)},I1=s=>{mu(s),s.getSystem().removeFromWorld(s)},k_=(s,l)=>{Ma(s.element,l.element)},Nm=(s,l)=>{bE(s,l,Ma)},bE=(s,l,f)=>{s.getSystem().addToWorld(l),f(s.element,l.element),bt(s.element)&&hf(l),s.syncComponents()},__=s=>{mu(s),Kd(s.element),s.getSystem().removeFromWorld(s)},Rm=s=>{const l=Jn(s.element).bind(f=>s.getSystem().getByDom(f).toOptional());__(s),l.each(f=>{f.syncComponents()})},lz=s=>{const l=s.components();Ge(l,__),$b(s.element),s.syncComponents()},C_=(s,l)=>{jg(s,l,Ma)},ph=(s,l)=>{jg(s,l,Fb)},jg=(s,l,f)=>{f(s,l.element);const p=Jl(l.element);Ge(p,b=>{l.getByDom(b).each(hf)})},e8=s=>{const l=Jl(s.element);Ge(l,f=>{s.getByDom(f).each(mu)}),Kd(s.element)},it=(s,l,f)=>{f.fold(()=>Ma(s,l),p=>{on(p,l)||(Ml(p,l),Kd(p))})},Qv=(s,l,f)=>{const p=Le(l,f),b=Jl(s);return Ge(b.slice(p.length),Kd),p},cz=(s,l,f,p)=>{const b=Zd(s,l),v=p(f,b),C=((A,T,M)=>Zd(A,T).map(P=>{if(M.exists(B=>!on(B,P))){const B=M.map(Ot).getOr("span"),H=Gs(B);return Ml(P,H),H}return P}))(s,l,b);return it(s,v.element,C),v},yE=(s,l)=>{const f=ni(l),p=Tc(f).bind(v=>{const C=A=>on(v,A);return C(l)?I.some(l):((A,T)=>{const M=P=>{for(let B=0;B<P.childNodes.length;B++){const H=Ut(P.childNodes[B]);if(T(H))return I.some(H);const Z=M(P.childNodes[B]);if(Z.isSome())return Z}return I.none()};return M(A.dom)})(l,C)}),b=s(l);return p.each(v=>{Tc(f).filter(C=>on(C,v)).fold(()=>{Er(v)},ye)}),b},S_=(s,l)=>{yE(()=>{((f,p,b)=>{const v=f.components();(T=>{Ge(T.components(),M=>Kd(M.element)),$b(T.element),T.syncComponents()})(f);const C=b(p),A=Qo(v,C);Ge(A,T=>{mu(T),f.getSystem().removeFromWorld(T)}),Ge(C,T=>{$g(T)?k_(f,T):(f.getSystem().addToWorld(T),k_(f,T),bt(f.element)&&hf(T))}),f.syncComponents()})(s,l,()=>Le(l,s.getSystem().build))},s.element)},pf=(s,l)=>{yE(()=>{((f,p)=>{const b=f.components(),v=Zo(p,T=>fp(T).toArray());Ge(b,T=>{ft(v,T)||I1(T)});const C=((T,M,P)=>Qv(T,M,(B,H)=>cz(T,H,B,P)))(s.element,l,s.getSystem().buildOrPatch),A=Qo(b,C);Ge(A,T=>{$g(T)&&I1(T)}),Ge(C,T=>{$g(T)||Vg(f,T)}),f.syncComponents()})(s,l)},s.element)},dz=(s,l,f,p)=>{I1(l);const b=cz(s.element,f,p,s.getSystem().buildOrPatch);Vg(s,b),s.syncComponents()},E_=(s,l,f)=>{const p=s.getSystem().build(f);bE(s,p,l)},uz=(s,l,f,p)=>{Rm(l),E_(s,(b,v)=>((C,A,T)=>{Zd(C,T).fold(()=>{Ma(C,A)},M=>{Ml(M,A)})})(b,v,f),p)},F1=(s,l)=>s.components(),fz=(s,l,f,p,b)=>{const v=F1(s);return I.from(v[p]).map(C=>(b.fold(()=>Rm(C),A=>{(l.reuseDom?dz:uz)(s,C,p,A)}),C))};var hz=Object.freeze({__proto__:null,append:(s,l,f,p)=>{E_(s,Ma,p)},prepend:(s,l,f,p)=>{E_(s,Hb,p)},remove:(s,l,f,p)=>{const b=F1(s);G(b,C=>on(p.element,C.element)).each(Rm)},replaceAt:fz,replaceBy:(s,l,f,p,b)=>{const v=F1(s);return ir(v,p).bind(C=>fz(s,l,0,C,b))},set:(s,l,f,p)=>(l.reuseDom?pf:S_)(s,p),contents:F1});const jo=ji({fields:[yi("reuseDom",!0)],name:"replacing",apis:hz}),pz=is([(s=>({key:s,value:cu({can:(l,f)=>{const p=f.event,b=p.originator,v=p.target;return!((C,A,T)=>on(A,C.element)&&!on(A,T))(l,b,v)||(console.warn(el()+` did not get interpreted by the desired target. 
Originator: `+Fc(b)+`
Target: `+Fc(v)+`
Check the `+el()+" event handlers"),!1)}})}))(el())]);var t8=Object.freeze({__proto__:null,events:pz});const mz=ge("alloy-id-"),o8=ge("data-alloy-id"),n8=mz(),xE=o8(),H1=(s,l)=>{Object.defineProperty(s.dom,xE,{value:l,writable:!0})},Jv=s=>{const l=In(s)?s.dom[xE]:null;return I.from(l)},L0=s=>je(s),s8=Ie,$1=s=>{const l=b=>`The component must be in a context to execute: ${b}`+(s?`
`+Fc(s().element)+" is not in context.":""),f=b=>()=>{throw new Error(l(b))},p=b=>()=>{console.warn(l(b))};return{debugInfo:ge("fake"),triggerEvent:p("triggerEvent"),triggerFocus:p("triggerFocus"),triggerEscape:p("triggerEscape"),broadcast:p("broadcast"),broadcastOn:p("broadcastOn"),broadcastEvent:p("broadcastEvent"),build:f("build"),buildOrPatch:f("buildOrPatch"),addToWorld:f("addToWorld"),removeFromWorld:f("removeFromWorld"),addToGui:f("addToGui"),removeFromGui:f("removeFromGui"),getByUid:f("getByUid"),getByDom:f("getByDom"),isConnected:Me}},gz=$1(),vE=(s,l)=>{const f={};return Wo(s,(p,b)=>{Wo(p,(v,C)=>{const A=so(f,C).getOr([]);f[C]=A.concat([l(b,v)])})}),f},A_=s=>s.cHandler,r8=(s,l)=>({name:s,handler:l}),bz=(s,l)=>{const f={};return Ge(s,p=>{f[p.name()]=p.handlers(l)}),f},i8=(s,l,f)=>{const p=l[f];return p?((b,v,C,A)=>{try{const T=tt(C,(M,P)=>{const B=M[v],H=P[v],Z=A.indexOf(B),X=A.indexOf(H);if(Z===-1)throw new Error("The ordering for "+b+" does not have an entry for "+B+`.
Order specified: `+JSON.stringify(A,null,2));if(X===-1)throw new Error("The ordering for "+b+" does not have an entry for "+H+`.
Order specified: `+JSON.stringify(A,null,2));return Z<X?-1:X<Z?1:0});return pn.value(T)}catch(T){return pn.error([T])}})("Event: "+f,"name",s,p).map(b=>(v=>({can:(T=>(...M)=>fo(T,(P,B)=>P&&(H=>H.can)(B).apply(void 0,M),!0))(v),abort:(T=>(...M)=>fo(T,(P,B)=>P||(H=>H.abort)(B).apply(void 0,M),!1))(v),run:(...T)=>{Ge(v,M=>{M.run.apply(void 0,T)})}}))(Le(b,v=>v.handler))):((b,v)=>pn.error(["The event ("+b+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Le(v,C=>C.name),null,2)]))(f,s)},a8=(s,l)=>((f,p)=>{const b=(C=>{const A=[],T=[];return Ge(C,M=>{M.fold(P=>{A.push(P)},P=>{T.push(P)})}),{errors:A,values:T}})(f);return b.errors.length>0?(v=b.errors,pn.error(Vn(v))):((C,A)=>C.length===0?pn.value(A):pn.value(Js(A,Yl.apply(void 0,C))))(b.values,p);var v})(ar(s,(f,p)=>(f.length===1?pn.value(f[0].handler):i8(f,l,p)).map(b=>{const v=(A=>{const T=(M=>ie(M)?{can:yt,abort:Me,run:M}:M)(A);return(M,P,...B)=>{const H=[M,P].concat(B);T.abort.apply(void 0,H)?P.stop():T.can.apply(void 0,H)&&T.run.apply(void 0,H)}})(b),C=f.length>1?to(l[p],A=>To(f,T=>T.name===A)).join(" > "):f[0].name;return nh(p,((A,T)=>({handler:A,purpose:T}))(v,C))})),{}),Ug="alloy.base.behaviour",yz=ko([zr("dom","dom",{tag:"required",process:{}},ko([xt("tag"),Ke("styles",{}),Ke("classes",[]),Ke("attributes",{}),Fn("value"),Fn("innerHtml")])),xt("components"),xt("uid"),Ke("events",{}),Ke("apis",{}),zr("eventOrder","eventOrder",(z_={[tl()]:["disabling",Ug,"toggling","typeaheadevents"],[el()]:[Ug,"focusing","keying"],[Sg()]:[Ug,"disabling","toggling","representing","tooltipping"],[Ts()]:[Ug,"representing","streaming","invalidating"],[nf()]:[Ug,"representing","item-events","toolbar-button-events","tooltipping"],[de()]:["focusing",Ug,"item-type-events"],[Hr()]:["focusing",Ug,"item-type-events"],[Wt()]:["item-type-events","tooltipping"],[of()]:["receiving","reflecting","tooltipping"]},Gb(ge(z_))),gi()),Fn("domModification")]),l8=s=>s.events,T_=(s,l)=>{const f=Dt(s),p=Dt(l),b=Qo(p,f),v=(C=>{const A={},T={};return Ds(C,(M,P)=>!en(l,P)||M!==l[P],Rr(A),Rr(T)),{t:A,f:T}})(s).t;return{toRemove:b,toSet:v}},V1=(s,l)=>{const f=l.filter(p=>Ot(p)===s.tag&&!(b=>b.innerHtml.isSome()&&b.domChildren.length>0)(s)&&!(b=>en(b.dom,ff))(p)).bind(p=>((b,v)=>{try{const C=((A,T)=>{const{class:M,style:P,...B}=(ue=>fo(ue.dom.attributes,(pe,Oe)=>(pe[Oe.name]=Oe.value,pe),{}))(T),{toSet:H,toRemove:Z}=T_(A.attributes,B),X=Gd(T),{toSet:le,toRemove:se}=T_(A.styles,X),ae=eh(T),te=Qo(ae,A.classes),oe=Qo(A.classes,ae);return Ge(Z,ue=>ur(T,ue)),Qy(T,H),bl(T,oe),qr(T,te),Ge(se,ue=>xn(T,ue)),xe(T,le),A.innerHtml.fold(()=>{const ue=A.domChildren;((pe,Oe)=>{Qv(pe,Oe,(Te,De)=>{const et=Zd(pe,De);return it(pe,Te,et),Te})})(T,ue)},ue=>{Ga(T,ue)}),(()=>{const ue=T,pe=A.value.getOrUndefined();pe!==Pr(ue)&&zc(ue,pe??"")})(),T})(b,v);return I.some(C)}catch{return I.none()}})(s,p)).getOrThunk(()=>(p=>{const b=Gs(p.tag);Qy(b,p.attributes),bl(b,p.classes),xe(b,p.styles),p.innerHtml.each(C=>Ga(b,C));const v=p.domChildren;return ha(b,v),p.value.each(C=>{zc(b,C)}),b})(s));return H1(f,s.uid),f},B0=s=>{const l=(f=>{const p=so(f,"behaviours").getOr({});return Zo(Dt(p),b=>{const v=p[b];return Y(v)?[v.me]:[]})})(s);return((f,p)=>((b,v)=>{const C=Le(v,T=>oa(T.name(),[xt("config"),Ke("state",rl)])),A=Ps("component.behaviours",ko(C),b.behaviours).fold(T=>{throw new Error(ou(T)+`
Complete spec:
`+JSON.stringify(b,null,2))},Ie);return{list:v,data:Xn(A,T=>{const M=T.map(P=>({config:P.config,state:P.state.init(P.config)}));return ge(M)})}})(f,p))(s,l)},c8=(s,l)=>{const f=()=>H,p=jt(gz),b=Ia((Z=>Ps("custom.definition",yz,Z))(s)),v=B0(s),C=(Z=>Z.list)(v),A=(Z=>Z.data)(v),T=((Z,X,le)=>{const se={...(ae=Z).dom,uid:ae.uid,domChildren:Le(ae.components,Te=>Te.element)};var ae;const te=(Te=>Te.domModification.fold(()=>Cd({}),Cd))(Z),oe={"alloy.base.modification":te},ue=X.length>0?((Te,De,et,nt)=>{const Ye={...De};Ge(et,rn=>{Ye[rn.name()]=rn.exhibit(Te,nt)});const st=vE(Ye,(rn,$n)=>({name:rn,modification:$n})),wt=rn=>_o(rn,($n,ns)=>({...ns.modification,...$n}),{}),Gt=_o(st.classes,(rn,$n)=>$n.modification.concat(rn),[]),uo=wt(st.attributes),Eo=wt(st.styles);return Cd({classes:Gt,attributes:uo,styles:Eo})})(le,oe,X,se):te;return pe=se,Oe=ue,{...pe,attributes:{...pe.attributes,...Oe.attributes},styles:{...pe.styles,...Oe.styles},classes:pe.classes.concat(Oe.classes)};var pe,Oe})(b,C,A),M=V1(T,l),P=((Z,X,le)=>{const se={"alloy.base.behaviour":l8(Z)};return((ae,te,oe,ue)=>{const pe=((Oe,Te,De)=>{const et={...De,...bz(Te,Oe)};return vE(et,r8)})(ae,oe,ue);return a8(pe,te)})(le,Z.eventOrder,X,se).getOrDie()})(b,C,A),B=jt(b.components),H={uid:s.uid,getSystem:p.get,config:Z=>{const X=A;return(ie(X[Z.name()])?X[Z.name()]:()=>{throw new Error("Could not find "+Z.name()+" in "+JSON.stringify(s,null,2))})()},hasConfigured:Z=>ie(A[Z.name()]),spec:s,readState:Z=>A[Z]().map(X=>X.state.readState()).getOr("not enabled"),getApis:()=>b.apis,connect:Z=>{p.set(Z)},disconnect:()=>{p.set($1(f))},element:M,syncComponents:()=>{const Z=Jl(M),X=Zo(Z,le=>p.get().getByDom(le).fold(()=>[],Do));B.set(X)},components:B.get,events:P};return H},Xs=s=>{const l=fg(s);return xz({element:l})},xz=s=>{const l=Hi("external.component",ba([xt("element"),Fn("uid")]),s),f=jt($1()),p=l.uid.getOrThunk(()=>L0("external"));H1(l.element,p);const b={uid:p,getSystem:f.get,config:I.none,hasConfigured:Me,connect:v=>{f.set(v)},disconnect:()=>{f.set($1(()=>b))},getApis:()=>({}),element:l.element,spec:s,readState:ge("No state"),syncComponents:ye,components:ge([]),events:{}};return Va(b)},d8=L0,O_=(s,l)=>fp(s).getOrThunk(()=>((f,p)=>{const{events:b,...v}=s8(f),C=((T,M)=>{const P=so(T,"components").getOr([]);return M.fold(()=>Le(P,ja),B=>Le(P,(H,Z)=>O_(H,Zd(B,Z))))})(v,p),A={...v,events:{...t8,...b},components:C};return pn.value(c8(A,p))})((f=>en(f,"uid"))(s)?s:{uid:d8(""),...s},l).getOrDie()),ja=s=>O_(s,I.none()),Ed=Va;var z_,vz=Object.freeze({__proto__:null,block:(s,l,f,p)=>{mo(s.element,"aria-busy",!0);const b=l.getRoot(s).getOr(s),v=Ct([Qt.config({mode:"special",onTab:()=>I.some(!0),onShiftTab:()=>I.some(!0)}),Mo.config({})]),C=p(b,v),A=b.getSystem().build(C);jo.append(b,Ed(A)),A.hasConfigured(Qt)&&l.focus&&Qt.focusIn(A),f.isBlocked()||l.onBlock(s),f.blockWith(()=>jo.remove(b,A))},unblock:(s,l,f)=>{ur(s.element,"aria-busy"),f.isBlocked()&&l.onUnblock(s),f.clear()},isBlocked:(s,l,f)=>f.isBlocked()}),u8=[ds("getRoot",I.none),yi("focus",!0),sn("onBlock"),sn("onUnblock")];const mh=ji({fields:u8,name:"blocking",apis:vz,state:Object.freeze({__proto__:null,init:()=>{const s=ei(l=>l.destroy());return Mr({readState:s.isSet,blockWith:l=>{s.set({destroy:l})},clear:s.clear,isBlocked:s.isSet})}})});var f8=Object.freeze({__proto__:null,getCurrent:(s,l,f)=>l.find(s)});const h8=[xt("find")],Nn=ji({fields:h8,name:"composing",apis:f8});var p8=Object.freeze({__proto__:null,getCoupled:(s,l,f,p)=>f.getOrCreate(s,l,p),getExistingCoupled:(s,l,f,p)=>f.getExisting(s,l,p)}),m8=[Fa("others",dm(pn.value,gi()))],g8=Object.freeze({__proto__:null,init:()=>{const s={},l=(p,b)=>{if(Dt(p.others).length===0)throw new Error("Cannot find any known coupled components");return so(s,b)},f=ge({});return Mr({readState:f,getExisting:(p,b,v)=>l(b,v).orThunk(()=>(so(b.others,v).getOrDie("No information found for coupled component: "+v),I.none())),getOrCreate:(p,b,v)=>l(b,v).getOrThunk(()=>{const C=so(b.others,v).getOrDie("No information found for coupled component: "+v)(p),A=p.getSystem().build(C);return s[v]=A,A})})}});const Yr=ji({fields:m8,name:"coupling",apis:p8,state:g8}),b8=["input","button","textarea","select"],wz=(s,l,f)=>{(l.disabled()?D_:kE)(s,l)},wE=(s,l)=>l.useNative===!0&&ft(b8,Ot(s.element)),kz=s=>{mo(s.element,"disabled","disabled")},_z=s=>{ur(s.element,"disabled")},Cz=s=>{mo(s.element,"aria-disabled","true")},y8=s=>{mo(s.element,"aria-disabled","false")},D_=(s,l,f)=>{l.disableClass.each(p=>{_s(s.element,p)}),(wE(s,l)?kz:Cz)(s),l.onDisabled(s)},kE=(s,l,f)=>{l.disableClass.each(p=>{ln(s.element,p)}),(wE(s,l)?_z:y8)(s),l.onEnabled(s)},_E=(s,l)=>wE(s,l)?(f=>Jp(f.element,"disabled"))(s):(f=>$o(f.element,"aria-disabled")==="true")(s);var x8=Object.freeze({__proto__:null,enable:kE,disable:D_,isDisabled:_E,onLoad:wz,set:(s,l,f,p)=>{(p?D_:kE)(s,l)}}),v8=Object.freeze({__proto__:null,exhibit:(s,l)=>Cd({classes:l.disabled()?l.disableClass.toArray():[]}),events:(s,l)=>is([ip(tl(),(f,p)=>_E(f,s)),Ng(s,l,wz)])}),CE=[ds("disabled",Me),Ke("useNative",!0),Fn("disableClass"),sn("onDisabled"),sn("onEnabled")];const io=ji({fields:CE,name:"disabling",active:v8,apis:x8}),mf=(s,l,f,p,b)=>{const v=C=>C+"px";return{position:s,left:l.map(v),top:f.map(v),right:p.map(v),bottom:b.map(v)}},Sz=(s,l)=>{Zu(s,(f=>({...f,position:I.some(f.position)}))(l))},Ez=(s,l)=>{const f=s.element;_s(f,l.transitionClass),ln(f,l.fadeOutClass),_s(f,l.fadeInClass),l.onShow(s)},w8=(s,l)=>{const f=s.element;_s(f,l.transitionClass),ln(f,l.fadeInClass),_s(f,l.fadeOutClass),l.onHide(s)},Az=(s,l)=>s.y>=l.y,Tz=(s,l)=>s.bottom<=l.bottom,ew=(s,l,f)=>({location:"top",leftX:l,topY:f.bounds.y-s.y}),SE=(s,l,f)=>({location:"bottom",leftX:l,bottomY:s.bottom-f.bounds.bottom}),EE=s=>s.box.x-s.win.x,AE=(s,l,f)=>f.getInitialPos().map(p=>{const b=((v,C)=>{const A=C.optScrollEnv.fold(ge(v.bounds.y),T=>T.scrollElmTop+(v.bounds.y-T.currentScrollTop));return Bs(v.bounds.x,A)})(p,l);return{box:un(b.left,b.top,jn(s),Br(s)),location:p.location}}),TE=(s,l,f,p,b)=>{const v=((A,T)=>{const M=T.optScrollEnv.fold(ge(A.y),P=>A.y+P.currentScrollTop-P.scrollElmTop);return Bs(A.x,M)})(l,f),C=un(v.left,v.top,l.width,l.height);p.setInitialPos({style:Gd(s),position:Pi(s,"position")||"static",bounds:C,location:b.location})},Xt=(s,l,f)=>f.getInitialPos().bind(p=>{switch(f.clearInitialPos(),p.position){case"static":return I.some({morph:"static"});case"absolute":const b=Tr(s).getOr(vr()),v=Ar(b),C=b.dom.scrollTop??0;return I.some({morph:"absolute",positionCss:mf("absolute",so(p.style,"left").map(A=>l.x-v.x),so(p.style,"top").map(A=>l.y-v.y+C),so(p.style,"right").map(A=>v.right-l.right),so(p.style,"bottom").map(A=>v.bottom-l.bottom))});default:return I.none()}}),j1=s=>{switch(s.location){case"top":return I.some({morph:"fixed",positionCss:mf("fixed",I.some(s.leftX),I.some(s.topY),I.none(),I.none())});case"bottom":return I.some({morph:"fixed",positionCss:mf("fixed",I.some(s.leftX),I.none(),I.none(),I.some(s.bottomY))});default:return I.none()}},Oz=(s,l,f)=>{const p=s.element;return Mn(wr(p,"position"),"fixed")?((b,v,C)=>((A,T,M)=>AE(A,T,M).filter(({box:P})=>((B,H,Z)=>yr(B,X=>{switch(X){case"bottom":return Tz(H,Z.bounds);case"top":return Az(H,Z.bounds)}}))(M.getModes(),P,T)).bind(({box:P})=>Xt(A,P,M)))(b,v,C).orThunk(()=>v.optScrollEnv.bind(A=>AE(b,v,C)).bind(({box:A,location:T})=>{const M=er(),P=EE({win:M,box:A}),B=T==="top"?ew(M,P,v):SE(M,P,v);return j1(B)})))(p,l,f):((b,v,C)=>{const A=Ar(b),T=er(),M=((P,B,H)=>{const Z=B.win,X=B.box,le=EE(B);return Yt(P,se=>{switch(se){case"bottom":return Tz(X,H.bounds)?I.none():I.some(SE(Z,le,H));case"top":return Az(X,H.bounds)?I.none():I.some(ew(Z,le,H));default:return I.none()}}).getOr({location:"no-dock"})})(C.getModes(),{win:T,box:A},v);return M.location==="top"||M.location==="bottom"?(TE(b,A,v,C,M),j1(M)):I.none()})(p,l,f)},zz=(s,l,f)=>{f.setDocked(!1),Ge(["left","right","top","bottom","position"],p=>xn(s.element,p)),l.onUndocked(s)},OE=(s,l,f,p)=>{const b=p.position==="fixed";f.setDocked(b),Sz(s.element,p),(b?l.onDocked:l.onUndocked)(s)},Dz=(s,l,f,p,b=!1)=>{l.contextual.each(v=>{v.lazyContext(s).each(C=>{const A=((T,M)=>T.y<M.bottom&&T.bottom>M.y)(C,p.bounds);A!==f.isVisible()&&(f.setVisible(A),b&&!A?(bl(s.element,[v.fadeOutClass]),v.onHide(s)):(A?Ez:w8)(s,v))})})},zE=(s,l,f,p,b)=>{Dz(s,l,f,p,!0),OE(s,l,f,b.positionCss)},M_=(s,l,f)=>{s.getSystem().isConnected()&&((p,b,v)=>{const C=b.lazyViewport(p);Dz(p,b,v,C),Oz(p,C,v).each(A=>{((T,M,P,B,H)=>{switch(H.morph){case"static":return zz(T,M,P);case"absolute":return OE(T,M,P,H.positionCss);case"fixed":zE(T,M,P,B,H)}})(p,b,v,C,A)})})(s,l,f)},Mz=(s,l,f)=>{f.isDocked()&&((p,b,v)=>{const C=p.element;v.setDocked(!1);const A=b.lazyViewport(p);((T,M,P)=>{const B=T.element;return AE(B,M,P).bind(({box:H})=>Xt(B,H,P))})(p,A,v).each(T=>{switch(T.morph){case"static":zz(p,b,v);break;case"absolute":OE(p,b,v,T.positionCss)}}),v.setVisible(!0),b.contextual.each(T=>{qr(C,[T.fadeInClass,T.fadeOutClass,T.transitionClass]),T.onShow(p)}),M_(p,b,v)})(s,l,f)},DE=s=>(l,f,p)=>{const b=f.lazyViewport(l);((v,C,A,T)=>{const M=Ar(v),P=er(),B=T(P,EE({win:P,box:M}),C);return B.location==="bottom"||B.location==="top"?(((H,Z,X,le,se)=>{le.getInitialPos().fold(()=>TE(H,Z,X,le,se),()=>ye)})(v,M,C,A,B),j1(B)):I.none()})(l.element,b,p,s).each(v=>{zE(l,f,p,b,v)})},k8=DE(ew),Ua=DE(SE);var U1=Object.freeze({__proto__:null,refresh:M_,reset:Mz,isDocked:(s,l,f)=>f.isDocked(),getModes:(s,l,f)=>f.getModes(),setModes:(s,l,f,p)=>f.setModes(p),forceDockToTop:k8,forceDockToBottom:Ua}),_8=Object.freeze({__proto__:null,events:(s,l)=>is([du(ac(),(f,p)=>{s.contextual.each(b=>{kr(f.element,b.transitionClass)&&(qr(f.element,[b.transitionClass,b.fadeInClass]),(l.isVisible()?b.onShown:b.onHidden)(f)),p.stop()})}),ct(r1(),(f,p)=>{M_(f,s,l)}),ct(Jb(),(f,p)=>{M_(f,s,l)}),ct(Ic(),(f,p)=>{Mz(f,s,l)})])}),C8=[oa("contextual",[Ir("fadeInClass"),Ir("fadeOutClass"),Ir("transitionClass"),yl("lazyContext"),sn("onShow"),sn("onShown"),sn("onHide"),sn("onHidden")]),ds("lazyViewport",()=>({bounds:er(),optScrollEnv:I.none()})),nu("modes",["top","bottom"],hr),sn("onDocked"),sn("onUndocked")];const sr=ji({fields:C8,name:"docking",active:_8,apis:U1,state:Object.freeze({__proto__:null,init:s=>{const l=jt(!1),f=jt(!0),p=Qn(),b=jt(s.modes);return Mr({isDocked:l.get,setDocked:l.set,getInitialPos:p.get,setInitialPos:p.set,clearInitialPos:p.clear,isVisible:f.get,setVisible:f.set,getModes:b.get,setModes:b.set,readState:()=>`docked:  ${l.get()}, visible: ${f.get()}, modes: ${b.get().join(",")}`})}})}),ME=Ls([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),N_=s=>l=>l.translate(-s.left,-s.top),tw=s=>l=>l.translate(s.left,s.top),hp=s=>(l,f)=>fo(s,(p,b)=>b(p),Bs(l,f)),R_=(s,l,f)=>s.fold(hp([tw(f),N_(l)]),hp([N_(l)]),hp([])),P0=(s,l,f)=>s.fold(hp([tw(f)]),hp([]),hp([tw(l)])),Nz=(s,l,f)=>s.fold(hp([]),hp([N_(f)]),hp([tw(l),N_(f)])),Rz=(s,l,f)=>{const p=s.fold((b,v)=>({position:I.some("absolute"),left:I.some(b+"px"),top:I.some(v+"px")}),(b,v)=>({position:I.some("absolute"),left:I.some(b-f.left+"px"),top:I.some(v-f.top+"px")}),(b,v)=>({position:I.some("fixed"),left:I.some(b+"px"),top:I.some(v+"px")}));return{right:I.none(),bottom:I.none(),...p}},NE=(s,l,f,p)=>{const b=(v,C)=>(A,T)=>{const M=v(l,f,p);return C(A.getOr(M.left),T.getOr(M.top))};return s.fold(b(Nz,L_),b(P0,Wg),b(R_,I0))},L_=ME.offset,Wg=ME.absolute,I0=ME.fixed,B_=(s,l)=>{const f=$o(s,l);return $(f)?NaN:parseInt(f,10)},RE=(s,l,f,p,b,v)=>{const C=((M,P,B,H)=>((Z,X)=>{const le=Z.element,se=B_(le,X.leftAttr),ae=B_(le,X.topAttr);return isNaN(se)||isNaN(ae)?I.none():I.some(Bs(se,ae))})(M,P).fold(()=>B,Z=>I0(Z.left+H.left,Z.top+H.top)))(s,l,f,p),A=l.mustSnap?S8(s,l,C,b,v):Lz(s,l,C,b,v),T=R_(C,b,v);return((M,P,B)=>{const H=M.element;mo(H,P.leftAttr,B.left+"px"),mo(H,P.topAttr,B.top+"px")})(s,l,T),A.fold(()=>({coord:I0(T.left,T.top),extra:I.none()}),M=>({coord:M.output,extra:M.extra}))},LE=(s,l,f,p)=>Yt(s,b=>{const v=b.sensor;return((A,T,M,P,B,H)=>{const Z=P0(A,B,H),X=P0(T,B,H);return Math.abs(Z.left-X.left)<=M&&Math.abs(Z.top-X.top)<=P})(l,v,b.range.left,b.range.top,f,p)?I.some({output:NE(b.output,l,f,p),extra:b.extra}):I.none()}),S8=(s,l,f,p,b)=>{const v=l.getSnapPoints(s);return LE(v,f,p,b).orThunk(()=>fo(v,(A,T)=>{const M=T.sensor,P=((B,H,Z,X,le,se)=>{const ae=P0(B,le,se),te=P0(H,le,se),oe=Math.abs(ae.left-te.left),ue=Math.abs(ae.top-te.top);return Bs(oe,ue)})(f,M,T.range.left,T.range.top,p,b);return A.deltas.fold(()=>({deltas:I.some(P),snap:I.some(T)}),B=>(P.left+P.top)/2<=(B.left+B.top)/2?{deltas:I.some(P),snap:I.some(T)}:A)},{deltas:I.none(),snap:I.none()}).snap.map(A=>({output:NE(A.output,f,p,b),extra:A.extra})))},Lz=(s,l,f,p,b)=>{const v=l.getSnapPoints(s);return LE(v,f,p,b)};var E8=Object.freeze({__proto__:null,snapTo:(s,l,f,p)=>{const b=l.getTarget(s.element);if(l.repositionTarget){const v=mi(s.element),C=Ra(v),A=Ba(b),T=((P,B,H)=>({coord:NE(P.output,P.output,B,H),extra:P.extra}))(p,C,A),M=Rz(T.coord,0,A);Zu(b,M)}}});const Ca=(s,l)=>Gh(s,{},Le(l,f=>{return p=f.name(),b="Cannot configure "+f.name()+" for "+s,zr(p,p,{tag:"option",process:{}},md(v=>sc("The field: "+p+" is forbidden. "+b)));var p,b}).concat([bi("dump",Ie)])),BE=s=>s.dump,Sa=(s,l)=>({...Ct(l),...s.dump}),W1=Ca,Z1=Sa,PE=(s,l,f,p,b)=>{const v=((C,A)=>(C.length>0?[ea("parts",C)]:[]).concat([xt("uid"),Ke("dom",{}),Ke("components",[]),e_("originalSpec"),Ke("debug.sketcher",{})]).concat(A))(p,b);return Hi(s+" [SpecSchema]",ba(v.concat(l)),f)},IE=(s,l,f,p,b)=>{const v=Bz(b),C=Eg(f),A=x1(f),T=PE(s,l,v,C,[A]),M=i0(0,T,f);return p(T,b1(s,T,M.internals()),v,M.externals())},Bz=s=>(l=>en(l,"uid"))(s)?s:{...s,uid:L0("uid")},Pz=ba([xt("name"),xt("factory"),xt("configFields"),Ke("apis",{}),Ke("extraApis",{})]),A8=ba([xt("name"),xt("factory"),xt("configFields"),xt("partFields"),Ke("apis",{}),Ke("extraApis",{})]),il=s=>{const l=Hi("Sketcher for "+s.name,Pz,s),f=Xn(l.apis,pu),p=Xn(l.extraApis,(b,v)=>wd(b,v));return{name:l.name,configFields:l.configFields,sketch:b=>((v,C,A,T)=>{const M=Bz(T);return A(PE(v,C,M,[],[]),M)})(l.name,l.configFields,l.factory,b),...f,...p}},Hl=s=>{const l=Hi("Sketcher for "+s.name,A8,s),f=au(l.name,l.partFields),p=Xn(l.apis,pu),b=Xn(l.extraApis,(v,C)=>wd(v,C));return{name:l.name,partFields:l.partFields,configFields:l.configFields,sketch:v=>IE(l.name,l.configFields,l.partFields,l.factory,v),parts:f,...p,...b}},gu=il({name:"Container",factory:s=>{const{attributes:l,...f}=s.dom;return{uid:s.uid,dom:{tag:"div",attributes:{role:"presentation",...l},...f},components:s.components,behaviours:BE(s.containerBehaviours),events:s.events,domModification:s.domModification,eventOrder:s.eventOrder}},configFields:[Ke("components",[]),Ca("containerBehaviours",[]),Ke("events",{}),Ke("domModification",{}),Ke("eventOrder",{})]}),FE="data-initial-z-index",q1=(s,l)=>{s.getSystem().addToGui(l),(f=>{Jn(f.element).filter(In).each(p=>{wr(p,"z-index").each(b=>{mo(p,FE,b)}),Vo(p,"z-index",Pi(f.element,"z-index"))})})(l)},T8=s=>{(l=>{Jn(l.element).filter(In).each(f=>{si(f,FE).fold(()=>xn(f,"z-index"),p=>Vo(f,"z-index",p)),ur(f,FE)})})(s),s.getSystem().removeFromGui(s)},Iz=(s,l,f)=>s.getSystem().build(gu.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[l]},events:f}));var O8=oa("snaps",[xt("getSnapPoints"),sn("onSensor"),xt("leftAttr"),xt("topAttr"),Ke("lazyViewport",er),Ke("mustSnap",!1)]);const HE=[Ke("useFixed",Me),xt("blockerClass"),Ke("getTarget",Ie),Ke("onDrag",ye),Ke("repositionTarget",!0),Ke("onDrop",ye),ds("getBounds",er),O8],z8=s=>{return(l=wr(s,"left"),f=wr(s,"top"),p=wr(s,"position"),l.isSome()&&f.isSome()&&p.isSome()?I.some(((b,v,C)=>(C==="fixed"?I0:L_)(parseInt(b,10),parseInt(v,10)))(l.getOrDie(),f.getOrDie(),p.getOrDie())):I.none()).getOrThunk(()=>{const b=pr(s);return Wg(b.left,b.top)});var l,f,p},P_=(s,l)=>({bounds:s.getBounds(),height:Yd(l.element),width:ud(l.element)}),$E=(s,l,f,p,b)=>{const v=f.update(p,b),C=f.getStartData().getOrThunk(()=>P_(l,s));v.each(A=>{((T,M,P,B)=>{const H=M.getTarget(T.element);if(M.repositionTarget){const Z=mi(T.element),X=Ra(Z),le=Ba(H),se=z8(H),ae=((oe,ue,pe,Oe,Te,De,et)=>((nt,Ye,st,wt,Gt)=>{const uo=Gt.bounds,Eo=P0(Ye,st,wt),rn=Dn(Eo.left,uo.x,uo.x+uo.width-Gt.width),$n=Dn(Eo.top,uo.y,uo.y+uo.height-Gt.height),ns=Wg(rn,$n);return Ye.fold(()=>{const xo=Nz(ns,st,wt);return L_(xo.left,xo.top)},ge(ns),()=>{const xo=R_(ns,st,wt);return I0(xo.left,xo.top)})})(0,ue.fold(()=>{const nt=(Ye=pe,st=De.left,wt=De.top,Ye.fold((uo,Eo)=>L_(uo+st,Eo+wt),(uo,Eo)=>Wg(uo+st,Eo+wt),(uo,Eo)=>I0(uo+st,Eo+wt)));var Ye,st,wt;const Gt=R_(nt,Oe,Te);return I0(Gt.left,Gt.top)},nt=>{const Ye=RE(oe,nt,pe,De,Oe,Te);return Ye.extra.each(st=>{nt.onSensor(oe,st)}),Ye.coord}),Oe,Te,et))(T,M.snaps,se,X,le,B,P),te=Rz(ae,0,le);Zu(H,te)}M.onDrag(T,H,B)})(s,l,C,A)})},Fz=(s,l,f,p)=>{l.each(T8),f.snaps.each(v=>{((C,A)=>{((T,M)=>{const P=T.element;ur(P,M.leftAttr),ur(P,M.topAttr)})(C,A)})(s,v)});const b=f.getTarget(s.element);p.reset(),f.onDrop(s,b)},VE=s=>(l,f)=>{const p=b=>{f.setStartData(P_(l,b))};return is([ct(r1(),b=>{f.getStartData().each(()=>p(b))}),...s(l,f,p)])};var D8=Object.freeze({__proto__:null,getData:s=>I.from(Bs(s.x,s.y)),getDelta:(s,l)=>Bs(l.left-s.left,l.top-s.top)});const Hz=(s,l,f)=>[ct(de(),(p,b)=>{if(b.event.raw.button!==0)return;b.stop();const v=()=>Fz(p,I.some(T),s,l),C=d1(v,200),A={drop:v,delayDrop:C.schedule,forceDrop:v,move:M=>{C.cancel(),$E(p,s,l,D8,M)}},T=Iz(p,s.blockerClass,(M=>is([ct(de(),M.forceDrop),ct(Rt(),M.drop),ct(Ae(),(P,B)=>{M.move(B.event)}),ct(ut(),M.delayDrop)]))(A));f(p),q1(p,T)})],M8=[...HE,ys("dragger",{handlers:VE(Hz)})];var jE=Object.freeze({__proto__:null,getData:s=>{const l=s.raw.touches;return l.length===1?(f=>{const p=f[0];return I.some(Bs(p.clientX,p.clientY))})(l):I.none()},getDelta:(s,l)=>Bs(l.left-s.left,l.top-s.top)});const $z=(s,l,f)=>{const p=Qn(),b=v=>{Fz(v,p.get(),s,l),p.clear()};return[ct(Hr(),(v,C)=>{C.stop();const A=()=>b(v),T={drop:A,delayDrop:ye,forceDrop:A,move:P=>{$E(v,s,l,jE,P)}},M=Iz(v,s.blockerClass,(P=>is([ct(Hr(),P.forceDrop),ct(F(),P.drop),ct(J(),P.drop),ct(R(),(B,H)=>{P.move(H.event)})]))(T));p.set(M),f(v),q1(v,M)}),ct(R(),(v,C)=>{C.stop(),$E(v,s,l,jE,C.event)}),ct(F(),(v,C)=>{C.stop(),b(v)}),ct(J(),b)]},Vz=M8,ow=[...HE,ys("dragger",{handlers:VE($z)})],N8=[...HE,ys("dragger",{handlers:VE((s,l,f)=>[...Hz(s,l,f),...$z(s,l,f)])})];var R8=Object.freeze({__proto__:null,mouse:Vz,touch:ow,mouseOrTouch:N8}),L8=Object.freeze({__proto__:null,init:()=>{let s=I.none(),l=I.none();const f=ge({});return Mr({readState:f,reset:()=>{s=I.none(),l=I.none()},update:(p,b)=>p.getData(b).bind(v=>((C,A)=>{const T=s.map(M=>C.getDelta(M,A));return s=I.some(A),T})(p,v)),getStartData:()=>l,setStartData:p=>{l=I.some(p)}})}});const F0=jv({branchKey:"mode",branches:R8,name:"dragging",active:{events:(s,l)=>s.dragger.handlers(s,l)},extra:{snap:s=>({sensor:s.sensor,range:s.range,output:s.output,extra:I.from(s.extra)})},state:L8,apis:E8}),jz=["input","textarea"],UE=s=>{const l=Ot(s);return ft(jz,l)},Uz=(s,l)=>{const f=l.getRoot(s).getOr(s.element);ln(f,l.invalidClass),l.notify.each(p=>{UE(s.element)&&mo(s.element,"aria-invalid",!1),p.getContainer(s).each(b=>{Ga(b,p.validHtml)}),p.onValid(s)})},Wz=(s,l,f,p)=>{const b=l.getRoot(s).getOr(s.element);_s(b,l.invalidClass),l.notify.each(v=>{UE(s.element)&&mo(s.element,"aria-invalid",!0),v.getContainer(s).each(C=>{Ga(C,p)}),v.onInvalid(s,p)})},Zz=(s,l,f)=>l.validator.fold(()=>Ea(pn.value(!0)),p=>p.validate(s)),WE=(s,l,f)=>(l.notify.each(p=>{p.onValidate(s)}),Zz(s,l).map(p=>s.getSystem().isConnected()?p.fold(b=>(Wz(s,l,0,b),pn.error(b)),b=>(Uz(s,l),pn.value(b))):pn.error("No longer in system")));var B8=Object.freeze({__proto__:null,markValid:Uz,markInvalid:Wz,query:Zz,run:WE,isInvalid:(s,l)=>{const f=l.getRoot(s).getOr(s.element);return kr(f,l.invalidClass)}}),P8=Object.freeze({__proto__:null,events:(s,l)=>s.validator.map(f=>is([ct(f.onEvent,p=>{WE(p,s).get(Ie)})].concat(f.validateOnLoad?[Cs(p=>{WE(p,s).get(ye)})]:[]))).getOr({})}),I8=[xt("invalidClass"),Ke("getRoot",I.none),oa("notify",[Ke("aria","alert"),Ke("getContainer",I.none),Ke("validHtml",""),sn("onValid"),sn("onInvalid"),sn("onValidate")]),oa("validator",[xt("validate"),Ke("onEvent","input"),Ke("validateOnLoad",!0)])];const K1=(s,l,f)=>{l.store.manager.onLoad(s,l,f)},qz=(s,l,f)=>{l.store.manager.onUnload(s,l,f)};var F8=Object.freeze({__proto__:null,onLoad:K1,onUnload:qz,setValue:(s,l,f,p)=>{l.store.manager.setValue(s,l,f,p)},getValue:(s,l,f)=>l.store.manager.getValue(s,l,f),getState:(s,l,f)=>f}),H8=Object.freeze({__proto__:null,events:(s,l)=>{const f=s.resetOnDom?[Cs((p,b)=>{K1(p,s,l)}),_d((p,b)=>{qz(p,s,l)})]:[Ng(s,l,K1)];return is(f)}});const Kz=()=>{const s=jt(null);return Mr({set:s.set,get:s.get,isNotSet:()=>s.get()===null,clear:()=>{s.set(null)},readState:()=>({mode:"memory",value:s.get()})})},Gz=()=>{const s=jt({}),l=jt({});return Mr({readState:()=>({mode:"dataset",dataByValue:s.get(),dataByText:l.get()}),lookup:f=>so(s.get(),f).orThunk(()=>so(l.get(),f)),update:f=>{const p=s.get(),b=l.get(),v={},C={};Ge(f,A=>{v[A.value]=A,so(A,"meta").each(T=>{so(T,"text").each(M=>{C[M]=A})})}),s.set({...p,...v}),l.set({...b,...C})},clear:()=>{s.set({}),l.set({})}})};var $8=Object.freeze({__proto__:null,memory:Kz,dataset:Gz,manual:()=>Mr({readState:ye}),init:s=>s.store.manager.state(s)});const Yz=(s,l,f,p)=>{const b=l.store;f.update([p]),b.setValue(s,p),l.onSetValue(s,p)};var V8=[Fn("initialValue"),xt("getFallbackEntry"),xt("getDataKey"),xt("setValue"),ys("manager",{setValue:Yz,getValue:(s,l,f)=>{const p=l.store,b=p.getDataKey(s);return f.lookup(b).getOrThunk(()=>p.getFallbackEntry(b))},onLoad:(s,l,f)=>{l.store.initialValue.each(p=>{Yz(s,l,f,p)})},onUnload:(s,l,f)=>{f.clear()},state:Gz})],j8=[xt("getValue"),Ke("setValue",ye),Fn("initialValue"),ys("manager",{setValue:(s,l,f,p)=>{l.store.setValue(s,p),l.onSetValue(s,p)},getValue:(s,l,f)=>l.store.getValue(s),onLoad:(s,l,f)=>{l.store.initialValue.each(p=>{l.store.setValue(s,p)})},onUnload:ye,state:rl.init})],U8=[Fn("initialValue"),ys("manager",{setValue:(s,l,f,p)=>{f.set(p),l.onSetValue(s,p)},getValue:(s,l,f)=>f.get(),onLoad:(s,l,f)=>{l.store.initialValue.each(p=>{f.isNotSet()&&f.set(p)})},onUnload:(s,l,f)=>{f.clear()},state:Kz})],W8=[Pl("store",{mode:"memory"},Ji("mode",{memory:U8,manual:j8,dataset:V8})),sn("onSetValue"),Ke("resetOnDom",!1)];const Zt=ji({fields:W8,name:"representing",active:H8,apis:F8,extra:{setValueFrom:(s,l)=>{const f=Zt.getValue(l);Zt.setValue(s,f)}},state:$8}),gh=ji({fields:I8,name:"invalidating",active:P8,apis:B8,extra:{validation:s=>l=>{const f=Zt.getValue(l);return Ea(s(f))}}});var Z8=Object.freeze({__proto__:null,exhibit:(s,l)=>Cd({classes:[],styles:l.useFixed()?{}:{position:"relative"}})});const ZE=Ls([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Xz=(s,l,f,p,b,v)=>{const C=l.rect,A=C.x-f,T=C.y-p,M=b-(A+C.width),P=v-(T+C.height),B=I.some(A),H=I.some(T),Z=I.some(M),X=I.some(P),le=I.none();return l.direction.fold(()=>mf(s,B,H,le,le),()=>mf(s,le,H,Z,le),()=>mf(s,B,le,le,X),()=>mf(s,le,le,Z,X),()=>mf(s,B,H,le,le),()=>mf(s,B,le,le,X),()=>mf(s,B,H,le,le),()=>mf(s,le,H,Z,le))},Qz=(s,l)=>s.fold(()=>{const f=l.rect;return mf("absolute",I.some(f.x),I.some(f.y),I.none(),I.none())},(f,p,b,v)=>Xz("absolute",l,f,p,b,v),(f,p,b,v)=>Xz("fixed",l,f,p,b,v)),I_=(s,l)=>{const f=Ve(nc,l),p=s.fold(f,f,()=>{const C=Ra();return nc(l).translate(-C.left,-C.top)}),b=ud(l),v=Yd(l);return un(p.left,p.top,b,v)},q8=(s,l)=>l.fold(()=>s.fold(er,er,un),f=>s.fold(ge(f),ge(f),()=>{const p=Jz(s,f.x,f.y);return un(p.left,p.top,f.width,f.height)})),Jz=(s,l,f)=>{const p=Bs(l,f);return s.fold(ge(p),ge(p),()=>{const b=Ra();return p.translate(-b.left,-b.top)})};ZE.none;const K8=ZE.relative,G8=ZE.fixed,F_=Ls([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),eD=(s,l,f,p)=>{const b=s.bubble,v=b.offset,C=((ue,pe,Oe)=>{const Te=(st,wt)=>pe[st].map(Gt=>{const uo=st==="top"||st==="bottom",Eo=uo?Oe.top:Oe.left,rn=(st==="left"||st==="top"?Math.max:Math.min)(Gt,wt)+Eo;return uo?Dn(rn,ue.y,ue.bottom):Dn(rn,ue.x,ue.right)}).getOr(wt),De=Te("left",ue.x),et=Te("top",ue.y),nt=Te("right",ue.right),Ye=Te("bottom",ue.bottom);return un(De,et,nt-De,Ye-et)})(p,s.restriction,v),A=s.x+v.left,T=s.y+v.top,M=un(A,T,l,f),{originInBounds:P,sizeInBounds:B,visibleW:H,visibleH:Z}=((ue,pe)=>{const{x:Oe,y:Te,right:De,bottom:et}=pe,{x:nt,y:Ye,right:st,bottom:wt,width:Gt,height:uo}=ue;return{originInBounds:nt>=Oe&&nt<=De&&Ye>=Te&&Ye<=et,sizeInBounds:st<=De&&st>=Oe&&wt<=et&&wt>=Te,visibleW:Math.min(Gt,nt>=Oe?De-nt:st-Oe),visibleH:Math.min(uo,Ye>=Te?et-Ye:wt-Te)}})(M,C),X=P&&B,le=X?M:((ue,pe)=>{const{x:Oe,y:Te,right:De,bottom:et}=pe,{x:nt,y:Ye,width:st,height:wt}=ue,Gt=Math.max(Oe,De-st),uo=Math.max(Te,et-wt),Eo=Dn(nt,Oe,Gt),rn=Dn(Ye,Te,uo),$n=Math.min(Eo+st,De)-Eo,ns=Math.min(rn+wt,et)-rn;return un(Eo,rn,$n,ns)})(M,C),se=le.width>0&&le.height>0,{maxWidth:ae,maxHeight:te}=((ue,pe,Oe)=>{const Te=ge(pe.bottom-Oe.y),De=ge(Oe.bottom-pe.y),et=((wt,Gt,uo,Eo)=>wt.fold(Gt,Gt,Eo,Eo,Gt,Eo,uo,uo))(ue,De,De,Te),nt=ge(pe.right-Oe.x),Ye=ge(Oe.right-pe.x);return{maxWidth:((wt,Gt,uo,Eo)=>wt.fold(Gt,Eo,Gt,Eo,uo,uo,Gt,Eo))(ue,Ye,Ye,nt),maxHeight:et}})(s.direction,le,p),oe={rect:le,maxHeight:te,maxWidth:ae,direction:s.direction,placement:s.placement,classes:{on:b.classesOn,off:b.classesOff},layout:s.label,testY:T};return X||s.alwaysFit?F_.fit(oe):F_.nofit(oe,H,Z,se)},tD=["top","bottom","right","left"],H_="data-alloy-transition-timer",Y8=(s,l,f,p,b,v)=>{const C=((A,T,M)=>M.exists(P=>{const B=A.mode;return B==="all"||P[B]!==T[B]}))(p,b,v);if(C||((A,T)=>((M,P)=>yr(P,B=>kr(M,B)))(A,T.classes))(s,p)){Vo(s,"position",f.position);const A=I_(l,s),T=Qz(l,{...b,rect:A}),M=Rn(tD,P=>T[P]);((P,B)=>{const H=Z=>parseFloat(Z).toFixed(3);return lr(B,(Z,X)=>!((le,se,ae=he)=>pi(le,se,ae).getOr(le.isNone()&&se.isNone()))(P[X].map(H),Z.map(H))).isSome()})(f,M)&&(Zu(s,M),C&&((P,B)=>{bl(P,B.classes),si(P,H_).each(H=>{clearTimeout(parseInt(H,10)),ur(P,H_)}),((H,Z)=>{const X=ti(),le=ti();let se;const ae=pe=>{const Oe=pe.raw.pseudoElement??"";return on(pe.target,H)&&Cc(Oe)&&ft(tD,pe.raw.propertyName)},te=pe=>{if(K(pe)||ae(pe)){X.clear(),le.clear();const Oe=pe==null?void 0:pe.raw.type;(K(Oe)||Oe===ac())&&(clearTimeout(se),ur(H,H_),qr(H,Z.classes))}},oe=Li(H,Xb(),pe=>{ae(pe)&&(oe.unbind(),X.set(Li(H,ac(),te)),le.set(Li(H,su(),te)))}),ue=(pe=>{const Oe=nt=>{const Ye=Pi(pe,nt).split(/\s*,\s*/);return to(Ye,_c)},Te=nt=>{if(h(nt)&&/^[\d.]+/.test(nt)){const Ye=parseFloat(nt);return rd(nt,"ms")?Ye:1e3*Ye}return 0},De=Oe("transition-delay"),et=Oe("transition-duration");return fo(et,(nt,Ye,st)=>{const wt=Te(De[st])+Te(Ye);return Math.max(nt,wt)},0)})(H);window.requestAnimationFrame(()=>{se=setTimeout(te,ue+17),mo(H,H_,se)})})(P,B)})(s,p),em(s))}else qr(s,p.classes)},qE=(s,l,f)=>s[l]===void 0?f:s[l],KE=(s,l,f,p)=>{const b=((v,C,A,T)=>{xn(C,"max-height"),xn(C,"max-width");const M=(P=C,{width:Math.ceil(ud(P)),height:Yd(P)});var P;return((B,H,Z,X,le,se)=>{const ae=X.width,te=X.height,oe=(ue,pe,Oe,Te,De)=>{const et=ue(Z,X,le,B,se),nt=eD(et,ae,te,se);return nt.fold(ge(nt),(Ye,st,wt,Gt)=>(De===Gt?wt>Te||st>Oe:!De&&Gt)?nt:F_.nofit(pe,Oe,Te,De))};return fo(H,(ue,pe)=>{const Oe=Ve(oe,pe);return ue.fold(ge(ue),Oe)},F_.nofit({rect:Z,maxHeight:X.height,maxWidth:X.width,direction:Tg(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:Z.y},-1,-1,!1)).fold(Ie,Ie)})(C,T.preference,v,M,A,T.bounds)})(s,l,f,p);return((v,C,A)=>{const T=Qz(A.origin,C);A.transition.each(M=>{Y8(v,A.origin,T,M,C,A.lastPlacement)}),Sz(v,T)})(l,b,p),((v,C)=>{((A,T)=>{mo(A,dc,T)})(v,C.placement)})(l,b),((v,C)=>{const A=C.classes;qr(v,A.off),bl(v,A.on)})(l,b),((v,C,A)=>{(0,A.maxHeightFunction)(v,C.maxHeight)})(l,b,p),((v,C,A)=>{(0,A.maxWidthFunction)(v,C.maxWidth)})(l,b,p),{layout:b.layout,placement:b.placement}},$_=Ie,H0=()=>oa("layouts",[xt("onLtr"),xt("onRtl"),Fn("onBottomLtr"),Fn("onBottomRtl")]),V_=(s,l,f,p,b,v,C)=>{const A=C.map(u_).getOr(!1),T=l.layouts.map(H=>H.onLtr(s)),M=l.layouts.map(H=>H.onRtl(s)),P=A?l.layouts.bind(H=>H.onBottomLtr.map(Z=>Z(s))).or(T).getOr(b):T.getOr(f),B=A?l.layouts.bind(H=>H.onBottomRtl.map(Z=>Z(s))).or(M).getOr(v):M.getOr(p);return Jf(P,B)(s)};var j_=[xt("hotspot"),Fn("bubble"),Ke("overrides",{}),H0(),ys("placement",(s,l,f)=>{const p=l.hotspot,b=I_(f,p.element),v=V_(s.element,l,Iv(),sf(),_1(),f0(),I.some(l.hotspot.element));return I.some($_({anchorBox:b,bubble:l.bubble.getOr(Ag()),overrides:l.overrides,layouts:v}))})],X8=[xt("x"),xt("y"),Ke("height",0),Ke("width",0),Ke("bubble",Ag()),Ke("overrides",{}),H0(),ys("placement",(s,l,f)=>{const p=Jz(f,l.x,l.y),b=un(p.left,p.top,l.width,l.height),v=V_(s.element,l,zg(),u0(),zg(),u0(),I.none());return I.some($_({anchorBox:b,bubble:l.bubble,overrides:l.overrides,layouts:v}))})];const oD=Ls([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Q8=s=>s.fold(Ie,(l,f,p)=>l.translate(-f,-p)),nD=s=>s.fold(Ie,Ie),sD=s=>fo(s,(l,f)=>l.translate(f.left,f.top),Bs(0,0)),GE=s=>{const l=Le(s,nD);return sD(l)},rD=oD.screen,iD=oD.absolute,YE=(s,l,f)=>{const p=mi(s.element),b=Ra(p),v=((C,A,T)=>{const M=ju(T.root).dom;return I.from(M.frameElement).map(Ut).filter(P=>{const B=mi(P),H=mi(C.element);return on(B,H)}).map(pr)})(s,0,f).getOr(b);return iD(v,b.left,b.top)},U_=(s,l,f,p)=>{const b=rD(Bs(s,l));return I.some(((v,C,A)=>({point:v,width:C,height:A}))(b,f,p))},aD=(s,l,f,p,b)=>s.map(v=>{const C=[l,v.point],A=(T=()=>GE(C),M=()=>GE(C),P=()=>(oe=>{const ue=Le(oe,Q8);return sD(ue)})(C),p.fold(T,M,P));var T,M,P;const B=(le=A.left,se=A.top,ae=v.width,te=v.height,{x:le,y:se,width:ae,height:te}),H=f.showAbove?_1():Iv(),Z=f.showAbove?f0():sf(),X=V_(b,f,H,Z,H,Z,I.none());var le,se,ae,te;return $_({anchorBox:B,bubble:f.bubble.getOr(Ag()),overrides:f.overrides,layouts:X})});var J8=[xt("node"),xt("root"),Fn("bubble"),H0(),Ke("overrides",{}),Ke("showAbove",!1),ys("placement",(s,l,f)=>{const p=YE(s,0,l);return l.node.filter(bt).bind(b=>{const v=b.dom.getBoundingClientRect(),C=U_(v.left,v.top,v.width,v.height),A=l.node.getOr(s.element);return aD(C,p,l,f,A)})})];const W_=(s,l)=>({element:s,offset:l}),lD=(s,l)=>wn(s)?W_(s,l):((f,p)=>{const b=Jl(f);if(b.length===0)return W_(f,p);if(p<b.length)return W_(b[p],0);{const v=b[b.length-1],C=wn(v)?(A=>Wb.get(A))(v).length:Jl(v).length;return W_(v,C)}})(s,l),XE=s=>s.foffset!==void 0,Zg=(s,l)=>l.getSelection.getOrThunk(()=>()=>(f=>(p=>I.from(p.getSelection()))(f).filter(p=>p.rangeCount>0).bind(o1))(s))().map(f=>{if(XE(f)){const p=lD(f.start,f.soffset),b=lD(f.finish,f.foffset);return Mc.range(p.element,p.offset,b.element,b.offset)}return f});var eI=[Fn("getSelection"),xt("root"),Fn("bubble"),H0(),Ke("overrides",{}),Ke("showAbove",!1),ys("placement",(s,l,f)=>{const p=ju(l.root).dom,b=YE(s,0,l),v=Zg(p,l).bind(A=>{if(XE(A))return((M,P)=>(B=>{const H=B.getBoundingClientRect();return H.width>0||H.height>0?I.some(H).map(hg):I.none()})(pg(M,P)))(p,Mc.exactFromRange(A)).orThunk(()=>{const M=fg("\uFEFF");Ml(A.start,M);const P=th(p,Mc.exact(M,0,M,1));return Kd(M),P}).bind(M=>U_(M.left,M.top,M.width,M.height));{const T=Xn(A,P=>P.dom.getBoundingClientRect()),M={left:Math.min(T.firstCell.left,T.lastCell.left),right:Math.max(T.firstCell.right,T.lastCell.right),top:Math.min(T.firstCell.top,T.lastCell.top),bottom:Math.max(T.firstCell.bottom,T.lastCell.bottom)};return U_(M.left,M.top,M.right-M.left,M.bottom-M.top)}}),C=Zg(p,l).bind(A=>XE(A)?In(A.start)?I.some(A.start):za(A.start):I.some(A.firstCell)).getOr(s.element);return aD(v,b,l,f,C)})];const Z_="link-layout",cD=s=>s.x+s.width,dD=(s,l)=>s.x-l.width,QE=(s,l)=>s.y-l.height+s.height,uD=s=>s.y,fD=(s,l,f)=>sa(cD(s),uD(s),f.southeast(),Tg(),"southeast",ra(s,{left:0,top:2}),Z_),JE=(s,l,f)=>sa(dD(s,l),uD(s),f.southwest(),c0(),"southwest",ra(s,{right:1,top:2}),Z_),G1=(s,l,f)=>sa(cD(s),QE(s,l),f.northeast(),d0(),"northeast",ra(s,{left:0,bottom:3}),Z_),Y1=(s,l,f)=>sa(dD(s,l),QE(s,l),f.northwest(),rh(),"northwest",ra(s,{right:1,bottom:3}),Z_),hD=()=>[fD,JE,G1,Y1],nw=()=>[JE,fD,Y1,G1];var tI=[xt("item"),H0(),Ke("overrides",{}),ys("placement",(s,l,f)=>{const p=I_(f,l.item.element),b=V_(s.element,l,hD(),nw(),hD(),nw(),I.none());return I.some($_({anchorBox:p,bubble:Ag(),overrides:l.overrides,layouts:b}))})],pD=Ji("type",{selection:eI,node:J8,hotspot:j_,submenu:tI,makeshift:X8});const mD=[ta("classes",hr),$i("mode","all",["all","layout","placement"])],gD=[Ke("useFixed",Me),Fn("getBounds")],oI=[Fa("anchor",pD),oa("transition",mD)],bD=(s,l,f,p,b,v)=>{const C=Hi("placement.info",ko(oI),b),A=C.anchor,T=p.element,M=f.get(p.uid);yE(()=>{Vo(T,"position","fixed");const P=wr(T,"visibility");Vo(T,"visibility","hidden");const B=l.useFixed()?(()=>{const H=document.documentElement;return G8(0,0,H.clientWidth,H.clientHeight)})():(H=>{const Z=pr(H.element),X=H.element.dom.getBoundingClientRect();return K8(Z.left,Z.top,X.width,X.height)})(s);A.placement(s,A,B).each(H=>{const Z=v.orThunk(()=>l.getBounds.map(Kt)),X=((le,se,ae,te,oe,ue)=>((pe,Oe,Te,De,et,nt,Ye,st)=>{const wt=qE(Ye,"maxHeightFunction",$v()),Gt=qE(Ye,"maxWidthFunction",ye),uo=pe.anchorBox,Eo=pe.origin,rn={bounds:q8(Eo,nt),origin:Eo,preference:De,maxHeightFunction:wt,maxWidthFunction:Gt,lastPlacement:et,transition:st};return KE(uo,Oe,Te,rn)})(((pe,Oe)=>((Te,De)=>({anchorBox:Te,origin:De}))(pe,Oe))(se.anchorBox,le),te.element,se.bubble,se.layouts,oe,ae,se.overrides,ue))(B,H,Z,p,M,C.transition);f.set(p.uid,X)}),P.fold(()=>{xn(T,"visibility")},H=>{Vo(T,"visibility",H)}),wr(T,"left").isNone()&&wr(T,"top").isNone()&&wr(T,"right").isNone()&&wr(T,"bottom").isNone()&&Mn(wr(T,"position"),"fixed")&&xn(T,"position")},T)};var nI=Object.freeze({__proto__:null,position:(s,l,f,p,b)=>{const v=I.none();bD(s,l,f,p,b,v)},positionWithinBounds:bD,getMode:(s,l,f)=>l.useFixed()?"fixed":"absolute",reset:(s,l,f,p)=>{const b=p.element;Ge(["position","left","right","top","bottom"],v=>xn(b,v)),(v=>{ur(v,dc)})(b),f.clear(p.uid)}});const la=ji({fields:gD,name:"positioning",active:Z8,apis:nI,state:Object.freeze({__proto__:null,init:()=>{let s={};return Mr({readState:()=>s,clear:l=>{Y(l)?delete s[l]:s={}},set:(l,f)=>{s[l]=f},get:l=>so(s,l)})}})});var sw=Object.freeze({__proto__:null,events:s=>is([ct(of(),(l,f)=>{const p=s.channels,b=Dt(p),v=f,C=((A,T)=>T.universal?A:to(A,M=>ft(T.channels,M)))(b,v);Ge(C,A=>{const T=p[A],M=T.schema,P=Hi("channel["+A+`] data
Receiver: `+Fc(l.element),M,v.data);T.onReceive(l,P)})})])}),sI=[Fa("channels",dm(pn.value,ba([vd("onReceive"),Ke("schema",gi())])))];const $l=ji({fields:sI,name:"receiving",active:sw});var rI=Object.freeze({__proto__:null,events:(s,l)=>{const f=(p,b)=>{s.updateState.each(v=>{const C=v(p,b);l.set(C)}),s.renderComponents.each(v=>{const C=v(b,l.get());(s.reuseDom?pf:S_)(p,C)})};return is([ct(of(),(p,b)=>{const v=b;if(!v.universal){const C=s.channel;ft(v.channels,C)&&f(p,v.data)}}),Cs((p,b)=>{s.initialData.each(v=>{f(p,v)})})])}}),iI=Object.freeze({__proto__:null,getState:(s,l,f)=>f}),qg=[xt("channel"),Fn("renderComponents"),Fn("updateState"),Fn("initialData"),yi("reuseDom",!0)];const Ti=ji({fields:qg,name:"reflecting",active:rI,apis:iI,state:Object.freeze({__proto__:null,init:()=>{const s=jt(I.none());return{readState:()=>s.get().getOr("none"),get:s.get,set:s.set,clear:()=>s.set(I.none())}}})}),q_=(s,l,f,p)=>{f.get().each(C=>{lz(s)});const b=l.getAttachPoint(s);Nm(b,s);const v=s.getSystem().build(p);return Nm(s,v),f.set(v),v},eA=(s,l,f,p)=>{const b=q_(s,l,f,p);return l.onOpen(s,b),b},yD=(s,l,f)=>{f.get().each(p=>{lz(s),Rm(s),l.onClose(s,p),f.clear()})},tA=(s,l,f)=>f.isOpen(),X1=(s,l,f)=>{const p=l.getAttachPoint(s);Vo(s.element,"position",la.getMode(p)),((b,v,C)=>{wr(b.element,v).fold(()=>{ur(b.element,C)},A=>{mo(b.element,C,A)}),Vo(b.element,v,"hidden")})(s,"visibility",l.cloakVisibilityAttr)},Q1=(s,l,f)=>{(p=>To(["top","left","right","bottom"],b=>wr(p,b).isSome()))(s.element)||xn(s.element,"position"),((p,b,v)=>{si(p.element,v).fold(()=>xn(p.element,b),C=>Vo(p.element,b,C))})(s,"visibility",l.cloakVisibilityAttr)};var oA=Object.freeze({__proto__:null,cloak:X1,decloak:Q1,open:eA,openWhileCloaked:(s,l,f,p,b)=>{X1(s,l),eA(s,l,f,p),b(),Q1(s,l)},close:yD,isOpen:tA,isPartOf:(s,l,f,p)=>tA(0,0,f)&&f.get().exists(b=>l.isPartOf(s,b,p)),getState:(s,l,f)=>f.get(),setContent:(s,l,f,p)=>f.get().map(()=>q_(s,l,f,p))}),xD=Object.freeze({__proto__:null,events:(s,l)=>is([ct(wa(),(f,p)=>{yD(f,s,l)})])}),J1=[sn("onOpen"),sn("onClose"),xt("isPartOf"),xt("getAttachPoint"),Ke("cloakVisibilityAttr","data-precloak-visibility")],K_=Object.freeze({__proto__:null,init:()=>{const s=Qn(),l=ge("not-implemented");return Mr({readState:l,isOpen:s.isSet,clear:s.clear,set:s.set,get:s.get})}});const Pn=ji({fields:J1,name:"sandboxing",active:xD,apis:oA,state:K_}),$0=(s,l)=>l.getAnimationRoot.fold(()=>s.element,f=>f(s)),gf=s=>s.dimension.property,V0=(s,l)=>s.dimension.getDimension(l),bu=(s,l)=>{const f=$0(s,l);qr(f,[l.shrinkingClass,l.growingClass])},G_=(s,l)=>{ln(s.element,l.openClass),_s(s.element,l.closedClass),Vo(s.element,gf(l),"0px"),em(s.element)},rw=(s,l)=>{ln(s.element,l.closedClass),_s(s.element,l.openClass),xn(s.element,gf(l))},j0=(s,l,f,p)=>{f.setCollapsed(),Vo(s.element,gf(l),V0(l,s.element)),bu(s,l),G_(s,l),l.onStartShrink(s),l.onShrunk(s)},vD=(s,l,f,p)=>{const b=p.getOrThunk(()=>V0(l,s.element));f.setCollapsed(),Vo(s.element,gf(l),b),em(s.element);const v=$0(s,l);ln(v,l.growingClass),_s(v,l.shrinkingClass),G_(s,l),l.onStartShrink(s)},iw=(s,l,f)=>{const p=V0(l,s.element);(p==="0px"?j0:vD)(s,l,f,I.some(p))},wD=(s,l,f)=>{const p=$0(s,l),b=kr(p,l.shrinkingClass),v=V0(l,s.element);rw(s,l);const C=V0(l,s.element);(b?()=>{Vo(s.element,gf(l),v),em(s.element)}:()=>{G_(s,l)})(),ln(p,l.shrinkingClass),_s(p,l.growingClass),rw(s,l),Vo(s.element,gf(l),C),f.setExpanded(),l.onStartGrow(s)},nA=(s,l,f)=>{const p=$0(s,l);return kr(p,l.growingClass)===!0},sA=(s,l,f)=>{const p=$0(s,l);return kr(p,l.shrinkingClass)===!0};var aI=Object.freeze({__proto__:null,refresh:(s,l,f)=>{if(f.isExpanded()){xn(s.element,gf(l));const p=V0(l,s.element);Vo(s.element,gf(l),p)}},grow:(s,l,f)=>{f.isExpanded()||wD(s,l,f)},shrink:(s,l,f)=>{f.isExpanded()&&iw(s,l,f)},immediateShrink:(s,l,f)=>{f.isExpanded()&&j0(s,l,f)},hasGrown:(s,l,f)=>f.isExpanded(),hasShrunk:(s,l,f)=>f.isCollapsed(),isGrowing:nA,isShrinking:sA,isTransitioning:(s,l,f)=>nA(s,l)||sA(s,l),toggleGrow:(s,l,f)=>{(f.isExpanded()?iw:wD)(s,l,f)},disableTransitions:bu,immediateGrow:(s,l,f)=>{f.isExpanded()||(rw(s,l),Vo(s.element,gf(l),V0(l,s.element)),bu(s,l),f.setExpanded(),l.onStartGrow(s),l.onGrown(s))}}),rA=Object.freeze({__proto__:null,exhibit:(s,l,f)=>{const p=l.expanded;return Cd(p?{classes:[l.openClass],styles:{}}:{classes:[l.closedClass],styles:nh(l.dimension.property,"0px")})},events:(s,l)=>is([du(ac(),(f,p)=>{p.event.raw.propertyName===s.dimension.property&&(bu(f,s),l.isExpanded()&&xn(f.element,s.dimension.property),(l.isExpanded()?s.onGrown:s.onShrunk)(f))})])}),pp=[xt("closedClass"),xt("openClass"),xt("shrinkingClass"),xt("growingClass"),Fn("getAnimationRoot"),sn("onShrunk"),sn("onStartShrink"),sn("onGrown"),sn("onStartGrow"),Ke("expanded",!1),Fa("dimension",Ji("property",{width:[ys("property","width"),ys("getDimension",s=>jn(s)+"px")],height:[ys("property","height"),ys("getDimension",s=>Br(s)+"px")]}))];const hc=ji({fields:pp,name:"sliding",active:rA,apis:aI,state:Object.freeze({__proto__:null,init:s=>{const l=jt(s.expanded);return Mr({isExpanded:()=>l.get()===!0,isCollapsed:()=>l.get()===!1,setCollapsed:Ve(l.set,!1),setExpanded:Ve(l.set,!0),readState:()=>"expanded: "+l.get()})}})});var lI=Object.freeze({__proto__:null,events:(s,l)=>{const f=s.stream.streams.setup(s,l);return is([ct(s.event,f),_d(()=>l.cancel())].concat(s.cancelEvent.map(p=>[ct(p,()=>l.cancel())]).getOr([])))}});const iA=s=>{const l=jt(null);return Mr({readState:()=>({timer:l.get()!==null?"set":"unset"}),setTimer:f=>{l.set(f)},cancel:()=>{const f=l.get();f!==null&&f.cancel()}})};var kD=Object.freeze({__proto__:null,throttle:iA,init:s=>s.stream.streams.state(s)}),_D=[Fa("stream",Ji("mode",{throttle:[xt("delay"),Ke("stopEvent",!0),ys("streams",{setup:(s,l)=>{const f=s.stream,p=Sc(s.onStream,f.delay);return l.setTimer(p),(b,v)=>{p.throttle(b,v),f.stopEvent&&v.stop()}},state:iA})]})),Ke("event","input"),Fn("cancelEvent"),vd("onStream")];const aA=ji({fields:_D,name:"streaming",active:lI,state:kD});var cI=Object.freeze({__proto__:null,exhibit:(s,l)=>Cd({attributes:Qa([{key:l.tabAttr,value:"true"}])})}),yu=[Ke("tabAttr","data-alloy-tabstop")];const os=ji({fields:yu,name:"tabstopping",active:cI}),ex=(s,l,f,p)=>{const b=f.get();f.set(p),((v,C,A)=>{C.toggleClass.each(T=>{A.get()?_s(v.element,T):ln(v.element,T)})})(s,l,f),((v,C,A)=>{const T=C.aria;T.update(v,T,A.get())})(s,l,f),b!==p&&l.onToggled(s,p)},U0=(s,l,f)=>{ex(s,l,f,!f.get())},Vl=(s,l,f)=>{ex(s,l,f,l.selected)};var qc=Object.freeze({__proto__:null,onLoad:Vl,toggle:U0,isOn:(s,l,f)=>f.get(),on:(s,l,f)=>{ex(s,l,f,!0)},off:(s,l,f)=>{ex(s,l,f,!1)},set:ex}),_l=Object.freeze({__proto__:null,exhibit:()=>Cd({}),events:(s,l)=>{const f=(p=s,b=l,v=U0,lf(A=>{v(A,p,b)}));var p,b,v;const C=Ng(s,l,Vl);return is(Vn([s.toggleOnExecute?[f]:[],[C]]))}});const xu=(s,l,f)=>{mo(s.element,"aria-expanded",f)};var lA=[Ke("selected",!1),Fn("toggleClass"),Ke("toggleOnExecute",!0),sn("onToggled"),Pl("aria",{mode:"none"},Ji("mode",{pressed:[Ke("syncWithExpanded",!1),ys("update",(s,l,f)=>{mo(s.element,"aria-pressed",f),l.syncWithExpanded&&xu(s,0,f)})],checked:[ys("update",(s,l,f)=>{mo(s.element,"aria-checked",f)})],expanded:[ys("update",xu)],selected:[ys("update",(s,l,f)=>{mo(s.element,"aria-selected",f)})],none:[ys("update",ye)]}))];const Ko=ji({fields:lA,name:"toggling",active:_l,apis:qc,state:(Lm=!1,{init:()=>{const s=jt(Lm);return{get:()=>s.get(),set:l=>s.set(l),clear:()=>s.set(Lm),readState:()=>s.get()}}})});var Lm;const CD=je("tooltip.exclusive"),aw=je("tooltip.show"),lw=je("tooltip.hide"),tx=je("tooltip.immediateHide"),ox=je("tooltip.immediateShow"),cw=(s,l,f)=>{s.getSystem().broadcastOn([CD],{})};var SD=Object.freeze({__proto__:null,hideAllExclusive:cw,immediateOpenClose:(s,l,f,p)=>mn(s,p?ox:tx),isEnabled:(s,l,f)=>f.isEnabled(),setComponents:(s,l,f,p)=>{f.getTooltip().each(b=>{b.getSystem().isConnected()&&jo.set(b,p)})},setEnabled:(s,l,f,p)=>f.setEnabled(p)}),dI=Object.freeze({__proto__:null,events:(s,l)=>{const f=v=>{l.getTooltip().each(C=>{C.getSystem().isConnected()&&(Rm(C),s.onHide(v,C),l.clearTooltip())}),l.clearTimer()},p=v=>{if(!l.isShowing()&&l.isEnabled()){cw(v);const C=s.lazySink(v).getOrDie(),A=v.getSystem().build({dom:s.tooltipDom,components:s.tooltipComponents,events:is(s.mode==="normal"?[ct(Wt(),T=>{mn(v,aw)}),ct(ut(),T=>{mn(v,lw)})]:[]),behaviours:Ct([jo.config({})])});l.setTooltip(A),Nm(C,A),s.onShow(v,A),la.position(C,A,{anchor:s.anchor(v)})}},b=v=>{l.getTooltip().each(C=>{const A=s.lazySink(v).getOrDie();la.position(A,C,{anchor:s.anchor(v)})})};return is(Vn([[f_(v=>{s.onSetup(v)}),ct(aw,v=>{l.resetTimer(()=>{p(v)},s.delayForShow())}),ct(lw,v=>{l.resetTimer(()=>{f(v)},s.delayForHide())}),ct(ox,v=>{l.resetTimer(()=>{p(v)},0)}),ct(tx,v=>{l.resetTimer(()=>{f(v)},0)}),ct(of(),(v,C)=>{const A=C;A.universal||(ft(A.channels,CD)||ft(A.channels,jc()))&&(A.data.closedTooltip&&l.isShowing()&&A.data.closedTooltip(),f(v))}),_d(v=>{f(v)})],(()=>{switch(s.mode){case"normal":return[ct(Oo(),v=>{mn(v,ox)}),ct(lc(),v=>{mn(v,tx)}),ct(Wt(),v=>{mn(v,aw)}),ct(ut(),v=>{mn(v,lw)})];case"follow-highlight":return[ct(Av(),(v,C)=>{mn(v,aw)}),ct(Tv(),v=>{mn(v,lw)})];case"children-normal":return[ct(Oo(),(v,C)=>{Bi(v.element).each(A=>{Ec(C.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{mn(v,ox)},T=>{l.isShowing()&&(s.onShow(v,T),b(v))})})}),ct(lc(),v=>{Bi(v.element).fold(()=>{mn(v,tx)},ye)}),ct(Wt(),v=>{rs(v.element,"[data-mce-tooltip]:hover").each(C=>{l.getTooltip().fold(()=>{mn(v,aw)},A=>{l.isShowing()&&(s.onShow(v,A),b(v))})})}),ct(ut(),v=>{rs(v.element,"[data-mce-tooltip]:hover").fold(()=>{mn(v,lw)},ye)})];default:return[ct(Oo(),(v,C)=>{Bi(v.element).each(A=>{Ec(C.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{mn(v,ox)},T=>{l.isShowing()&&(s.onShow(v,T),b(v))})})}),ct(lc(),v=>{Bi(v.element).fold(()=>{mn(v,tx)},ye)})]}})()]))}}),uI=[xt("lazySink"),xt("tooltipDom"),Ke("exclusive",!0),Ke("tooltipComponents",[]),ds("delayForShow",ge(300)),ds("delayForHide",ge(100)),ds("onSetup",ye),$i("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Ke("anchor",s=>({type:"hotspot",hotspot:s,layouts:{onLtr:ge([li,Ei,Kr,Vi,ai,ia]),onRtl:ge([li,Ei,Kr,Vi,ai,ia])},bubble:Il(0,-2,{})})),sn("onHide"),sn("onShow")],fI=Object.freeze({__proto__:null,init:()=>{const s=jt(!0),l=Qn(),f=Qn(),p=()=>{l.on(clearTimeout)},b=ge("not-implemented");return Mr({getTooltip:f.get,isShowing:f.isSet,setTooltip:f.set,clearTooltip:f.clear,clearTimer:p,resetTimer:(v,C)=>{p(),l.set(setTimeout(v,C))},readState:b,isEnabled:()=>s.get(),setEnabled:v=>s.set(v)})}});const Is=ji({fields:uI,name:"tooltipping",active:dI,state:fI,apis:SD}),nx=ji({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>is([ip(Yh(),yt)]),exhibit:()=>Cd({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),mp=s=>{const l=Bb(s),f=Jl(l),p=(C=>{const A=C.dom.attributes!==void 0?C.dom.attributes:[];return fo(A,(T,M)=>M.name==="class"?T:{...T,[M.name]:M.value},{})})(l),b=(C=>Array.prototype.slice.call(C.dom.classList,0))(l),v=f.length===0?{}:{innerHtml:Yf(l)};return{tag:Ot(l),classes:b,attributes:p,...v}},Hn=s=>{const l=(f=>f.uid!==void 0)(s)&&ls(s,"uid")?s.uid:L0("memento");return{get:f=>f.getSystem().getByUid(l).getOrDie(),getOpt:f=>f.getSystem().getByUid(l).toOptional(),asSpec:()=>({...s,uid:l})}},Oi=o_,gp=uE,hI=(s,l)=>{const f={stopBackspace:!0,...l},p=(B=>{const H=Qn(),Z=jt(!1),X=d1(se=>{B.triggerEvent(va(),se),Z.set(!0)},400),le=Qa([{key:Hr(),value:se=>(t0(se).each(ae=>{X.cancel();const te={x:ae.clientX,y:ae.clientY,target:se.target};X.schedule(se),Z.set(!1),H.set(te)}),I.none())},{key:R(),value:se=>(X.cancel(),t0(se).each(ae=>{H.on(te=>{((oe,ue)=>{const pe=Math.abs(oe.clientX-ue.x),Oe=Math.abs(oe.clientY-ue.y);return pe>5||Oe>5})(ae,te)&&H.clear()})}),I.none())},{key:F(),value:se=>(X.cancel(),H.get().filter(ae=>on(ae.target,se.target)).map(ae=>Z.get()?(se.prevent(),!1):B.triggerEvent(bs(),se)))}]);return{fireIfReady:(se,ae)=>so(le,ae).bind(te=>te(se))}})(f),b=Le(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),B=>Li(s,B,H=>{p.fireIfReady(H,B).each(Z=>{Z&&H.kill()}),f.triggerEvent(B,H)&&H.kill()})),v=Qn(),C=Li(s,"paste",B=>{p.fireIfReady(B,"paste").each(H=>{H&&B.kill()}),f.triggerEvent("paste",B)&&B.kill(),v.set(setTimeout(()=>{f.triggerEvent(Xh(),B)},0))}),A=Li(s,"keydown",B=>{f.triggerEvent("keydown",B)?B.kill():f.stopBackspace&&(H=>H.raw.which===lp[0]&&!ft(["input","textarea"],Ot(H.target))&&!om(H.target,'[contenteditable="true"]'))(B)&&B.prevent()}),T=Li(s,"focusin",B=>{f.triggerEvent("focusin",B)&&B.kill()}),M=Qn(),P=Li(s,"focusout",B=>{f.triggerEvent("focusout",B)&&B.kill(),M.set(setTimeout(()=>{f.triggerEvent(lc(),B)},0))});return{unbind:()=>{Ge(b,B=>{B.unbind()}),A.unbind(),T.unbind(),P.unbind(),C.unbind(),v.on(clearTimeout),M.on(clearTimeout)}}},ED=(s,l)=>{const f=so(s,"target").getOr(l);return jt(f)},dw=Ls([{stopped:[]},{resume:["element"]},{complete:[]}]),AD=(s,l,f,p,b,v)=>{const C=s(l,p),A=((T,M)=>{const P=jt(!1),B=jt(!1);return{stop:()=>{P.set(!0)},cut:()=>{B.set(!0)},isStopped:P.get,isCut:B.get,event:T,setSource:M.set,getSource:M.get}})(f,b);return C.fold(()=>(v.logEventNoHandlers(l,p),dw.complete()),T=>{const M=T.descHandler;return A_(M)(A),A.isStopped()?(v.logEventStopped(l,T.element,M.purpose),dw.stopped()):A.isCut()?(v.logEventCut(l,T.element,M.purpose),dw.complete()):Jn(T.element).fold(()=>(v.logNoParent(l,T.element,M.purpose),dw.complete()),P=>(v.logEventResponse(l,T.element,M.purpose),dw.resume(P)))})},TD=(s,l,f,p,b,v)=>AD(s,l,f,p,b,v).fold(yt,C=>TD(s,l,f,C,b,v),Me),Ad=(s,l,f,p,b)=>{const v=ED(f,p);return TD(s,l,f,p,v,b)},SU=()=>{const s=(()=>{const p={};return{registerId:(b,v,C)=>{Wo(C,(A,T)=>{const M=p[T]!==void 0?p[T]:{};M[v]=((P,B)=>({cHandler:Ve.apply(void 0,[P.handler].concat(B)),purpose:P.purpose}))(A,b),p[T]=M})},unregisterId:b=>{Wo(p,(v,C)=>{en(v,b)&&delete v[b]})},filterByType:b=>so(p,b).map(v=>ar(v,(C,A)=>((T,M)=>({id:T,descHandler:M}))(A,C))).getOr([]),find:(b,v,C)=>so(p,v).bind(A=>sm(C,T=>((M,P)=>Jv(P).bind(B=>so(M,B)).map(B=>((H,Z)=>({element:H,descHandler:Z}))(P,B)))(A,T),b))}})(),l={},f=p=>{Jv(p.element).each(b=>{delete l[b],s.unregisterId(b)})};return{find:(p,b,v)=>s.find(p,b,v),filter:p=>s.filterByType(p),register:p=>{const b=(C=>{const A=C.element;return Jv(A).getOrThunk(()=>((T,M)=>{const P=je(n8+"uid-");return H1(M,P),P})(0,C.element))})(p);ls(l,b)&&((C,A)=>{const T=l[A];if(T!==C)throw new Error('The tagId "'+A+'" is already used by: '+Fc(T.element)+`
Cannot use it for: `+Fc(C.element)+`
The conflicting element is`+(bt(T.element)?" ":" not ")+"already in the DOM");f(C)})(p,b);const v=[p];s.registerId(v,b,p.events),l[b]=p},unregister:f,getById:p=>so(l,p)}},sx=s=>{const l=se=>Jn(s.element).fold(yt,ae=>on(se,ae)),f=SU(),p=(se,ae)=>f.find(l,se,ae),b=hI(s.element,{triggerEvent:(se,ae)=>Qh(se,ae.target,te=>((oe,ue,pe,Oe)=>Ad(oe,ue,pe,pe.target,Oe))(p,se,ae,te))}),v={debugInfo:ge("real"),triggerEvent:(se,ae,te)=>{Qh(se,ae,oe=>Ad(p,se,te,ae,oe))},triggerFocus:(se,ae)=>{Jv(se).fold(()=>{Er(se)},te=>{Qh(el(),se,oe=>(((ue,pe,Oe,Te,De)=>{const et=ED(Oe,Te);AD(ue,pe,Oe,Te,et,De)})(p,el(),{originator:ae,kill:ye,prevent:ye,target:se},se,oe),!1))})},triggerEscape:(se,ae)=>{v.triggerEvent("keydown",se.element,ae.event)},getByUid:se=>X(se),getByDom:se=>le(se),build:ja,buildOrPatch:O_,addToGui:se=>{T(se)},removeFromGui:se=>{M(se)},addToWorld:se=>{C(se)},removeFromWorld:se=>{A(se)},broadcast:se=>{B(se)},broadcastOn:(se,ae)=>{H(se,ae)},broadcastEvent:(se,ae)=>{Z(se,ae)},isConnected:yt},C=se=>{se.connect(v),wn(se.element)||(f.register(se),Ge(se.components(),C),v.triggerEvent(Sg(),se.element,{target:se.element}))},A=se=>{wn(se.element)||(Ge(se.components(),A),f.unregister(se)),se.disconnect()},T=se=>{Nm(s,se)},M=se=>{Rm(se)},P=se=>{const ae=f.filter(of());Ge(ae,te=>{const oe=te.descHandler;A_(oe)(se)})},B=se=>{P({universal:!0,data:se})},H=(se,ae)=>{P({universal:!1,channels:se,data:ae})},Z=(se,ae)=>((te,oe)=>{const ue=(pe=>{const Oe=jt(!1);return{stop:()=>{Oe.set(!0)},cut:ye,isStopped:Oe.get,isCut:Me,event:pe,setSource:lo("Cannot set source of a broadcasted event"),getSource:lo("Cannot get source of a broadcasted event")}})(oe);return Ge(te,pe=>{const Oe=pe.descHandler;A_(Oe)(ue)}),ue.isStopped()})(f.filter(se),ae),X=se=>f.getById(se).fold(()=>pn.error(new Error('Could not find component with uid: "'+se+'" in system.')),pn.value),le=se=>{const ae=Jv(se).getOr("not found");return X(ae)};return C(s),{root:s,element:s.element,destroy:()=>{b.unbind(),Kd(s.element)},add:T,remove:M,getByUid:X,getByDom:le,addToWorld:C,removeFromWorld:A,broadcast:B,broadcastOn:H,broadcastEvent:Z}},Kg=()=>{const s=(l,f)=>{f.stop(),km(l)};return[ct(Ja(),s),ct(bs(),s),ch(Hr()),ch(de())]},uw=s=>is(Vn([s.map(l=>lf((f,p)=>{l(f),p.stop()})).toArray(),Kg()])),ca=il({name:"Button",factory:s=>{const l=uw(s.action),f=s.dom.tag,p=b=>so(s.dom,"attributes").bind(v=>so(v,b));return{uid:s.uid,dom:s.dom,components:s.components,events:l,behaviours:Z1(s.buttonBehaviours,[Mo.config({}),Qt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:f==="button"?{type:p("type").getOr("button"),...p("role").map(b=>({role:b})).getOr({})}:{role:s.role.getOr(p("role").getOr("button"))}},eventOrder:s.eventOrder}},configFields:[Ke("uid",void 0),xt("dom"),Ke("components",[]),W1("buttonBehaviours",[Mo,Qt]),Fn("action"),Fn("role"),Ke("eventOrder",{})]}),pI=ge([Ke("shell",!1),xt("makeItem"),Ke("setupItem",ye),W1("listBehaviours",[jo])]),mI=kd({name:"items",overrides:()=>({behaviours:Ct([jo.config({})])})}),gI=ge([mI]),OD=Hl({name:ge("CustomList")(),configFields:pI(),partFields:gI(),factory:(s,l,f,p)=>{const b=s.shell?{behaviours:[jo.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:b.components,behaviours:Sa(s.listBehaviours,b.behaviours),apis:{setItems:(v,C)=>{var A;(A=v,s.shell?I.some(A):Os(A,s,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},T=>{const M=jo.contents(T),P=C.length,B=P-M.length,H=B>0?zs(B,()=>s.makeItem()):[],Z=M.slice(P);Ge(Z,le=>jo.remove(T,le)),Ge(H,le=>jo.append(T,le));const X=jo.contents(T);Ge(X,(le,se)=>{s.setupItem(v,le,C[se],se)})})}}}},apis:{setItems:(s,l,f)=>{s.setItems(l,f)}}}),rx="aria-controls",W0=()=>{const s=je(rx);return{id:s,link:l=>{mo(l,rx,s)},unlink:l=>{ur(l,rx)}}},bh=(s,l)=>tm(l,f=>on(f,s.element),Me)||((f,p)=>(b=>e1(b,v=>{if(!In(v))return!1;const C=$o(v,"id");return C!==void 0&&C.indexOf(rx)>-1}).bind(v=>{const C=$o(v,"id"),A=ni(v);return rs(A,`[${rx}="${C}"]`)}))(p).exists(b=>bh(f,b)))(s,l),zD="alloy.item-hover",DD="alloy.item-focus",cA="alloy.item-toggled",Y_=s=>{(Bi(s.element).isNone()||Mo.isFocused(s))&&(Mo.isFocused(s)||Mo.focus(s),co(s,zD,{item:s}))},X_=s=>{co(s,DD,{item:s})},Q_=ge(zD),J_=ge(DD),dA=ge(cA),MD=s=>s.role.fold(()=>s.toggling.map(l=>l.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ie);var uA=[xt("data"),xt("components"),xt("dom"),Ke("hasSubmenu",!1),Fn("toggling"),Fn("role"),W1("itemBehaviours",[Ko,Mo,Qt,Zt]),Ke("ignoreFocus",!1),Ke("domModification",{}),ys("builder",s=>({dom:s.dom,domModification:{...s.domModification,attributes:{role:MD(s),...s.domModification.attributes,"aria-haspopup":s.hasSubmenu,...s.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Z1(s.itemBehaviours,[s.toggling.fold(Ko.revoke,l=>Ko.config(((f,p)=>({aria:{mode:p?"selected":"checked"},...Sr(f,(b,v)=>v!=="exclusive"),onToggled:(b,v)=>{ie(f.onToggled)&&f.onToggled(b,v),((C,A)=>{co(C,cA,{item:C,state:A})})(b,v)}}))(l,s.role.exists(f=>f==="option")))),Mo.config({ignore:s.ignoreFocus,stopMousedown:s.ignoreFocus,onFocus:l=>{X_(l)}}),Qt.config({mode:"execution"}),Zt.config({store:{mode:"memory",initialValue:s.data}}),Co("item-type-events",[...Kg(),ct(Wt(),Y_),ct(nn(),Mo.focus)])]),components:s.components,eventOrder:s.eventOrder})),Ke("eventOrder",{})],bI=[xt("dom"),xt("components"),ys("builder",s=>({dom:s.dom,components:s.components,events:is([_m(nn())])}))];const fA=ge("item-widget"),hA=ge([sl({name:"widget",overrides:s=>({behaviours:Ct([Zt.config({store:{mode:"manual",getValue:l=>s.data,setValue:ye}})])})})]),fw=[xt("uid"),xt("data"),xt("components"),xt("dom"),Ke("autofocus",!1),Ke("ignoreFocus",!1),W1("widgetBehaviours",[Zt,Mo,Qt]),Ke("domModification",{}),x1(hA()),ys("builder",s=>{const l=i0(fA(),s,hA()),f=b1(fA(),s,l.internals()),p=v=>Os(v,s,"widget").map(C=>(Qt.focusIn(C),C)),b=(v,C)=>(up(C.event.target)||s.autofocus&&C.setSource(v.element),I.none());return{dom:s.dom,components:f,domModification:s.domModification,events:is([lf((v,C)=>{p(v).each(A=>{C.stop()})}),ct(Wt(),Y_),ct(nn(),(v,C)=>{s.autofocus?p(v):Mo.focus(v)})]),behaviours:Z1(s.widgetBehaviours,[Zt.config({store:{mode:"memory",initialValue:s.data}}),Mo.config({ignore:s.ignoreFocus,onFocus:v=>{X_(v)}}),Qt.config({mode:"special",focusIn:s.autofocus?v=>{p(v)}:ap(),onLeft:b,onRight:b,onEscape:(v,C)=>Mo.isFocused(v)||s.autofocus?(s.autofocus&&C.setSource(v.element),I.none()):(Mo.focus(v),I.some(!0))})])}})],pA=Ji("type",{widget:fw,item:uA,separator:bI}),yI=ge([m1({factory:{sketch:s=>{const l=Hi("menu.spec item",pA,s);return l.builder(l)}},name:"items",unit:"item",defaults:(s,l)=>en(l,"uid")?l:{...l,uid:L0("item")},overrides:(s,l)=>({type:l.type,ignoreFocus:s.fakeFocus,domModification:{classes:[s.markers.item]}})})]),ND=ge([Ys("role"),xt("value"),xt("items"),xt("dom"),xt("components"),Ke("eventOrder",{}),Ca("menuBehaviours",[gn,Zt,Nn,Qt]),Pl("movement",{mode:"menu",moveOnTab:!0},Ji("mode",{grid:[Jh(),ys("config",(s,l)=>({mode:"flatgrid",selector:"."+s.markers.item,initSize:{numColumns:l.initSize.numColumns,numRows:l.initSize.numRows},focusManager:s.focusManager}))],matrix:[ys("config",(s,l)=>({mode:"matrix",selectors:{row:l.rowSelector,cell:"."+s.markers.item},previousSelector:l.previousSelector,focusManager:s.focusManager})),xt("rowSelector"),Ke("previousSelector",I.none)],menu:[Ke("moveOnTab",!0),ys("config",(s,l)=>({mode:"menu",selector:"."+s.markers.item,moveOnTab:l.moveOnTab,focusManager:s.focusManager}))]})),Fa("markers",Qk()),Ke("fakeFocus",!1),Ke("focusManager",M1()),sn("onHighlight"),sn("onDehighlight"),Ke("showMenuRole",!0)]),RD=ge("alloy.menu-focus"),bp=Hl({name:"Menu",configFields:ND(),partFields:yI(),factory:(s,l,f,p)=>({uid:s.uid,dom:s.dom,markers:s.markers,behaviours:Sa(s.menuBehaviours,[gn.config({highlightClass:s.markers.selectedItem,itemClass:s.markers.item,onHighlight:s.onHighlight,onDehighlight:s.onDehighlight}),Zt.config({store:{mode:"memory",initialValue:s.value}}),Nn.config({find:I.some}),Qt.config(s.movement.config(s,s.movement))]),events:is([ct(J_(),(b,v)=>{const C=v.event;b.getSystem().getByDom(C.target).each(A=>{gn.highlight(b,A),v.stop(),co(b,RD(),{menu:b,item:A})})}),ct(Q_(),(b,v)=>{const C=v.event.item;gn.highlight(b,C)}),ct(dA(),(b,v)=>{const{item:C,state:A}=v.event;A&&$o(C.element,"role")==="menuitemradio"&&((T,M)=>{const P=ri(T.element,'[role="menuitemradio"][aria-checked="true"]');Ge(P,B=>{on(B,M.element)||T.getSystem().getByDom(B).each(H=>{Ko.off(H)})})})(b,C)})]),components:l,eventOrder:s.eventOrder,...s.showMenuRole?{domModification:{attributes:{role:s.role.getOr("menu")}}}:{}})}),e2=(s,l,f,p)=>so(f,p).bind(b=>so(s,b).bind(v=>{const C=e2(s,l,f,v);return I.some([v].concat(C))})).getOr([]),Z0=s=>s.type==="prepared"?I.some(s.menu):I.none(),mA=()=>{const s=jt({}),l=jt({}),f=jt({}),p=Qn(),b=jt({}),v=T=>C(T).bind(Z0),C=T=>so(l.get(),T),A=T=>so(s.get(),T);return{setMenuBuilt:(T,M)=>{l.set({...l.get(),[T]:{type:"prepared",menu:M}})},setContents:(T,M,P,B)=>{p.set(T),s.set(P),l.set(M),b.set(B);const H=((Z,X)=>{const le={};Wo(Z,(oe,ue)=>{Ge(oe,pe=>{le[pe]=ue})});const se=X,ae=Gi(X,(oe,ue)=>({k:oe,v:ue})),te=Xn(ae,(oe,ue)=>[ue].concat(e2(le,se,ae,ue)));return Xn(le,oe=>so(te,oe).getOr([oe]))})(B,P);f.set(H)},expand:T=>so(s.get(),T).map(M=>{const P=so(f.get(),T).getOr([]);return[M].concat(P)}),refresh:T=>so(f.get(),T),collapse:T=>so(f.get(),T).bind(M=>M.length>1?I.some(M.slice(1)):I.none()),lookupMenu:C,lookupItem:A,otherMenus:T=>{const M=b.get();return Qo(Dt(M),T)},getPrimary:()=>p.get().bind(v),getMenus:()=>l.get(),clear:()=>{s.set({}),l.set({}),f.set({}),p.clear()},isClear:()=>p.get().isNone(),getTriggeringPath:(T,M)=>{const P=to(A(T).toArray(),B=>v(B).isSome());return so(f.get(),T).bind(B=>{const H=Jr(P.concat(B));return(Z=>{const X=[];for(let le=0;le<Z.length;le++){const se=Z[le];if(!se.isSome())return I.none();X.push(se.getOrDie())}return I.some(X)})(Zo(H,(Z,X)=>((le,se,ae)=>v(le).bind(te=>(oe=>lr(s.get(),(ue,pe)=>ue===oe))(le).bind(oe=>se(oe).map(ue=>({triggeredMenu:te,triggeringItem:ue,triggeringPath:ae})))))(Z,M,H.slice(0,X+1)).fold(()=>Mn(p.get(),Z)?[]:[I.none()],le=>[I.some(le)])))})}}},xI=Z0,LD=je("tiered-menu-item-highlight"),gA=je("tiered-menu-item-dehighlight"),Gg=ge("collapse-item"),Bm=il({name:"TieredMenu",configFields:[cc("onExecute"),cc("onEscape"),vd("onOpenMenu"),vd("onOpenSubmenu"),sn("onRepositionMenu"),sn("onCollapseMenu"),Ke("highlightOnOpen",aa.HighlightMenuAndItem),ea("data",[xt("primary"),xt("menus"),xt("expansions")]),Ke("fakeFocus",!1),sn("onHighlightItem"),sn("onDehighlightItem"),sn("onHover"),sh(),xt("dom"),Ke("navigateOnHover",!0),Ke("stayInDom",!1),Ca("tmenuBehaviours",[Qt,gn,Nn,jo]),Ke("eventOrder",{})],apis:{collapseMenu:(s,l)=>{s.collapseMenu(l)},highlightPrimary:(s,l)=>{s.highlightPrimary(l)},repositionMenus:(s,l)=>{s.repositionMenus(l)}},factory:(s,l)=>{const f=Qn(),p=mA(),b=oe=>Zt.getValue(oe).value,v=oe=>Xn(s.data.menus,(ue,pe)=>Zo(ue.items,Oe=>Oe.type==="separator"?[]:[Oe.data.value])),C=gn.highlight,A=(oe,ue)=>{C(oe,ue),gn.getHighlighted(ue).orThunk(()=>gn.getFirst(ue)).each(pe=>{s.fakeFocus?gn.highlight(ue,pe):af(oe,pe.element,nn())})},T=(oe,ue)=>Xl(Le(ue,pe=>oe.lookupMenu(pe).bind(Oe=>Oe.type==="prepared"?I.some(Oe.menu):I.none()))),M=(oe,ue,pe)=>{const Oe=T(ue,ue.otherMenus(pe));Ge(Oe,Te=>{qr(Te.element,[s.markers.backgroundMenu]),s.stayInDom||jo.remove(oe,Te)})},P=(oe,ue)=>{const pe=(Oe=>f.get().getOrThunk(()=>{const Te={},De=ri(Oe.element,`.${s.markers.item}`),et=to(De,nt=>$o(nt,"aria-haspopup")==="true");return Ge(et,nt=>{Oe.getSystem().getByDom(nt).each(Ye=>{const st=b(Ye);Te[st]=Ye})}),f.set(Te),Te}))(oe);Wo(pe,(Oe,Te)=>{const De=ft(ue,Te);mo(Oe.element,"aria-expanded",De)})},B=(oe,ue,pe)=>I.from(pe[0]).bind(Oe=>ue.lookupMenu(Oe).bind(Te=>{if(Te.type==="notbuilt")return I.none();{const De=Te.menu,et=T(ue,pe.slice(1));return Ge(et,nt=>{_s(nt.element,s.markers.backgroundMenu)}),bt(De.element)||jo.append(oe,Ed(De)),qr(De.element,[s.markers.backgroundMenu]),A(oe,De),M(oe,ue,pe),I.some(De)}}));let H;(function(oe){oe[oe.HighlightSubmenu=0]="HighlightSubmenu",oe[oe.HighlightParent=1]="HighlightParent"})(H||(H={}));const Z=(oe,ue,pe=H.HighlightSubmenu)=>{if(ue.hasConfigured(io)&&io.isDisabled(ue))return I.some(ue);{const Oe=b(ue);return p.expand(Oe).bind(Te=>(P(oe,Te),I.from(Te[0]).bind(De=>p.lookupMenu(De).bind(et=>{const nt=((Ye,st,wt)=>{if(wt.type==="notbuilt"){const Gt=Ye.getSystem().build(wt.nbMenu());return p.setMenuBuilt(st,Gt),Gt}return wt.menu})(oe,De,et);return bt(nt.element)||jo.append(oe,Ed(nt)),s.onOpenSubmenu(oe,ue,nt,Jr(Te)),pe===H.HighlightSubmenu?(gn.highlightFirst(nt),B(oe,p,Te)):(gn.dehighlightAll(nt),I.some(ue))}))))}},X=(oe,ue)=>{const pe=b(ue);return p.collapse(pe).bind(Oe=>(P(oe,Oe),B(oe,p,Oe).map(Te=>(s.onCollapseMenu(oe,ue,Te),Te))))},le=oe=>(ue,pe)=>La(pe.getSource(),`.${s.markers.item}`).bind(Oe=>ue.getSystem().getByDom(Oe).toOptional().bind(Te=>oe(ue,Te).map(yt))),se=is([ct(RD(),(oe,ue)=>{const pe=ue.event.item;p.lookupItem(b(pe)).each(()=>{const Oe=ue.event.menu;gn.highlight(oe,Oe);const Te=b(ue.event.item);p.refresh(Te).each(De=>M(oe,p,De))})}),lf((oe,ue)=>{const pe=ue.event.target;oe.getSystem().getByDom(pe).each(Oe=>{b(Oe).indexOf("collapse-item")===0&&X(oe,Oe),Z(oe,Oe,H.HighlightSubmenu).fold(()=>{s.onExecute(oe,Oe)},ye)})}),Cs((oe,ue)=>{(pe=>{const Oe=((De,et,nt)=>Xn(nt,(Ye,st)=>{const wt=()=>bp.sketch({...Ye,value:st,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(Gt,uo)=>{co(Gt,LD,{menuComp:Gt,itemComp:uo})},onDehighlight:(Gt,uo)=>{co(Gt,gA,{menuComp:Gt,itemComp:uo})},focusManager:s.fakeFocus?qv():M1()});return st===et?{type:"prepared",menu:De.getSystem().build(wt())}:{type:"notbuilt",nbMenu:wt}}))(pe,s.data.primary,s.data.menus),Te=v();return p.setContents(s.data.primary,Oe,s.data.expansions,Te),p.getPrimary()})(oe).each(pe=>{jo.append(oe,Ed(pe)),s.onOpenMenu(oe,pe),s.highlightOnOpen===aa.HighlightMenuAndItem?A(oe,pe):s.highlightOnOpen===aa.HighlightJustMenu&&C(oe,pe)})}),ct(LD,(oe,ue)=>{s.onHighlightItem(oe,ue.event.menuComp,ue.event.itemComp)}),ct(gA,(oe,ue)=>{s.onDehighlightItem(oe,ue.event.menuComp,ue.event.itemComp)}),...s.navigateOnHover?[ct(Q_(),(oe,ue)=>{const pe=ue.event.item;((Oe,Te)=>{const De=b(Te);p.refresh(De).bind(et=>(P(Oe,et),B(Oe,p,et)))})(oe,pe),Z(oe,pe,H.HighlightParent),s.onHover(oe,pe)})]:[]]),ae=oe=>gn.getHighlighted(oe).bind(gn.getHighlighted),te={collapseMenu:oe=>{ae(oe).each(ue=>{X(oe,ue)})},highlightPrimary:oe=>{p.getPrimary().each(ue=>{A(oe,ue)})},repositionMenus:oe=>{p.getPrimary().bind(pe=>ae(oe).bind(Oe=>{const Te=b(Oe),De=ps(p.getMenus()),et=Xl(Le(De,xI));return p.getTriggeringPath(Te,nt=>((Ye,st,wt)=>Yt(st,Gt=>{if(!Gt.getSystem().isConnected())return I.none();const uo=gn.getCandidates(Gt);return G(uo,Eo=>b(Eo)===wt)}))(0,et,nt))}).map(Oe=>({primary:pe,triggeringPath:Oe}))).fold(()=>{(pe=>I.from(pe.components()[0]).filter(Oe=>$o(Oe.element,"role")==="menu"))(oe).each(pe=>{s.onRepositionMenu(oe,pe,[])})},({primary:pe,triggeringPath:Oe})=>{s.onRepositionMenu(oe,pe,Oe)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:Sa(s.tmenuBehaviours,[Qt.config({mode:"special",onRight:le((oe,ue)=>up(ue.element)?I.none():Z(oe,ue,H.HighlightSubmenu)),onLeft:le((oe,ue)=>up(ue.element)?I.none():X(oe,ue)),onEscape:le((oe,ue)=>X(oe,ue).orThunk(()=>s.onEscape(oe,ue).map(()=>oe))),focusIn:(oe,ue)=>{p.getPrimary().each(pe=>{af(oe,pe.element,nn())})}}),gn.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),Nn.config({find:oe=>gn.getHighlighted(oe)}),jo.config({})]),eventOrder:s.eventOrder,apis:te,events:se}},extraApis:{tieredData:(s,l,f)=>({primary:s,menus:l,expansions:f}),singleData:(s,l)=>({primary:s,menus:nh(s,l),expansions:{}}),collapseItem:s=>({value:je(Gg()),meta:{text:s}})}}),t2=ge("sink"),o2=ge(kd({name:t2(),overrides:ge({dom:{tag:"div"},behaviours:Ct([la.config({useFixed:yt})]),events:is([ch(Ln()),ch(de()),ch(Ja())])})})),BD=ba([Ke("isExtraPart",Me),oa("fireEventInstead",[Ke("event",pm())])]),ix=s=>{const l=Hi("Dismissal",BD,s);return{[uu()]:{schema:ba([xt("target")]),onReceive:(f,p)=>{Pn.isOpen(f)&&(Pn.isPartOf(f,p.target)||l.isExtraPart(f,p.target)||l.fireEventInstead.fold(()=>Pn.close(f),b=>mn(f,b.event)))}}}},bA=ba([oa("fireEventInstead",[Ke("event",Yk())]),yl("doReposition")]),yA=s=>{const l=Hi("Reposition",bA,s);return{[$a()]:{onReceive:f=>{Pn.isOpen(f)&&l.fireEventInstead.fold(()=>l.doReposition(f),p=>mn(f,p.event))}}}},PD=(s,l)=>{const f=s.getHotspot(l).getOr(l),p="hotspot",b=s.getAnchorOverrides();return s.layouts.fold(()=>({type:p,hotspot:f,overrides:b}),v=>({type:p,hotspot:f,overrides:b,layouts:v}))},vu=(s,l,f,p,b,v,C)=>((T,M,P,B,H,Z,X)=>{const le=((ae,te,oe)=>(0,ae.fetch)(oe).map(te))(T,M,B),se=Td(B,T);return le.map(ae=>ae.bind(te=>{const oe=te.menus[te.primary];return I.from(oe).each(ue=>{T.listRole.each(pe=>{ue.role=pe})}),I.from(Bm.sketch({...Z.menu(),uid:L0(""),data:te,highlightOnOpen:X,onOpenMenu:(ue,pe)=>{const Oe=se().getOrDie();la.position(Oe,pe,{anchor:P}),Pn.decloak(H)},onOpenSubmenu:(ue,pe,Oe)=>{const Te=se().getOrDie();la.position(Te,Oe,{anchor:{type:"submenu",item:pe}}),Pn.decloak(H)},onRepositionMenu:(ue,pe,Oe)=>{const Te=se().getOrDie();la.position(Te,pe,{anchor:P}),Ge(Oe,De=>{la.position(Te,De.triggeredMenu,{anchor:{type:"submenu",item:De.triggeringItem}})})},onEscape:()=>(Mo.focus(B),Pn.close(H),I.some(!0))}))}))})(s,l,PD(s,f),f,p,b,C).map(T=>(T.fold(()=>{Pn.isOpen(p)&&Pn.close(p)},M=>{Pn.cloak(p),Pn.open(p,M),v(p)}),p)),vI=(s,l,f,p,b,v,C)=>(Pn.close(p),Ea(p)),ID=(s,l,f,p,b,v)=>{const C=Yr.getCoupled(f,"sandbox");return(Pn.isOpen(C)?vI:vu)(s,l,f,C,p,b,v)},Td=(s,l)=>s.getSystem().getByUid(l.uid+"-"+t2()).map(f=>()=>pn.value(f)).getOrThunk(()=>l.lazySink.fold(()=>()=>pn.error(new Error("No internal sink is specified, nor could an external sink be found")),f=>()=>f(s))),Ui=s=>{Pn.getState(s).each(l=>{Bm.repositionMenus(l)})},FD=(s,l,f)=>{const p=W0(),b=Td(l,s);return{dom:{tag:"div",classes:s.sandboxClasses,attributes:{id:p.id}},behaviours:Z1(s.sandboxBehaviours,[Zt.config({store:{mode:"memory",initialValue:l}}),Pn.config({onOpen:(v,C)=>{const A=PD(s,l);p.link(l.element),s.matchWidth&&((T,M,P)=>{const B=Nn.getCurrent(M).getOr(M),H=jn(T.element);P?Vo(B.element,"min-width",H+"px"):((Z,X)=>{Xf.set(Z,X)})(B.element,H)})(A.hotspot,C,s.useMinWidth),s.onOpen(A,v,C),f!==void 0&&f.onOpen!==void 0&&f.onOpen(v,C)},onClose:(v,C)=>{p.unlink(l.element),b().getOr(C).element.dom.dispatchEvent(new window.FocusEvent("focusout")),f!==void 0&&f.onClose!==void 0&&f.onClose(v,C)},isPartOf:(v,C,A)=>bh(C,A)||bh(l,A),getAttachPoint:()=>b().getOrDie()}),Nn.config({find:v=>Pn.getState(v).bind(C=>Nn.getCurrent(C))}),$l.config({channels:{...ix({isExtraPart:Me}),...yA({doReposition:Ui})}})])}},n2=()=>[Ke("sandboxClasses",[]),W1("sandboxBehaviours",[Nn,$l,Pn,Zt])],wI=ge([xt("dom"),xt("fetch"),sn("onOpen"),vl("onExecute"),Ke("getHotspot",I.some),Ke("getAnchorOverrides",ge({})),H0(),Ca("dropdownBehaviours",[Ko,Yr,Qt,Mo]),xt("toggleClass"),Ke("eventOrder",{}),Fn("lazySink"),Ke("matchWidth",!1),Ke("useMinWidth",!1),Fn("role"),Fn("listRole")].concat(n2())),HD=ge([Hc({schema:[sh(),Ke("fakeFocus",!1)],name:"menu",defaults:s=>({onExecute:s.onExecute})}),o2()]),jl=Hl({name:"Dropdown",configFields:wI(),partFields:HD(),factory:(s,l,f,p)=>{const b=T=>{Pn.getState(T).each(M=>{Bm.highlightPrimary(M)})},v=(T,M,P)=>ID(s,Ie,T,p,M,P),C={expand:T=>{Ko.isOn(T)||v(T,ye,aa.HighlightNone).get(ye)},open:T=>{Ko.isOn(T)||v(T,ye,aa.HighlightMenuAndItem).get(ye)},refetch:T=>Yr.getExistingCoupled(T,"sandbox").fold(()=>v(T,ye,aa.HighlightMenuAndItem).map(ye),M=>vu(s,Ie,T,M,p,ye,aa.HighlightMenuAndItem).map(ye)),isOpen:Ko.isOn,close:T=>{Ko.isOn(T)&&v(T,ye,aa.HighlightMenuAndItem).get(ye)},repositionMenus:T=>{Ko.isOn(T)&&(M=>{const P=Yr.getCoupled(M,"sandbox");Ui(P)})(T)}},A=(T,M)=>(km(T),I.some(!0));return{uid:s.uid,dom:s.dom,components:l,behaviours:Sa(s.dropdownBehaviours,[Ko.config({toggleClass:s.toggleClass,aria:{mode:"expanded"}}),Yr.config({others:{sandbox:T=>FD(s,T,{onOpen:()=>Ko.on(T),onClose:()=>Ko.off(T)})}}),Qt.config({mode:"special",onSpace:A,onEnter:A,onDown:(T,M)=>{if(jl.isOpen(T)){const P=Yr.getCoupled(T,"sandbox");b(P)}else jl.open(T);return I.some(!0)},onEscape:(T,M)=>jl.isOpen(T)?(jl.close(T),I.some(!0)):I.none()}),Mo.config({})]),events:uw(I.some(T=>{v(T,b,aa.HighlightMenuAndItem).get(ye)})),eventOrder:{...s.eventOrder,[tl()]:["disabling","toggling","alloy.base.behaviour"]},apis:C,domModification:{attributes:{"aria-haspopup":s.listRole.getOr("true"),...s.role.fold(()=>({}),T=>({role:T})),...s.dom.tag==="button"?{type:so(s.dom,"attributes").bind(T=>so(T,"type")).getOr("button")}:{}}}}},apis:{open:(s,l)=>s.open(l),refetch:(s,l)=>s.refetch(l),expand:(s,l)=>s.expand(l),close:(s,l)=>s.close(l),isOpen:(s,l)=>s.isOpen(l),repositionMenus:(s,l)=>s.repositionMenus(l)}}),q0="form",$D=[Ca("formBehaviours",[Zt])],xA=s=>"<alloy.field."+s+">",kI=(s,l)=>({uid:s.uid,dom:s.dom,components:l,behaviours:Sa(s.formBehaviours,[Zt.config({store:{mode:"manual",getValue:f=>{const p=Rv(f,s);return Xn(p,(b,v)=>b().bind(C=>{return A=Nn.getCurrent(C),T=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+Fc(C.element)),A.fold(()=>pn.error(T),pn.value);var A,T}).map(Zt.getValue))},setValue:(f,p)=>{Wo(p,(b,v)=>{Os(f,s,v).each(C=>{Nn.getCurrent(C).each(A=>{Zt.setValue(A,b)})})})}}})]),apis:{getField:(f,p)=>Os(f,s,p).bind(Nn.getCurrent)}}),ax={getField:pu((s,l,f)=>s.getField(l,f)),sketch:s=>{const l=(()=>{const v=[];return{field:(C,A)=>(v.push(C),g1(q0,xA(C),A)),record:ge(v)}})(),f=s(l),p=l.record(),b=Le(p,v=>sl({name:v,pname:xA(v)}));return IE(q0,$D,b,kI,f)}},K0=ge([xt("dom"),Ke("shell",!0),Ca("toolbarBehaviours",[jo])]),VD=ge([kd({name:"groups",overrides:()=>({behaviours:Ct([jo.config({})])})})]),yh=Hl({name:"Toolbar",configFields:K0(),partFields:VD(),factory:(s,l,f,p)=>{const b=s.shell?{behaviours:[jo.config({})],components:[]}:{behaviours:[],components:l};return{uid:s.uid,dom:s.dom,components:b.components,behaviours:Sa(s.toolbarBehaviours,b.behaviours),apis:{setGroups:(v,C)=>{var A;(A=v,s.shell?I.some(A):Os(A,s,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},T=>{jo.set(T,C)})},refresh:ye},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,f)=>{s.setGroups(l,f)}}}),_I=ge([xd(["toggledClass"]),xt("lazySink"),yl("fetch"),Fr("getBounds"),oa("fireDismissalEventInstead",[Ke("event",pm())]),H0(),sn("onToggled")]),jD=ge([Hc({name:"button",overrides:s=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Ct([Ko.config({toggleClass:s.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:s.onToggled})])})}),Hc({factory:yh,schema:K0(),name:"toolbar",overrides:s=>({toolbarBehaviours:Ct([Qt.config({mode:"cyclic",onEscape:l=>(Os(l,s,"button").each(Mo.focus),I.none())})])})})]),hw=Qn(),s2=(s,l)=>{const f=Yr.getCoupled(s,"toolbarSandbox");Pn.isOpen(f)?Pn.close(f):Pn.open(f,l.toolbar())},r2=(s,l,f,p)=>{const b=f.getBounds.map(C=>C()),v=f.lazySink(s).getOrDie();la.positionWithinBounds(v,l,{anchor:{type:"hotspot",hotspot:s,layouts:p,overrides:{maxWidthFunction:T1()}}},b)},pw=(s,l,f,p,b)=>{yh.setGroups(l,b),r2(s,l,f,p),Ko.on(s)},Pm=Hl({name:"FloatingToolbarButton",factory:(s,l,f,p)=>({...ca.sketch({...p.button(),action:b=>{s2(b,p)},buttonBehaviours:Z1({dump:p.button().buttonBehaviours},[Yr.config({others:{toolbarSandbox:b=>((v,C,A)=>{const T=W0();return{dom:{tag:"div",attributes:{id:T.id}},behaviours:Ct([Qt.config({mode:"special",onEscape:M=>(Pn.close(M),I.some(!0))}),Pn.config({onOpen:(M,P)=>{const B=hw.get().getOr(!1);A.fetch().get(H=>{pw(v,P,A,C.layouts,H),T.link(v.element),B||Qt.focusIn(P)})},onClose:()=>{Ko.off(v),hw.get().getOr(!1)||Mo.focus(v),T.unlink(v.element)},isPartOf:(M,P,B)=>bh(P,B)||bh(v,B),getAttachPoint:()=>A.lazySink(v).getOrDie()}),$l.config({channels:{...ix({isExtraPart:Me,...A.fireDismissalEventInstead.map(M=>({fireEventInstead:{event:M.event}})).getOr({})}),...yA({doReposition:()=>{Pn.getState(Yr.getCoupled(v,"toolbarSandbox")).each(M=>{r2(v,M,A,C.layouts)})}})}})])}})(b,f,s)}})])}),apis:{setGroups:(b,v)=>{Pn.getState(Yr.getCoupled(b,"toolbarSandbox")).each(C=>{pw(b,C,s,f.layouts,v)})},reposition:b=>{Pn.getState(Yr.getCoupled(b,"toolbarSandbox")).each(v=>{r2(b,v,s,f.layouts)})},toggle:b=>{s2(b,p)},toggleWithoutFocusing:b=>{((v,C)=>{hw.set(!0),s2(v,C),hw.clear()})(b,p)},getToolbar:b=>Pn.getState(Yr.getCoupled(b,"toolbarSandbox")),isOpen:b=>Pn.isOpen(Yr.getCoupled(b,"toolbarSandbox"))}}),configFields:_I(),partFields:jD(),apis:{setGroups:(s,l,f)=>{s.setGroups(l,f)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggleWithoutFocusing(l)},getToolbar:(s,l)=>s.getToolbar(l),isOpen:(s,l)=>s.isOpen(l)}}),G0=ge([Ke("prefix","form-field"),Ca("fieldBehaviours",[Nn,Zt])]),mw=ge([kd({schema:[xt("dom")],name:"label"}),kd({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[xt("text")],name:"aria-descriptor"}),sl({factory:{sketch:s=>{const l=((f,p)=>{const b={};return Wo(f,(v,C)=>{ft(p,C)||(b[C]=v)}),b})(s,["factory"]);return s.factory.sketch(l)}},schema:[xt("factory")],name:"field"})]),fn=Hl({name:"FormField",configFields:G0(),partFields:mw(),factory:(s,l,f,p)=>{const b=Sa(s.fieldBehaviours,[Nn.config({find:A=>Os(A,s,"field")}),Zt.config({store:{mode:"manual",getValue:A=>Nn.getCurrent(A).bind(Zt.getValue),setValue:(A,T)=>{Nn.getCurrent(A).each(M=>{Zt.setValue(M,T)})}}})]),v=is([Cs((A,T)=>{const M=vm(A,s,["label","field","aria-descriptor"]);M.field().each(P=>{const B=je(s.prefix);M.label().each(H=>{mo(H.element,"for",B),mo(P.element,"id",B)}),M["aria-descriptor"]().each(H=>{const Z=je(s.prefix);mo(H.element,"id",Z),mo(P.element,"aria-describedby",Z)})})})]),C={getField:A=>Os(A,s,"field"),getLabel:A=>Os(A,s,"label")};return{uid:s.uid,dom:s.dom,components:l,behaviours:b,events:v,apis:C}},apis:{getField:(s,l)=>s.getField(l),getLabel:(s,l)=>s.getLabel(l)}}),CI=ge([Ke("field1Name","field1"),Ke("field2Name","field2"),vd("onLockedChange"),xd(["lockClass"]),Ke("locked",!1),W1("coupledFieldBehaviours",[Nn,Zt]),ds("onInput",ye)]),UD=(s,l)=>sl({factory:fn,name:s,overrides:f=>({fieldBehaviours:Ct([Co("coupled-input-behaviour",[ct(Ts(),p=>{((b,v,C)=>Os(b,v,C).bind(Nn.getCurrent))(p,f,l).each(b=>{Os(p,f,"lock").each(v=>{Ko.isOn(v)&&f.onLockedChange(p,b,v),f.onInput(p)})})})])])})}),SI=ge([UD("field1","field2"),UD("field2","field1"),sl({factory:ca,schema:[xt("dom")],name:"lock",overrides:s=>({buttonBehaviours:Ct([Ko.config({selected:s.locked,toggleClass:s.markers.lockClass,aria:{mode:"pressed"}})])})})]),Nr=Hl({name:"FormCoupledInputs",configFields:CI(),partFields:SI(),factory:(s,l,f,p)=>({uid:s.uid,dom:s.dom,components:l,behaviours:Z1(s.coupledFieldBehaviours,[Nn.config({find:I.some}),Zt.config({store:{mode:"manual",getValue:b=>{const v=l0(b,s,["field1","field2"]);return{[s.field1Name]:Zt.getValue(v.field1()),[s.field2Name]:Zt.getValue(v.field2())}},setValue:(b,v)=>{const C=l0(b,s,["field1","field2"]);ls(v,s.field1Name)&&Zt.setValue(C.field1(),v[s.field1Name]),ls(v,s.field2Name)&&Zt.setValue(C.field2(),v[s.field2Name])}}})]),apis:{getField1:b=>Os(b,s,"field1"),getField2:b=>Os(b,s,"field2"),getLock:b=>Os(b,s,"lock")}}),apis:{getField1:(s,l)=>s.getField1(l),getField2:(s,l)=>s.getField2(l),getLock:(s,l)=>s.getLock(l)}}),EI=il({name:"HtmlSelect",configFields:[xt("options"),Ca("selectBehaviours",[Mo,Zt]),Ke("selectClasses",[]),Ke("selectAttributes",{}),Fn("data")],factory:(s,l)=>{const f=Le(s.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),p=s.data.map(b=>nh("initialValue",b)).getOr({});return{uid:s.uid,dom:{tag:"select",classes:s.selectClasses,attributes:s.selectAttributes},components:f,behaviours:Sa(s.selectBehaviours,[Mo.config({}),Zt.config({store:{mode:"manual",getValue:b=>Pr(b.element),setValue:(b,v)=>{const C=ze(s.options);G(s.options,A=>A.value===v).isSome()?zc(b.element,v):b.element.dom.selectedIndex===-1&&v===""&&C.each(A=>zc(b.element,A.value))},...p}})])}}}),rr=il({name:"InlineView",configFields:[xt("lazySink"),sn("onShow"),sn("onHide"),Fr("onEscape"),Ca("inlineBehaviours",[Pn,Zt,$l]),oa("fireDismissalEventInstead",[Ke("event",pm())]),oa("fireRepositionEventInstead",[Ke("event",Yk())]),Ke("getRelated",I.none),Ke("isExtraPart",Me),Ke("eventOrder",I.none)],factory:(s,l)=>{const f=(C,A,T,M)=>{const P=s.lazySink(C).getOrDie();Pn.openWhileCloaked(C,A,()=>la.positionWithinBounds(P,C,T,M())),Zt.setValue(C,I.some({mode:"position",config:T,getBounds:M}))},p=(C,A,T,M)=>{const P=((B,H,Z,X,le)=>{const se=()=>B.lazySink(H),ae=X.type==="horizontal"?{layouts:{onLtr:()=>Iv(),onRtl:()=>sf()}}:{},te=oe=>(ue=>ue.length===2)(oe)?ae:{};return Bm.sketch({dom:{tag:"div"},data:X.data,markers:X.menu.markers,highlightOnOpen:X.menu.highlightOnOpen,fakeFocus:X.menu.fakeFocus,onEscape:()=>(Pn.close(H),B.onEscape.map(oe=>oe(H)),I.some(!0)),onExecute:()=>I.some(!0),onOpenMenu:(oe,ue)=>{la.positionWithinBounds(se().getOrDie(),ue,Z,le())},onOpenSubmenu:(oe,ue,pe,Oe)=>{const Te=se().getOrDie();la.position(Te,pe,{anchor:{type:"submenu",item:ue,...te(Oe)}})},onRepositionMenu:(oe,ue,pe)=>{const Oe=se().getOrDie();la.positionWithinBounds(Oe,ue,Z,le()),Ge(pe,Te=>{const De=te(Te.triggeringPath);la.position(Oe,Te.triggeredMenu,{anchor:{type:"submenu",item:Te.triggeringItem,...De}})})}})})(s,C,A,T,M);Pn.open(C,P),Zt.setValue(C,I.some({mode:"menu",menu:P}))},b=C=>{Pn.isOpen(C)&&Zt.getValue(C).each(A=>{switch(A.mode){case"menu":Pn.getState(C).each(Bm.repositionMenus);break;case"position":const T=s.lazySink(C).getOrDie();la.positionWithinBounds(T,C,A.config,A.getBounds())}})},v={setContent:(C,A)=>{Pn.setContent(C,A)},showAt:(C,A,T)=>{const M=I.none;f(C,A,T,M)},showWithinBounds:f,showMenuAt:(C,A,T)=>{p(C,A,T,I.none)},showMenuWithinBounds:p,hide:C=>{Pn.isOpen(C)&&(Zt.setValue(C,I.none()),Pn.close(C))},getContent:C=>Pn.getState(C),reposition:b,isOpen:Pn.isOpen};return{uid:s.uid,dom:s.dom,behaviours:Sa(s.inlineBehaviours,[Pn.config({isPartOf:(C,A,T)=>bh(A,T)||((M,P)=>s.getRelated(M).exists(B=>bh(B,P)))(C,T),getAttachPoint:C=>s.lazySink(C).getOrDie(),onOpen:C=>{s.onShow(C)},onClose:C=>{s.onHide(C)}}),Zt.config({store:{mode:"memory",initialValue:I.none()}}),$l.config({channels:{...ix({isExtraPart:l.isExtraPart,...s.fireDismissalEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({})}),...yA({...s.fireRepositionEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({}),doReposition:b})}})]),eventOrder:s.eventOrder,apis:v}},apis:{showAt:(s,l,f,p)=>{s.showAt(l,f,p)},showWithinBounds:(s,l,f,p,b)=>{s.showWithinBounds(l,f,p,b)},showMenuAt:(s,l,f,p)=>{s.showMenuAt(l,f,p)},showMenuWithinBounds:(s,l,f,p,b)=>{s.showMenuWithinBounds(l,f,p,b)},hide:(s,l)=>{s.hide(l)},isOpen:(s,l)=>s.isOpen(l),getContent:(s,l)=>s.getContent(l),setContent:(s,l,f)=>{s.setContent(l,f)},reposition:(s,l)=>{s.reposition(l)}}}),WD=ge([gs("type","text"),Fn("data"),Ke("inputAttributes",{}),Ke("inputStyles",{}),Ke("tag","input"),Ke("inputClasses",[]),sn("onSetValue"),ds("fromInputValue",Ie),ds("toInputValue",Ie),Ke("styles",{}),Ke("eventOrder",{}),Ca("inputBehaviours",[Zt,Mo]),Ke("selectOnFocus",!0)]),ZD=s=>Ct([Mo.config({onFocus:s.selectOnFocus?l=>{const f=l.element,p=Pr(f);s.type!=="range"&&f.dom.setSelectionRange(0,p.length)}:ye})]),qD=s=>({...ZD(s),...Sa(s.inputBehaviours,[Zt.config({store:{mode:"manual",...s.data.map(l=>({initialValue:l})).getOr({}),getValue:l=>s.fromInputValue(Pr(l.element)),setValue:(l,f)=>{Pr(l.element)!==f&&zc(l.element,s.toInputValue(f))}},onSetValue:s.onSetValue})])}),Y0=s=>({tag:s.tag,attributes:{type:s.type,...s.inputAttributes},styles:s.inputStyles,classes:s.inputClasses}),yp=il({name:"Input",configFields:WD(),factory:(s,l)=>({uid:s.uid,dom:Y0(s),components:[],behaviours:qD(s),eventOrder:s.eventOrder})}),i2=au(fA(),hA()),AI=ge([xt("lazySink"),Fn("dragBlockClass"),ds("getBounds",er),Ke("useTabstopAt",yt),Ke("firstTabstop",0),Ke("eventOrder",{}),Ca("modalBehaviours",[Qt]),vl("onExecute"),cc("onEscape")]),a2={sketch:Ie},KD=ge([kd({name:"draghandle",overrides:(s,l)=>({behaviours:Ct([F0.config({mode:"mouse",getTarget:f=>ms(f,'[role="dialog"]').getOr(f),blockerClass:s.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(l,null,2)).message),getBounds:s.getDragBounds})])})}),sl({schema:[xt("dom")],name:"title"}),sl({factory:a2,schema:[xt("dom")],name:"close"}),sl({factory:a2,schema:[xt("dom")],name:"body"}),kd({factory:a2,schema:[xt("dom")],name:"footer"}),Hc({factory:{sketch:(s,l)=>({...s,dom:l.dom,components:l.components})},schema:[Ke("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ke("components",[])],name:"blocker"})]),zi=Hl({name:"ModalDialog",configFields:AI(),partFields:KD(),factory:(s,l,f,p)=>{const b=Qn(),v=je("modal-events"),C={...s.eventOrder,[yd()]:[v].concat(s.eventOrder["alloy.system.attached"]||[])},A=_e();return{uid:s.uid,dom:s.dom,components:l,apis:{show:T=>{b.set(T);const M=s.lazySink(T).getOrDie(),P=p.blocker(),B=M.getSystem().build({...P,components:P.components.concat([Ed(T)]),behaviours:Ct([Mo.config({}),Co("dialog-blocker-events",[du(Oo(),()=>{mh.isBlocked(T)||Qt.focusIn(T)})])])});Nm(M,B),Qt.focusIn(T)},hide:T=>{b.clear(),Jn(T.element).each(M=>{T.getSystem().getByDom(M).each(P=>{Rm(P)})})},getBody:T=>tp(T,s,"body"),getFooter:T=>Os(T,s,"footer"),setIdle:T=>{mh.unblock(T)},setBusy:(T,M)=>{mh.block(T,M)}},eventOrder:C,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Sa(s.modalBehaviours,[jo.config({}),Qt.config({mode:"cyclic",onEnter:s.onExecute,onEscape:s.onEscape,useTabstopAt:s.useTabstopAt,firstTabstop:s.firstTabstop}),mh.config({getRoot:b.get}),Co(v,[Cs(T=>{const M=tp(T,s,"title").element,P=(B=>B.dom.textContent)(M);A.os.isMacOS()&&Y(P)?mo(T.element,"aria-label",P):((B,H)=>{const Z=si(B,"id").fold(()=>{const X=je("dialog-label");return mo(H,"id",X),X},Ie);mo(B,"aria-labelledby",Z)})(T.element,M)})])])}},apis:{show:(s,l)=>{s.show(l)},hide:(s,l)=>{s.hide(l)},getBody:(s,l)=>s.getBody(l),getFooter:(s,l)=>s.getFooter(l),setBusy:(s,l,f)=>{s.setBusy(l,f)},setIdle:(s,l)=>{s.setIdle(l)}}}),TI=kd({schema:[xt("dom")],name:"label"}),Yg=s=>kd({name:s+"-edge",overrides:l=>l.model.manager.edgeActions[s].fold(()=>({}),f=>({events:is([O1(Hr(),(p,b,v)=>f(p,v),[l]),O1(de(),(p,b,v)=>f(p,v),[l]),O1(Ae(),(p,b,v)=>{v.mouseIsDown.get()&&f(p,v)},[l])])}))}),OI=Yg("top-left"),zI=Yg("top"),DI=Yg("top-right"),l2=Yg("right"),vA=Yg("bottom-right"),MI=Yg("bottom"),EU=Yg("bottom-left"),GD=Yg("left"),NI=sl({name:"thumb",defaults:ge({dom:{styles:{position:"absolute"}}}),overrides:s=>({events:is([Mg(Hr(),s,"spectrum"),Mg(R(),s,"spectrum"),Mg(F(),s,"spectrum"),Mg(de(),s,"spectrum"),Mg(Ae(),s,"spectrum"),Mg(Rt(),s,"spectrum")])})}),c2=s=>Bg(s.event),wu=sl({schema:[bi("mouseIsDown",()=>jt(!1))],name:"spectrum",overrides:s=>{const l=s.model.manager,f=(p,b)=>l.getValueFromEvent(b).map(v=>l.setValueFrom(p,s,v));return{behaviours:Ct([Qt.config({mode:"special",onLeft:(p,b)=>l.onLeft(p,s,c2(b)),onRight:(p,b)=>l.onRight(p,s,c2(b)),onUp:(p,b)=>l.onUp(p,s,c2(b)),onDown:(p,b)=>l.onDown(p,s,c2(b))}),os.config({}),Mo.config({})]),events:is([ct(Hr(),f),ct(R(),f),ct(de(),f),ct(Ae(),(p,b)=>{s.mouseIsDown.get()&&f(p,b)})])}}});var RI=[TI,GD,l2,zI,MI,OI,DI,EU,vA,NI,wu];const gw=ge("slider.change.value"),wA=s=>{const l=s.event.raw;if((f=>f.type.indexOf("touch")!==-1)(l)){const f=l;return f.touches!==void 0&&f.touches.length===1?I.some(f.touches[0]).map(p=>Bs(p.clientX,p.clientY)):I.none()}{const f=l;return f.clientX!==void 0?I.some(f).map(p=>Bs(p.clientX,p.clientY)):I.none()}},X0=s=>s.model.minX,Q0=s=>s.model.minY,Im=s=>s.model.minX-1,lx=s=>s.model.minY-1,J0=s=>s.model.maxX,Fm=s=>s.model.maxY,ey=s=>s.model.maxX+1,cx=s=>s.model.maxY+1,YD=(s,l,f)=>l(s)-f(s),kA=s=>YD(s,J0,X0),_A=s=>YD(s,Fm,Q0),XD=s=>kA(s)/2,QD=s=>_A(s)/2,dx=(s,l)=>l?s.stepSize*s.speedMultiplier:s.stepSize,JD=s=>s.snapToGrid,CA=s=>s.snapStart,bw=s=>s.rounded,d2=(s,l)=>s[l+"-edge"]!==void 0,eM=s=>d2(s,"left"),tM=s=>d2(s,"right"),oM=s=>d2(s,"top"),ty=s=>d2(s,"bottom"),xh=s=>s.model.value.get(),Xg=(s,l)=>({x:s,y:l}),Od=(s,l)=>{co(s,gw(),{value:l})},SA=(s,l,f,p)=>s<l?s:s>f?f:s===l?l-1:Math.max(l,s-p),Ht=(s,l,f,p)=>s>f?s:s<l?l:s===f?f+1:Math.min(f,s+p),Qg=(s,l,f)=>Math.max(l,Math.min(f,s)),nM=s=>{const{min:l,max:f,range:p,value:b,step:v,snap:C,snapStart:A,rounded:T,hasMinEdge:M,hasMaxEdge:P,minBound:B,maxBound:H,screenRange:Z}=s,X=M?l-1:l,le=P?f+1:f;if(b<B)return X;if(b>H)return le;{const se=((te,oe,ue)=>Math.min(ue,Math.max(te,oe))-oe)(b,B,H),ae=Qg(se/Z*p+l,X,le);return C&&ae>=l&&ae<=f?((te,oe,ue,pe,Oe)=>Oe.fold(()=>{const Te=te-oe,De=Math.round(Te/pe)*pe;return Qg(oe+De,oe-1,ue+1)},Te=>{const De=(te-Te)%pe,et=Math.round(De/pe),nt=Math.floor((te-Te)/pe),Ye=Math.floor((ue-Te)/pe),st=Te+Math.min(Ye,nt+et)*pe;return Math.max(Te,st)}))(ae,l,f,v,A):T?Math.round(ae):ae}},EA=s=>{const{min:l,max:f,range:p,value:b,hasMinEdge:v,hasMaxEdge:C,maxBound:A,maxOffset:T,centerMinEdge:M,centerMaxEdge:P}=s;return b<l?v?0:M:b>f?C?A:P:(b-l)/p*T},ux="top",u2="right",sM="bottom",f2="left",vh=s=>s.element.dom.getBoundingClientRect(),zd=(s,l)=>s[l],h2=s=>{const l=vh(s);return zd(l,f2)},AA=s=>{const l=vh(s);return zd(l,u2)},p2=s=>{const l=vh(s);return zd(l,ux)},rM=s=>{const l=vh(s);return zd(l,sM)},TA=s=>{const l=vh(s);return zd(l,"width")},iM=s=>{const l=vh(s);return zd(l,"height")},aM=(s,l,f)=>(s+l)/2-f,m2=(s,l)=>{const f=vh(s),p=vh(l),b=zd(f,f2),v=zd(f,u2),C=zd(p,f2);return aM(b,v,C)},OA=(s,l)=>{const f=vh(s),p=vh(l),b=zd(f,ux),v=zd(f,sM),C=zd(p,ux);return aM(b,v,C)},oy=(s,l)=>{co(s,gw(),{value:l})},fx=(s,l,f)=>{const p={min:X0(l),max:J0(l),range:kA(l),value:f,step:dx(l),snap:JD(l),snapStart:CA(l),rounded:bw(l),hasMinEdge:eM(l),hasMaxEdge:tM(l),minBound:h2(s),maxBound:AA(s),screenRange:TA(s)};return nM(p)},yw=s=>(l,f,p)=>((b,v,C,A)=>{const T=(b>0?Ht:SA)(xh(C),X0(C),J0(C),dx(C,A));return oy(v,T),I.some(T)})(s,l,f,p).map(yt),bf=(s,l,f,p,b,v)=>{const C=((A,T,M,P,B)=>{const H=TA(A),Z=P.bind(se=>I.some(m2(se,A))).getOr(0),X=B.bind(se=>I.some(m2(se,A))).getOr(H),le={min:X0(T),max:J0(T),range:kA(T),value:M,hasMinEdge:eM(T),hasMaxEdge:tM(T),minBound:h2(A),maxBound:AA(A),maxOffset:H,centerMinEdge:Z,centerMaxEdge:X};return EA(le)})(l,v,f,p,b);return h2(l)-h2(s)+C},lM=yw(-1),LI=yw(1),AU=I.none,TU=I.none,BI={"top-left":I.none(),top:I.none(),"top-right":I.none(),right:I.some((s,l)=>{Od(s,ey(l))}),"bottom-right":I.none(),bottom:I.none(),"bottom-left":I.none(),left:I.some((s,l)=>{Od(s,Im(l))})};var PI=Object.freeze({__proto__:null,setValueFrom:(s,l,f)=>{const p=fx(s,l,f);return oy(s,p),p},setToMin:(s,l)=>{const f=X0(l);oy(s,f)},setToMax:(s,l)=>{const f=J0(l);oy(s,f)},findValueOfOffset:fx,getValueFromEvent:s=>wA(s).map(l=>l.left),findPositionOfValue:bf,setPositionFromValue:(s,l,f,p)=>{const b=xh(f),v=bf(s,p.getSpectrum(s),b,p.getLeftEdge(s),p.getRightEdge(s),f),C=jn(l.element)/2;Vo(l.element,"left",v-C+"px")},onLeft:lM,onRight:LI,onUp:AU,onDown:TU,edgeActions:BI});const hx=(s,l)=>{co(s,gw(),{value:l})},zA=(s,l,f)=>{const p={min:Q0(l),max:Fm(l),range:_A(l),value:f,step:dx(l),snap:JD(l),snapStart:CA(l),rounded:bw(l),hasMinEdge:oM(l),hasMaxEdge:ty(l),minBound:p2(s),maxBound:rM(s),screenRange:iM(s)};return nM(p)},cM=s=>(l,f,p)=>((b,v,C,A)=>{const T=(b>0?Ht:SA)(xh(C),Q0(C),Fm(C),dx(C,A));return hx(v,T),I.some(T)})(s,l,f,p).map(yt),DA=(s,l,f,p,b,v)=>{const C=((A,T,M,P,B)=>{const H=iM(A),Z=P.bind(se=>I.some(OA(se,A))).getOr(0),X=B.bind(se=>I.some(OA(se,A))).getOr(H),le={min:Q0(T),max:Fm(T),range:_A(T),value:M,hasMinEdge:oM(T),hasMaxEdge:ty(T),minBound:p2(A),maxBound:rM(A),maxOffset:H,centerMinEdge:Z,centerMaxEdge:X};return EA(le)})(l,v,f,p,b);return p2(l)-p2(s)+C},dM=I.none,II=I.none,FI=cM(-1),uM=cM(1),fM={"top-left":I.none(),top:I.some((s,l)=>{Od(s,lx(l))}),"top-right":I.none(),right:I.none(),"bottom-right":I.none(),bottom:I.some((s,l)=>{Od(s,cx(l))}),"bottom-left":I.none(),left:I.none()};var HI=Object.freeze({__proto__:null,setValueFrom:(s,l,f)=>{const p=zA(s,l,f);return hx(s,p),p},setToMin:(s,l)=>{const f=Q0(l);hx(s,f)},setToMax:(s,l)=>{const f=Fm(l);hx(s,f)},findValueOfOffset:zA,getValueFromEvent:s=>wA(s).map(l=>l.top),findPositionOfValue:DA,setPositionFromValue:(s,l,f,p)=>{const b=xh(f),v=DA(s,p.getSpectrum(s),b,p.getTopEdge(s),p.getBottomEdge(s),f),C=Br(l.element)/2;Vo(l.element,"top",v-C+"px")},onLeft:dM,onRight:II,onUp:FI,onDown:uM,edgeActions:fM});const xw=(s,l)=>{co(s,gw(),{value:l})},g2=(s,l)=>({x:s,y:l}),px=(s,l)=>(f,p,b)=>((v,C,A,T,M)=>{const P=v>0?Ht:SA,B=C?xh(T).x:P(xh(T).x,X0(T),J0(T),dx(T,M)),H=C?P(xh(T).y,Q0(T),Fm(T),dx(T,M)):xh(T).y;return xw(A,g2(B,H)),I.some(B)})(s,l,f,p,b).map(yt),hM=px(-1,!1),pM=px(1,!1),mM=px(-1,!0),$I=px(1,!0),VI={"top-left":I.some((s,l)=>{Od(s,Xg(Im(l),lx(l)))}),top:I.some((s,l)=>{Od(s,Xg(XD(l),lx(l)))}),"top-right":I.some((s,l)=>{Od(s,Xg(ey(l),lx(l)))}),right:I.some((s,l)=>{Od(s,Xg(ey(l),QD(l)))}),"bottom-right":I.some((s,l)=>{Od(s,Xg(ey(l),cx(l)))}),bottom:I.some((s,l)=>{Od(s,Xg(XD(l),cx(l)))}),"bottom-left":I.some((s,l)=>{Od(s,Xg(Im(l),cx(l)))}),left:I.some((s,l)=>{Od(s,Xg(Im(l),QD(l)))})};var jI=Object.freeze({__proto__:null,setValueFrom:(s,l,f)=>{const p=fx(s,l,f.left),b=zA(s,l,f.top),v=g2(p,b);return xw(s,v),v},setToMin:(s,l)=>{const f=X0(l),p=Q0(l);xw(s,g2(f,p))},setToMax:(s,l)=>{const f=J0(l),p=Fm(l);xw(s,g2(f,p))},getValueFromEvent:s=>wA(s),setPositionFromValue:(s,l,f,p)=>{const b=xh(f),v=bf(s,p.getSpectrum(s),b.x,p.getLeftEdge(s),p.getRightEdge(s),f),C=DA(s,p.getSpectrum(s),b.y,p.getTopEdge(s),p.getBottomEdge(s),f),A=jn(l.element)/2,T=Br(l.element)/2;Vo(l.element,"left",v-A+"px"),Vo(l.element,"top",C-T+"px")},onLeft:hM,onRight:pM,onUp:mM,onDown:$I,edgeActions:VI});const yf=Hl({name:"Slider",configFields:[Ke("stepSize",1),Ke("speedMultiplier",10),Ke("onChange",ye),Ke("onChoose",ye),Ke("onInit",ye),Ke("onDragStart",ye),Ke("onDragEnd",ye),Ke("snapToGrid",!1),Ke("rounded",!0),Fn("snapStart"),Fa("model",Ji("mode",{x:[Ke("minX",0),Ke("maxX",100),bi("value",s=>jt(s.mode.minX)),xt("getInitialValue"),ys("manager",PI)],y:[Ke("minY",0),Ke("maxY",100),bi("value",s=>jt(s.mode.minY)),xt("getInitialValue"),ys("manager",HI)],xy:[Ke("minX",0),Ke("maxX",100),Ke("minY",0),Ke("maxY",100),bi("value",s=>jt({x:s.mode.minX,y:s.mode.minY})),xt("getInitialValue"),ys("manager",jI)]})),Ca("sliderBehaviours",[Qt,Zt]),bi("mouseIsDown",()=>jt(!1))],partFields:RI,factory:(s,l,f,p)=>{const b=te=>tp(te,s,"thumb"),v=te=>tp(te,s,"spectrum"),C=te=>Os(te,s,"left-edge"),A=te=>Os(te,s,"right-edge"),T=te=>Os(te,s,"top-edge"),M=te=>Os(te,s,"bottom-edge"),P=s.model,B=P.manager,H=(te,oe)=>{B.setPositionFromValue(te,oe,s,{getLeftEdge:C,getRightEdge:A,getTopEdge:T,getBottomEdge:M,getSpectrum:v})},Z=(te,oe)=>{P.value.set(oe);const ue=b(te);H(te,ue)},X=te=>{const oe=s.mouseIsDown.get();s.mouseIsDown.set(!1),oe&&Os(te,s,"thumb").each(ue=>{const pe=P.value.get();s.onChoose(te,ue,pe)})},le=(te,oe)=>{oe.stop(),s.mouseIsDown.set(!0),s.onDragStart(te,b(te))},se=(te,oe)=>{oe.stop(),s.onDragEnd(te,b(te)),X(te)},ae=te=>{Os(te,s,"spectrum").map(Qt.focusIn)};return{uid:s.uid,dom:s.dom,components:l,behaviours:Sa(s.sliderBehaviours,[Qt.config({mode:"special",focusIn:ae}),Zt.config({store:{mode:"manual",getValue:te=>P.value.get(),setValue:Z}}),$l.config({channels:{[_0()]:{onReceive:X}}})]),events:is([ct(gw(),(te,oe)=>{((ue,pe)=>{Z(ue,pe);const Oe=b(ue);s.onChange(ue,Oe,pe)})(te,oe.event.value)}),Cs((te,oe)=>{const ue=P.getInitialValue();P.value.set(ue);const pe=b(te);H(te,pe);const Oe=v(te);s.onInit(te,pe,Oe,P.value.get())}),ct(Hr(),le),ct(F(),se),ct(de(),(te,oe)=>{ae(te),le(te,oe)}),ct(Rt(),se)]),apis:{resetToMin:te=>{B.setToMin(te,s)},resetToMax:te=>{B.setToMax(te,s)},setValue:Z,refresh:H},domModification:{styles:{position:"relative"}}}},apis:{setValue:(s,l,f)=>{s.setValue(l,f)},resetToMin:(s,l)=>{s.resetToMin(l)},resetToMax:(s,l)=>{s.resetToMax(l)},refresh:(s,l)=>{s.refresh(l)}}}),gM="container",vw=[Ca("slotBehaviours",[])],MA=s=>"<alloy.field."+s+">",bM=(s,l)=>{const f=P=>a0(s),p=(P,B)=>(H,Z)=>Os(H,s,Z).map(X=>P(X,Z)).getOr(B),b=(P,B)=>$o(P.element,"aria-hidden")!=="true",v=p(b,!1),C=p((P,B)=>{if(b(P)){const H=P.element;Vo(H,"display","none"),mo(H,"aria-hidden","true"),co(P,i1(),{name:B,visible:!1})}}),A=(P=>(B,H)=>{Ge(H,Z=>P(B,Z))})(C),T=p((P,B)=>{if(!b(P)){const H=P.element;xn(H,"display"),ur(H,"aria-hidden"),co(P,i1(),{name:B,visible:!0})}}),M={getSlotNames:f,getSlot:(P,B)=>Os(P,s,B),isShowing:v,hideSlot:C,hideAllSlots:P=>A(P,f()),showSlot:T};return{uid:s.uid,dom:s.dom,components:l,behaviours:BE(s.slotBehaviours),apis:M}},yM=Xn({getSlotNames:(s,l)=>s.getSlotNames(l),getSlot:(s,l,f)=>s.getSlot(l,f),isShowing:(s,l,f)=>s.isShowing(l,f),hideSlot:(s,l,f)=>s.hideSlot(l,f),hideAllSlots:(s,l)=>s.hideAllSlots(l),showSlot:(s,l,f)=>s.showSlot(l,f)},s=>pu(s)),Wa={...yM,sketch:s=>{const l=(()=>{const v=[];return{slot:(C,A)=>(v.push(C),g1(gM,MA(C),A)),record:ge(v)}})(),f=s(l),p=l.record(),b=Le(p,v=>sl({name:v,pname:MA(v)}));return IE(gM,vw,b,bM,f)}},b2=(s,l,f)=>({within:s,extra:l,withinWidth:f}),xM=(s,l,f)=>{const p=fo(s,(C,A)=>((T,M)=>{const P=f(T);return I.some({element:T,start:M,finish:M+P,width:P})})(A,C.len).fold(ge(C),T=>({len:T.finish,list:C.list.concat([T])})),{len:0,list:[]}).list,b=to(p,C=>C.finish<=l),v=_o(b,(C,A)=>C+A.width,0);return{within:b,extra:p.slice(b.length),withinWidth:v}},y2=s=>Le(s,l=>l.element),vM=(s,l)=>{const f=Le(l,p=>Ed(p));yh.setGroups(s,f)},x2=(s,l,f)=>{const p=l.builtGroups.get();if(p.length===0)return;const b=tp(s,l,"primary"),v=Yr.getCoupled(s,"overflowGroup");Vo(b.element,"visibility","hidden");const C=p.concat([v]),A=Yt(C,M=>Bi(M.element).bind(P=>M.getSystem().getByDom(P).toOptional()));f([]),vM(b,C);const T=((M,P,B,H)=>{const Z=((ae,te,oe)=>{const ue=xM(te,ae,oe);return ue.extra.length===0?I.some(ue):I.none()})(M,P,B).getOrThunk(()=>xM(P,M-B(H),B)),X=Z.within,le=Z.extra,se=Z.withinWidth;return le.length===1&&le[0].width<=B(H)?((ae,te,oe)=>{const ue=y2(ae.concat(te));return b2(ue,[],oe)})(X,le,se):le.length>=1?((ae,te,oe,ue)=>{const pe=y2(ae).concat([oe]);return b2(pe,y2(te),ue)})(X,le,H,se):((ae,te,oe)=>b2(y2(ae),[],oe))(X,0,se)})(jn(b.element),l.builtGroups.get(),M=>Math.ceil(M.element.dom.getBoundingClientRect().width),v);T.extra.length===0?(jo.remove(b,v),f([])):(vM(b,T.within),f(T.extra)),xn(b.element,"visibility"),em(b.element),A.each(Mo.focus)},wM=ge([Ca("splitToolbarBehaviours",[Yr]),bi("builtGroups",()=>jt([]))]),v2=ge([xd(["overflowToggledClass"]),Fr("getOverflowBounds"),xt("lazySink"),bi("overflowGroups",()=>jt([])),sn("onOpened"),sn("onClosed")].concat(wM())),UI=ge([sl({factory:yh,schema:K0(),name:"primary"}),Hc({schema:K0(),name:"overflow"}),Hc({name:"overflow-button"}),Hc({name:"overflow-group"})]),kM=ge([xt("items"),xd(["itemSelector"]),Ca("tgroupBehaviours",[Qt])]),al=ge([m1({name:"items",unit:"item"})]),w2=Hl({name:"ToolbarGroup",configFields:kM(),partFields:al(),factory:(s,l,f,p)=>({uid:s.uid,dom:s.dom,components:l,behaviours:Sa(s.tgroupBehaviours,[Qt.config({mode:"flow",selector:s.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),NA=s=>Le(s,l=>Ed(l)),RA=(s,l,f)=>{x2(s,f,p=>{f.overflowGroups.set(p),l.getOpt(s).each(b=>{Pm.setGroups(b,NA(p))})})},_M=Hl({name:"SplitFloatingToolbar",configFields:v2(),partFields:UI(),factory:(s,l,f,p)=>{const b=Hn(Pm.sketch({fetch:()=>yn(v=>{v(NA(s.overflowGroups.get()))}),layouts:{onLtr:()=>[ai,Kr],onRtl:()=>[Kr,ai],onBottomLtr:()=>[ia,Vi],onBottomRtl:()=>[Vi,ia]},getBounds:f.getOverflowBounds,lazySink:s.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:s.markers.overflowToggledClass},parts:{button:p["overflow-button"](),toolbar:p.overflow()},onToggled:(v,C)=>s[C?"onOpened":"onClosed"](v)}));return{uid:s.uid,dom:s.dom,components:l,behaviours:Sa(s.splitToolbarBehaviours,[Yr.config({others:{overflowGroup:()=>w2.sketch({...p["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(v,C)=>{s.builtGroups.set(Le(C,v.getSystem().build)),RA(v,b,s)},refresh:v=>RA(v,b,s),toggle:v=>{b.getOpt(v).each(C=>{Pm.toggle(C)})},toggleWithoutFocusing:v=>{b.getOpt(v).each(Pm.toggleWithoutFocusing)},isOpen:v=>b.getOpt(v).map(Pm.isOpen).getOr(!1),reposition:v=>{b.getOpt(v).each(C=>{Pm.reposition(C)})},getOverflow:v=>b.getOpt(v).bind(Pm.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,f)=>{s.setGroups(l,f)},refresh:(s,l)=>{s.refresh(l)},reposition:(s,l)=>{s.reposition(l)},toggle:(s,l)=>{s.toggle(l)},toggleWithoutFocusing:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l),getOverflow:(s,l)=>s.getOverflow(l)}}),CM=ge([xd(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),sn("onOpened"),sn("onClosed")].concat(wM())),SM=ge([sl({factory:yh,schema:K0(),name:"primary"}),sl({factory:yh,schema:K0(),name:"overflow",overrides:s=>({toolbarBehaviours:Ct([hc.config({dimension:{property:"height"},closedClass:s.markers.closedClass,openClass:s.markers.openClass,shrinkingClass:s.markers.shrinkingClass,growingClass:s.markers.growingClass,onShrunk:l=>{Os(l,s,"overflow-button").each(f=>{Ko.off(f)}),s.onClosed(l)},onGrown:l=>{s.onOpened(l)},onStartGrow:l=>{Os(l,s,"overflow-button").each(Ko.on)}}),Qt.config({mode:"acyclic",onEscape:l=>(Os(l,s,"overflow-button").each(Mo.focus),I.some(!0))})])})}),Hc({name:"overflow-button",overrides:s=>({buttonBehaviours:Ct([Ko.config({toggleClass:s.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Hc({name:"overflow-group"})]),LA=(s,l,f)=>{Os(s,l,"overflow-button").each(p=>{Os(s,l,"overflow").each(b=>{if(BA(s,l),hc.hasShrunk(b)){const v=l.onOpened;l.onOpened=C=>{f||Qt.focusIn(b),v(C),l.onOpened=v}}else{const v=l.onClosed;l.onClosed=C=>{f||Mo.focus(p),v(C),l.onClosed=v}}hc.toggleGrow(b)})})},BA=(s,l)=>{Os(s,l,"overflow").each(f=>{x2(s,l,p=>{const b=Le(p,v=>Ed(v));yh.setGroups(f,b)}),Os(s,l,"overflow-button").each(p=>{hc.hasGrown(f)&&Ko.on(p)}),hc.refresh(f)})},PA=Hl({name:"SplitSlidingToolbar",configFields:CM(),partFields:SM(),factory:(s,l,f,p)=>{const b="alloy.toolbar.toggle";return{uid:s.uid,dom:s.dom,components:l,behaviours:Sa(s.splitToolbarBehaviours,[Yr.config({others:{overflowGroup:v=>w2.sketch({...p["overflow-group"](),items:[ca.sketch({...p["overflow-button"](),action:C=>{mn(v,b)}})]})}}),Co("toolbar-toggle-events",[ct(b,v=>{LA(v,s,!1)})])]),apis:{setGroups:(v,C)=>{((A,T)=>{const M=Le(T,A.getSystem().build);s.builtGroups.set(M)})(v,C),BA(v,s)},refresh:v=>BA(v,s),toggle:v=>{LA(v,s,!1)},toggleWithoutFocusing:v=>{LA(v,s,!0)},isOpen:v=>((C,A)=>Os(C,A,"overflow").map(hc.hasGrown).getOr(!1))(v,s)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,l,f)=>{s.setGroups(l,f)},refresh:(s,l)=>{s.refresh(l)},toggle:(s,l)=>{s.toggle(l)},isOpen:(s,l)=>s.isOpen(l)}}),WI=il({name:"TabButton",configFields:[Ke("uid",void 0),xt("value"),zr("dom","dom",Gb(()=>({attributes:{role:"tab",id:je("aria"),"aria-selected":"false"}})),gi()),Fn("action"),Ke("domModification",{}),Ca("tabButtonBehaviours",[Mo,Qt,Zt]),xt("view")],factory:(s,l)=>({uid:s.uid,dom:s.dom,components:s.components,events:uw(s.action),behaviours:Sa(s.tabButtonBehaviours,[Mo.config({}),Qt.config({mode:"execution",useSpace:!0,useEnter:!0}),Zt.config({store:{mode:"memory",initialValue:s.value}})]),domModification:s.domModification})}),EM=ge([xt("tabs"),xt("dom"),Ke("clickToDismiss",!1),Ca("tabbarBehaviours",[gn,Qt]),xd(["tabClass","selectedClass"])]),ZI=m1({factory:WI,name:"tabs",unit:"tab",overrides:s=>{const l=(p,b)=>{gn.dehighlight(p,b),co(p,l1(),{tabbar:p,button:b})},f=(p,b)=>{gn.highlight(p,b),co(p,a1(),{tabbar:p,button:b})};return{action:p=>{const b=p.getSystem().getByUid(s.uid).getOrDie(),v=gn.isHighlighted(b,p);(v&&s.clickToDismiss?l:v?ye:f)(b,p)},domModification:{classes:[s.markers.tabClass]}}}}),qI=ge([ZI]),IA=Hl({name:"Tabbar",configFields:EM(),partFields:qI(),factory:(s,l,f,p)=>({uid:s.uid,dom:s.dom,components:l,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Sa(s.tabbarBehaviours,[gn.config({highlightClass:s.markers.selectedClass,itemClass:s.markers.tabClass,onHighlight:(b,v)=>{mo(v.element,"aria-selected","true")},onDehighlight:(b,v)=>{mo(v.element,"aria-selected","false")}}),Qt.config({mode:"flow",getInitial:b=>gn.getHighlighted(b).map(v=>v.element),selector:"."+s.markers.tabClass,executeOnMove:!0})])})}),AM=il({name:"Tabview",configFields:[Ca("tabviewBehaviours",[jo])],factory:(s,l)=>({uid:s.uid,dom:s.dom,behaviours:Sa(s.tabviewBehaviours,[jo.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),TM=ge([Ke("selectFirst",!0),sn("onChangeTab"),sn("onDismissTab"),Ke("tabs",[]),Ca("tabSectionBehaviours",[])]),KI=sl({factory:IA,schema:[xt("dom"),ea("markers",[xt("tabClass"),xt("selectedClass")])],name:"tabbar",defaults:s=>({tabs:s.tabs})}),GI=sl({factory:AM,name:"tabview"}),YI=ge([KI,GI]),mx=Hl({name:"TabSection",configFields:TM(),partFields:YI(),factory:(s,l,f,p)=>{const b=(v,C)=>{Os(v,s,"tabbar").each(A=>{C(A).each(km)})};return{uid:s.uid,dom:s.dom,components:l,behaviours:BE(s.tabSectionBehaviours),events:is(Vn([s.selectFirst?[Cs((v,C)=>{b(v,gn.getFirst)})]:[],[ct(a1(),(v,C)=>{(A=>{const T=Zt.getValue(A);Os(A,s,"tabview").each(M=>{G(s.tabs,P=>P.value===T).each(P=>{const B=P.view();si(A.element,"id").each(H=>{mo(M.element,"aria-labelledby",H)}),jo.set(M,B),s.onChangeTab(M,A,B)})})})(C.event.button)}),ct(l1(),(v,C)=>{const A=C.event.button;s.onDismissTab(v,A)})]])),apis:{getViewItems:v=>Os(v,s,"tabview").map(C=>jo.contents(C)).getOr([]),showTab:(v,C)=>{b(v,A=>{const T=gn.getCandidates(A);return G(T,M=>Zt.getValue(M)===C).filter(M=>!gn.isHighlighted(A,M))})}}}},apis:{getViewItems:(s,l)=>s.getViewItems(l),showTab:(s,l,f)=>{s.showTab(l,f)}}}),ww=(s,l,f)=>{const p=Zt.getValue(f);Zt.setValue(l,p),Hm(l)},FA=(s,l)=>{const f=s.element,p=Pr(f),b=f.dom;$o(f,"type")!=="number"&&l(b,p)},Hm=s=>{FA(s,(l,f)=>l.setSelectionRange(f.length,f.length))},k2=ge("alloy.typeahead.itemexecute"),OM=ge([Fn("lazySink"),xt("fetch"),Ke("minChars",5),Ke("responseTime",1e3),sn("onOpen"),Ke("getHotspot",I.some),Ke("getAnchorOverrides",ge({})),Ke("layouts",I.none()),Ke("eventOrder",{}),Gh("model",{},[Ke("getDisplayText",s=>s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.value),Ke("selectsOver",!0),Ke("populateFromBrowse",!0)]),sn("onSetValue"),vl("onExecute"),sn("onItemExecute"),Ke("inputClasses",[]),Ke("inputAttributes",{}),Ke("inputStyles",{}),Ke("matchWidth",!0),Ke("useMinWidth",!1),Ke("dismissOnBlur",!0),xd(["openClass"]),Fn("initialData"),Fn("listRole"),Ca("typeaheadBehaviours",[Mo,Zt,aA,Qt,Ko,Yr]),bi("lazyTypeaheadComp",()=>jt(I.none)),bi("previewing",()=>jt(!0))].concat(WD()).concat(n2())),zM=ge([Hc({schema:[sh()],name:"menu",overrides:s=>({fakeFocus:!0,onHighlightItem:(l,f,p)=>{s.previewing.get()?s.lazyTypeaheadComp.get().each(b=>{((v,C,A)=>{if(v.selectsOver){const T=Zt.getValue(C),M=v.getDisplayText(T),P=Zt.getValue(A);return v.getDisplayText(P).indexOf(M)===0?I.some(()=>{ww(0,C,A),((B,H)=>{FA(B,(Z,X)=>Z.setSelectionRange(H,X.length))})(C,M.length)}):I.none()}return I.none()})(s.model,b,p).fold(()=>{s.model.selectsOver?(gn.dehighlight(f,p),s.previewing.set(!0)):s.previewing.set(!1)},v=>{v(),s.previewing.set(!1)})}):s.lazyTypeaheadComp.get().each(b=>{s.model.populateFromBrowse&&ww(s.model,b,p),si(p.element,"id").each(v=>mo(b.element,"aria-activedescendant",v))})},onExecute:(l,f)=>s.lazyTypeaheadComp.get().map(p=>(co(p,k2(),{item:f}),!0)),onHover:(l,f)=>{s.previewing.set(!1),s.lazyTypeaheadComp.get().each(p=>{s.model.populateFromBrowse&&ww(s.model,p,f)})}})})]),XI=Hl({name:"Typeahead",configFields:OM(),partFields:zM(),factory:(s,l,f,p)=>{const b=(B,H,Z)=>{s.previewing.set(!1);const X=Yr.getCoupled(B,"sandbox");if(Pn.isOpen(X))Nn.getCurrent(X).each(le=>{gn.getHighlighted(le).fold(()=>{Z(le)},()=>{x0(X,le.element,"keydown",H)})});else{const le=se=>{Nn.getCurrent(se).each(Z)};vu(s,C(B),B,X,p,le,aa.HighlightMenuAndItem).get(ye)}},v=ZD(s),C=B=>H=>H.map(Z=>{const X=ps(Z.menus),le=Zo(X,se=>to(se.items,ae=>ae.type==="item"));return Zt.getState(B).update(Le(le,se=>se.data)),Z}),A=B=>Nn.getCurrent(B),T="typeaheadevents",M=[Mo.config({}),Zt.config({onSetValue:s.onSetValue,store:{mode:"dataset",getDataKey:B=>Pr(B.element),getFallbackEntry:B=>({value:B,meta:{}}),setValue:(B,H)=>{zc(B.element,s.model.getDisplayText(H))},...s.initialData.map(B=>nh("initialValue",B)).getOr({})}}),aA.config({stream:{mode:"throttle",delay:s.responseTime,stopEvent:!1},onStream:(B,H)=>{const Z=Yr.getCoupled(B,"sandbox");if(Mo.isFocused(B)&&Pr(B.element).length>=s.minChars){const X=A(Z).bind(se=>gn.getHighlighted(se).map(Zt.getValue));s.previewing.set(!0);const le=se=>{A(Z).each(ae=>{X.fold(()=>{s.model.selectsOver&&gn.highlightFirst(ae)},te=>{gn.highlightBy(ae,oe=>Zt.getValue(oe).value===te.value),gn.getHighlighted(ae).orThunk(()=>(gn.highlightFirst(ae),I.none()))})})};vu(s,C(B),B,Z,p,le,aa.HighlightJustMenu).get(ye)}},cancelEvent:Qb()}),Qt.config({mode:"special",onDown:(B,H)=>(b(B,H,gn.highlightFirst),I.some(!0)),onEscape:B=>{const H=Yr.getCoupled(B,"sandbox");return Pn.isOpen(H)?(Pn.close(H),I.some(!0)):I.none()},onUp:(B,H)=>(b(B,H,gn.highlightLast),I.some(!0)),onEnter:B=>{const H=Yr.getCoupled(B,"sandbox"),Z=Pn.isOpen(H);if(Z&&!s.previewing.get())return A(H).bind(X=>gn.getHighlighted(X)).map(X=>(co(B,k2(),{item:X}),!0));{const X=Zt.getValue(B);return mn(B,Qb()),s.onExecute(H,B,X),Z&&Pn.close(H),I.some(!0)}}}),Ko.config({toggleClass:s.markers.openClass,aria:{mode:"expanded"}}),Yr.config({others:{sandbox:B=>FD(s,B,{onOpen:()=>Ko.on(B),onClose:()=>{s.lazyTypeaheadComp.get().each(H=>ur(H.element,"aria-activedescendant")),Ko.off(B)}})}}),Co(T,[Cs(B=>{s.lazyTypeaheadComp.set(I.some(B))}),_d(B=>{s.lazyTypeaheadComp.set(I.none())}),lf(B=>{const H=ye;ID(s,C(B),B,p,H,aa.HighlightMenuAndItem).get(ye)}),ct(k2(),(B,H)=>{const Z=Yr.getCoupled(B,"sandbox");ww(s.model,B,H.event.item),mn(B,Qb()),s.onItemExecute(B,Z,H.event.item,Zt.getValue(B)),Pn.close(Z),Hm(B)})].concat(s.dismissOnBlur?[ct(lc(),B=>{const H=Yr.getCoupled(B,"sandbox");Bi(H.element).isNone()&&Pn.close(H)})]:[]))],P={[nf()]:[Zt.name(),aA.name(),T],...s.eventOrder};return{uid:s.uid,dom:Y0(Js(s,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...Sa(s.typeaheadBehaviours,M)},eventOrder:P}}});var ll,kw,QI=tinymce.util.Tools.resolve("tinymce.ThemeManager"),_w=tinymce.util.Tools.resolve("tinymce.util.Delay"),Cw=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),JI=tinymce.util.Tools.resolve("tinymce.EditorManager"),gx=tinymce.util.Tools.resolve("tinymce.Env");(function(s){s.default="wrap",s.floating="floating",s.sliding="sliding",s.scrolling="scrolling"})(ll||(ll={})),function(s){s.auto="auto",s.top="top",s.bottom="bottom"}(kw||(kw={}));const hs=s=>l=>l.options.get(s),ny=s=>l=>I.from(s(l)),_2=s=>{const l=gx.deviceType.isPhone(),f=gx.deviceType.isTablet()||l,p=s.options.register,b=C=>h(C)||C===!1,v=C=>h(C)||ve(C);p("skin",{processor:C=>h(C)||C===!1,default:"oxide"}),p("skin_url",{processor:"string"}),p("height",{processor:v,default:Math.max(s.getElement().offsetHeight,400)}),p("width",{processor:v,default:Cw.DOM.getStyle(s.getElement(),"width")}),p("min_height",{processor:"number",default:100}),p("min_width",{processor:"number"}),p("max_height",{processor:"number"}),p("max_width",{processor:"number"}),p("style_formats",{processor:"object[]"}),p("style_formats_merge",{processor:"boolean",default:!1}),p("style_formats_autohide",{processor:"boolean",default:!1}),p("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),p("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),p("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),p("font_size_input_default_unit",{processor:"string",default:"pt"}),p("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),p("content_langs",{processor:"object[]"}),p("removed_menuitems",{processor:"string",default:""}),p("menubar",{processor:C=>h(C)||D(C),default:!l}),p("menu",{processor:"object",default:{}}),p("toolbar",{processor:C=>D(C)||h(C)||k(C)?{value:C,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),zs(9,C=>{p("toolbar"+(C+1),{processor:"string"})}),p("toolbar_mode",{processor:"string",default:f?"scrolling":"floating"}),p("toolbar_groups",{processor:"object",default:{}}),p("toolbar_location",{processor:"string",default:kw.auto}),p("toolbar_persist",{processor:"boolean",default:!1}),p("toolbar_sticky",{processor:"boolean",default:s.inline}),p("toolbar_sticky_offset",{processor:"number",default:0}),p("fixed_toolbar_container",{processor:"string",default:""}),p("fixed_toolbar_container_target",{processor:"object"}),p("ui_mode",{processor:"string",default:"combined"}),p("file_picker_callback",{processor:"function"}),p("file_picker_validator_handler",{processor:"function"}),p("file_picker_types",{processor:"string"}),p("typeahead_urls",{processor:"boolean",default:!0}),p("anchor_top",{processor:b,default:"#top"}),p("anchor_bottom",{processor:b,default:"#bottom"}),p("draggable_modal",{processor:"boolean",default:!1}),p("statusbar",{processor:"boolean",default:!0}),p("elementpath",{processor:"boolean",default:!0}),p("branding",{processor:"boolean",default:!0}),p("promotion",{processor:"boolean",default:!0}),p("resize",{processor:C=>C==="both"||D(C),default:!gx.deviceType.isTouch()}),p("sidebar_show",{processor:"string"}),p("help_accessibility",{processor:"boolean",default:s.hasPlugin("help")}),p("default_font_stack",{processor:"string[]",default:[]})},DM=hs("readonly"),wh=hs("disabled"),C2=hs("height"),S2=hs("width"),HA=ny(hs("min_width")),$A=ny(hs("min_height")),Jg=ny(hs("max_width")),sy=ny(hs("max_height")),VA=ny(hs("style_formats")),E2=hs("style_formats_merge"),$m=hs("style_formats_autohide"),Vm=hs("content_langs"),MM=hs("removed_menuitems"),ry=hs("toolbar_mode"),jA=hs("toolbar_groups"),kh=hs("toolbar_location"),UA=hs("fixed_toolbar_container"),e7=hs("fixed_toolbar_container_target"),WA=hs("toolbar_persist"),ZA=hs("toolbar_sticky_offset"),qA=hs("menubar"),bx=hs("toolbar"),KA=hs("file_picker_callback"),NM=hs("file_picker_validator_handler"),RM=hs("font_size_input_default_unit"),LM=hs("file_picker_types"),Sw=hs("typeahead_urls"),A2=hs("anchor_top"),Ew=hs("anchor_bottom"),GA=hs("draggable_modal"),BM=hs("statusbar"),YA=hs("elementpath"),T2=hs("branding"),XA=hs("resize"),QA=hs("paste_as_text"),PM=hs("sidebar_show"),O2=hs("promotion"),IM=hs("help_accessibility"),FM=hs("default_font_stack"),HM=hs("skin"),JA=s=>s.options.get("skin")===!1,Aw=s=>s.options.get("menubar")!==!1,$M=s=>{const l=s.options.get("skin_url");if(JA(s))return l;if(l)return s.documentBaseURI.toAbsolute(l);{const f=s.options.get("skin");return JI.baseURL+"/skins/ui/"+f}},VM=s=>s.options.get("line_height_formats").split(" "),Tw=s=>{const l=bx(s),f=h(l),p=k(l)&&l.length>0;return!Ow(s)&&(p||f||l===!0)},iy=s=>{const l=zs(9,p=>s.options.get("toolbar"+(p+1))),f=to(l,h);return Ks(f.length>0,f)},Ow=s=>iy(s).fold(()=>{const l=bx(s);return Ne(l,h)&&l.length>0},yt),ay=s=>kh(s)===kw.bottom,z2=s=>{if(!s.inline)return I.none();const l=UA(s)??"";if(l.length>0)return rs(vr(),l);const f=e7(s);return Y(f)?I.some(Ut(f)):I.none()},ly=s=>s.inline&&z2(s).isSome(),D2=s=>z2(s).getOrThunk(()=>Gf(ni(Ut(s.getElement())))),e4=s=>s.inline&&!Aw(s)&&!Tw(s)&&!Ow(s),yx=s=>(s.options.get("toolbar_sticky")||s.inline)&&!ly(s)&&!e4(s),jm=s=>!ly(s)&&s.options.get("ui_mode")==="split",jM=s=>{const l=s.options.get("menu");return Xn(l,f=>({...f,items:f.items}))};var UM=Object.freeze({__proto__:null,get ToolbarMode(){return ll},get ToolbarLocation(){return kw},register:_2,getSkinUrl:$M,getSkinUrlOption:s=>I.from(s.options.get("skin_url")),isReadOnly:DM,isDisabled:wh,getSkin:HM,isSkinDisabled:JA,getHeightOption:C2,getWidthOption:S2,getMinWidthOption:HA,getMinHeightOption:$A,getMaxWidthOption:Jg,getMaxHeightOption:sy,getUserStyleFormats:VA,shouldMergeStyleFormats:E2,shouldAutoHideStyleFormats:$m,getLineHeightFormats:VM,getContentLanguages:Vm,getRemovedMenuItems:MM,isMenubarEnabled:Aw,isMultipleToolbars:Ow,isToolbarEnabled:Tw,isToolbarPersist:WA,getMultipleToolbarsOption:iy,getUiContainer:D2,useFixedContainer:ly,isSplitUiMode:jm,getToolbarMode:ry,isDraggableModal:GA,isDistractionFree:e4,isStickyToolbar:yx,getStickyToolbarOffset:ZA,getToolbarLocation:kh,isToolbarLocationBottom:ay,getToolbarGroups:jA,getMenus:jM,getMenubar:qA,getToolbar:bx,getFilePickerCallback:KA,getFilePickerTypes:LM,useTypeaheadUrls:Sw,getAnchorTop:A2,getAnchorBottom:Ew,getFilePickerValidatorHandler:NM,getFontSizeInputDefaultUnit:RM,useStatusBar:BM,useElementPath:YA,promotionEnabled:O2,useBranding:T2,getResize:XA,getPasteAsText:QA,getSidebarShow:PM,useHelpAccessibility:IM,getDefaultFontStack:FM});const t7=["visible","hidden","clip"],WM=s=>Uf(s).length>0&&!ft(t7,s),t4=s=>{if(an(s)){const l=Pi(s,"overflow-x"),f=Pi(s,"overflow-y");return WM(l)||WM(f)}return!1},zw=s=>s.plugins.fullscreen&&s.plugins.fullscreen.isFullscreen(),xp=(s,l)=>jm(s)?((f,p)=>{const b=Dc(p,t4),v=b.length===0?ld(p).map(ec).map(C=>Dc(C,t4)).getOr([]):b;return ze(v).map(C=>({element:C,others:v.slice(1),isFullscreen:()=>zw(f)}))})(s,l):I.none(),Um=s=>{const l=[...Le(s.others,Ar),er()];return s.isFullscreen()?er():((f,p)=>fo(p,(b,v)=>Zh(b,v),f))(Ar(s.element),l)},{entries:ZM,setPrototypeOf:qM,isFrozen:o7,getPrototypeOf:n7,getOwnPropertyDescriptor:KM}=Object;let{freeze:pc,seal:xf,create:GM}=Object,{apply:o4,construct:n4}=typeof Reflect<"u"&&Reflect;pc||(pc=function(s){return s}),xf||(xf=function(s){return s}),o4||(o4=function(s,l,f){return s.apply(l,f)}),n4||(n4=function(s,l){return new s(...l)});const M2=Kc(Array.prototype.forEach),s7=Kc(Array.prototype.lastIndexOf),s4=Kc(Array.prototype.pop),Dw=Kc(Array.prototype.push),r7=Kc(Array.prototype.splice),N2=Kc(String.prototype.toLowerCase),r4=Kc(String.prototype.toString),YM=Kc(String.prototype.match),vf=Kc(String.prototype.replace),i7=Kc(String.prototype.indexOf),a7=Kc(String.prototype.trim),Ul=Kc(Object.prototype.hasOwnProperty),mc=Kc(RegExp.prototype.test),Mw=(Wm=TypeError,function(){for(var s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];return n4(Wm,l)});var Wm;function Kc(s){return function(l){l instanceof RegExp&&(l.lastIndex=0);for(var f=arguments.length,p=new Array(f>1?f-1:0),b=1;b<f;b++)p[b-1]=arguments[b];return o4(s,l,p)}}function Ns(s,l){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N2;qM&&qM(s,null);let p=l.length;for(;p--;){let b=l[p];if(typeof b=="string"){const v=f(b);v!==b&&(o7(l)||(l[p]=v),b=v)}s[b]=!0}return s}function ku(s){for(let l=0;l<s.length;l++)Ul(s,l)||(s[l]=null);return s}function vp(s){const l=GM(null);for(const[f,p]of ZM(s))Ul(s,f)&&(Array.isArray(p)?l[f]=ku(p):p&&typeof p=="object"&&p.constructor===Object?l[f]=vp(p):l[f]=p);return l}function xx(s,l){for(;s!==null;){const f=KM(s,l);if(f){if(f.get)return Kc(f.get);if(typeof f.value=="function")return Kc(f.value)}s=n7(s)}return function(){return null}}const i4=pc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),a4=pc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),vx=pc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),XM=pc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),l4=pc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),l7=pc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Nw=pc(["#text"]),R2=pc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),L2=pc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),c4=pc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Rw=pc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),c7=xf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),d4=xf(/<%[\w\W]*|[\w\W]*%>/gm),QM=xf(/\$\{[\w\W]*/gm),d7=xf(/^data-[\-\w.\u00B7-\uFFFF]+$/),u7=xf(/^aria-[\-\w]+$/),JM=xf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),u4=xf(/^(?:\w+script|data):/i),f7=xf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wx=xf(/^html$/i),B2=xf(/^[a-z][.\w]*(-[.\w]+)+$/i);var f4=Object.freeze({__proto__:null,ARIA_ATTR:u7,ATTR_WHITESPACE:f7,CUSTOM_ELEMENT:B2,DATA_ATTR:d7,DOCTYPE_NAME:wx,ERB_EXPR:d4,IS_ALLOWED_URI:JM,IS_SCRIPT_OR_DATA:u4,MUSTACHE_EXPR:c7,TMPLIT_EXPR:QM});const e5=function(){return typeof window>"u"?null:window};var h7=function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e5();const f=Ze=>s(Ze);if(f.version="3.2.6",f.removed=[],!l||!l.document||l.document.nodeType!==9||!l.Element)return f.isSupported=!1,f;let{document:p}=l;const b=p,v=b.currentScript,{DocumentFragment:C,HTMLTemplateElement:A,Node:T,Element:M,NodeFilter:P,NamedNodeMap:B=l.NamedNodeMap||l.MozNamedAttrMap,HTMLFormElement:H,DOMParser:Z,trustedTypes:X}=l,le=M.prototype,se=xx(le,"cloneNode"),ae=xx(le,"remove"),te=xx(le,"nextSibling"),oe=xx(le,"childNodes"),ue=xx(le,"parentNode");if(typeof A=="function"){const Ze=p.createElement("template");Ze.content&&Ze.content.ownerDocument&&(p=Ze.content.ownerDocument)}let pe,Oe="";const{implementation:Te,createNodeIterator:De,createDocumentFragment:et,getElementsByTagName:nt}=p,{importNode:Ye}=b;let st={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};f.isSupported=typeof ZM=="function"&&typeof ue=="function"&&Te&&Te.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:wt,ERB_EXPR:Gt,TMPLIT_EXPR:uo,DATA_ATTR:Eo,ARIA_ATTR:rn,IS_SCRIPT_OR_DATA:$n,ATTR_WHITESPACE:ns,CUSTOM_ELEMENT:xo}=f4;let{IS_ALLOWED_URI:ss}=f4,vo=null;const Fs=Ns({},[...i4,...a4,...vx,...l4,...Nw]);let Wn=null;const vi=Ns({},[...R2,...L2,...c4,...Rw]);let Es=Object.seal(GM(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),yc=null,dl=null,Wl=!0,Qm=!0,Vx=!1,iS=!0,Df=!1,mb=!0,Tp=!1,jx=!1,Ux=!1,gb=!1,Wx=!1,By=!1,Zx=!0,qx=!1,Py=!0,Op=!1,Cn={},Ou=null;const Sh=Ns({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let hL=null;const pL=Ns({},["audio","video","img","source","image","track"]);let IT=null;const aS=Ns({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Mf="http://www.w3.org/1998/Math/MathML",lS="http://www.w3.org/2000/svg",zu="http://www.w3.org/1999/xhtml";let Kx=zu,wk=!1,FT=null;const w$=Ns({},[Mf,lS,zu],r4);let cS=Ns({},["mi","mo","mn","ms","mtext"]),kk=Ns({},["annotation-xml"]);const k$=Ns({},["title","style","font","a","script"]);let Iy=null;const HT=["application/xhtml+xml","text/html"];let Za=null,Gx=null;const Ld=p.createElement("form"),mL=function(Ze){return Ze instanceof RegExp||Ze instanceof Function},$T=function(){let Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Gx||Gx!==Ze){if(Ze&&typeof Ze=="object"||(Ze={}),Ze=vp(Ze),Iy=HT.indexOf(Ze.PARSER_MEDIA_TYPE)===-1?"text/html":Ze.PARSER_MEDIA_TYPE,Za=Iy==="application/xhtml+xml"?r4:N2,vo=Ul(Ze,"ALLOWED_TAGS")?Ns({},Ze.ALLOWED_TAGS,Za):Fs,Wn=Ul(Ze,"ALLOWED_ATTR")?Ns({},Ze.ALLOWED_ATTR,Za):vi,FT=Ul(Ze,"ALLOWED_NAMESPACES")?Ns({},Ze.ALLOWED_NAMESPACES,r4):w$,IT=Ul(Ze,"ADD_URI_SAFE_ATTR")?Ns(vp(aS),Ze.ADD_URI_SAFE_ATTR,Za):aS,hL=Ul(Ze,"ADD_DATA_URI_TAGS")?Ns(vp(pL),Ze.ADD_DATA_URI_TAGS,Za):pL,Ou=Ul(Ze,"FORBID_CONTENTS")?Ns({},Ze.FORBID_CONTENTS,Za):Sh,yc=Ul(Ze,"FORBID_TAGS")?Ns({},Ze.FORBID_TAGS,Za):vp({}),dl=Ul(Ze,"FORBID_ATTR")?Ns({},Ze.FORBID_ATTR,Za):vp({}),Cn=!!Ul(Ze,"USE_PROFILES")&&Ze.USE_PROFILES,Wl=Ze.ALLOW_ARIA_ATTR!==!1,Qm=Ze.ALLOW_DATA_ATTR!==!1,Vx=Ze.ALLOW_UNKNOWN_PROTOCOLS||!1,iS=Ze.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Df=Ze.SAFE_FOR_TEMPLATES||!1,mb=Ze.SAFE_FOR_XML!==!1,Tp=Ze.WHOLE_DOCUMENT||!1,gb=Ze.RETURN_DOM||!1,Wx=Ze.RETURN_DOM_FRAGMENT||!1,By=Ze.RETURN_TRUSTED_TYPE||!1,Ux=Ze.FORCE_BODY||!1,Zx=Ze.SANITIZE_DOM!==!1,qx=Ze.SANITIZE_NAMED_PROPS||!1,Py=Ze.KEEP_CONTENT!==!1,Op=Ze.IN_PLACE||!1,ss=Ze.ALLOWED_URI_REGEXP||JM,Kx=Ze.NAMESPACE||zu,cS=Ze.MATHML_TEXT_INTEGRATION_POINTS||cS,kk=Ze.HTML_INTEGRATION_POINTS||kk,Es=Ze.CUSTOM_ELEMENT_HANDLING||{},Ze.CUSTOM_ELEMENT_HANDLING&&mL(Ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Es.tagNameCheck=Ze.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ze.CUSTOM_ELEMENT_HANDLING&&mL(Ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Es.attributeNameCheck=Ze.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ze.CUSTOM_ELEMENT_HANDLING&&typeof Ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Es.allowCustomizedBuiltInElements=Ze.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Df&&(Qm=!1),Wx&&(gb=!0),Cn&&(vo=Ns({},Nw),Wn=[],Cn.html===!0&&(Ns(vo,i4),Ns(Wn,R2)),Cn.svg===!0&&(Ns(vo,a4),Ns(Wn,L2),Ns(Wn,Rw)),Cn.svgFilters===!0&&(Ns(vo,vx),Ns(Wn,L2),Ns(Wn,Rw)),Cn.mathMl===!0&&(Ns(vo,l4),Ns(Wn,c4),Ns(Wn,Rw))),Ze.ADD_TAGS&&(vo===Fs&&(vo=vp(vo)),Ns(vo,Ze.ADD_TAGS,Za)),Ze.ADD_ATTR&&(Wn===vi&&(Wn=vp(Wn)),Ns(Wn,Ze.ADD_ATTR,Za)),Ze.ADD_URI_SAFE_ATTR&&Ns(IT,Ze.ADD_URI_SAFE_ATTR,Za),Ze.FORBID_CONTENTS&&(Ou===Sh&&(Ou=vp(Ou)),Ns(Ou,Ze.FORBID_CONTENTS,Za)),Py&&(vo["#text"]=!0),Tp&&Ns(vo,["html","head","body"]),vo.table&&(Ns(vo,["tbody"]),delete yc.tbody),Ze.TRUSTED_TYPES_POLICY){if(typeof Ze.TRUSTED_TYPES_POLICY.createHTML!="function")throw Mw('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ze.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Mw('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');pe=Ze.TRUSTED_TYPES_POLICY,Oe=pe.createHTML("")}else pe===void 0&&(pe=function(tn,Po){if(typeof tn!="object"||typeof tn.createPolicy!="function")return null;let Rs=null;const Hs="data-tt-policy-suffix";Po&&Po.hasAttribute(Hs)&&(Rs=Po.getAttribute(Hs));const vs="dompurify"+(Rs?"#"+Rs:"");try{return tn.createPolicy(vs,{createHTML:qa=>qa,createScriptURL:qa=>qa})}catch{return console.warn("TrustedTypes policy "+vs+" could not be created."),null}}(X,v)),pe!==null&&typeof Oe=="string"&&(Oe=pe.createHTML(""));pc&&pc(Ze),Gx=Ze}},VT=Ns({},[...a4,...vx,...XM]),jT=Ns({},[...l4,...l7]),zp=function(Ze){Dw(f.removed,{element:Ze});try{ue(Ze).removeChild(Ze)}catch{ae(Ze)}},Yx=function(Ze,tn){try{Dw(f.removed,{attribute:tn.getAttributeNode(Ze),from:tn})}catch{Dw(f.removed,{attribute:null,from:tn})}if(tn.removeAttribute(Ze),Ze==="is")if(gb||Wx)try{zp(tn)}catch{}else try{tn.setAttribute(Ze,"")}catch{}},gL=function(Ze){let tn=null,Po=null;if(Ux)Ze="<remove></remove>"+Ze;else{const vs=YM(Ze,/^[\r\n\t ]+/);Po=vs&&vs[0]}Iy==="application/xhtml+xml"&&Kx===zu&&(Ze='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ze+"</body></html>");const Rs=pe?pe.createHTML(Ze):Ze;if(Kx===zu)try{tn=new Z().parseFromString(Rs,Iy)}catch{}if(!tn||!tn.documentElement){tn=Te.createDocument(Kx,"template",null);try{tn.documentElement.innerHTML=wk?Oe:Rs}catch{}}const Hs=tn.body||tn.documentElement;return Ze&&Po&&Hs.insertBefore(p.createTextNode(Po),Hs.childNodes[0]||null),Kx===zu?nt.call(tn,Tp?"html":"body")[0]:Tp?tn.documentElement:Hs},bL=function(Ze){return De.call(Ze.ownerDocument||Ze,Ze,P.SHOW_ELEMENT|P.SHOW_COMMENT|P.SHOW_TEXT|P.SHOW_PROCESSING_INSTRUCTION|P.SHOW_CDATA_SECTION,null)},UT=function(Ze){return Ze instanceof H&&(typeof Ze.nodeName!="string"||typeof Ze.textContent!="string"||typeof Ze.removeChild!="function"||!(Ze.attributes instanceof B)||typeof Ze.removeAttribute!="function"||typeof Ze.setAttribute!="function"||typeof Ze.namespaceURI!="string"||typeof Ze.insertBefore!="function"||typeof Ze.hasChildNodes!="function")},yL=function(Ze){return typeof T=="function"&&Ze instanceof T};function Jm(Ze,tn,Po){M2(Ze,Rs=>{Rs.call(f,tn,Po,Gx)})}const WT=function(Ze){let tn=null;if(Jm(st.beforeSanitizeElements,Ze,null),UT(Ze))return zp(Ze),!0;const Po=Za(Ze.nodeName);if(Jm(st.uponSanitizeElement,Ze,{tagName:Po,allowedTags:vo}),mb&&Ze.hasChildNodes()&&!yL(Ze.firstElementChild)&&mc(/<[/\w!]/g,Ze.innerHTML)&&mc(/<[/\w!]/g,Ze.textContent)||Ze.nodeType===7||mb&&Ze.nodeType===8&&mc(/<[/\w]/g,Ze.data))return zp(Ze),!0;if(!vo[Po]||yc[Po]){if(!yc[Po]&&vL(Po)&&(Es.tagNameCheck instanceof RegExp&&mc(Es.tagNameCheck,Po)||Es.tagNameCheck instanceof Function&&Es.tagNameCheck(Po)))return!1;if(Py&&!Ou[Po]){const Rs=ue(Ze)||Ze.parentNode,Hs=oe(Ze)||Ze.childNodes;if(Hs&&Rs)for(let vs=Hs.length-1;vs>=0;--vs){const qa=se(Hs[vs],!0);qa.__removalCount=(Ze.__removalCount||0)+1,Rs.insertBefore(qa,te(Ze))}}return zp(Ze),!0}return Ze instanceof M&&!function(Rs){let Hs=ue(Rs);Hs&&Hs.tagName||(Hs={namespaceURI:Kx,tagName:"template"});const vs=N2(Rs.tagName),qa=N2(Hs.tagName);return!!FT[Rs.namespaceURI]&&(Rs.namespaceURI===lS?Hs.namespaceURI===zu?vs==="svg":Hs.namespaceURI===Mf?vs==="svg"&&(qa==="annotation-xml"||cS[qa]):!!VT[vs]:Rs.namespaceURI===Mf?Hs.namespaceURI===zu?vs==="math":Hs.namespaceURI===lS?vs==="math"&&kk[qa]:!!jT[vs]:Rs.namespaceURI===zu?!(Hs.namespaceURI===lS&&!kk[qa])&&!(Hs.namespaceURI===Mf&&!cS[qa])&&!jT[vs]&&(k$[vs]||!VT[vs]):!(Iy!=="application/xhtml+xml"||!FT[Rs.namespaceURI]))}(Ze)?(zp(Ze),!0):Po!=="noscript"&&Po!=="noembed"&&Po!=="noframes"||!mc(/<\/no(script|embed|frames)/i,Ze.innerHTML)?(Df&&Ze.nodeType===3&&(tn=Ze.textContent,M2([wt,Gt,uo],Rs=>{tn=vf(tn,Rs," ")}),Ze.textContent!==tn&&(Dw(f.removed,{element:Ze.cloneNode()}),Ze.textContent=tn)),Jm(st.afterSanitizeElements,Ze,null),!1):(zp(Ze),!0)},xL=function(Ze,tn,Po){if(Zx&&(tn==="id"||tn==="name")&&(Po in p||Po in Ld))return!1;if(!(Qm&&!dl[tn]&&mc(Eo,tn))){if(!(Wl&&mc(rn,tn))){if(!Wn[tn]||dl[tn]){if(!(vL(Ze)&&(Es.tagNameCheck instanceof RegExp&&mc(Es.tagNameCheck,Ze)||Es.tagNameCheck instanceof Function&&Es.tagNameCheck(Ze))&&(Es.attributeNameCheck instanceof RegExp&&mc(Es.attributeNameCheck,tn)||Es.attributeNameCheck instanceof Function&&Es.attributeNameCheck(tn))||tn==="is"&&Es.allowCustomizedBuiltInElements&&(Es.tagNameCheck instanceof RegExp&&mc(Es.tagNameCheck,Po)||Es.tagNameCheck instanceof Function&&Es.tagNameCheck(Po))))return!1}else if(!IT[tn]){if(!mc(ss,vf(Po,ns,""))){if((tn!=="src"&&tn!=="xlink:href"&&tn!=="href"||Ze==="script"||i7(Po,"data:")!==0||!hL[Ze])&&!(Vx&&!mc($n,vf(Po,ns,"")))){if(Po)return!1}}}}}return!0},vL=function(Ze){return Ze!=="annotation-xml"&&YM(Ze,xo)},wL=function(Ze){Jm(st.beforeSanitizeAttributes,Ze,null);const{attributes:tn}=Ze;if(!tn||UT(Ze))return;const Po={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Wn,forceKeepAttr:void 0};let Rs=tn.length;for(;Rs--;){const Hs=tn[Rs],{name:vs,namespaceURI:qa,value:eg}=Hs,Dp=Za(vs),ZT=eg;let ul=vs==="value"?ZT:a7(ZT);if(Po.attrName=Dp,Po.attrValue=ul,Po.keepAttr=!0,Po.forceKeepAttr=void 0,Jm(st.uponSanitizeAttribute,Ze,Po),ul=Po.attrValue,!qx||Dp!=="id"&&Dp!=="name"||(Yx(vs,Ze),ul="user-content-"+ul),mb&&mc(/((--!?|])>)|<\/(style|title)/i,ul)){Yx(vs,Ze);continue}if(Po.forceKeepAttr)continue;if(!Po.keepAttr){Yx(vs,Ze);continue}if(!iS&&mc(/\/>/i,ul)){Yx(vs,Ze);continue}Df&&M2([wt,Gt,uo],CL=>{ul=vf(ul,CL," ")});const _L=Za(Ze.nodeName);if(xL(_L,Dp,ul)){if(pe&&typeof X=="object"&&typeof X.getAttributeType=="function"&&!qa)switch(X.getAttributeType(_L,Dp)){case"TrustedHTML":ul=pe.createHTML(ul);break;case"TrustedScriptURL":ul=pe.createScriptURL(ul)}if(ul!==ZT)try{qa?Ze.setAttributeNS(qa,vs,ul):Ze.setAttribute(vs,ul),UT(Ze)?zp(Ze):s4(f.removed)}catch{Yx(vs,Ze)}}else Yx(vs,Ze)}Jm(st.afterSanitizeAttributes,Ze,null)},kL=function Ze(tn){let Po=null;const Rs=bL(tn);for(Jm(st.beforeSanitizeShadowDOM,tn,null);Po=Rs.nextNode();)Jm(st.uponSanitizeShadowNode,Po,null),WT(Po),wL(Po),Po.content instanceof C&&Ze(Po.content);Jm(st.afterSanitizeShadowDOM,tn,null)};return f.sanitize=function(Ze){let tn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Po=null,Rs=null,Hs=null,vs=null;if(wk=!Ze,wk&&(Ze="<!-->"),typeof Ze!="string"&&!yL(Ze)){if(typeof Ze.toString!="function")throw Mw("toString is not a function");if(typeof(Ze=Ze.toString())!="string")throw Mw("dirty is not a string, aborting")}if(!f.isSupported)return Ze;if(jx||$T(tn),f.removed=[],typeof Ze=="string"&&(Op=!1),Op){if(Ze.nodeName){const Dp=Za(Ze.nodeName);if(!vo[Dp]||yc[Dp])throw Mw("root node is forbidden and cannot be sanitized in-place")}}else if(Ze instanceof T)Po=gL("<!---->"),Rs=Po.ownerDocument.importNode(Ze,!0),Rs.nodeType===1&&Rs.nodeName==="BODY"||Rs.nodeName==="HTML"?Po=Rs:Po.appendChild(Rs);else{if(!gb&&!Df&&!Tp&&Ze.indexOf("<")===-1)return pe&&By?pe.createHTML(Ze):Ze;if(Po=gL(Ze),!Po)return gb?null:By?Oe:""}Po&&Ux&&zp(Po.firstChild);const qa=bL(Op?Ze:Po);for(;Hs=qa.nextNode();)WT(Hs),wL(Hs),Hs.content instanceof C&&kL(Hs.content);if(Op)return Ze;if(gb){if(Wx)for(vs=et.call(Po.ownerDocument);Po.firstChild;)vs.appendChild(Po.firstChild);else vs=Po;return(Wn.shadowroot||Wn.shadowrootmode)&&(vs=Ye.call(b,vs,!0)),vs}let eg=Tp?Po.outerHTML:Po.innerHTML;return Tp&&vo["!doctype"]&&Po.ownerDocument&&Po.ownerDocument.doctype&&Po.ownerDocument.doctype.name&&mc(wx,Po.ownerDocument.doctype.name)&&(eg="<!DOCTYPE "+Po.ownerDocument.doctype.name+`>
`+eg),Df&&M2([wt,Gt,uo],Dp=>{eg=vf(eg,Dp," ")}),pe&&By?pe.createHTML(eg):eg},f.setConfig=function(){$T(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),jx=!0},f.clearConfig=function(){Gx=null,jx=!1},f.isValidAttribute=function(Ze,tn,Po){Gx||$T({});const Rs=Za(Ze),Hs=Za(tn);return xL(Rs,Hs,Po)},f.addHook=function(Ze,tn){typeof tn=="function"&&Dw(st[Ze],tn)},f.removeHook=function(Ze,tn){if(tn!==void 0){const Po=s7(st[Ze],tn);return Po===-1?void 0:r7(st[Ze],Po,1)[0]}return s4(st[Ze])},f.removeHooks=function(Ze){st[Ze]=[]},f.removeAllHooks=function(){st={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},f}();const t5=s=>h7().sanitize(s);var cl=tinymce.util.Tools.resolve("tinymce.util.I18n");const p7={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},P2="temporary-placeholder",I2=s=>()=>so(s,P2).getOr("!not found!"),F2=(s,l)=>{const f=s.toLowerCase();if(cl.isRtl()){const p=((b,v)=>rd(b,v)?b:((C,A)=>C+A)(b,v))(f,"-rtl");return en(l,p)?p:f}return f},H2=(s,l)=>so(l,F2(s,l)),o5=(s,l)=>{const f=l();return H2(s,f).getOrThunk(I2(f))},h4=()=>Co("add-focusable",[Cs(s=>{Nl(s.element,"svg").each(l=>mo(l,"focusable","false"))})]),n5=(s,l,f,p)=>{const b=(C=>!!cl.isRtl()&&en(p7,C))(l)?["tox-icon--flip"]:[],v=so(f,F2(l,f)).or(p).getOrThunk(I2(f));return{dom:{tag:s.tag,attributes:s.attributes??{},classes:s.classes.concat(b),innerHtml:v},behaviours:Ct([...s.behaviours??[],h4()]),eventOrder:s.eventOrder??{}}},Dd=(s,l,f,p=I.none())=>n5(l,s,f(),p),m7={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},$2=il({name:"Notification",factory:s=>{const l=je("notification-text"),f=Hn({dom:mp(`<p id=${l}>${t5(s.backstageProvider.translate(s.text))}</p>`),behaviours:Ct([jo.config({})])}),p=B=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${B}%`}}}),b=B=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${B}%`}}),v=Hn({dom:{tag:"div",classes:s.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(0)]},b(0)],behaviours:Ct([jo.config({})])}),C={updateProgress:(B,H)=>{B.getSystem().isConnected()&&v.getOpt(B).each(Z=>{jo.set(Z,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(H)]},b(H)])})},updateText:(B,H)=>{if(B.getSystem().isConnected()){const Z=f.get(B);jo.set(Z,[Xs(H)])}}},A=Vn([s.icon.toArray(),[s.level],I.from(m7[s.level]).toArray()]),T=Hn(ca.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":s.backstageProvider.translate("Close")}},components:[Dd("close",{tag:"span",classes:["tox-icon"]},s.iconProvider)],buttonBehaviours:Ct([os.config({}),Is.config({...s.backstageProvider.tooltips.getConfig({tooltipText:s.backstageProvider.translate("Close")})})]),action:B=>{s.onAction(B)}})),M=((B,H,Z)=>{const X=Z(),le=G(B,se=>en(X,F2(se,X)));return n5({tag:"div",classes:["tox-notification__icon"]},le.getOr(P2),X,I.none())})(A,0,s.iconProvider),P=[M,{dom:{tag:"div",classes:["tox-notification__body"]},components:[f.asSpec()],behaviours:Ct([jo.config({})])}];return{uid:s.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":l},classes:["tox-notification","tox-notification--in",`tox-notification--${s.level}`]},behaviours:Ct([os.config({}),Mo.config({}),Qt.config({mode:"special",onEscape:B=>(s.onAction(B),I.some(!0))})]),components:P.concat(s.progress?[v.asSpec()]:[]).concat([T.asSpec()]),apis:C}},configFields:[$i("level","info",["success","error","warning","warn","info"]),xt("progress"),Fn("icon"),xt("onAction"),xt("text"),xt("iconProvider"),xt("backstageProvider")],apis:{updateProgress:(s,l,f)=>{s.updateProgress(l,f)},updateText:(s,l,f)=>{s.updateText(l,f)}}});var g7=(s,l,f,p)=>{const b=l.backstage.shared,v=()=>Ut(s.queryCommandValue("ToggleView")===""?s.getContentAreaContainer():s.getContainer()),C=()=>{const T=Ar(v());return I.some(T)},A=T=>{C().each(M=>{Ge(T,P=>{xn(P.element,"width"),jn(P.element)>M.width&&Vo(P.element,"width",M.width+"px")})})};return{open:(T,M,P)=>{const B=()=>{p.on(X=>{M();const le=P();(se=>{jo.remove(se,H),Z()})(X),((se,ae)=>{Jl(se.element).length===0?((te,oe)=>{rr.hide(te),p.clear(),oe&&s.focus()})(se,ae):((te,oe)=>{oe&&Qt.focusIn(te)})(se,ae)})(X,le)})},H=ja($2.sketch({text:T.text,level:ft(["success","error","warning","warn","info"],T.type)?T.type:void 0,progress:T.progressBar===!0,icon:T.icon,onAction:B,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(p.isSet()){const X=Ed(H);p.on(le=>{jo.append(le,X),rr.reposition(le),H.hasConfigured(sr)&&sr.refresh(le),A(le.components())})}else{const X=ja(rr.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ct([Qt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),jo.config({}),...yx(s)&&b.header.isPositionedAtTop()?[]:[sr.config({contextual:{lazyContext:()=>I.some(Ar(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:te=>xp(s,te.element).map(oe=>({bounds:Um(oe),optScrollEnv:I.some({currentScrollTop:oe.element.dom.scrollTop,scrollElmTop:pr(oe.element).top})})).getOrThunk(()=>({bounds:er(),optScrollEnv:I.none()}))})]])})),le=Ed(H),se={maxHeightFunction:lh()},ae={...b.anchors.banner(),overrides:se};p.set(X),f.add(X),rr.showWithinBounds(X,le,{anchor:ae},C)}ve(T.timeout)&&T.timeout>0&&_w.setEditorTimeout(s,()=>{B()},T.timeout);const Z=()=>{p.on(X=>{rr.reposition(X),X.hasConfigured(sr)&&sr.refresh(X),A(X.components())})};return{close:B,reposition:Z,text:X=>{$2.updateText(H,X)},settings:T,getEl:()=>H.element.dom,progressBar:{value:X=>{$2.updateProgress(H,X)}}}},close:T=>{T.close()},getArgs:T=>T.settings}},p4;(function(s){s[s.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",s[s.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(p4||(p4={}));var Md=p4;const V2="tox-menu-nav__js",Lw="tox-collection__item",s5="tox-swatch",m4={normal:V2,color:s5},g4="tox-collection__item--enabled",r5="tox-collection__item-icon",b4="tox-collection__item-label",i5="tox-collection__item-caret",cy="tox-collection__item--active",y4="tox-collection__item-container",j2="tox-collection__item-container--row",a5=s=>so(m4,s).getOr(V2),U2=s=>s==="color"?"tox-swatches":"tox-menu",x4=s=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:U2(s),tieredMenu:"tox-tiered-menu"}),eb=s=>{const l=x4(s);return{backgroundMenu:l.backgroundMenu,selectedMenu:l.selectedMenu,menu:l.menu,selectedItem:l.selectedItem,item:a5(s)}},b7=(s,l,f)=>{const p=x4(f);return{tag:"div",classes:Vn([[p.menu,`tox-menu-${l}-column`],s?[p.hasIcons]:[]])}},y7=[bp.parts.items({})],Bw=(s,l,f)=>{const p=x4(f);return{dom:{tag:"div",classes:Vn([[p.tieredMenu]])},markers:eb(f)}},l5=je("refetch-trigger-event"),v4=je("redirect-menu-item-interaction"),c5="tox-menu__searcher",W2=s=>rs(s.element,`.${c5}`).bind(l=>s.getSystem().getByDom(l).toOptional()),Z2=W2,tb=s=>({fetchPattern:Zt.getValue(s),selectionStart:s.element.dom.selectionStart,selectionEnd:s.element.dom.selectionEnd}),x7=s=>{const l=(b,v)=>(v.cut(),I.none()),f=(b,v)=>{const C={interactionEvent:v.event,eventType:v.event.raw.type};return co(b,v4,C),I.some(!0)},p="searcher-events";return{dom:{tag:"div",classes:[Lw]},components:[yp.sketch({inputClasses:[c5,"tox-textfield"],inputAttributes:{...s.placeholder.map(b=>({placeholder:s.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Ct([Co(p,[ct(Ts(),b=>{mn(b,l5)}),ct(Ln(),(b,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),Qt.config({mode:"special",onLeft:l,onRight:l,onSpace:l,onEnter:f,onEscape:f,onUp:f,onDown:f})]),eventOrder:{keydown:[p,Qt.name()]}})]}},q2="tox-collection--results__js",K2=s=>s.dom?{...s,dom:{...s.dom,attributes:{...s.dom.attributes??{},id:je("aria-item-search-result-id"),"aria-selected":"false"}}}:s,w4="Use arrow keys to navigate.",G2=(s,l)=>f=>{const p=Tt(f,l);return Le(p,b=>({dom:s,components:b}))},kx=(s,l)=>{const f=[];let p=[];return Ge(s,(b,v)=>{l(b,v)?(p.length>0&&f.push(p),p=[],(en(b.dom,"innerHtml")||b.components&&b.components.length>0)&&p.push(b)):p.push(b)}),p.length>0&&f.push(p),Le(f,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},k4=(s,l,f)=>bp.parts.items({preprocess:p=>{const b=Le(p,f);return s!=="auto"&&s>1?G2({tag:"div",classes:["tox-collection__group"]},s)(b):kx(b,(v,C)=>l[C].type==="separator")}}),_4=(s,l,f=!0)=>{return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{...(p=l,To(p,b=>b.type==="widget")?{"aria-label":cl.translate(w4)}:{})}},components:[k4(s,l,Ie)]};var p},_x=s=>To(s,l=>"icon"in l&&l.icon!==void 0),wf=s=>(console.error(ou(s)),console.log(s),I.none()),Zm=(s,l,f,p,b)=>{const v=(C=f,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[bp.parts.items({preprocess:A=>kx(A,(T,M)=>C[M].type==="separator")})]});var C;return{value:s,dom:v.dom,components:v.components,items:f}},_h=(s,l,f,p,b)=>{if(b.menuType==="color"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"],attributes:{"aria-label":cl.translate(w4)}},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[bp.parts.items({preprocess:C!=="auto"?G2({tag:"div",classes:["tox-swatches__row"]},C):Ie})]}]}))(p);return{value:s,dom:v.dom,components:v.components,items:f}}if(b.menuType==="imageselector"&&p!=="auto"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[bp.parts.items({preprocess:C!=="auto"?G2({tag:"div",classes:["tox-image-selector__row"]},C):Ie})]}]}))(p);return{value:s,dom:v.dom,components:v.components,items:f}}if(b.menuType==="normal"&&p==="auto"){const v=_4(p,f);return{value:s,dom:v.dom,components:v.components,items:f}}if(b.menuType==="normal"||b.menuType==="searchable"){const v=b.menuType!=="searchable"?_4(p,f):b.searchMode.searchMode==="search-with-field"?((C,A,T)=>{const M=je("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(C===1?["tox-collection--list"]:["tox-collection--grid"])},components:[x7({i18n:cl.translate,placeholder:T.placeholder}),{dom:{tag:"div",classes:[...C===1?["tox-collection--list"]:["tox-collection--grid"],q2],attributes:{id:M}},components:[k4(C,A,K2)]}]}})(p,f,b.searchMode):((C,A)=>{const T=je("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",q2].concat(C===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:T}},components:[k4(C,A,K2)]}})(p,f);return{value:s,dom:v.dom,components:v.components,items:f}}if(b.menuType==="listpreview"&&p!=="auto"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[bp.parts.items({preprocess:G2({tag:"div",classes:["tox-collection__group"]},C)})]}))(p);return{value:s,dom:v.dom,components:v.components,items:f}}return{value:s,dom:b7(l,p,b.menuType),components:y7,items:f}},_r=Ir("type"),ob=Ir("name"),Y2=Ir("label"),Ch=Ir("text"),C4=Ir("title"),Pw=Ir("icon"),X2=Ir("url"),dy=Ir("value"),_u=yl("fetch"),S4=yl("getSubmenuItems"),Cx=yl("onAction"),v7=yl("onItemAction"),uy=ds("onSetup",()=>ye),w7=Ys("name"),kf=Ys("text"),k7=Ys("role"),Nd=Ys("icon"),qm=Ys("tooltip"),_7=Ys("chevronTooltip"),fy=Ys("label"),Iw=Ys("shortcut"),C7=Fr("select"),hy=yi("active",!1),d5=yi("borderless",!1),_f=yi("enabled",!0),Fw=yi("primary",!1),E4=s=>Ke("columns",s),A4=Ke("meta",{}),T4=ds("onAction",ye),py=s=>gs("type",s),O4=s=>zr("name","name",tu(()=>je(`${s}-name`)),hr),S7=[_r,Ch,ic("level",["info","warn","error","success"]),Pw,Ke("url","")],u5=ko(S7),f5=[_r,Ch,_f,O4("button"),Nd,d5,Pc("buttonType",["primary","secondary","toolbar"]),Fw,gs("context","mode:design")],E7=ko(f5),my=[_r,ob],Cf=my.concat([fy]),A7=my.concat([Y2,_f,gs("context","mode:design")]),T7=ko(A7),h5=Xa,p5=Cf.concat([E4("auto"),gs("context","mode:design")]),m5=ko(p5),g5=Kh([dy,Ch,Pw]),O7=Cf.concat([gs("storageKey","default"),gs("context","mode:design")]),z7=ko(O7),b5=hr,z4=ko(Cf),D4=hr,y5=my.concat([gs("tag","textarea"),Ir("scriptId"),Ir("scriptUrl"),Fr("onFocus"),Pl("settings",void 0,n1)]),x5=my.concat([gs("tag","textarea"),yl("init")]),v5=cm(s=>Ps("customeditor.old",ba(x5),s).orThunk(()=>Ps("customeditor.new",ba(y5),s))),D7=hr,wp=[_f,kf,k7,Iw,zr("value","value",tu(()=>je("menuitem-value")),gi()),A4,gs("context","mode:design")],M7=ko([_r,ob].concat(wp)),w5=Xa,Q2=[O4("button"),Nd,$i("align","end",["start","end"]),Fw,_f,Pc("buttonType",["primary","secondary"]),gs("context","mode:design")],nb=[...Q2,Ch],M4=[ic("type",["submit","cancel","custom"]),...nb],N4=[ic("type",["menu"]),kf,qm,Nd,ta("items",M7),...Q2],J2=[...Q2,ic("type",["togglebutton"]),qm,Nd,kf,yi("active",!1)],N7=Ji("type",{submit:M4,cancel:M4,custom:M4,menu:N4,togglebutton:J2}),k5=Cf.concat([gs("context","mode:design")]),_5=ko(k5),C5=Qu(ga),R4=s=>[_r,Ju("columns"),s],S5=[_r,Ir("html"),$i("presets","presentation",["presentation","document"]),ds("onInit",ye),yi("stretched",!1)],R7=ko(S5),E5=Cf.concat([yi("border",!1),yi("sandboxed",!0),yi("streamContent",!1),yi("transparent",!0)]),A5=ko(E5),T5=hr,O5=ko(my.concat([Ys("height")])),L7=ko([Ir("url"),tr("zoom"),tr("cachedWidth"),tr("cachedHeight")]),L4=Cf.concat([Ys("inputMode"),Ys("placeholder"),yi("maximized",!1),_f,gs("context","mode:design")]),B7=ko(L4),P7=hr,I7=s=>[_r,Y2,s,$i("align","start",["start","center","end"]),Ys("for")],F7=[Ch,dy],z5=[Ch,ta("items",um(0,()=>D5))],D5=lm([ko(F7),ko(z5)]),Hw=Cf.concat([ta("items",D5),_f,gs("context","mode:design")]),M5=ko(Hw),H7=hr,$7=Cf.concat([ya("items",[Ch,dy]),xl("size",1),_f,gs("context","mode:design")]),B4=ko($7),V7=hr,j7=Cf.concat([yi("constrain",!0),_f,gs("context","mode:design")]),U7=ko(j7),N5=ko([Ir("width"),Ir("height")]),W7=my.concat([Y2,xl("min",0),xl("max",0)]),R5=ko(W7),Z7=Rc,q7=[_r,ta("header",hr),ta("cells",Qu(hr))],K7=ko(q7),L5=Cf.concat([Ys("placeholder"),yi("maximized",!1),_f,gs("context","mode:design"),xa("spellcheck",Xa)]),G7=ko(L5),Y7=hr,B5=[gs("buttonType","default"),Ys("text"),Ys("tooltip"),Ys("icon"),Pl("search",!1,lm([Xa,ko([Ys("placeholder")])],s=>D(s)?s?I.some({placeholder:I.none()}):I.none():I.some(s))),yl("fetch"),ds("onSetup",()=>ye),gs("context","mode:design")],P5=ko([_r,...B5]),P4=s=>Ps("menubutton",P5,s),I4=[ic("type",["directory","leaf"]),C4,Ir("id"),xa("menu",P5),Ys("customStateIcon"),Ys("customStateIconTooltip")],eC=ko(I4),X7=I4.concat([ta("children",um(0,()=>Lc("type",{directory:F4,leaf:eC})))]),F4=ko(X7),Q7=Lc("type",{directory:F4,leaf:eC}),$w=[_r,ta("items",Q7),Fr("onLeafAction"),Fr("onToggleExpand"),nu("defaultExpandedIds",[],hr),Ys("defaultSelectedId")],J7=ko($w),eF=Cf.concat([$i("filetype","file",["image","media","file"]),_f,Ys("picker_text"),gs("context","mode:design")]),tF=ko(eF),H4=ko([dy,A4]),tC=s=>zr("items","items",{tag:"required",process:{}},Qu(cm(l=>Ps(`Checking item of ${s}`,$4,l).fold(f=>pn.error(ou(f)),f=>pn.value(f))))),$4=bd(()=>{return Lc("type",{alertbanner:u5,bar:ko((s=tC("bar"),[_r,s])),button:E7,checkbox:T7,colorinput:z7,colorpicker:z4,dropzone:_5,grid:ko(R4(tC("grid"))),iframe:A5,input:B7,listbox:M5,selectbox:B4,sizeinput:U7,slider:R5,textarea:G7,urlinput:tF,customeditor:v5,htmlpanel:R7,imagepreview:O5,collection:m5,label:ko(I7(tC("label"))),table:K7,tree:J7,panel:I5});var s}),V4=[_r,Ke("classes",[]),ta("items",$4)],I5=ko(V4),oF=[O4("tab"),C4,ta("items",$4)],oC=[_r,ya("tabs",oF)],F5=ko(oC),H5=nb,nF=N7,sF=ko([Ir("title"),Fa("body",Lc("type",{panel:I5,tabpanel:F5})),gs("size","normal"),nu("buttons",[],nF),Ke("initialData",{}),ds("onAction",ye),ds("onChange",ye),ds("onSubmit",ye),ds("onClose",ye),ds("onCancel",ye),ds("onTabChange",ye)]),rF=ko([ic("type",["cancel","custom"]),...H5]),iF=ko([Ir("title"),Ir("url"),tr("height"),tr("width"),ef("buttons",rF),ds("onAction",ye),ds("onCancel",ye),ds("onClose",ye),ds("onMessage",ye)]),j4=s=>g(s)?[s].concat(Zo(ps(s),j4)):k(s)?Zo(s,j4):[],aF=s=>h(s.type)&&h(s.name),lF={checkbox:h5,colorinput:b5,colorpicker:D4,dropzone:C5,input:P7,iframe:T5,imagepreview:L7,selectbox:V7,sizeinput:N5,slider:Z7,listbox:H7,size:N5,textarea:Y7,urlinput:H4,customeditor:D7,collection:g5,togglemenuitem:w5},cF=s=>{const l=(p=>to(j4(p),aF))(s),f=Zo(l,p=>(b=>I.from(lF[b.type]))(p).fold(()=>[],b=>[Fa(p.name,b)]));return ko(f)},$5=s=>({internalDialog:Ia(Ps("dialog",sF,s)),dataValidator:cF(s),initialData:s.initialData??{}}),gy={open:(s,l)=>{const f=$5(l);return s(f.internalDialog,f.initialData,f.dataValidator)},openUrl:(s,l)=>s(Ia(Ps("dialog",iF,l))),redial:s=>$5(s)},nC=ko([_r,kf]),V5=ko([py("autocompleteitem"),hy,_f,A4,dy,kf,Nd]),Sx=[_f,qm,Nd,kf,uy,gs("context","mode:design")],dF=ko([_r,Cx,Iw].concat(Sx)),sC=s=>Ps("toolbarbutton",dF,s),U4=[hy].concat(Sx),uF=ko(U4.concat([_r,Cx,Iw])),W4=s=>Ps("ToggleButton",uF,s),Vw=[ds("predicate",Me),$i("scope","node",["node","editor"]),$i("position","selection",["node","selection","line"])],j5=Sx.concat([py("contextformbutton"),gs("align","end"),Fw,Cx,bi("original",Ie)]),fF=U4.concat([py("contextformbutton"),gs("align","end"),Fw,Cx,bi("original",Ie)]),hF=Sx.concat([py("contextformbutton")]),pF=U4.concat([py("contextformtogglebutton")]),rC=[fy,ta("commands",Ji("type",{contextformbutton:j5,contextformtogglebutton:fF})),xa("launch",Ji("type",{contextformbutton:hF,contextformtogglebutton:pF})),ds("onInput",ye),ds("onSetup",ye)],Z4=[...Vw,...rC,ic("type",["contextform"]),ds("initValue",ge("")),Ys("placeholder")],mF=[...Vw,...rC,ic("type",["contextsliderform"]),ds("initValue",ge(0)),ds("min",ge(0)),ds("max",ge(100))],gF=[...Vw,...rC,ic("type",["contextsizeinputform"]),ds("initValue",ge({width:"",height:""}))],bF=Ji("type",{contextform:Z4,contextsliderform:mF,contextsizeinputform:gF}),yF=Sx.concat([py("contexttoolbarbutton")]),xF=ko([py("contexttoolbar"),oa("launch",yF),Fa("items",lm([hr,Kh([Ys("name"),Ys("label"),ta("items",hr)])]))].concat(Vw)),vF=s=>({name:s.name.getOrUndefined(),label:s.label.getOrUndefined(),items:s.items}),U5=[_r,Ir("src"),Ys("alt"),nu("classes",[],hr)],W5=ko(U5),wF=[_r,Ch,w7,nu("classes",["tox-collection__item-label"],hr)],kF=ko(wF),Z5=bd(()=>Lc("type",{cardimage:W5,cardtext:kF,cardcontainer:Gc})),Gc=ko([_r,gs("direction","horizontal"),gs("align","left"),gs("valign","middle"),ta("items",Z5)]),Sf=ko([_r,fy,ta("items",Z5),uy,T4].concat(wp)),q5=ko([_r,hy,Nd,fy].concat(wp)),jw=[_r,Ir("fancytype"),T4],q4=[Ke("initData",{})].concat(jw),iC=[Fr("select"),Gh("initData",{},[yi("allowCustomColors",!0),gs("storageKey","default"),ef("colors",gi())])].concat(jw),_F=[Fr("select"),ea("initData",[Ju("columns"),nu("items",[],gi())])].concat(jw),K5=Ji("fancytype",{inserttable:q4,colorswatch:iC,imageselect:_F}),Uw=ko([_r,hy,X2,fy,qm].concat(wp)),CF=ko([_r,hy,Pw,Y2,qm,dy].concat(wp)),aC=ko([_r,uy,T4,Nd].concat(wp)),K4=ko([_r,S4,uy,Nd].concat(wp)),G5=ko([_r,Nd,hy,uy,Cx].concat(wp)),Ww=ko([Nd,qm,ds("onShow",ye),ds("onHide",ye),uy]),SF=ko([_r,Fa("items",lm([Kh([ob,ta("items",hr)]),hr]))].concat(Sx)),EF=ko([_r,qm,_7,Nd,kf,C7,_u,uy,$i("presets","normal",["normal","color","listpreview"]),E4(1),Cx,v7,gs("context","mode:design")]),Ef=[kf,Nd,Ys("tooltip"),$i("buttonType","secondary",["primary","secondary"]),yi("borderless",!1),yl("onAction"),gs("context","mode:design")],gc={button:[...Ef,Ch,ic("type",["button"])],togglebutton:[...Ef,yi("active",!1),ic("type",["togglebutton"])]},Zw=[ic("type",["group"]),nu("buttons",[],Ji("type",gc))],Yc=Ji("type",{...gc,group:Zw}),AF=ko([nu("buttons",[],Yc),yl("onShow"),yl("onHide")]),Ss=(s,l,f)=>{const p=ri(s.element,"."+f);if(p.length>0){const b=ir(p,v=>{const C=v.dom.getBoundingClientRect().top,A=p[0].dom.getBoundingClientRect().top;return Math.abs(C-A)>l}).getOr(p.length);return I.some({numColumns:b,numRows:Math.ceil(p.length/b)})}return I.none()},qw=s=>((l,f)=>Ct([Co(l,f)]))(je("unnamed-events"),s),kp=s=>io.config({disabled:s,disableClass:"tox-collection__item--state-disabled"}),Km=s=>io.config({disabled:s}),Kw=s=>io.config({disabled:s,disableClass:"tox-tbtn--disabled",useNative:!1}),by=(s,l)=>{const f=s.getApi(l);return p=>{p(f)}},Cu=(s,l)=>Cs(f=>{ie(s.onBeforeSetup)&&s.onBeforeSetup(f),by(s,f)(p=>{const b=s.onSetup(p);ie(b)&&l.set(b)})}),yy=(s,l)=>_d(f=>by(s,f)(l.get())),Gw=(s,l,f)=>_d(p=>(f.set(Zt.getValue(p)),by(s,p)(l.get()))),Y5="silver.uistate",Ex="setDisabled",G4="init",Y4=["switchmode",G4],Ax=(s,l)=>{const f=s.mainUi.outerContainer,p=[s.mainUi.mothership,...s.uiMotherships];l===Ex&&Ge(p,b=>{b.broadcastOn([uu()],{target:f.element})}),Ge(p,b=>{b.broadcastOn([Y5],l)})},Yw=(s,l)=>{s.on("init SwitchMode",f=>{Ax(l,f.type)}),s.on("DisabledStateChange",f=>{if(!f.isDefaultPrevented()){const p=f.state?Ex:G4;Ax(l,p),f.state||s.nodeChanged()}}),s.on("NodeChange",f=>{const p=s.ui.isEnabled()?f.type:Ex;Ax(l,p)}),DM(s)&&s.mode.set("readonly")},fi=s=>$l.config({channels:{[Y5]:{onReceive:(l,f)=>{if(f===Ex||f==="setEnabled")return void io.set(l,f===Ex);const{contextType:p,shouldDisable:b}=s();(p!=="mode"||ft(Y4,f))&&io.set(l,b)}}}}),TF=(s,l)=>lf((f,p)=>{by(s,f)(s.onAction),s.triggersSubmenu||l!==Md.CLOSE_ON_EXECUTE||(f.getSystem().isConnected()&&mn(f,wa()),p.stop())}),OF={[tl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Tx=Xl,xy=(s,l,f,p)=>{const b=jt(ye);return{type:"item",dom:l.dom,components:Tx(l.optComponents),data:s.data,eventOrder:OF,hasSubmenu:s.triggersSubmenu,itemBehaviours:Ct([Co("item-events",[TF(s,f),Cu(s,b),yy(s,b)]),kp(()=>!s.enabled||p.checkUiComponentContext(s.context).shouldDisable),fi(()=>p.checkUiComponentContext(s.context)),jo.config({})].concat(s.itemBehaviours))}},sb=s=>({value:s.value,meta:{text:s.text.getOr(""),...s.meta}}),zF=(s,l)=>{const f=Gs("div");return _s(f,"tox-image-selector-loading-spinner"),{dom:{tag:s.tag,attributes:s.attributes??{},classes:s.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:l},classes:["tox-image-selector-image-img"]}}]},...s.checkMark.toArray()],behaviours:Ct([...s.behaviours??[],Co("render-image-events",[Cs(p=>{var b;b=p.element,_s(b,"tox-image-selector-loading-spinner-wrapper"),Ma(b,f),rs(p.element,"img").each(v=>{Wu(v).catch(C=>{console.error(C)}).finally(()=>{(C=>{ln(C,"tox-image-selector-loading-spinner-wrapper"),Kd(f)})(p.element)})})})])])}},X4=s=>{const l=gx.os.isMacOS()||gx.os.isiOS(),f=l?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},p=s.split("+"),b=Le(p,v=>{const C=v.toLowerCase().trim();return en(f,C)?f[C]:v});return l?b.join(""):b.join("+")},lC=(s,l,f=[r5])=>Dd(s,{tag:"div",classes:f},l),X5=s=>({dom:{tag:"div",classes:[b4]},components:[Xs(cl.translate(s))]}),Q4=(s,l)=>({dom:{tag:"div",classes:l,innerHtml:s}}),Xw=(s,l)=>({dom:{tag:"div",classes:[b4]},components:[{dom:{tag:s.tag,styles:s.styles},components:[Xs(cl.translate(l))]}]}),DF=s=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Xs(X4(s))]}),J4=s=>lC("checkmark",s,["tox-collection__item-checkmark"]),cC=(s,l)=>{const f=s.map(p=>({attributes:{id:je("menu-item"),"aria-label":cl.translate(p)}})).getOr({});return{tag:"div",classes:[V2,Lw].concat(l),...f}},e3=s=>({dom:{tag:"label"},components:[Xs(s)]}),rb=(s,l,f,p=I.none())=>s.presets==="color"?((b,v,C)=>{const A=b.value,T=b.iconContent.map(P=>((B,H,Z)=>{const X=H();return H2(B,X).or(Z).getOrThunk(I2(X))})(P,v.icons,C)),M=b.ariaLabel.map(P=>({"aria-label":v.translate(P),"data-mce-name":P})).getOr({});return{dom:(()=>{const P=s5,B=T.getOr(""),H={tag:"div",attributes:M,classes:[P]};return A==="custom"?{...H,tag:"button",classes:[...H.classes,"tox-swatches__picker-btn"],innerHtml:B}:A==="remove"?{...H,classes:[...H.classes,"tox-swatch--remove"],innerHtml:B}:Y(A)?{...H,attributes:{...H.attributes,"data-mce-color":A},styles:{"background-color":A},innerHtml:B}:H})(),optComponents:[]}})(s,l,p):s.presets==="img"?(b=>{var v,C;return{dom:cC(b.ariaLabel,["tox-collection__item-image-selector"]),optComponents:[I.some((v=b.iconContent.getOrDie(),C={tag:"div",classes:["tox-collection__item-image"],checkMark:b.checkMark},zF(C,v))),b.labelContent.map(e3)]}})(s):((b,v,C,A)=>{const T={tag:"div",classes:[r5]},M=C?b.iconContent.map(Z=>Dd(Z,T,v.icons,A)).orThunk(()=>I.some({dom:T})):I.none(),P=b.checkMark,B=I.from(b.meta).fold(()=>X5,Z=>en(Z,"style")?Ve(Xw,Z.style):X5),H=b.htmlContent.fold(()=>b.textContent.map(B),Z=>I.some(Q4(Z,[b4])));return{dom:cC(b.ariaLabel,[]),optComponents:[M,H,b.shortcutContent.map(DF),P,b.caret,b.labelContent.map(e3)]}})(s,l,f,p),t3=(s,l,f)=>so(s,"tooltipWorker").map(p=>[Is.config({lazySink:l.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:lh}}),mode:"follow-highlight",onShow:(b,v)=>{p(C=>{Is.setComponents(b,[xz({element:Ut(C)})])})}})]).getOrThunk(()=>f.map(p=>[Is.config({...l.providers.tooltips.getConfig({tooltipText:p}),mode:"follow-highlight"})]).getOr([])),Q5=(s,l)=>{const f=(p=>Cw.DOM.encode(p))(cl.translate(s));if(l.length>0){const p=new RegExp((b=>b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(l),"gi");return f.replace(p,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}return f},J5=(s,l)=>Le(s,f=>{switch(f.type){case"cardcontainer":return((v,C)=>{const A=v.direction==="vertical"?"tox-collection__item-container--column":j2,T=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[y4,A,T,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:C}})(f,J5(f.items,l));case"cardimage":return((v,C,A)=>({dom:{tag:"img",classes:C,attributes:{src:v,alt:A.getOr("")}}}))(f.src,f.classes,f.alt);case"cardtext":const p=f.name.exists(v=>ft(l.cardText.highlightOn,v)),b=p?I.from(l.cardText.matchText).getOr(""):"";return Q4(Q5(f.text,b),f.classes)}}),eN=(s,l,f,p,b,v,C,A=!0)=>{const T=rb({presets:f,textContent:l?s.text:I.none(),htmlContent:I.none(),labelContent:s.label,ariaLabel:s.text,iconContent:s.icon,shortcutContent:l?s.shortcut:I.none(),checkMark:l?I.some(J4(C.icons)):I.none(),caret:I.none(),value:s.value},C,A),M=s.text.filter(ge(!l)).map(P=>Is.config(C.tooltips.getConfig({tooltipText:C.translate(P)})));return Js(xy({context:s.context,data:sb(s),enabled:s.enabled,getApi:P=>({setActive:B=>{Ko.set(P,B)},isActive:()=>Ko.isOn(P),isEnabled:()=>!io.isDisabled(P),setEnabled:B=>io.set(P,!B)}),onAction:P=>p(s.value),onSetup:P=>(P.setActive(b),ye),triggersSubmenu:!1,itemBehaviours:[...M.toArray()]},T,v,C),{toggling:{toggleClass:g4,toggleOnExecute:!1,selected:s.active,exclusive:!0}})},tN=s=>({value:Su(s)}),oN=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,nN=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,o3=s=>oN.test(s)||nN.test(s),Su=s=>cs(s,"#").toUpperCase(),n3=s=>{const l=s.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},vy=s=>{const l=n3(s.red)+n3(s.green)+n3(s.blue);return tN(l)},Ox=(s,l,f)=>({hue:s,saturation:l,value:f}),dC=s=>{let l=0,f=0,p=0;const b=s.red/255,v=s.green/255,C=s.blue/255,A=Math.min(b,Math.min(v,C)),T=Math.max(b,Math.max(v,C));return A===T?(p=A,Ox(0,0,100*p)):(l=b===A?3:C===A?1:5,l=60*(l-(b===A?v-C:C===A?b-v:C-b)/(T-A)),f=(T-A)/T,p=T,Ox(Math.round(l),Math.round(100*f),Math.round(100*p)))},sN=Math.min,s3=Math.max,Qw=Math.round,rN=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,MF=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,wy=(s,l,f,p)=>({red:s,green:l,blue:f,alpha:p}),r3=s=>{const l=parseInt(s,10);return l.toString()===s&&l>=0&&l<=255},iN=s=>{let l,f,p;const b=(s.hue||0)%360;let v=s.saturation/100,C=s.value/100;if(v=s3(0,sN(v,1)),C=s3(0,sN(C,1)),v===0)return l=f=p=Qw(255*C),wy(l,f,p,1);const A=b/60,T=C*v,M=T*(1-Math.abs(A%2-1)),P=C-T;switch(Math.floor(A)){case 0:l=T,f=M,p=0;break;case 1:l=M,f=T,p=0;break;case 2:l=0,f=T,p=M;break;case 3:l=0,f=M,p=T;break;case 4:l=M,f=0,p=T;break;case 5:l=T,f=0,p=M;break;default:l=f=p=0}return l=Qw(255*(l+P)),f=Qw(255*(f+P)),p=Qw(255*(p+P)),wy(l,f,p,1)},Jw=s=>{const l=(v=>{const C=(T=>({value:T.value.replace(oN,(P,B,H,Z)=>B+B+H+H+Z+Z)}))(v),A=nN.exec(C.value);return A===null?["FFFFFF","FF","FF","FF"]:A})(s),f=parseInt(l[1],16),p=parseInt(l[2],16),b=parseInt(l[3],16);return wy(f,p,b,1)},aN=(s,l,f,p)=>{const b=parseInt(s,10),v=parseInt(l,10),C=parseInt(f,10),A=parseFloat(p);return wy(b,v,C,A)},i3=s=>{const l=rN.exec(s);if(l!==null)return I.some(aN(l[1],l[2],l[3],"1"));const f=MF.exec(s);return f!==null?I.some(aN(f[1],f[2],f[3],f[4])):I.none()},a3=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,l3=wy(255,0,0,1),c3=s=>vy(iN(s)),uC=(s,l)=>{s.dispatch("ResizeContent",l)},lN=(s,l)=>{s.dispatch("TextColorChange",l)},NF=(s,l)=>s.dispatch("ResolveName",{name:l.nodeName.toLowerCase(),target:l}),cN=s=>{s.dispatch("ContextToolbarClose")},ek=(s,l)=>()=>{s(),l()},Wi=(s,l=yt)=>_y(s,"NodeChange",f=>{f.setEnabled(s.selection.isEditable()&&l())}),ky=(s,l)=>f=>{const p=Wi(s)(f),b=((v,C)=>A=>{const T=ti(),M=()=>{A.setActive(v.formatter.match(C));const P=v.formatter.formatChanged(C,A.setActive);T.set(P)};return v.initialized?M():v.once("init",M),()=>{v.off("init",M),T.clear()}})(s,l)(f);return()=>{p(),b()}},_y=(s,l,f)=>p=>{const b=()=>f(p),v=()=>{f(p),s.on(l,b)};return s.initialized?v():s.once("init",v),()=>{s.off("init",v),s.off(l,b)}},d3=s=>l=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("mceToggleFormat",!1,l.format)})},bc=(s,l)=>()=>s.execCommand(l);var ib=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const u3={},fC=s=>so(u3,s).getOrThunk(()=>{const l=`tinymce-custom-colors-${s}`,f=ib.getItem(l);if(K(f)){const b=ib.getItem("tinymce-custom-colors");ib.setItem(l,Y(b)?b:"[]")}const p=((b,v=10)=>{const C=ib.getItem(b),A=h(C)?JSON.parse(C):[],T=v-(M=A).length<0?M.slice(0,v):M;var M;const P=B=>{T.splice(B,1)};return{add:B=>{((H,Z)=>{const X=En(H,Z);return X===-1?I.none():I.some(X)})(T,B).each(P),T.unshift(B),T.length>v&&T.pop(),ib.setItem(b,JSON.stringify(T))},state:()=>T.slice(0)}})(l,10);return u3[s]=p,p}),hC=(s,l)=>{fC(s).add(l)},f3="forecolor",h3="hilitecolor",dN=s=>{const l=[];for(let f=0;f<s.length;f+=2)l.push({text:s[f+1],value:s[f],icon:"checkmark",type:"choiceitem"});return l},Af=s=>l=>l.options.get(s),pC="#000000",mC=(s,l)=>l===f3&&s.options.isSet("color_map_foreground")?Af("color_map_foreground")(s):l===h3&&s.options.isSet("color_map_background")?Af("color_map_background")(s):s.options.isSet("color_map_raw")?Af("color_map_raw")(s):Af("color_map")(s),p3=(s,l="default")=>Math.max(5,Math.ceil(Math.sqrt(mC(s,l).length))),m3=(s,l)=>{const f=Af("color_cols")(s),p=p3(s,l);return f===p3(s)?p:f},uN=(s,l="default")=>Math.round(l===f3?Af("color_cols_foreground")(s):l===h3?Af("color_cols_background")(s):Af("color_cols")(s)),fN=Af("custom_colors"),RF=Af("color_default_foreground"),LF=Af("color_default_background"),hN=(s,l)=>{const f=Ut(s.selection.getStart()),p=l==="hilitecolor"?sm(f,b=>{if(In(b)){const v=Pi(b,"background-color");return Ks((C=>i3(C).exists(A=>A.alpha!==0))(v),v)}return I.none()}).getOr("rgba(0, 0, 0, 0)"):Pi(f,"color");return i3(p).map(b=>"#"+vy(b).value)},pN=s=>{const l="choiceitem",f={type:l,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return s?[f,{type:l,text:"Custom color",icon:"color-picker",value:"custom"}]:[f]},g3=(s,l,f,p)=>{f==="custom"?xN(s)(b=>{b.each(v=>{hC(l,v),s.execCommand("mceApplyTextcolor",l,v),p(v)})},hN(s,l).getOr(pC)):f==="remove"?(p(""),s.execCommand("mceRemoveTextcolor",l)):(p(f),s.execCommand("mceApplyTextcolor",l,f))},gC=(s,l,f)=>s.concat((p=>Le(fC(p).state(),b=>({type:"choiceitem",text:b,icon:"checkmark",value:b})))(l).concat(pN(f))),b3=(s,l,f)=>p=>{p(gC(s,l,f))},y3=(s,l,f)=>{const p=l==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s.setIconFill(p,f)},mN=(s,l)=>{s.setTooltip(l)},gN=(s,l)=>f=>{const p=hN(s,l);return Mn(p,f.toUpperCase())},bC=(s,l,f)=>{if(Cc(f))return l==="forecolor"?"Text color":"Background color";const p=l==="forecolor"?"Text color {0}":"Background color {0}",b=gC(mC(s,l),l,!1),v=G(b,C=>C.value===f).getOr({text:""}).text;return s.translate([p,s.translate(v)])},bN=(s,l,f,p)=>{s.ui.registry.addSplitButton(l,{tooltip:bC(s,f,p.get()),chevronTooltip:l==="forecolor"?"Text color menu":"Background color menu",presets:"color",icon:l==="forecolor"?"text-color":"highlight-bg-color",select:gN(s,f),columns:uN(s,f),fetch:b3(mC(s,f),f,fN(s)),onAction:b=>{g3(s,f,p.get(),ye)},onItemAction:(b,v)=>{g3(s,f,v,C=>{p.set(C),lN(s,{name:l,color:C})})},onSetup:b=>{y3(b,l,p.get());const v=C=>{C.name===l&&(y3(b,C.name,C.color),mN(b,bC(s,f,C.color)))};return s.on("TextColorChange",v),ek(Wi(s)(b),()=>{s.off("TextColorChange",v)})}})},yN=(s,l,f,p,b)=>{s.ui.registry.addNestedMenuItem(l,{text:p,icon:l==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(mN(v,bC(s,f,b.get())),y3(v,l,b.get()),Wi(s)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:gN(s,f),initData:{storageKey:f},onAction:v=>{g3(s,f,v.value,C=>{b.set(C),lN(s,{name:l,color:C})})}}]})},xN=s=>(l,f)=>{let p=!1;const b={colorpicker:f};s.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b,onAction:(v,C)=>{C.name==="hex-valid"&&(p=C.value)},onSubmit:v=>{const C=v.getData().colorpicker;p?(l(I.from(C)),v.close()):s.windowManager.alert(s.translate(["Invalid hex color code: {0}",C]))},onClose:ye,onCancel:()=>{l(I.none())}})},Cy=(s,l,f,p,b,v,C,A)=>{const T=_x(l),M=BF(l,f,p,b!=="color"?"normal":"color",v,C,A);return _h(s,T,M,p,{menuType:b})},BF=(s,l,f,p,b,v,C)=>Xl(Le(s,A=>{return A.type==="choiceitem"?(T=A,Ps("choicemenuitem",q5,T)).fold(wf,M=>I.some(eN(M,f===1,p,l,v(M.value),b,C,_x(s)))):A.type==="imageitem"?(M=>Ps("imagemenuitem",Uw,M))(A).fold(wf,M=>I.some(((P,B,H,Z,X)=>{const le=rb({presets:"img",textContent:I.none(),htmlContent:I.none(),ariaLabel:P.tooltip,iconContent:I.some(P.url),labelContent:P.label,shortcutContent:I.none(),checkMark:I.some(J4(X.icons)),caret:I.none(),value:P.value},X,!0),se=P.tooltip.map(ae=>Is.config(X.tooltips.getConfig({tooltipText:X.translate(ae)})));return Js(xy({context:P.context,data:sb(P),enabled:P.enabled,getApi:ae=>({setActive:te=>{Ko.set(ae,te)},isActive:()=>Ko.isOn(ae),isEnabled:()=>!io.isDisabled(ae),setEnabled:te=>io.set(ae,!te)}),onAction:ae=>{B(P.value),ae.setActive(!0)},onSetup:ae=>(ae.setActive(H),ye),triggersSubmenu:!1,itemBehaviours:[...se.toArray()]},le,Z,X),{toggling:{toggleClass:g4,toggleOnExecute:!1,selected:P.active,exclusive:!0}})})(M,l,v(M.value),b,C))):A.type==="resetimage"?(M=>Ps("resetimageitem",CF,M))(A).fold(wf,M=>I.some(eN({...M,text:M.tooltip,icon:I.some(M.icon),label:I.some(M.label)},f===1,p,l,v(M.value),b,C,_x(s)))):I.none();var T})),tk=(s,l)=>{const f=eb(l);return s===1?{mode:"menu",moveOnTab:!0}:s==="auto"?{mode:"grid",selector:"."+f.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[l],previousSelector:p=>l==="color"?rs(p.element,"[aria-checked=true]"):I.none()}},vN=je("cell-over"),wN=je("cell-execute"),PF=(s,l,f)=>{const p=v=>co(v,wN,{row:s,col:l}),b=(v,C)=>{C.stop(),p(v)};return ja({dom:{tag:"div",attributes:{role:"button","aria-label":f}},behaviours:Ct([Co("insert-table-picker-cell",[ct(Wt(),Mo.focus),ct(tl(),p),ct(Ja(),b),ct(bs(),b)]),Ko.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Mo.config({onFocus:v=>co(v,vN,{row:s,col:l})})])})},IF=s=>Zo(s,l=>Le(l,Ed)),kN=(s,l)=>Xs(`${l}x${s}`),FF={inserttable:(s,l)=>{const f=(C=>(A,T)=>C.shared.providers.translate(["{0} columns, {1} rows",T,A]))(l),p=(C=>{const A=[];for(let T=0;T<10;T++){const M=[];for(let P=0;P<10;P++){const B=C(T+1,P+1);M.push(PF(T,P,B))}A.push(M)}return A})(f),b=kN(0,0),v=Hn({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[b],behaviours:Ct([jo.config({})])});return{type:"widget",data:{value:je("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[i2.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:IF(p).concat(v.asSpec()),behaviours:Ct([Co("insert-table-picker",[Cs(C=>{jo.set(v.get(C),[b])}),z1(vN,(C,A,T)=>{const{row:M,col:P}=T.event;((B,H,Z)=>{for(let X=0;X<10;X++)for(let le=0;le<10;le++)Ko.set(B[X][le],X<=H&&le<=Z)})(p,M,P),jo.set(v.get(C),[kN(M+1,P+1)])}),z1(wN,(C,A,T)=>{const{row:M,col:P}=T.event;mn(C,wa()),s.onAction({numRows:M+1,numColumns:P+1})})]),Qt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(s,l)=>{const f=((A,T)=>{const M=A.initData.allowCustomColors&&T.colorinput.hasCustomColors();return A.initData.colors.fold(()=>gC(T.colorinput.getColors(A.initData.storageKey),A.initData.storageKey,M),P=>P.concat(pN(M)))})(s,l),p=l.colorinput.getColorCols(s.initData.storageKey),b="color",v=Cy(je("menu-value"),f,A=>{s.onAction({value:A})},p,b,Md.CLOSE_ON_EXECUTE,s.select.getOr(Me),l.shared.providers),C={...v,markers:eb(b),movement:tk(p,b),showMenuRole:!1};return{type:"widget",data:{value:je("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[i2.widget(bp.sketch(C))]}},imageselect:(s,l)=>{const f="imageselector",p=s.initData.columns,b=Cy(je("menu-value"),s.initData.items,C=>{s.onAction({value:C})},p,f,Md.CLOSE_ON_EXECUTE,s.select.getOr(Me),l.shared.providers),v={...b,markers:eb(f),movement:tk(p,f),showMenuRole:!1};return{type:"widget",data:{value:je("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[i2.widget(bp.sketch(v))]}}},_N=s=>({type:"separator",dom:{tag:"div",classes:[Lw,"tox-collection__group-heading"]},components:s.text.map(Xs).toArray()}),CN=(s,l,f)=>{Z2(s).each(p=>{var b;((v,C)=>{si(C.element,"id").each(A=>mo(v.element,"aria-activedescendant",A))})(p,f),(kr((b=l).element,q2)?I.some(b.element):rs(b.element,"."+q2)).each(v=>{si(v,"id").each(C=>mo(p.element,"aria-controls",C))})}),mo(f.element,"aria-selected","true")},HF=(s,l,f)=>{mo(f.element,"aria-selected","false")},$F=s=>Yr.getExistingCoupled(s,"sandbox").bind(W2).map(tb).map(l=>l.fetchPattern).getOr("");var yC;(function(s){s[s.ContentFocus=0]="ContentFocus",s[s.UiFocus=1]="UiFocus"})(yC||(yC={}));const x3=(s,l,f,p,b)=>{const v=f.shared.providers,C=T=>b?{...T,shortcut:I.none(),icon:T.text.isSome()?I.none():T.icon}:T;switch(s.type){case"menuitem":return(A=s,Ps("menuitem",aC,A)).fold(wf,T=>I.some(((M,P,B,H=!0)=>{const Z=rb({presets:"normal",iconContent:M.icon,textContent:M.text,htmlContent:I.none(),labelContent:I.none(),ariaLabel:M.text,caret:I.none(),checkMark:I.none(),shortcutContent:M.shortcut},B,H);return xy({context:M.context,data:sb(M),getApi:X=>({isEnabled:()=>!io.isDisabled(X),setEnabled:le=>io.set(X,!le)}),enabled:M.enabled,onAction:M.onAction,onSetup:M.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Z,P,B)})(C(T),l,v,p)));case"nestedmenuitem":return(T=>Ps("nestedmenuitem",K4,T))(s).fold(wf,T=>I.some(((M,P,B,H=!0,Z=!1)=>{const X=Z?(le=B.icons,lC("chevron-down",le,[i5])):(ae=>lC("chevron-right",ae,[i5]))(B.icons);var le;const se=rb({presets:"normal",iconContent:M.icon,textContent:M.text,htmlContent:I.none(),ariaLabel:M.text,labelContent:I.none(),caret:I.some(X),checkMark:I.none(),shortcutContent:M.shortcut},B,H);return xy({context:M.context,data:sb(M),getApi:ae=>({isEnabled:()=>!io.isDisabled(ae),setEnabled:te=>io.set(ae,!te),setIconFill:(te,oe)=>{rs(ae.element,`svg path[class="${te}"], rect[class="${te}"]`).each(ue=>{mo(ue,"fill",oe)})},setTooltip:te=>{const oe=B.translate(te);mo(ae.element,"aria-label",oe)}}),enabled:M.enabled,onAction:ye,onSetup:M.onSetup,triggersSubmenu:!0,itemBehaviours:[]},se,P,B)})(C(T),l,v,p,b)));case"togglemenuitem":return(T=>Ps("togglemenuitem",G5,T))(s).fold(wf,T=>I.some(((M,P,B,H=!0)=>{const Z=rb({iconContent:M.icon,textContent:M.text,htmlContent:I.none(),labelContent:I.none(),ariaLabel:M.text,checkMark:I.some(J4(B.icons)),caret:I.none(),shortcutContent:M.shortcut,presets:"normal",meta:M.meta},B,H);return Js(xy({context:M.context,data:sb(M),enabled:M.enabled,getApi:X=>({setActive:le=>{Ko.set(X,le)},isActive:()=>Ko.isOn(X),isEnabled:()=>!io.isDisabled(X),setEnabled:le=>io.set(X,!le)}),onAction:M.onAction,onSetup:M.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Z,P,B),{toggling:{toggleClass:g4,toggleOnExecute:!1,selected:M.active},role:M.role.getOrUndefined()})})(C(T),l,v,p)));case"separator":return(T=>Ps("separatormenuitem",nC,T))(s).fold(wf,T=>I.some(_N(T)));case"fancymenuitem":return(T=>Ps("fancymenuitem",K5,T))(s).fold(wf,T=>((M,P)=>so(FF,M.fancytype).map(B=>B(M,P)))(T,f));default:return console.error("Unknown item in general menu",s),I.none()}var A},VF=(s,l,f,p,b,v,C)=>{const A=p===1,T=!A||_x(s);return Xl(Le(s,M=>{switch(M.type){case"separator":return(P=M,Ps("Autocompleter.Separator",nC,P)).fold(wf,B=>I.some(_N(B)));case"cardmenuitem":return(B=>Ps("cardmenuitem",Sf,B))(M).fold(wf,B=>I.some(((H,Z,X,le)=>{const se={dom:cC(H.label,[]),optComponents:[I.some({dom:{tag:"div",classes:[y4,j2]},components:J5(H.items,le)})]};return xy({context:"mode:design",data:sb({text:I.none(),...H}),enabled:H.enabled,getApi:ae=>({isEnabled:()=>!io.isDisabled(ae),setEnabled:te=>{io.set(ae,!te),Ge(ri(ae.element,"*"),oe=>{ae.getSystem().getByDom(oe).each(ue=>{ue.hasConfigured(io)&&io.set(ue,!te)})})}}),onAction:H.onAction,onSetup:H.onSetup,triggersSubmenu:!1,itemBehaviours:I.from(le.itemBehaviours).getOr([])},se,Z,X.providers)})({...B,onAction:H=>{B.onAction(H),f(B.value,B.meta)}},b,v,{itemBehaviours:t3(B.meta,v,I.none()),cardText:{matchText:l,highlightOn:C}})));default:return(B=>Ps("Autocompleter.Item",V5,B))(M).fold(wf,B=>I.some(((H,Z,X,le,se,ae,te,oe=!0)=>{const ue=rb({presets:le,textContent:I.none(),htmlContent:X?H.text.map(Oe=>Q5(Oe,Z)):I.none(),ariaLabel:H.text,labelContent:I.none(),iconContent:H.icon,shortcutContent:I.none(),checkMark:I.none(),caret:I.none(),value:H.value},te.providers,oe,H.icon),pe=H.text.filter(Oe=>!X&&Oe!=="");return xy({context:"mode:design",data:sb(H),enabled:H.enabled,getApi:ge({}),onAction:Oe=>se(H.value,H.meta),onSetup:ge(ye),triggersSubmenu:!1,itemBehaviours:t3(H,te,pe)},ue,ae,te.providers)})(B,l,A,"normal",f,b,v,T)))}var P}))},SN=(s,l,f,p,b,v)=>{const C=_x(l),A=Xl(Le(l,M=>{const P=B=>x3(B,f,p,(H=>b?!en(H,"text"):C)(B),b);return M.type==="nestedmenuitem"&&M.getSubmenuItems().length<=0?P({...M,enabled:!1}):P(M)})),T=(M=>M.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:M})(v);return(b?Zm:_h)(s,C,A,1,T)},v3=s=>Bm.singleData(s.value,s),EN=s=>kg(Ut(s.startContainer),s.startOffset,Ut(s.endContainer),s.endOffset),jF=(s,l)=>{const f=je("autocompleter"),p=jt(!1),b=jt(!1),v=Qn(),C=ja(rr.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:f}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Ct([Co("dismissAutocompleter",[ct(pm(),()=>B()),ct(Av(),(X,le)=>{si(le.event.target,"id").each(se=>mo(Ut(s.getBody()),"aria-activedescendant",se))})])]),lazySink:l.getSink})),A=()=>rr.isOpen(C),T=b.get,M=()=>{if(A()){rr.hide(C),s.dom.remove(f,!1);const X=Ut(s.getBody());si(X,"aria-owns").filter(le=>le===f).each(()=>{ur(X,"aria-owns"),ur(X,"aria-activedescendant")})}},P=()=>rr.getContent(C).bind(X=>es(X.components(),0)),B=()=>s.execCommand("mceAutocompleterClose"),H=X=>{const le=(se=>{const ae=Yt(se,te=>I.from(te.columns)).getOr(1);return Zo(se,te=>{const oe=te.items;return VF(oe,te.matchText,(ue,pe)=>{const Oe={hide:()=>B(),reload:Te=>{M(),s.execCommand("mceAutocompleterReload",!1,{fetchOptions:Te})}};s.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(Te=>{p.set(!0),te.onAction(Oe,Te,ue,pe),p.set(!1)})},ae,Md.BUBBLE_TO_SANDBOX,l,te.highlightOn)})})(X);le.length>0?(((se,ae)=>{const te=Yt(se,oe=>I.from(oe.columns)).getOr(1);rr.showMenuAt(C,{anchor:{type:"selection",getSelection:()=>v.get().map(EN),root:Ut(s.getBody())}},((oe,ue,pe,Oe)=>{const Te=tk(ue,Oe),De=eb(Oe);return{data:v3({...oe,movement:Te,menuBehaviours:qw(ue!=="auto"?[]:[Cs((et,nt)=>{Ss(et,4,De.item).each(({numColumns:Ye,numRows:st})=>{Qt.setGridSize(et,st,Ye)})})])}),menu:{markers:eb(Oe),fakeFocus:pe===yC.ContentFocus}}})(_h("autocompleter-value",!0,ae,te,{menuType:"normal"}),te,yC.ContentFocus,"normal")),P().each(gn.highlightFirst)})(X,le),mo(Ut(s.getBody()),"aria-owns",f),s.inline||Z()):M()},Z=()=>{s.dom.get(f)&&s.dom.remove(f,!1);const X=s.getDoc().documentElement,le=s.selection.getNode(),se=(ae=>Jy(ae,!0))(C.element);xe(se,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${le.offsetTop}px`,left:`${le.offsetLeft}px`}),s.dom.add(X,se.dom),rs(se,'[role="menu"]').each(ae=>{xn(ae,"position"),xn(ae,"max-height")})};s.on("AutocompleterStart",({lookupData:X})=>{b.set(!0),p.set(!1),H(X)}),s.on("AutocompleterUpdate",({lookupData:X})=>H(X)),s.on("AutocompleterUpdateActiveRange",({range:X})=>v.set(X)),s.on("AutocompleterEnd",()=>{M(),b.set(!1),p.set(!1),v.clear()}),((X,le)=>{const se=(te,oe)=>{co(te,Ln(),{raw:oe})},ae=()=>X.getMenu().bind(gn.getHighlighted);le.on("keydown",te=>{const oe=te.which;X.isActive()&&(X.isMenuOpen()?oe===13?(ae().each(km),te.preventDefault()):oe===40?(ae().fold(()=>{X.getMenu().each(gn.highlightFirst)},ue=>{se(ue,te)}),te.preventDefault(),te.stopImmediatePropagation()):oe!==37&&oe!==38&&oe!==39||ae().each(ue=>{se(ue,te),te.preventDefault(),te.stopImmediatePropagation()}):oe!==13&&oe!==38&&oe!==40||X.cancelIfNecessary())}),le.on("NodeChange",()=>{!X.isActive()||X.isProcessingAction()||le.queryCommandState("mceAutoCompleterInRange")||X.cancelIfNecessary()})})({cancelIfNecessary:B,isMenuOpen:A,isActive:T,isProcessingAction:p.get,getMenu:P},s)};var UF=tinymce.util.Tools.resolve("tinymce.html.Entities");const ok=(s,l,f,p)=>{const b=WF(s,l,f,p);return fn.sketch(b)},WF=(s,l,f,p)=>({dom:AN(f),components:s.toArray().concat([l]),fieldBehaviours:Ct(p)}),AN=s=>({tag:"div",classes:["tox-form__group"].concat(s)}),ab=(s,l)=>fn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Xs(l.translate(s))]}),Cl=je("form-component-change"),TN=je("form-component-input"),nk=je("form-close"),lb=je("form-cancel"),_p=je("form-action"),sk=je("form-submit"),w3=je("form-block"),k3=je("form-unblock"),ON=je("form-tabchange"),zN=je("form-resize"),ZF=(s,l,f)=>{const p=s.label.map(B=>ab(B,l)),b=l.icons(),v=B=>(H,Z)=>{La(Z.event.target,"[data-collection-item-value]").each(X=>{B(H,Z,X,$o(X,"data-collection-item-value"))})},C=v((B,H,Z,X)=>{H.stop(),l.checkUiComponentContext("mode:design").shouldDisable||l.isDisabled()||co(B,_p,{name:s.name,value:X})}),A=[ct(Wt(),v((B,H,Z)=>{Er(Z,!0)})),ct(Ja(),C),ct(bs(),C),ct(Oo(),v((B,H,Z)=>{rs(B.element,"."+cy).each(X=>{ln(X,cy)}),_s(Z,cy)})),ct(dn(),v(B=>{rs(B.element,"."+cy).each(H=>{ln(H,cy),gl(H)})})),lf(v((B,H,Z,X)=>{co(B,_p,{name:s.name,value:X})}))],T=(B,H)=>Le(ri(B.element,".tox-collection__item"),H),M=fn.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(s.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ie},behaviours:Ct([io.config({disabled:()=>l.checkUiComponentContext(s.context).shouldDisable,onDisabled:B=>{T(B,H=>{_s(H,"tox-collection__item--state-disabled"),mo(H,"aria-disabled",!0)})},onEnabled:B=>{T(B,H=>{ln(H,"tox-collection__item--state-disabled"),ur(H,"aria-disabled")})}}),fi(()=>l.checkUiComponentContext(s.context)),jo.config({}),Is.config({...l.tooltips.getConfig({tooltipText:"",onShow:B=>{rs(B.element,"."+cy+"[data-mce-tooltip]").each(H=>{si(H,"data-mce-tooltip").each(Z=>{Is.setComponents(B,l.tooltips.getComponents({tooltipText:Z}))})})}}),mode:"children-keyboard-focus",anchor:B=>({type:"node",node:rs(B.element,"."+cy).orThunk(()=>mg(".tox-collection__item")),root:B.element,layouts:{onLtr:ge([li,Ei,Kr,Vi,ai,ia]),onRtl:ge([li,Ei,Kr,Vi,ai,ia])},bubble:Il(0,-2,{})})}),Zt.config({store:{mode:"memory",initialValue:f.getOr([])},onSetValue:(B,H)=>{((Z,X)=>{const le=l.checkUiComponentContext("mode:design").shouldDisable||l.isDisabled()?" tox-collection__item--state-disabled":"",se=Le(X,oe=>{const ue=cl.translate(oe.text),pe=s.columns===1?`<div class="tox-collection__item-label">${ue}</div>`:"",Oe=`<div class="tox-collection__item-icon">${(et=>b[et]??et)(oe.icon)}</div>`,Te={_:" "," - ":" ","-":" "},De=ue.replace(/\_| \- |\-/g,et=>Te[et]);return`<div data-mce-tooltip="${De}" class="tox-collection__item${le}" tabindex="-1" data-collection-item-value="${UF.encodeAllRaw(oe.value)}" aria-label="${De}">${Oe}${pe}</div>`}),ae=s.columns!=="auto"&&s.columns>1?Tt(se,s.columns):[se],te=Le(ae,oe=>`<div class="tox-collection__group">${oe.join("")}</div>`);Ga(Z.element,te.join(""))})(B,H),s.columns==="auto"&&Ss(B,5,"tox-collection__item").each(({numRows:Z,numColumns:X})=>{Qt.setGridSize(B,Z,X)}),mn(B,zN)}}),os.config({}),Qt.config((P=s.columns,P===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:P==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${Lw}`}})),Co("collection-events",A)]),eventOrder:{[tl()]:["disabling","alloy.base.behaviour","collection-events"],[Oo()]:["collection-events","tooltipping"]}});var P;return ok(p,M,["tox-form__group--collection"],[])},DN=je("color-input-change"),MN=je("color-swatch-change"),NN=je("color-picker-cancel"),cb=()=>Nn.config({find:I.some}),_3=s=>Nn.config({find:l=>Zd(l.element,s).bind(f=>l.getSystem().getByDom(f).toOptional())}),C3=ko([Ke("preprocess",Ie),Ke("postprocess",Ie)]),qF=(s,l)=>{const f=Hi("RepresentingConfigs.memento processors",C3,l);return Zt.config({store:{mode:"manual",getValue:p=>{const b=s.get(p),v=Zt.getValue(b);return f.postprocess(v)},setValue:(p,b)=>{const v=f.preprocess(b),C=s.get(p);Zt.setValue(C,v)}}})},Sy=(s,l,f)=>Zt.config({store:{mode:"manual",...s.map(p=>({initialValue:p})).getOr({}),getValue:l,setValue:f}}),RN=(s,l,f)=>Sy(s,p=>l(p.element),(p,b)=>f(p.element,b)),db=s=>Zt.config({store:{mode:"memory",initialValue:s}}),xC=je("rgb-hex-update"),LN=je("slider-update"),BN=je("palette-update"),S3=je("valid-input"),PN=je("invalid-input"),IN=je("validating-input"),E3="colorcustom.rgb.",KF={isEnabled:yt,setEnabled:ye,immediatelyShow:ye,immediatelyHide:ye},GF=(s,l,f,p,b,v)=>{const C=(Z,X)=>{const le=X.get();Z!==le.isEnabled()&&(le.setEnabled(Z),Z?le.immediatelyShow():le.immediatelyHide())},A=(Z,X,le)=>gh.config({invalidClass:l("invalid"),notify:{onValidate:se=>{co(se,IN,{type:Z})},onValid:se=>{C(!1,le),co(se,S3,{type:Z,value:Zt.getValue(se)})},onInvalid:se=>{C(!0,le),co(se,PN,{type:Z,value:Zt.getValue(se)})}},validator:{validate:se=>{const ae=Zt.getValue(se),te=X(ae)?pn.value(!0):pn.error(s("aria.input.invalid"));return Ea(te)},validateOnLoad:!1}}),T=(Z,X,le,se,ae)=>{const te=jt(KF),oe=s(E3+"range"),ue=fn.parts.label({dom:{tag:"label"},components:[Xs(le)]}),pe=fn.parts.field({data:ae,factory:yp,inputAttributes:{type:"text","aria-label":se,...X==="hex"?{"aria-live":"polite"}:{}},inputClasses:[l("textfield")],inputBehaviours:Ct([A(X,Z,te),os.config({}),Is.config({...b({tooltipText:"",onSetup:Ye=>{te.set({isEnabled:()=>Is.isEnabled(Ye),setEnabled:st=>Is.setEnabled(Ye,st),immediatelyShow:()=>Is.immediateOpenClose(Ye,!0),immediatelyHide:()=>Is.immediateOpenClose(Ye,!1)}),Is.setEnabled(Ye,!1)},onShow:(Ye,st)=>{Is.setComponents(Ye,[{dom:{tag:"p",classes:[l("rgb-warning-note")]},components:[Xs(s(X==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Ye=>{gh.isInvalid(Ye)&&gh.run(Ye).get(ye)}}),Oe=je("aria-invalid"),Te=Hn(v("invalid",I.some(Oe),"warning")),De=[ue,pe,Hn({dom:{tag:"div",classes:[l("invalid-icon")]},components:[Te.asSpec()]}).asSpec()],et=X!=="hex"?[fn.parts["aria-descriptor"]({text:oe})]:[],nt=De.concat(et);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[l("rgb-container")]},components:nt}},M=(Z,X)=>{const le=X.red,se=X.green,ae=X.blue;Zt.setValue(Z,{red:le,green:se,blue:ae})},P=Hn({dom:{tag:"div",classes:[l("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),B=(Z,X)=>{P.getOpt(Z).each(le=>{Vo(le.element,"background-color","#"+X.value)})};return il({factory:()=>{const Z={red:jt(I.some(255)),green:jt(I.some(255)),blue:jt(I.some(255)),hex:jt(I.some("ffffff"))},X=De=>Z[De].get(),le=(De,et)=>{Z[De].set(et)},se=De=>{const et=De.red,nt=De.green,Ye=De.blue;le("red",I.some(et)),le("green",I.some(nt)),le("blue",I.some(Ye))},ae=(De,et)=>{const nt=et.event;nt.type!=="hex"?le(nt.type,I.none()):p(De)},te=(De,et)=>{const nt=et.event;(Ye=>Ye.type==="hex")(nt)?((Ye,st)=>{f(Ye);const wt=tN(st);le("hex",I.some(wt.value));const Gt=Jw(wt);M(Ye,Gt),se(Gt),co(Ye,xC,{hex:wt}),B(Ye,wt)})(De,nt.value):((Ye,st,wt)=>{const Gt=parseInt(wt,10);le(st,I.some(Gt)),X("red").bind(uo=>X("green").bind(Eo=>X("blue").map(rn=>wy(uo,Eo,rn,1)))).each(uo=>{const Eo=((rn,$n)=>{const ns=vy($n);return ax.getField(rn,"hex").each(xo=>{Mo.isFocused(xo)||Zt.setValue(rn,{hex:ns.value})}),ns})(Ye,uo);co(Ye,xC,{hex:Eo}),B(Ye,Eo)})})(De,nt.type,nt.value)},oe=De=>({label:s(E3+De+".label"),description:s(E3+De+".description")}),ue=oe("red"),pe=oe("green"),Oe=oe("blue"),Te=oe("hex");return Js(ax.sketch(De=>({dom:{tag:"form",classes:[l("rgb-form")],attributes:{"aria-label":s("aria.color.picker")}},components:[De.field("red",fn.sketch(T(r3,"red",ue.label,ue.description,255))),De.field("green",fn.sketch(T(r3,"green",pe.label,pe.description,255))),De.field("blue",fn.sketch(T(r3,"blue",Oe.label,Oe.description,255))),De.field("hex",fn.sketch(T(o3,"hex",Te.label,Te.description,"ffffff"))),P.asSpec()],formBehaviours:Ct([gh.config({invalidClass:l("form-invalid")}),Co("rgb-form-events",[ct(S3,te),ct(PN,ae),ct(IN,ae)])])})),{apis:{updateHex:(De,et)=>{Zt.setValue(De,{hex:et.value}),((nt,Ye)=>{const st=Jw(Ye);M(nt,st),se(st)})(De,et),B(De,et)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Z,X,le)=>{Z.updateHex(X,le)}},extraApis:{}})},YF=(s,l,f,p)=>il({name:"ColourPicker",configFields:[xt("dom"),Ke("onValidHex",ye),Ke("onInvalidHex",ye)],factory:v=>{const C=GF(s,l,v.onValidHex,v.onInvalidHex,f,p),A=((ae,te)=>{const oe=yf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[te("sv-palette-spectrum")]}}),ue=yf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[te("sv-palette-thumb")],innerHtml:`<div class=${te("sv-palette-inner-thumb")} role="presentation"></div>`}}),pe=(Te,De)=>{const{width:et,height:nt}=Te,Ye=Te.getContext("2d");if(Ye===null)return;Ye.fillStyle=De,Ye.fillRect(0,0,et,nt);const st=Ye.createLinearGradient(0,0,et,0);st.addColorStop(0,"rgba(255,255,255,1)"),st.addColorStop(1,"rgba(255,255,255,0)"),Ye.fillStyle=st,Ye.fillRect(0,0,et,nt);const wt=Ye.createLinearGradient(0,0,0,nt);wt.addColorStop(0,"rgba(0,0,0,0)"),wt.addColorStop(1,"rgba(0,0,0,1)"),Ye.fillStyle=wt,Ye.fillRect(0,0,et,nt)};return il({factory:Te=>{const De=ge({x:0,y:0}),et=Ct([Nn.config({find:I.some}),Mo.config({})]);return yf.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":ae(["Saturation {0}%, Brightness {1}%",0,0])},classes:[te("sv-palette")]},model:{mode:"xy",getInitialValue:De},rounded:!1,components:[oe,ue],onChange:(nt,Ye,st)=>{ve(st)||mo(nt.element,"aria-valuetext",ae(["Saturation {0}%, Brightness {1}%",Math.floor(st.x),Math.floor(100-st.y)])),co(nt,BN,{value:st})},onInit:(nt,Ye,st,wt)=>{pe(st.element.dom,a3(l3))},sliderBehaviours:et})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Te,De,et)=>{((nt,Ye)=>{const st=nt.components()[0].element.dom,wt=Ox(Ye,100,100),Gt=iN(wt);pe(st,a3(Gt))})(De,et)},setThumb:(Te,De,et)=>{((nt,Ye)=>{const st=dC(Jw(Ye));yf.setValue(nt,{x:st.saturation,y:100-st.value}),mo(nt.element,"aria-valuetext",ae(["Saturation {0}%, Brightness {1}%",st.saturation,st.value]))})(De,et)}},extraApis:{}})})(s,l),T={paletteRgba:jt(l3),paletteHue:jt(0)},M=Hn(((ae,te)=>{const oe=yf.parts.spectrum({dom:{tag:"div",classes:[te("hue-slider-spectrum")],attributes:{role:"presentation"}}}),ue=yf.parts.thumb({dom:{tag:"div",classes:[te("hue-slider-thumb")],attributes:{role:"presentation"}}});return yf.sketch({dom:{tag:"div",classes:[te("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ge(0)},components:[oe,ue],sliderBehaviours:Ct([Mo.config({})]),onChange:(pe,Oe,Te)=>{mo(pe.element,"aria-valuenow",Math.floor(360-3.6*Te)),co(pe,LN,{value:Te})}})})(0,l)),P=Hn(A.sketch({})),B=Hn(C.sketch({})),H=(ae,te,oe)=>{P.getOpt(ae).each(ue=>{A.setHue(ue,oe)})},Z=(ae,te)=>{B.getOpt(ae).each(oe=>{C.updateHex(oe,te)})},X=(ae,te,oe)=>{M.getOpt(ae).each(ue=>{yf.setValue(ue,(pe=>100-pe/360*100)(oe))})},le=(ae,te)=>{P.getOpt(ae).each(oe=>{A.setThumb(oe,te)})},se=(ae,te,oe,ue)=>{((pe,Oe)=>{const Te=Jw(pe);T.paletteRgba.set(Te),T.paletteHue.set(Oe)})(te,oe),Ge(ue,pe=>{pe(ae,te,oe)})};return{uid:v.uid,dom:v.dom,components:[P.asSpec(),M.asSpec(),B.asSpec()],behaviours:Ct([Co("colour-picker-events",[ct(xC,(()=>{const ae=[H,X,le];return(te,oe)=>{const ue=oe.event.hex,pe=(Oe=>dC(Jw(Oe)))(ue);se(te,ue,pe.hue,ae)}})()),ct(BN,(()=>{const ae=[Z];return(te,oe)=>{const ue=oe.event.value,pe=T.paletteHue.get(),Oe=Ox(pe,ue.x,100-ue.y),Te=c3(Oe);se(te,Te,pe,ae)}})()),ct(LN,(()=>{const ae=[H,Z];return(te,oe)=>{const ue=(et=>(100-et)/100*360)(oe.event.value),pe=T.paletteRgba.get(),Oe=dC(pe),Te=Ox(ue,Oe.saturation,Oe.value),De=c3(Te);se(te,De,ue,ae)}})())]),Nn.config({find:ae=>B.getOpt(ae)}),Qt.config({mode:"acyclic"})])}}}),XF={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var QF=tinymce.util.Tools.resolve("tinymce.Resource");const A3=s=>en(s,"init");var Cp=tinymce.util.Tools.resolve("tinymce.util.Tools");const T3=je("browse.files.event"),FN=(s,l,f)=>{const p=(M,P)=>{P.stop()},b=M=>(P,B)=>{Ge(M,H=>{H(P,B)})},v=Hn({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Ct([Co("input-file-events",[ch(Ja()),ch(bs())])])}),C=s.label.map(M=>ab(M,l)),A=fn.parts.field({factory:ca,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Xs(l.translate("Browse for an image")),v.asSpec()],action:M=>{v.get(M).element.dom.click()},buttonBehaviours:Ct([cb(),db(f.getOr([])),os.config({}),Km(()=>l.checkUiComponentContext(s.context).shouldDisable),fi(()=>l.checkUiComponentContext(s.context))])}),T={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Ct([io.config({disabled:()=>l.checkUiComponentContext(s.context).shouldDisable}),fi(()=>l.checkUiComponentContext(s.context)),Ko.config({toggleClass:"dragenter",toggleOnExecute:!1}),Co("dropzone-events",[ct("dragenter",b([p,Ko.toggle])),ct("dragleave",b([p,Ko.toggle])),ct("dragover",p),ct("drop",b([p,(M,P)=>{var B;if(!io.isDisabled(M)){const H=P.event.raw;co(M,T3,{files:(B=H.dataTransfer)==null?void 0:B.files})}}])),ct(Si(),(M,P)=>{const B=P.event.raw.target;co(M,T3,{files:B.files})})])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Xs(l.translate("Drop an image here"))]},A]}]};return ok(C,T,["tox-form__group--stretched"],[Co("handle-files",[ct(T3,(M,P)=>{fn.getField(M).each(B=>{var H,Z;H=B,(Z=P.event.files)&&(Zt.setValue(H,((X,le)=>{const se=Cp.explode(le.getOption("images_file_types"));return to(mt(X),ae=>To(se,te=>rd(ae.name.toLowerCase(),`.${te.toLowerCase()}`)))})(Z,l)),co(H,Cl,{name:s.name}))})})])])},vC=je("alloy-fake-before-tabstop"),wC=je("alloy-fake-after-tabstop"),O3=s=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:s},behaviours:Ct([Mo.config({ignore:!0}),os.config({})])}),HN=(s,l)=>({dom:{tag:"div",classes:["tox-navobj",...s.getOr([])]},components:[O3([vC]),l,O3([wC])],behaviours:Ct([_3(1)])}),$N=(s,l)=>{co(s,Ln(),{raw:{which:9,shiftKey:l}})},JF=(s,l)=>{const f=l.element;kr(f,vC)?$N(s,!0):kr(f,wC)&&$N(s,!1)},rk=s=>om(s,["."+vC,"."+wC].join(","),Me),zx=je("update-dialog"),z3=je("update-title"),VN=je("update-body"),D3=je("update-footer"),jN=je("body-send-message"),kC=je("dialog-focus-shifted"),M3=_e().browser,Dx=M3.isSafari(),UN=M3.isFirefox(),N3=Dx||UN,eH=M3.isChromium(),tH=({scrollTop:s,scrollHeight:l,clientHeight:f})=>Math.ceil(s)+f>=l,WN=(s,l)=>s.scrollTo(0,l==="bottom"?99999999:l),ZN=(s,l,f)=>{const p=s.dom;I.from(p.contentDocument).fold(f,b=>{let v=0;const C=((T,M)=>{const P=T.body;return I.from(!/^<!DOCTYPE (html|HTML)/.test(M)&&(!eH&&!Dx||Y(P)&&(P.scrollTop!==0||Math.abs(P.scrollHeight-P.clientHeight)>1))?P:T.documentElement)})(b,l).map(T=>(v=T.scrollTop,T)).forall(tH),A=()=>{const T=p.contentWindow;Y(T)&&(C?WN(T,"bottom"):!C&&N3&&v!==0&&WN(T,v))};Dx&&p.addEventListener("load",A,{once:!0}),b.open(),b.write(l),b.close(),Dx||A()})},oH=Ks(N3,Dx?500:200).map(s=>((l,f)=>{let p=null,b=null;return{cancel:()=>{z(p)||(clearTimeout(p),p=null,b=null)},throttle:(...v)=>{b=v,z(p)&&(p=setTimeout(()=>{const C=b;p=null,b=null,l.apply(null,C)},f))}}})(ZN,s)),R3=je("toolbar.button.execute"),ub=je("common-button-display-events"),qN={[tl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[yd()]:["toolbar-button-events",ub],[nf()]:["toolbar-button-events","dropdown-events","tooltipping"],[de()]:["focusing","alloy.base.behaviour",ub]},L3=s=>Vo(s.element,"width",Pi(s.element,"width")),KN=(s,l,f)=>Dd(s,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:f},l),B3=(s,l)=>KN(s,l,[]),Gm=(s,l)=>KN(s,l,[jo.config({})]),GN=(s,l,f)=>({dom:{tag:"span",classes:[`${l}__select-label`]},components:[Xs(f.translate(s))],behaviours:Ct([jo.config({})])}),Eu=je("update-menu-text"),Ey=je("update-menu-icon"),YN=je("update-tooltip-text"),P3=(s,l,f,p)=>{const b=jt(ye),v=jt(s.tooltip),C=s.text.map(se=>Hn(GN(se,l,f.providers))),A=s.icon.map(se=>Hn(Gm(se,f.providers.icons))),T=(se,ae)=>{const te=Zt.getValue(se);return Mo.focus(te),co(te,"keydown",{raw:ae.event.raw}),jl.close(te),I.some(!0)},M=s.role.fold(()=>({}),se=>({role:se})),P=I.from(s.listRole).map(se=>({listRole:se})).getOr({}),B=s.ariaLabel.fold(()=>({}),se=>({"aria-label":f.providers.translate(se)})),H=Dd("chevron-down",{tag:"div",classes:[`${l}__select-chevron`]},f.providers.icons),Z=je("common-button-display-events"),X="dropdown-events";return Hn(jl.sketch({...s.uid?{uid:s.uid}:{},...M,...P,dom:{tag:"button",classes:[l,`${l}--select`].concat(Le(s.classes,se=>`${l}--${se}`)),attributes:{...B,...Y(p)?{"data-mce-name":p}:{}}},components:Tx([A.map(se=>se.asSpec()),C.map(se=>se.asSpec()),I.some(H)]),matchWidth:!0,useMinWidth:!0,onOpen:(se,ae,te)=>{s.searchable&&(oe=>{Z2(oe).each(ue=>Mo.focus(ue))})(te)},dropdownBehaviours:Ct([...s.dropdownBehaviours,Km(()=>s.disabled||f.providers.checkUiComponentContext(s.context).shouldDisable),fi(()=>f.providers.checkUiComponentContext(s.context)),nx.config({}),jo.config({}),...s.tooltip.map(se=>Is.config(f.providers.tooltips.getConfig({tooltipText:f.providers.translate(se),onShow:ae=>{if(pi(v.get(),s.tooltip,(te,oe)=>oe!==te).getOr(!1)){const te=f.providers.translate(v.get().getOr(""));Is.setComponents(ae,f.providers.tooltips.getComponents({tooltipText:te}))}}}))).toArray(),Co(X,[Cu(s,b),yy(s,b)]),Co(Z,[Cs((se,ae)=>{s.listRole!=="listbox"&&L3(se)})]),Co("update-dropdown-width-variable",[ct(Ic(),(se,ae)=>jl.close(se))]),Co("menubutton-update-display-text",[ct(Eu,(se,ae)=>{C.bind(te=>te.getOpt(se)).each(te=>{jo.set(te,[Xs(f.providers.translate(ae.event.text))])})}),ct(Ey,(se,ae)=>{A.bind(te=>te.getOpt(se)).each(te=>{jo.set(te,[Gm(ae.event.icon,f.providers.icons)])})}),ct(YN,(se,ae)=>{const te=f.providers.translate(ae.event.text);mo(se.element,"aria-label",te),v.set(I.some(ae.event.text))})])]),eventOrder:Js(qN,{[de()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[yd()]:["toolbar-button-events",Is.name(),X,Z]}),sandboxBehaviours:Ct([Qt.config({mode:"special",onLeft:T,onRight:T}),Co("dropdown-sandbox-events",[ct(l5,(se,ae)=>{(te=>{const oe=Zt.getValue(te),ue=W2(te).map(tb);jl.refetch(oe).get(()=>{const pe=Yr.getCoupled(oe,"sandbox");ue.each(Oe=>W2(pe).each(Te=>((De,et)=>{Zt.setValue(De,et.fetchPattern),De.element.dom.selectionStart=et.selectionStart,De.element.dom.selectionEnd=et.selectionEnd})(Te,Oe)))})})(se),ae.stop()}),ct(v4,(se,ae)=>{((te,oe)=>{(ue=>Pn.getState(ue).bind(gn.getHighlighted).bind(gn.getHighlighted))(te).each(ue=>{((pe,Oe,Te,De)=>{const et={...De,target:Oe};pe.getSystem().triggerEvent(Te,Oe,et)})(te,ue.element,oe.event.eventType,oe.event.interactionEvent)})})(se,ae),ae.stop()})])]),lazySink:f.getSink,toggleClass:`${l}--active`,parts:{menu:{...Bw(0,s.columns,s.presets),fakeFocus:s.searchable,...s.listRole==="listbox"?{}:{onHighlightItem:CN,onCollapseMenu:(se,ae,te)=>{gn.getHighlighted(te).each(oe=>{CN(se,te,oe)})},onDehighlightItem:HF}}},getAnchorOverrides:()=>({maxHeightFunction:(se,ae)=>{$v()(se,ae-10)}}),fetch:se=>yn(Ve(s.fetch,se))})).asSpec()},ik=s=>s.type==="separator",XN={type:"separator"},QN=(s,l)=>{const f=((p,b)=>{const v=fo(p,(C,A)=>(T=>h(T))(A)?A===""?C:A==="|"?C.length>0&&!ik(C[C.length-1])?C.concat([XN]):C:en(b,A.toLowerCase())?C.concat([b[A.toLowerCase()]]):C:C.concat([A]),[]);return v.length>0&&ik(v[v.length-1])&&v.pop(),v})(h(s)?s.split(" "):s,l);return _o(f,(p,b)=>{if((v=>en(v,"getSubmenuItems"))(b)){const v=(A=>{const T=so(A,"value").getOrThunk(()=>je("generated-menu-item"));return Js({value:T},A)})(b),C=((A,T)=>{const M=A.getSubmenuItems(),P=QN(M,T);return{item:A,menus:Js(P.menus,{[A.value]:P.items}),expansions:Js(P.expansions,{[A.value]:A.value})}})(v,l);return{menus:Js(p.menus,C.menus),items:[C.item,...p.items],expansions:Js(p.expansions,C.expansions)}}return{...p,items:[b,...p.items]}},{menus:{},expansions:{},items:[]})},Mx=(s,l,f,p)=>{const b=je("primary-menu"),v=QN(s,f.shared.providers.menuItems());if(v.items.length===0)return I.none();const C=(B=>B.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-field",placeholder:H.placeholder})))(p),A=SN(b,v.items,l,f,p.isHorizontalMenu,C),T=(B=>B.search.fold(()=>({searchMode:"no-search"}),H=>({searchMode:"search-with-results"})))(p),M=Xn(v.menus,(B,H)=>SN(H,B,l,f,!1,T)),P=Js(M,nh(b,A));return I.from(Bm.tieredData(b,P,v.expansions))},_C=s=>!en(s,"items"),JN="data-value",eR=(s,l,f,p,b)=>Le(f,v=>_C(v)?{type:"togglemenuitem",...b?{}:{role:"option"},text:v.text,value:v.value,active:v.value===p,onAction:()=>{Zt.setValue(s,v.value),co(s,Cl,{name:l}),Mo.focus(s)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>eR(s,l,v.items,p,b)}),I3=(s,l)=>Yt(s,f=>_C(f)?Ks(f.value===l,f):I3(f.items,l)),CC=s=>{const l={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let f=s.value.toFixed((p=s.unit)in l?l[p]:1);var p;return f.indexOf(".")!==-1&&(f=f.replace(/\.?0*$/,"")),f+s.unit},ak=s=>{const l=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(s);if(l!==null){const f=parseFloat(l[1]),p=l[2];return pn.value({value:f,unit:p})}return pn.error(s)},F3=(s,l)=>{const f={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},p=b=>en(f,b);return s.unit===l?I.some(s.value):p(s.unit)&&p(l)?f[s.unit]===f[l]?I.some(s.value):I.some(s.value/f[s.unit]*f[l]):I.none()},SC=s=>I.none(),H3=(s,l)=>{const f=ak(s).toOptional(),p=ak(l).toOptional();return pi(f,p,(b,v)=>F3(b,v.unit).map(C=>v.value/C).map(C=>{return A=C,T=v.unit,M=>F3(M,T).map(P=>({value:P*A,unit:T}));var A,T}).getOr(SC)).getOr(SC)},tR=(s,l)=>{const f=s.label.map(H=>ab(H,l)),p=[io.config({disabled:()=>s.disabled||l.checkUiComponentContext(s.context).shouldDisable}),fi(()=>l.checkUiComponentContext(s.context)),Qt.config({mode:"execution",useEnter:s.multiline!==!0,useControlEnter:s.multiline===!0,execute:H=>(mn(H,sk),I.some(!0))}),Co("textfield-change",[ct(Ts(),(H,Z)=>{co(H,Cl,{name:s.name})}),ct(Xh(),(H,Z)=>{co(H,Cl,{name:s.name})})]),os.config({})],b=s.validation.map(H=>gh.config({getRoot:Z=>za(Z.element),invalidClass:"tox-invalid",validator:{validate:Z=>{const X=Zt.getValue(Z),le=H.validator(X);return Ea(le===!0?pn.value(X):pn.error(le))},validateOnLoad:H.validateOnLoad}})).toArray(),v=s.placeholder.fold(ge({}),H=>({placeholder:l.translate(H)})),C=s.inputMode.fold(ge({}),H=>({inputmode:H})),A={...s.spellcheck.fold(ge({}),H=>({spellcheck:H})),...v,...C,"data-mce-name":s.name},T=fn.parts.field({tag:s.multiline===!0?"textarea":"input",...s.data.map(H=>({data:H})).getOr({}),inputAttributes:A,inputClasses:[s.classname],inputBehaviours:Ct(Vn([p,b])),selectOnFocus:!1,factory:yp}),M=s.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[T]}:T,P=(s.flex?["tox-form__group--stretched"]:[]).concat(s.maximized?["tox-form-group--maximize"]:[]),B=[io.config({disabled:()=>s.disabled||l.checkUiComponentContext(s.context).shouldDisable,onDisabled:H=>{fn.getField(H).each(io.disable)},onEnabled:H=>{fn.getField(H).each(io.enable)}}),fi(()=>l.checkUiComponentContext(s.context))];return ok(f,M,P,B)},oR=s=>({isEnabled:()=>!io.isDisabled(s),setEnabled:l=>io.set(s,!l),setActive:l=>{const f=s.element;l?(_s(f,"tox-tbtn--enabled"),mo(f,"aria-pressed",!0)):(ln(f,"tox-tbtn--enabled"),ur(f,"aria-pressed"))},isActive:()=>kr(s.element,"tox-tbtn--enabled"),setTooltip:l=>{co(s,YN,{text:l})},setText:l=>{co(s,Eu,{text:l})},setIcon:l=>co(s,Ey,{icon:l})}),lk=(s,l,f,p,b=!0,v)=>{const C=s.buttonType==="bordered"?["bordered"]:[];return P3({text:s.text,icon:s.icon,tooltip:s.tooltip,ariaLabel:s.tooltip,searchable:s.search.isSome(),role:p,fetch:(A,T)=>{const M={pattern:s.search.isSome()?$F(A):""};s.fetch(P=>{T(Mx(P,Md.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:s.search}))},M,oR(A))},onSetup:s.onSetup,getApi:A=>oR(A),columns:1,presets:"normal",classes:C,dropdownBehaviours:[...b?[os.config({})]:[]],context:s.context},l,f.shared,v)},nH=(s,l,f)=>{const p=v=>C=>{const A=!C.isActive();C.setActive(A),v.storage.set(A),f.shared.getSink().each(T=>{l().getOpt(T).each(M=>{Er(M.element),co(M,_p,{name:v.name,value:v.storage.get()})})})},b=v=>C=>{C.setActive(v.storage.get())};return v=>{v(Le(s,C=>{const A=C.text.fold(()=>({}),T=>({text:T}));return{type:C.type,active:!1,...A,context:C.context,onAction:p(C),onSetup:b(C)}}))}},nR=s=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":s}},components:[Xs(s)]}),sR=(s,l,f)=>{s.customStateIcon.each(p=>l.push(iR(p,f.shared.providers.icons,s.customStateIconTooltip.fold(()=>[],b=>[Is.config(f.shared.providers.tooltips.getConfig({tooltipText:b}))]),["tox-icon-custom-state"])))},rR=je("leaf-label-event-id"),$3=({leaf:s,onLeafAction:l,visible:f,treeId:p,selectedId:b,backstage:v})=>{const C=s.menu.map(T=>lk(T,"tox-mbtn",v,I.none(),f)),A=[nR(s.title)];return sR(s,A,v),C.each(T=>A.push(T)),ca.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(f?["tox-tree--leaf__label--visible"]:[])},components:A,role:"treeitem",action:T=>{l(s.id),T.getSystem().broadcastOn([`update-active-item-${p}`],{value:s.id})},eventOrder:{[Ln()]:[rR,"keying"]},buttonBehaviours:Ct([...f?[os.config({})]:[],Ko.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),$l.config({channels:{[`update-active-item-${p}`]:{onReceive:(T,M)=>{(M.value===s.id?Ko.on:Ko.off)(T)}}}}),Co(rR,[Cs((T,M)=>{b.each(P=>{(P===s.id?Ko.on:Ko.off)(T)})}),ct(Ln(),(T,M)=>{const P=M.event.raw.code==="ArrowLeft",B=M.event.raw.code==="ArrowRight";P?(ms(T.element,".tox-tree--directory").each(H=>{T.getSystem().getByDom(H).each(Z=>{Nl(H,".tox-tree--directory__label").each(X=>{Z.getSystem().getByDom(X).each(Mo.focus)})})}),M.stop()):B&&M.stop()})])])})},iR=(s,l,f,p,b)=>Dd(s,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(p||[]),behaviours:f,attributes:b},l),aR=je("directory-label-event-id"),EC=({directory:s,visible:l,noChildren:f,backstage:p})=>{const b=s.menu.map(T=>lk(T,"tox-mbtn",p,I.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(C=p.shared.providers.icons,iR("chevron-right",C,[]))]},nR(s.title)];var C;sR(s,v,p),b.each(T=>{v.push(T)});const A=T=>{ms(T.element,".tox-tree--directory").each(M=>{T.getSystem().getByDom(M).each(P=>{const B=!Ko.isOn(P);Ko.toggle(P),co(T,"expand-tree-node",{expanded:B,node:s.id})})})};return ca.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(l?["tox-tree--directory__label--visible"]:[])},components:v,action:A,eventOrder:{[Ln()]:[aR,"keying"]},buttonBehaviours:Ct([...l?[os.config({})]:[],Co(aR,[ct(Ln(),(T,M)=>{const P=M.event.raw.code==="ArrowRight",B=M.event.raw.code==="ArrowLeft";P&&f&&M.stop(),(P||B)&&ms(T.element,".tox-tree--directory").each(H=>{T.getSystem().getByDom(H).each(Z=>{!Ko.isOn(Z)&&P||Ko.isOn(Z)&&B?(A(T),M.stop()):B&&!Ko.isOn(Z)&&(ms(Z.element,".tox-tree--directory").each(X=>{Nl(X,".tox-tree--directory__label").each(le=>{Z.getSystem().getByDom(le).each(Mo.focus)})}),M.stop())})})})])])})},V3=({children:s,onLeafAction:l,visible:f,treeId:p,expandedIds:b,selectedId:v,backstage:C})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:s.map(A=>A.type==="leaf"?$3({leaf:A,selectedId:v,onLeafAction:l,visible:f,treeId:p,backstage:C}):AC({directory:A,expandedIds:b,selectedId:v,onLeafAction:l,labelTabstopping:f,treeId:p,backstage:C})),behaviours:Ct([hc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:f}),jo.config({})])}),j3=je("directory-event-id"),AC=({directory:s,onLeafAction:l,labelTabstopping:f,treeId:p,backstage:b,expandedIds:v,selectedId:C})=>{const{children:A}=s,T=jt(v),M=v.includes(s.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[EC({directory:s,visible:f,noChildren:s.children.length===0,backstage:b}),V3({children:A,expandedIds:v,selectedId:C,onLeafAction:l,visible:M,treeId:p,backstage:b})],behaviours:Ct([Co(j3,[Cs((P,B)=>{Ko.set(P,M)}),ct("expand-tree-node",(P,B)=>{const{expanded:H,node:Z}=B.event;T.set(H?[...T.get(),Z]:T.get().filter(X=>X!==Z))})]),Ko.config({...s.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(P,B)=>{const H=P.components()[1],Z=(X=B,A.map(le=>le.type==="leaf"?$3({leaf:le,selectedId:C,onLeafAction:l,visible:X,treeId:p,backstage:b}):AC({directory:le,expandedIds:T.get(),selectedId:C,onLeafAction:l,labelTabstopping:X,treeId:p,backstage:b})));var X;B?hc.grow(H):hc.shrink(H),jo.set(H,Z)}})])}},sH=je("tree-event-id"),TC=(s,l,f=[],p,b,v,C)=>{const A=l.fold(()=>({}),P=>({action:P})),T={buttonBehaviours:Ct([kp(()=>!s.enabled||C.checkUiComponentContext(s.context).shouldDisable),fi(()=>C.checkUiComponentContext(s.context)),os.config({}),...v.map(P=>Is.config(C.tooltips.getConfig({tooltipText:C.translate(P)}))).toArray(),Co("button press",[v0("click")])].concat(f)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...A},M=Js(T,{dom:p});return Js(M,{components:b})},U3=(s,l,f,p=[],b)=>{const v={tag:"button",classes:["tox-tbtn"],attributes:{...s.tooltip.map(T=>({"aria-label":f.translate(T)})).getOr({}),"data-mce-name":b}},C=s.icon.map(T=>B3(T,f.icons)),A=Tx([C]);return TC(s,l,p,v,A,s.tooltip,f)},ck=s=>{switch(s){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},dk=(s,l,f,p=[],b=[])=>{const v=f.translate(s.text),C=s.icon.map(B=>B3(B,f.icons)),A=[C.getOrThunk(()=>Xs(v))],T=s.buttonType.getOr(s.primary||s.borderless?"primary":"secondary"),M={tag:"button",classes:[...ck(T),...C.isSome()?["tox-button--icon"]:[],...s.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":v,"data-mce-name":s.text}},P=s.icon.map(ge(v));return TC(s,l,p,M,A,P,f)},W3=(s,l,f,p=[],b=[])=>{const v=dk(s,I.some(l),f,p,b);return ca.sketch(v)},lR=(s,l)=>f=>{l==="custom"?co(f,_p,{name:s,value:{}}):l==="submit"?mn(f,sk):l==="cancel"?mn(f,lb):console.error("Unknown button type: ",l)},OC=(s,l,f)=>{if(((p,b)=>b==="menu")(0,l)){const p=()=>C,b=s,v={...s,buttonType:"default",type:"menubutton",search:I.none(),onSetup:A=>(A.setEnabled(s.enabled),ye),fetch:nH(b.items,p,f)},C=Hn(lk(v,"tox-tbtn",f,I.none(),!0,s.text.or(s.tooltip).getOrUndefined()));return C.asSpec()}if(((p,b)=>b==="custom"||b==="cancel"||b==="submit")(0,l)){const p=lR(s.name,l),b={...s,context:l==="cancel"?"any":s.context,borderless:!1};return W3(b,p,f.shared.providers,[])}if(((p,b)=>b==="togglebutton")(0,l))return((p,b,v)=>{const C=p.icon.map(ae=>Gm(ae,b.icons)).map(Hn),A=p.buttonType.getOr(p.primary?"primary":"secondary"),T={...p,name:p.name??"",tooltip:p.tooltip,enabled:p.enabled??!1},M=T.tooltip.or(p.text).map(ae=>({"aria-label":b.translate(ae)})).getOr({}),P=ck(A??"secondary"),B=p.icon.isSome()&&p.text.isSome(),H={tag:"button",classes:[...P.concat(p.icon.isSome()?["tox-button--icon"]:[]),...p.active?["tox-button--enabled"]:[],...B?["tox-button--icon-and-text"]:[]],attributes:{...M,...Y(v)?{"data-mce-name":v}:{}}},Z=b.translate(p.text.getOr("")),X=Xs(Z),le=[...Tx([C.map(ae=>ae.asSpec())]),...p.text.isSome()?[X]:[]],se=TC(T,I.some(ae=>{co(ae,_p,{name:p.name,value:{setIcon:te=>{C.map(oe=>oe.getOpt(ae).each(ue=>{jo.set(ue,[Gm(te,b.icons)])}))}}})}),[],H,le,p.tooltip,b);return ca.sketch(se)})(s,f.shared.providers,s.text.or(s.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",l),new Error("Unknown footer button type")},rH={type:"separator"},iH=s=>({type:"menuitem",value:s.url,text:s.title,meta:{attach:s.attach},onAction:ye}),Z3=(s,l)=>({type:"menuitem",value:l,text:s,meta:{attach:void 0},onAction:ye}),cR=(s,l)=>(f=>Le(f,iH))(((f,p)=>to(p,b=>b.type===f))(s,l)),aH=s=>cR("header",s.targets),lH=s=>cR("anchor",s.targets),cH=s=>I.from(s.anchorTop).map(l=>Z3("<top>",l)).toArray(),dH=s=>I.from(s.anchorBottom).map(l=>Z3("<bottom>",l)).toArray(),q3=(s,l)=>{const f=s.toLowerCase();return to(l,p=>{const b=p.meta!==void 0&&p.meta.text!==void 0?p.meta.text:p.text,v=p.value??"";return jr(b.toLowerCase(),f)||jr(v.toLowerCase(),f)})},dR=je("aria-invalid"),Di=s=>(l,f,p,b,v)=>so(f,"name").fold(()=>s(f,b,I.none(),v),C=>l.field(C,s(f,b,so(p,C),v))),uR={bar:Di((s,l)=>((f,p)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Le(f.items,p.interpreter)}))(s,l.shared)),collection:Di((s,l,f)=>ZF(s,l.shared.providers,f)),alertbanner:Di((s,l)=>((f,p)=>{const b=o5(f.icon,p.icons);return gu.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${f.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:f.url?void 0:b},components:f.url?[ca.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:b,attributes:{title:p.translate(f.iconTooltip)}},action:v=>co(v,_p,{name:"alert-banner",value:f.url}),buttonBehaviours:Ct([h4()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:p.translate(f.text)}}]})})(s,l.shared.providers)),input:Di((s,l,f)=>((p,b,v)=>tR({name:p.name,multiline:!1,label:p.label,inputMode:p.inputMode,placeholder:p.placeholder,flex:!1,disabled:!p.enabled,classname:"tox-textfield",validation:I.none(),maximized:p.maximized,data:v,context:p.context,spellcheck:I.none()},b))(s,l.shared.providers,f)),textarea:Di((s,l,f)=>((p,b,v)=>tR({name:p.name,multiline:!0,label:p.label,inputMode:I.none(),placeholder:p.placeholder,flex:!0,disabled:!p.enabled,classname:"tox-textarea",validation:I.none(),maximized:p.maximized,data:v,context:p.context,spellcheck:p.spellcheck},b))(s,l.shared.providers,f)),label:Di((s,l,f,p)=>((b,v,C)=>{const A="tox-label",T=b.align==="center"?[`${A}--center`]:[],M=b.align==="end"?[`${A}--end`]:[],P=Hn({dom:{tag:"label",classes:[A,...T,...M]},components:[Xs(v.providers.translate(b.label))]}),B=Le(b.items,v.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[P.asSpec(),...B],behaviours:Ct([cb(),jo.config({}),(H=I.none(),RN(H,Yf,Ga)),Qt.config({mode:"acyclic"}),Co("label",[Cs(Z=>{b.for.each(X=>{C(X).each(le=>{P.getOpt(Z).each(se=>{const ae=$o(le.element,"id")??je("form-field");mo(le.element,"id",ae),mo(se.element,"for",ae)})})})})])])};var H})(s,l.shared,p)),iframe:(MR=(s,l,f)=>((p,b,v)=>{const C="tox-dialog__iframe",A=p.transparent?[]:[`${C}--opaque`],T=p.border?["tox-navobj-bordered"]:[],M={...p.label.map(Z=>({title:Z})).getOr({}),...v.map(Z=>({srcdoc:Z})).getOr({}),...p.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},P=((Z,X)=>{const le=jt(Z.getOr(""));return{getValue:se=>le.get(),setValue:(se,ae)=>{if(le.get()!==ae){const te=se.element,oe=()=>mo(te,"srcdoc",ae);X?oH.fold(ge(ZN),ue=>ue.throttle)(te,ae,oe):oe()}le.set(ae)}}})(v,p.streamContent),B=p.label.map(Z=>ab(Z,b)),H=fn.parts.field({factory:{sketch:Z=>HN(I.from(T),{uid:Z.uid,dom:{tag:"iframe",attributes:M,classes:[C,...A]},behaviours:Ct([os.config({}),Mo.config({}),Sy(v,P.getValue,P.setValue),$l.config({channels:{[kC]:{onReceive:(X,le)=>{le.newFocus.each(se=>{za(X.element).each(ae=>{(on(X.element,se)?_s:ln)(ae,"tox-navobj-bordered-focus")})})}}}})])})}});return ok(B,H,["tox-form__group--stretched"],[])})(s,l.shared.providers,f),(s,l,f,p,b)=>{const v=Js(l,{source:"dynamic"});return Di(MR)(s,v,f,p,b)}),button:Di((s,l)=>((f,p)=>{const b=lR(f.name,"custom");return v=I.none(),C=fn.parts.field({factory:ca,...dk(f,I.some(b),p,[db(""),cb()])}),ok(v,C,[],[]);var v,C})(s,l.shared.providers)),checkbox:Di((s,l,f)=>((p,b,v)=>{const C=B=>(B.element.dom.click(),I.some(!0)),A=fn.parts.field({factory:{sketch:Ie},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Ct([cb(),io.config({disabled:()=>!p.enabled||b.checkUiComponentContext(p.context).shouldDisable,onDisabled:B=>{za(B.element).each(H=>_s(H,"tox-checkbox--disabled"))},onEnabled:B=>{za(B.element).each(H=>ln(H,"tox-checkbox--disabled"))}}),os.config({}),Mo.config({}),RN(v,pd,pa),Qt.config({mode:"special",onEnter:C,onSpace:C,stopSpaceKeyup:!0}),Co("checkbox-events",[ct(Si(),(B,H)=>{co(B,Cl,{name:p.name})})])])}),T=fn.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Xs(b.translate(p.label))],behaviours:Ct([nx.config({})])}),M=B=>Dd(B==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+B]},b.icons),P=Hn({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[M("checked"),M("unchecked")]});return fn.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[A,P.asSpec(),T],fieldBehaviours:Ct([io.config({disabled:()=>!p.enabled||b.checkUiComponentContext(p.context).shouldDisable}),fi(()=>b.checkUiComponentContext(p.context))])})})(s,l.shared.providers,f)),colorinput:Di((s,l,f)=>((p,b,v,C)=>{const A=fn.parts.field({factory:yp,inputClasses:["tox-textfield"],data:C,onSetValue:B=>gh.run(B).get(ye),inputBehaviours:Ct([io.config({disabled:()=>b.providers.isDisabled()||b.providers.checkUiComponentContext(p.context).shouldDisable}),fi(()=>b.providers.checkUiComponentContext(p.context)),os.config({}),gh.config({invalidClass:"tox-textbox-field-invalid",getRoot:B=>za(B.element),notify:{onValid:B=>{const H=Zt.getValue(B);co(B,DN,{color:H})}},validator:{validateOnLoad:!1,validate:B=>{const H=Zt.getValue(B);if(H.length===0)return Ea(pn.value(!0));{const Z=Gs("span");Vo(Z,"background-color",H);const X=wr(Z,"background-color").fold(()=>pn.error("blah"),le=>pn.value(H));return Ea(X)}}}})]),selectOnFocus:!1}),T=p.label.map(B=>ab(B,b.providers)),M=(B,H)=>{co(B,MN,{value:H})},P=Hn(((B,H)=>jl.sketch({dom:B.dom,components:B.components,toggleClass:"mce-active",dropdownBehaviours:Ct([Km(()=>H.providers.isDisabled()||H.providers.checkUiComponentContext(B.context).shouldDisable),fi(()=>H.providers.checkUiComponentContext(B.context)),nx.config({}),os.config({})]),layouts:B.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:H.getSink,fetch:Z=>yn(X=>B.fetch(X)).map(X=>I.from(v3(Js(Cy(je("menu-value"),X,le=>{B.onItemAction(Z,le)},B.columns,B.presets,Md.CLOSE_ON_EXECUTE,Me,H.providers),{movement:tk(B.columns,B.presets)})))),parts:{menu:Bw(0,0,B.presets)}}))({dom:{tag:"span",attributes:{"aria-label":b.providers.translate("Color swatch")}},layouts:{onRtl:()=>[ai,Kr,li],onLtr:()=>[Kr,ai,li]},components:[],fetch:b3(v.getColors(p.storageKey),p.storageKey,v.hasCustomColors()),columns:v.getColorCols(p.storageKey),presets:"color",onItemAction:(B,H)=>{P.getOpt(B).each(Z=>{H==="custom"?v.colorPicker(X=>{X.fold(()=>mn(Z,NN),le=>{M(Z,le),hC(p.storageKey,le)})},"#ffffff"):M(Z,H==="remove"?"":H)})},context:p.context},b));return fn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:T.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[A,P.asSpec()]}]),fieldBehaviours:Ct([Co("form-field-events",[ct(DN,(B,H)=>{P.getOpt(B).each(Z=>{Vo(Z.element,"background-color",H.event.color)}),co(B,Cl,{name:p.name})}),ct(MN,(B,H)=>{fn.getField(B).each(Z=>{Zt.setValue(Z,H.event.value),Nn.getCurrent(B).each(Mo.focus)})}),ct(NN,(B,H)=>{fn.getField(B).each(Z=>{Nn.getCurrent(B).each(Mo.focus)})})])])})})(s,l.shared,l.colorinput,f)),colorpicker:Di((s,l,f)=>((p,b,v)=>{const C=M=>"tox-"+M,A=YF((M=>P=>h(P)?M.translate(XF[P]):M.translate(P))(b),C,b.tooltips.getConfig,(M,P,B=M,H=M)=>Dd(B,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+M],attributes:{title:b.translate(H),"aria-live":"polite",...P.fold(()=>({}),Z=>({id:Z}))}},b.icons)),T=Hn(A.sketch({dom:{tag:"div",classes:[C("color-picker-container")],attributes:{role:"presentation"}},onValidHex:M=>{co(M,_p,{name:"hex-valid",value:!0})},onInvalidHex:M=>{co(M,_p,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[T.asSpec()],behaviours:Ct([Sy(v,M=>{const P=T.get(M);return Nn.getCurrent(P).bind(B=>Zt.getValue(B).hex).map(B=>"#"+cs(B,"#")).getOr("")},(M,P)=>{const B=I.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(P)).bind(Z=>es(Z,1)),H=T.get(M);Nn.getCurrent(H).fold(()=>{console.log("Can not find form")},Z=>{Zt.setValue(Z,{hex:B.getOr("")}),ax.getField(Z,"hex").each(X=>{mn(X,Ts())})})}),cb()])}})(0,l.shared.providers,f)),dropzone:Di((s,l,f)=>FN(s,l.shared.providers,f)),grid:Di((s,l)=>((f,p)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${f.columns}col`]},components:Le(f.items,p.interpreter)}))(s,l.shared)),listbox:Di((s,l,f)=>((p,b,v)=>{const C=To(p.items,H=>!_C(H)),A=b.shared.providers,T=v.bind(H=>I3(p.items,H)).orThunk(()=>ze(p.items).filter(_C)),M=p.label.map(H=>ab(H,A)),P=fn.parts.field({dom:{},factory:{sketch:H=>P3({context:p.context,uid:H.uid,text:T.map(Z=>Z.text),icon:I.none(),tooltip:I.none(),role:Ks(!C,"combobox"),...C?{}:{listRole:"listbox"},ariaLabel:p.label,fetch:(Z,X)=>{const le=eR(Z,p.name,p.items,Zt.getValue(Z),C);X(Mx(le,Md.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:I.none()}))},onSetup:ge(ye),getApi:ge({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[os.config({}),Sy(T.map(Z=>Z.value),Z=>$o(Z.element,JN),(Z,X)=>{I3(p.items,X).each(le=>{mo(Z.element,JN,le.value),co(Z,Eu,{text:le.text})})})]},"tox-listbox",b.shared)}}),B={dom:{tag:"div",classes:["tox-listboxfield"]},components:[P]};return fn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Vn([M.toArray(),[B]]),fieldBehaviours:Ct([io.config({disabled:()=>!p.enabled||A.checkUiComponentContext(p.context).shouldDisable,onDisabled:H=>{fn.getField(H).each(io.disable)},onEnabled:H=>{fn.getField(H).each(io.enable)}})])})})(s,l,f)),selectbox:Di((s,l,f)=>((p,b,v)=>{const C=Le(p.items,B=>({text:b.translate(B.text),value:B.value})),A=p.label.map(B=>ab(B,b)),T=fn.parts.field({dom:{},...v.map(B=>({data:B})).getOr({}),selectAttributes:{size:p.size},options:C,factory:EI,selectBehaviours:Ct([io.config({disabled:()=>!p.enabled||b.checkUiComponentContext(p.context).shouldDisable}),os.config({}),Co("selectbox-change",[ct(Si(),(B,H)=>{co(B,Cl,{name:p.name})})])])}),M=p.size>1?I.none():I.some(Dd("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},b.icons)),P={dom:{tag:"div",classes:["tox-selectfield"]},components:Vn([[T],M.toArray()])};return fn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Vn([A.toArray(),[P]]),fieldBehaviours:Ct([io.config({disabled:()=>!p.enabled||b.checkUiComponentContext(p.context).shouldDisable,onDisabled:B=>{fn.getField(B).each(io.disable)},onEnabled:B=>{fn.getField(B).each(io.enable)}}),fi(()=>b.checkUiComponentContext(p.context))])})})(s,l.shared.providers,f)),sizeinput:Di((s,l)=>((f,p)=>{let b=SC;const v=je("ratio-event"),C=ae=>Dd(ae,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ae]},p.icons),A=()=>!f.enabled||p.checkUiComponentContext(f.context).shouldDisable,T=fi(()=>p.checkUiComponentContext(f.context)),M=f.label.getOr("Constrain proportions"),P=p.translate(M),B=Nr.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":P,"data-mce-name":M}},components:[C("lock"),C("unlock")],buttonBehaviours:Ct([io.config({disabled:A}),T,os.config({}),Is.config(p.tooltips.getConfig({tooltipText:P}))])}),H=ae=>({dom:{tag:"div",classes:["tox-form__group"]},components:ae}),Z=ae=>fn.parts.field({factory:yp,inputClasses:["tox-textfield"],inputBehaviours:Ct([io.config({disabled:A}),T,os.config({}),Co("size-input-events",[ct(Oo(),(te,oe)=>{co(te,v,{isField1:ae})}),ct(Si(),(te,oe)=>{co(te,Cl,{name:f.name})})])]),selectOnFocus:!1}),X=ae=>({dom:{tag:"label",classes:["tox-label"]},components:[Xs(p.translate(ae))]}),le=Nr.parts.field1(H([fn.parts.label(X("Width")),Z(!0)])),se=Nr.parts.field2(H([fn.parts.label(X("Height")),Z(!1)]));return Nr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[le,se,H([X(""),B])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ae,te,oe)=>{ak(Zt.getValue(ae)).each(ue=>{b(ue).each(pe=>{Zt.setValue(te,CC(pe))})})},coupledFieldBehaviours:Ct([io.config({disabled:A,onDisabled:ae=>{Nr.getField1(ae).bind(fn.getField).each(io.disable),Nr.getField2(ae).bind(fn.getField).each(io.disable),Nr.getLock(ae).each(io.disable)},onEnabled:ae=>{Nr.getField1(ae).bind(fn.getField).each(io.enable),Nr.getField2(ae).bind(fn.getField).each(io.enable),Nr.getLock(ae).each(io.enable)}}),fi(()=>p.checkUiComponentContext("mode:design")),Co("size-input-events2",[ct(v,(ae,te)=>{const oe=te.event.isField1,ue=oe?Nr.getField1(ae):Nr.getField2(ae),pe=oe?Nr.getField2(ae):Nr.getField1(ae),Oe=ue.map(Zt.getValue).getOr(""),Te=pe.map(Zt.getValue).getOr("");b=H3(Oe,Te)})])])})})(s,l.shared.providers)),slider:Di((s,l,f)=>((p,b,v)=>{const C=yf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Xs(b.translate(p.label))]}),A=yf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),T=yf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return yf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:p.min,maxX:p.max,getInitialValue:ge(v.getOrThunk(()=>(Math.abs(p.max)-Math.abs(p.min))/2))},components:[C,A,T],sliderBehaviours:Ct([cb(),Mo.config({})]),onChoose:(M,P,B)=>{co(M,Cl,{name:p.name,value:B})},onChange:(M,P,B)=>{co(M,Cl,{name:p.name,value:B})}})})(s,l.shared.providers,f)),urlinput:Di((s,l,f)=>((p,b,v,C)=>{const A=b.shared.providers,T=te=>{const oe=Zt.getValue(te);v.addToHistory(oe.value,p.filetype)},M={...C.map(te=>({initialData:te})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{type:"url"},minChars:0,responseTime:0,fetch:te=>{const oe=((pe,Oe,Te)=>{var nt;const De=Zt.getValue(Oe),et=((nt=De==null?void 0:De.meta)==null?void 0:nt.text)??De.value;return Te.getLinkInformation().fold(()=>[],Ye=>{const st=q3(et,(Gt=>Le(Gt,uo=>Z3(uo,uo)))(Te.getHistory(pe)));return pe==="file"?(wt=[st,q3(et,aH(Ye)),q3(et,Vn([cH(Ye),lH(Ye),dH(Ye)]))],fo(wt,(Gt,uo)=>Gt.length===0||uo.length===0?Gt.concat(uo):Gt.concat(rH,uo),[])):st;var wt})})(p.filetype,te,v),ue=Mx(oe,Md.BUBBLE_TO_SANDBOX,b,{isHorizontalMenu:!1,search:I.none()});return Ea(ue)},getHotspot:te=>se.getOpt(te),onSetValue:(te,oe)=>{te.hasConfigured(gh)&&gh.run(te).get(ye)},typeaheadBehaviours:Ct([...v.getValidationHandler().map(te=>gh.config({getRoot:oe=>za(oe.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(oe,ue)=>{H.getOpt(oe).each(pe=>{mo(pe.element,"title",A.translate(ue))})}},validator:{validate:oe=>{const ue=Zt.getValue(oe);return hi(pe=>{te({type:p.filetype,url:ue.value},Oe=>{if(Oe.status==="invalid"){mo(oe.element,"aria-errormessage",dR);const Te=pn.error(Oe.message);pe(Te)}else{ur(oe.element,"aria-errormessage");const Te=pn.value(Oe.message);pe(Te)}})})},validateOnLoad:!1}})).toArray(),io.config({disabled:()=>!p.enabled||A.checkUiComponentContext(p.context).shouldDisable}),os.config({}),Co("urlinput-events",[ct(Ts(),te=>{const oe=Pr(te.element),ue=oe.trim();ue!==oe&&zc(te.element,ue),p.filetype==="file"&&co(te,Cl,{name:p.name})}),ct(Si(),te=>{co(te,Cl,{name:p.name}),T(te)}),ct(Xh(),te=>{co(te,Cl,{name:p.name}),T(te)})])]),eventOrder:{[Ts()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:te=>te.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:b.shared.getSink,parts:{menu:Bw(0,0,"normal")},onExecute:(te,oe,ue)=>{co(oe,sk,{})},onItemExecute:(te,oe,ue,pe)=>{T(te),co(te,Cl,{name:p.name})}},P=fn.parts.field({...M,factory:XI}),B=p.label.map(te=>ab(te,A)),H=Hn(((te,oe,ue=te,pe=te)=>Dd(ue,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+te],attributes:{title:A.translate(pe),"aria-live":"polite",...oe.fold(()=>({}),Oe=>({id:Oe}))}},A.icons))("invalid",I.some(dR),"warning")),Z=Hn({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[H.asSpec()]}),X=v.getUrlPicker(p.filetype),le=je("browser.url.event"),se=Hn({dom:{tag:"div",classes:["tox-control-wrap"]},components:[P,Z.asSpec()],behaviours:Ct([io.config({disabled:()=>!p.enabled||A.checkUiComponentContext(p.context).shouldDisable})])}),ae=Hn(W3({context:p.context,name:p.name,icon:I.some("browse"),text:p.picker_text.or(p.label).getOr(""),enabled:p.enabled,primary:!1,buttonType:I.none(),borderless:!0},te=>mn(te,le),A,[],["tox-browse-url"]));return fn.sketch({dom:AN([]),components:B.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Vn([[se.asSpec()],X.map(()=>ae.asSpec()).toArray()])}]),fieldBehaviours:Ct([io.config({disabled:()=>!p.enabled||A.checkUiComponentContext(p.context).shouldDisable,onDisabled:te=>{fn.getField(te).each(io.disable),ae.getOpt(te).each(io.disable)},onEnabled:te=>{fn.getField(te).each(io.enable),ae.getOpt(te).each(io.enable)}}),fi(()=>A.checkUiComponentContext(p.context)),Co("url-input-events",[ct(le,te=>{Nn.getCurrent(te).each(oe=>{const ue=Zt.getValue(oe),pe={fieldname:p.name,...ue};X.each(Oe=>{Oe(pe).get(Te=>{Zt.setValue(oe,Te),co(te,Cl,{name:p.name})})})})})])])})})(s,l,l.urlinput,f)),customeditor:Di(s=>{const l=Qn(),f=Hn({dom:{tag:s.tag}}),p=Qn(),b=!A3(s)&&s.onFocus.isSome()?[Mo.config({onFocus:v=>{s.onFocus.each(C=>{C(v.element.dom)})}}),os.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Ct([Co("custom-editor-events",[Cs(v=>{f.getOpt(v).each(C=>{(A3(s)?s.init(C.element.dom):QF.load(s.scriptId,s.scriptUrl).then(A=>A(C.element.dom,s.settings))).then(A=>{p.on(T=>{A.setValue(T)}),p.clear(),l.set(A)})})})]),Sy(I.none(),()=>l.get().fold(()=>p.get().getOr(""),v=>v.getValue()),(v,C)=>{l.get().fold(()=>p.set(C),A=>A.setValue(C))}),cb()].concat(b)),components:[f.asSpec()]}}),htmlpanel:Di((s,l)=>((f,p)=>{const b=["tox-form__group",...f.stretched?["tox-form__group--stretched"]:[]],v=Co("htmlpanel",[Cs(C=>{f.onInit(C.element.dom)})]);return f.presets==="presentation"?gu.sketch({dom:{tag:"div",classes:b,innerHtml:f.html},containerBehaviours:Ct([Is.config({...p.tooltips.getConfig({tooltipText:"",onShow:C=>{rs(C.element,"[data-mce-tooltip]:hover").orThunk(()=>Bi(C.element)).each(A=>{si(A,"data-mce-tooltip").each(T=>{Is.setComponents(C,p.tooltips.getComponents({tooltipText:T}))})})}}),mode:"children-normal",anchor:C=>({type:"node",node:rs(C.element,"[data-mce-tooltip]:hover").orThunk(()=>Bi(C.element).filter(A=>si(A,"data-mce-tooltip").isSome())),root:C.element,layouts:{onLtr:ge([li,Ei,Kr,Vi,ai,ia]),onRtl:ge([li,Ei,Kr,Vi,ai,ia])},bubble:Il(0,-2,{})})}),v])}):gu.sketch({dom:{tag:"div",classes:b,innerHtml:f.html,attributes:{role:"document"}},containerBehaviours:Ct([os.config({}),Mo.config({}),v])})})(s,l.shared.providers)),imagepreview:Di((s,l,f)=>((p,b)=>{const v=jt(b.getOr({url:""})),C=Hn({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:b.map(P=>({src:P.url})).getOr({})}}),A=Hn({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[C.asSpec()]}),T={};p.height.each(P=>T.height=P);const M=b.map(P=>({url:P.url,zoom:I.from(P.zoom),cachedWidth:I.from(P.cachedWidth),cachedHeight:I.from(P.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:T,attributes:{role:"presentation"}},components:[A.asSpec()],behaviours:Ct([cb(),Sy(M,()=>v.get(),(P,B)=>{const H={url:B.url};B.zoom.each(X=>H.zoom=X),B.cachedWidth.each(X=>H.cachedWidth=X),B.cachedHeight.each(X=>H.cachedHeight=X),v.set(H);const Z=()=>{const{cachedWidth:X,cachedHeight:le,zoom:se}=H;if(!$(X)&&!$(le)){if($(se)){const te=((oe,ue,pe)=>{const Oe=jn(oe),Te=Br(oe);return Math.min(Oe/ue,Te/pe,1)})(P.element,X,le);H.zoom=te}const ae=((te,oe,ue,pe,Oe)=>{const Te=ue*Oe,De=pe*Oe,et=Math.max(0,te/2-Te/2),nt=Math.max(0,oe/2-De/2);return{left:et.toString()+"px",top:nt.toString()+"px",width:Te.toString()+"px",height:De.toString()+"px"}})(jn(P.element),Br(P.element),X,le,H.zoom);A.getOpt(P).each(te=>{xe(te.element,ae)})}};C.getOpt(P).each(X=>{const le=X.element;B.url!==$o(le,"src")&&(mo(le,"src",B.url),ln(P.element,"tox-imagepreview__loaded")),Z(),Wu(le).then(se=>{P.getSystem().isConnected()&&(_s(P.element,"tox-imagepreview__loaded"),H.cachedWidth=se.dom.naturalWidth,H.cachedHeight=se.dom.naturalHeight,Z())})})})])}})(s,f)),table:Di((s,l)=>((f,p)=>{const b=A=>({dom:{tag:"td",innerHtml:p.translate(A)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(C=f.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Le(C,A=>({dom:{tag:"th",innerHtml:p.translate(A)}}))}]}),(v=f.cells,{dom:{tag:"tbody"},components:Le(v,A=>({dom:{tag:"tr"},components:Le(A,b)}))})],behaviours:Ct([os.config({}),Mo.config({})])};var v,C})(s,l.shared.providers)),tree:Di((s,l)=>((f,p)=>{const b=f.onLeafAction.getOr(ye),v=f.onToggleExpand.getOr(ye),C=f.defaultExpandedIds,A=jt(C),T=jt(f.defaultSelectedId),M=je("tree-id"),P=(B,H)=>f.items.map(Z=>Z.type==="leaf"?$3({leaf:Z,selectedId:B,onLeafAction:b,visible:!0,treeId:M,backstage:p}):AC({directory:Z,selectedId:B,onLeafAction:b,expandedIds:H,labelTabstopping:!0,treeId:M,backstage:p}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:P(T.get(),A.get()),behaviours:Ct([Qt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Co(sH,[ct("expand-tree-node",(B,H)=>{const{expanded:Z,node:X}=H.event;A.set(Z?[...A.get(),X]:A.get().filter(le=>le!==X)),v(A.get(),{expanded:Z,node:X})})]),$l.config({channels:{[`update-active-item-${M}`]:{onReceive:(B,H)=>{T.set(I.some(H.value)),jo.set(B,P(I.some(H.value),A.get()))}}}}),jo.config({})])}})(s,l)),panel:Di((s,l)=>((f,p)=>({dom:{tag:"div",classes:f.classes},components:Le(f.items,p.shared.interpreter)}))(s,l))},uH={field:(s,l)=>l,record:ge([])},fR=(s,l,f,p,b)=>{const v=Js(p,{shared:{interpreter:C=>Tf(s,C,f,v,b)}});return Tf(s,l,f,v,b)},Tf=(s,l,f,p,b)=>so(uR,l.type).fold(()=>(console.error(`Unknown factory type "${l.type}", defaulting to container: `,l),l),v=>v(s,l,f,p,b)),hR=(s,l,f,p)=>Tf(uH,s,l,f,p),uk={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},K3=(s,l,f)=>{const p={maxHeightFunction:lh()};return()=>f()?{type:"node",root:Gf(ni(s())),node:I.from(s()),bubble:Il(12,12,uk),layouts:{onRtl:()=>[sp],onLtr:()=>[ci]},overrides:p}:{type:"hotspot",hotspot:l(),bubble:Il(-12,12,uk),layouts:{onRtl:()=>[Kr,ai,li],onLtr:()=>[ai,Kr,li]},overrides:p}},Zi=(s,l,f,p)=>{const b={maxHeightFunction:lh()};return()=>p()?{type:"node",root:Gf(ni(l())),node:I.from(l()),bubble:Il(12,12,uk),layouts:{onRtl:()=>[$c],onLtr:()=>[$c]},overrides:b}:s?{type:"node",root:Gf(ni(l())),node:I.from(l()),bubble:Il(0,-Yd(l()),uk),layouts:{onRtl:()=>[Ei],onLtr:()=>[Ei]},overrides:b}:{type:"hotspot",hotspot:f(),bubble:Il(0,0,uk),layouts:{onRtl:()=>[Ei],onLtr:()=>[Ei]},overrides:b}},fH=(s,l,f)=>()=>f()?{type:"node",root:Gf(ni(s())),node:I.from(s()),layouts:{onRtl:()=>[$c],onLtr:()=>[$c]}}:{type:"hotspot",hotspot:l(),layouts:{onRtl:()=>[li],onLtr:()=>[li]}},hH=(s,l)=>()=>({type:"selection",root:l(),getSelection:()=>{const f=s.selection.getRng(),p=s.model.table.getSelectedCells();if(p.length>1){const b=p[0],v=p[p.length-1],C={firstCell:Ut(b),lastCell:Ut(v)};return I.some(C)}return I.some(Mc.range(Ut(f.startContainer),f.startOffset,Ut(f.endContainer),f.endOffset))}}),pH=s=>l=>({type:"node",root:s(),node:l}),mH=(s,l,f,p)=>{const b=ly(s),v=()=>Ut(s.getBody()),C=()=>Ut(s.getContentAreaContainer()),A=()=>b||!p();return{inlineDialog:K3(C,l,A),inlineBottomDialog:Zi(s.inline,C,f,A),banner:fH(C,l,A),cursor:hH(s,v),node:pH(v)}},gH=s=>(l,f)=>{xN(s)(l,f)},bH=s=>()=>fN(s),yH=s=>l=>mC(s,l),xH=s=>l=>uN(s,l),vH=s=>()=>GA(s),pR=s=>ls(s,"items"),mR=s=>ls(s,"format"),gR=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],bR=s=>fo(s,(l,f)=>{if(en(f,"items")){const p=bR(f.items);return{customFormats:l.customFormats.concat(p.customFormats),formats:l.formats.concat([{title:f.title,items:p.formats}])}}if(en(f,"inline")||(p=>en(p,"block"))(f)||(p=>en(p,"selector"))(f)){const p=`custom-${h(f.name)?f.name:f.title.toLowerCase()}`;return{customFormats:l.customFormats.concat([{name:p,format:f}]),formats:l.formats.concat([{title:f.title,format:p,icon:f.icon}])}}return{...l,formats:l.formats.concat(f)}},{customFormats:[],formats:[]}),yR=s=>VA(s).map(l=>{const f=((p,b)=>{const v=bR(b),C=A=>{Ge(A,T=>{p.formatter.has(T.name)||p.formatter.register(T.name,T.format)})};return p.formatter?C(v.customFormats):p.on("init",()=>{C(v.customFormats)}),v.formats})(s,l);return E2(s)?gR.concat(f):f}).getOr(gR),xR=(s,l,f)=>({...s,type:"formatter",isSelected:l(s.format),getStylePreview:f(s.format)}),vR=(s,l,f,p)=>{const b=v=>Le(v,C=>pR(C)?(A=>{const T=b(A.items);return{...A,type:"submenu",getStyleItems:ge(T)}})(C):mR(C)?(A=>xR(A,f,p))(C):(A=>{const T=Dt(A);return T.length===1&&ft(T,"title")})(C)?{...C,type:"separator"}:(A=>{const T=h(A.name)?A.name:je(A.title),M=`custom-${T}`,P={...A,type:"formatter",format:M,isSelected:f(M),getStylePreview:p(M)};return s.formatter.register(T,P),P})(C));return b(l)},wH=s=>{let l=0;const f=p=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Xs(p.tooltipText)]}];return{getConfig:p=>({delayForShow:()=>l>0?60:300,delayForHide:ge(300),exclusive:!0,lazySink:s,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:f(p),onShow:(b,v)=>{l++,p.onShow&&p.onShow(b,v)},onHide:(b,v)=>{l--,p.onHide&&p.onHide(b,v)},onSetup:p.onSetup}),getComponents:f}},kH=Cp.trim,wR=s=>l=>!!((f=>Y(f)&&f.nodeType===1)(l)&&(l.contentEditable===s||l.getAttribute("data-mce-contenteditable")===s)),_H=wR("true"),CH=wR("false"),kR=(s,l,f,p,b)=>({type:s,title:l,url:f,level:p,attach:b}),_R=s=>s.innerText||s.textContent,SH=s=>(l=>l&&l.nodeName==="A"&&(l.id||l.name)!==void 0)(s)&&G3(s),CR=s=>s&&/^(H[1-6])$/.test(s.nodeName),G3=s=>(l=>{let f=l;for(;f=f.parentNode;){const p=f.contentEditable;if(p&&p!=="inherit")return _H(f)}return!1})(s)&&!CH(s),EH=s=>CR(s)&&G3(s),SR=s=>{const l=(f=>f.id?f.id:je("h"))(s);return kR("header",_R(s)??"","#"+l,(f=>CR(f)?parseInt(f.nodeName.substr(1),10):0)(s),()=>{s.id=l})},AH=s=>{const l=s.id||s.name,f=_R(s);return kR("anchor",f||"#"+l,"#"+l,0,ye)},ER=s=>kH(s.title).length>0,TH=s=>{const l=(f=>Le(ri(Ut(f),"h1,h2,h3,h4,h5,h6,a:not([href])"),b=>b.dom))(s);return to((f=>Le(to(f,EH),SR))(l).concat((f=>Le(to(f,SH),AH))(l)),ER)},fk="tinymce-url-history",AR=s=>h(s)&&/^https?/.test(s),TR=s=>g(s)&&lr(s,l=>{return!(k(f=l)&&f.length<=5&&yr(f,AR));var f}).isNone(),OR=()=>{const s=ib.getItem(fk);if(s===null)return{};let l;try{l=JSON.parse(s)}catch(f){if(f instanceof SyntaxError)return console.log("Local storage "+fk+" was not valid JSON",f),{};throw f}return TR(l)?l:(console.log("Local storage "+fk+" was not valid format",l),{})},OH=s=>{const l=OR();return so(l,s).getOr([])},zH=(s,l)=>{if(!AR(s))return;const f=OR(),p=so(f,l).getOr([]),b=to(p,v=>v!==s);f[l]=[s].concat(b).slice(0,5),(v=>{if(!TR(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));ib.setItem(fk,JSON.stringify(v))})(f)},zR=s=>!!s,DH=s=>Xn(Cp.makeMap(s,/[, ]/),zR),Y3=s=>I.from(KA(s)),DR=s=>I.from(s).filter(h).getOrUndefined(),MH=s=>({getHistory:OH,addToHistory:zH,getLinkInformation:()=>(l=>Sw(l)?I.some({targets:TH(l.getBody()),anchorTop:DR(A2(l)),anchorBottom:DR(Ew(l))}):I.none())(s),getValidationHandler:()=>(l=>I.from(NM(l)))(s),getUrlPicker:l=>((f,p)=>((b,v)=>{const C=(A=>{const T=I.from(LM(A)).filter(zR).map(DH);return Y3(A).fold(Me,M=>T.fold(yt,P=>Dt(P).length>0&&P))})(b);return D(C)?C?Y3(b):I.none():C[v]?Y3(b):I.none()})(f,p).map(b=>v=>yn(C=>{const A={filetype:p,fieldname:v.fieldname,...I.from(v.meta).getOr({})};b.call(f,(T,M)=>{if(!h(T))throw new Error("Expected value to be string");if(M!==void 0&&!g(M))throw new Error("Expected meta to be a object");C({value:T,meta:M})},v.value,A)})))(s,l)}),NH={skipFocus:"ToggleToolbarDrawer skipFocus is deprecated see migration guide: https://www.tiny.cloud/docs/tinymce/latest/migration-from-7x/"},RH=ye,LH=Me,X3=ge([]);var MR,BH=Object.freeze({__proto__:null,setup:RH,isDocked:LH,getBehaviours:X3});const Q3=ge(je("toolbar-height-change")),Sp={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},NR="tox-tinymce--toolbar-sticky-on",zC="tox-tinymce--toolbar-sticky-off",Ay=(s,l)=>ft(sr.getModes(s),l),J3=s=>{const l=s.element;za(l).each(f=>{const p="padding-"+sr.getModes(s)[0];if(sr.isDocked(s)){const b=jn(f);Vo(l,"width",b+"px"),Vo(f,p,(v=>Yd(v)+(parseInt(Pi(v,"margin-top"),10)||0)+(parseInt(Pi(v,"margin-bottom"),10)||0))(l)+"px")}else xn(l,"width"),xn(f,p)})},hk=(s,l)=>{l?(ln(s,Sp.fadeOutClass),bl(s,[Sp.transitionClass,Sp.fadeInClass])):(ln(s,Sp.fadeInClass),bl(s,[Sp.fadeOutClass,Sp.transitionClass]))},RR=(s,l)=>{const f=Ut(s.getContainer());l?(_s(f,NR),ln(f,zC)):(_s(f,zC),ln(f,NR))},LR=(s,l)=>{const f=Qn(),p=l.getSink,b=A=>{p().each(T=>A(T.element))},v=A=>{s.inline||J3(A),RR(s,sr.isDocked(A)),A.getSystem().broadcastOn([$a()],{}),p().each(T=>T.getSystem().broadcastOn([$a()],{}))},C=s.inline?[]:[$l.config({channels:{[Q3()]:{onReceive:J3}}})];return[Mo.config({}),sr.config({contextual:{lazyContext:A=>{const T=Yd(A.element),M=s.inline?s.getContentAreaContainer():s.getContainer();return I.from(M).map(P=>{const B=Ar(Ut(P));return xp(s,A.element).fold(()=>{const H=B.height-T,Z=B.y+(Ay(A,"top")?0:T);return un(B.x,Z,B.width,H)},H=>{const Z=Zh(B,Um(H)),X=Ay(A,"top")?Z.y:Z.y+T;return un(Z.x,X,Z.width,Z.height-T)})})},onShow:()=>{b(A=>hk(A,!0))},onShown:A=>{b(T=>qr(T,[Sp.transitionClass,Sp.fadeInClass])),f.get().each(T=>{((M,P)=>{const B=mi(P);Tc(B).filter(H=>!on(P,H)).filter(H=>on(H,Ut(B.dom.body))||Ws(M,H)).each(()=>Er(P))})(A.element,T),f.clear()})},onHide:A=>{((T,M)=>Bi(T).orThunk(()=>M().toOptional().bind(P=>Bi(P.element))))(A.element,p).fold(f.clear,f.set),b(T=>hk(T,!1))},onHidden:()=>{b(A=>qr(A,[Sp.transitionClass]))},...Sp},lazyViewport:A=>xp(s,A.element).fold(()=>{const T=er(),M=ZA(s),P=T.y+(Ay(A,"top")&&!zw(s)?M:0),B=T.height-(Ay(A,"bottom")?M:0);return{bounds:un(T.x,P,T.width,B),optScrollEnv:I.none()}},T=>({bounds:Um(T),optScrollEnv:I.some({currentScrollTop:T.element.dom.scrollTop,scrollElmTop:pr(T.element).top})})),modes:[l.header.getDockingMode()],onDocked:v,onUndocked:v}),...C]};var PH=Object.freeze({__proto__:null,setup:(s,l,f)=>{s.inline||(l.header.isPositionedAtTop()||s.on("ResizeEditor",()=>{f().each(sr.reset)}),s.on("ResizeWindow ResizeEditor",()=>{f().each(J3)}),s.on("SkinLoaded",()=>{f().each(p=>{sr.isDocked(p)?sr.reset(p):sr.refresh(p)})}),s.on("FullscreenStateChanged",()=>{f().each(sr.reset)})),s.on("AfterScrollIntoView",p=>{f().each(b=>{sr.refresh(b);const v=b.element;dd(v)&&((C,A)=>{const T=mi(A),M=ju(A).dom.innerHeight,P=Ra(T),B=Ut(C.elm),H=Xd(B),Z=Br(B),X=H.y,le=X+Z,se=pr(A),ae=Br(A),te=se.top,oe=te+ae,ue=Math.abs(te-P.top)<2,pe=Math.abs(oe-(P.top+M))<2;if(ue&&X<oe)Xo(P.left,X-ae,T);else if(pe&&le>te){const Oe=X-M+Z+ae;Xo(P.left,Oe,T)}})(p,v)})}),s.on("PostRender",()=>{RR(s,!1)})},isDocked:s=>s().map(sr.isDocked).getOr(!1),getBehaviours:LR}),eT=il({factory:(s,l)=>{const f={focus:Qt.focusIn,setMenus:(p,b)=>{const v=Le(b,C=>{const A={type:"menubutton",text:C.text,fetch:M=>{M(C.getItems())},context:"any"},T=P4(A).mapError(M=>ou(M)).getOrDie();return lk(T,"tox-mbtn",l.backstage,I.some("menuitem"))});jo.set(p,v)}};return{uid:s.uid,dom:s.dom,components:[],behaviours:Ct([jo.config({}),Co("menubar-events",[Cs(p=>{s.onSetup(p)}),ct(Wt(),(p,b)=>{rs(p.element,".tox-mbtn--active").each(v=>{La(b.event.target,".tox-mbtn").each(C=>{on(v,C)||p.getSystem().getByDom(v).each(A=>{p.getSystem().getByDom(C).each(T=>{jl.expand(T),jl.close(A),Mo.focus(T)})})})})}),ct(mm(),(p,b)=>{b.event.prevFocus.bind(v=>p.getSystem().getByDom(v).toOptional()).each(v=>{b.event.newFocus.bind(C=>p.getSystem().getByDom(C).toOptional()).each(C=>{jl.isOpen(v)&&(jl.expand(C),jl.close(v))})})})]),Qt.config({mode:"flow",selector:".tox-mbtn",onEscape:p=>(s.onEscape(p),I.some(!0))}),os.config({})]),apis:f,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[xt("dom"),xt("uid"),xt("onEscape"),xt("backstage"),Ke("onSetup",ye)],apis:{focus:(s,l)=>{s.focus(l)},setMenus:(s,l,f)=>{s.setMenus(l,f)}}});const OU=s=>({element:()=>s.element.dom}),DC=(s,l)=>{const f=Le(Dt(l),p=>{const b=l[p],v=Ia((C=>Ps("sidebar",Ww,C))(b));return{name:p,getApi:OU,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return Le(f,p=>{const b=jt(ye);return s.slot(p.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:qw([Cu(p,b),yy(p,b),ct(i1(),(v,C)=>{const A=C.event;G(f,M=>M.name===A.name).each(M=>{(A.visible?M.onShow:M.onHide)(M.getApi(v))})})])})})},Nx=s=>Wa.sketch(l=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:DC(l,s),slotBehaviours:qw([Cs(f=>Wa.hideAllSlots(f))])})),pk=(s,l)=>{mo(s,"role",l)},BR=s=>Nn.getCurrent(s).bind(l=>hc.isGrowing(l)||hc.hasGrown(l)?Nn.getCurrent(l).bind(f=>G(Wa.getSlotNames(f),p=>Wa.isShowing(f,p))):I.none()),tT=je("FixSizeEvent"),oT=je("AutoSizeEvent"),PR=s=>Nn.getCurrent(s).each(l=>Er(l.element,!0)),IH=(s,l,f)=>{const p=jt(!1),b=Qn(),v=A=>{var T;p.get()&&(!(M=>M.type==="focusin")(T=A)||!(T.composed?ze(T.composedPath()):I.from(T.target)).map(Ut).filter(In).exists(M=>kr(M,"mce-pastebin")))&&(A.preventDefault(),PR(l()),s.editorManager.setActive(s))};s.inline||s.on("PreInit",()=>{s.dom.bind(s.getWin(),"focusin",v),s.on("BeforeExecCommand",A=>{A.command.toLowerCase()==="mcefocus"&&A.value!==!0&&v(A)})});const C=A=>{A!==p.get()&&(p.set(A),((T,M,P,B)=>{const H=M.element;if(((Z,X)=>{const le="tabindex",se=`data-mce-${le}`;I.from(Z.iframeElement).map(Ut).each(ae=>{X?(si(ae,le).each(te=>mo(ae,se,te)),mo(ae,le,-1)):(ur(ae,le),si(ae,se).each(te=>{mo(ae,le,te),ur(ae,se)}))})})(T,P),P)mh.block(M,(Z=>(X,le)=>({dom:{tag:"div",attributes:{"aria-label":Z.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:mp('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(B)),xn(H,"display"),ur(H,"aria-hidden"),T.hasFocus()&&PR(M);else{const Z=Nn.getCurrent(M).exists(X=>cd(X.element));mh.unblock(M),Vo(H,"display","none"),mo(H,"aria-hidden","true"),Z&&T.focus()}})(s,l(),A,f.providers),((T,M)=>{T.dispatch("AfterProgressState",{state:M})})(s,A))};s.on("ProgressState",A=>{if(b.on(clearTimeout),ve(A.time)){const T=_w.setEditorTimeout(s,()=>C(A.state),A.time);b.set(T)}else C(A.state),b.clear()})},IR=s=>{const l=s.label.isNone()?s.title.fold(()=>({}),f=>({attributes:{"aria-label":f}})):s.label.fold(()=>({}),f=>({attributes:{"aria-label":f}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(s.label.isSome()?["tox-toolbar__group_with_label"]:[]),...l},components:[...s.label.map(f=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Xs(f)]})).toArray(),w2.parts.items({})],items:s.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Ct([os.config({}),Mo.config({ignore:!0})])}},MC=s=>w2.sketch(IR(s)),FR=(s,l)=>{const f=Cs(p=>{const b=Le(s.initGroups,MC);yh.setGroups(p,b)});return Ct([Kw(()=>s.providers.checkUiComponentContext("any").shouldDisable),fi(()=>s.providers.checkUiComponentContext("any")),Qt.config({mode:l,onEscape:s.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),Co("toolbar-events",[f])])},HR=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return{uid:s.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":IR({title:I.none(),label:I.none(),items:[]}),"overflow-button":U3({context:"any",icon:I.some("more-drawer"),enabled:!0,tooltip:I.some("Reveal or hide additional toolbar items")},I.none(),s.providers,[],"overflow-button")},splitToolbarBehaviours:FR(s,l)}},FH=s=>{const l=HR(s),f=_M.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return _M.sketch({...l,lazySink:s.getSink,getOverflowBounds:()=>{const p=s.moreDrawerData.lazyHeader().element,b=Xd(p),v=Oa(p),C=Xd(v),A=Math.max(v.dom.scrollHeight,C.height);return un(b.x+4,C.y,b.width-8,A)},parts:{...l.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s.attributes}}},components:[f],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:p=>s.onToggled(p,!0),onClosed:p=>s.onToggled(p,!1)})},HH=s=>{const l=PA.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),f=PA.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),p=HR(s);return PA.sketch({...p,components:[l,f],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([Q3()],{type:"opened"}),s.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([Q3()],{type:"closed"}),s.onToggled(b,!1)}})},nT=s=>{const l=s.cyclicKeying?"cyclic":"acyclic";return yh.sketch({uid:s.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(s.type===ll.scrolling?["tox-toolbar--scrolling"]:[])},components:[yh.parts.groups({})],toolbarBehaviours:FR(s,l)})},sT=(s,l)=>((f,p)=>{const b=f.type==="togglebutton",v=f.icon.map(se=>Gm(se,p.icons)).map(Hn),C={...f,name:b?f.text.getOr(f.icon.getOr("")):f.text??f.icon.getOr(""),primary:f.buttonType==="primary",buttonType:I.from(f.buttonType),tooltip:f.tooltip,icon:f.icon,enabled:!0,borderless:f.borderless},A=ck(f.buttonType??"secondary"),T=b?f.text.map(p.translate):I.some(p.translate(f.text)),M=T.map(Xs),P=C.tooltip.or(T).map(se=>({"aria-label":p.translate(se)})).getOr({}),B=v.map(se=>se.asSpec()),H=Tx([B,M]),Z=f.icon.isSome()&&M.isSome(),X={tag:"button",classes:A.concat(...f.icon.isSome()&&!Z?["tox-button--icon"]:[]).concat(...Z?["tox-button--icon-and-text"]:[]).concat(...f.borderless?["tox-button--naked"]:[]).concat(...f.type==="togglebutton"&&f.active?["tox-button--enabled"]:[]),attributes:P},le=TC(C,I.some(se=>{const ae=te=>{v.map(oe=>oe.getOpt(se).each(ue=>{jo.set(ue,[Gm(te,p.icons)])}))};return b?f.onAction({setIcon:ae,setActive:te=>{const oe=se.element;te?(_s(oe,"tox-button--enabled"),mo(oe,"aria-pressed",!0)):(ln(oe,"tox-button--enabled"),ur(oe,"aria-pressed"))},isActive:()=>kr(se.element,"tox-button--enabled"),focus:()=>Er(se.element)}):f.type==="button"?f.onAction({setIcon:ae}):void 0}),[],X,H,f.tooltip,p);return ca.sketch(le)})(s,l),Ty=_e().deviceType,Oy=Ty.isPhone(),$H=Ty.isTablet();var zy=Hl({name:"silver.View",configFields:[xt("viewConfig")],partFields:[kd({factory:{sketch:s=>{let l=!1;const f=Le(s.buttons,p=>p.type==="group"?(l=!0,((b,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Le(b.buttons,C=>sT(C,v))}))(p,s.providers)):sT(p,s.providers));return{uid:s.uid,dom:{tag:"div",classes:[l?"tox-view__toolbar":"tox-view__header",...Oy||$H?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Ct([Mo.config({}),Qt.config({mode:"flow",selector:"button, .tox-button",focusInside:_t.OnEnterOrSpaceMode})]),components:l?f:[gu.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),gu.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:f})]}}},schema:[xt("buttons"),xt("providers")],name:"header"}),kd({factory:{sketch:s=>({uid:s.uid,behaviours:Ct([Mo.config({}),os.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(s,l,f,p)=>{const b={getPane:v=>Oi.getPart(v,s,"pane"),getOnShow:v=>s.viewConfig.onShow,getOnHide:v=>s.viewConfig.onHide};return{uid:s.uid,dom:s.dom,components:l,behaviours:Ct([Mo.config({}),Qt.config({mode:"cyclic",focusInside:_t.OnEnterOrSpaceMode})]),apis:b}},apis:{getPane:(s,l)=>s.getPane(l),getOnShow:(s,l)=>s.getOnShow(l),getOnHide:(s,l)=>s.getOnHide(l)}});const $R=(s,l,f)=>ar(l,(p,b)=>{const v=Ia(Ps("view",AF,p));return s.slot(b,zy.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[zy.parts.header({buttons:v.buttons,providers:f})]:[],zy.parts.pane({})]}))}),NC=(s,l)=>Wa.sketch(f=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:$R(f,s,l),slotBehaviours:qw([Cs(p=>Wa.hideAllSlots(p))])})),VR=s=>G(Wa.getSlotNames(s),l=>Wa.isShowing(s,l)),fb=(s,l,f)=>{Wa.getSlot(s,l).each(p=>{zy.getPane(p).each(b=>{var v;f(p)((v=b.element.dom,{getContainer:ge(v)}))})})};var Ep=il({factory:(s,l)=>{const f={setViews:(p,b)=>{jo.set(p,[NC(b,l.backstage.shared.providers)])},whichView:p=>Nn.getCurrent(p).bind(VR),toggleView:(p,b,v,C)=>Nn.getCurrent(p).exists(A=>{const T=VR(A),M=T.exists(B=>C===B),P=Wa.getSlot(A,C).isSome();return P&&(Wa.hideAllSlots(A),M?((B=>{const H=B.element;Vo(H,"display","none"),mo(H,"aria-hidden","true")})(p),b()):(v(),(B=>{const H=B.element;xn(H,"display"),ur(H,"aria-hidden")})(p),Wa.showSlot(A,C),((B,H)=>{fb(B,H,zy.getOnShow)})(A,C)),T.each(B=>((H,Z)=>fb(H,Z,zy.getOnHide))(A,B))),P})};return{uid:s.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Ct([jo.config({}),Nn.config({find:p=>{const b=jo.contents(p);return ze(b)}})]),apis:f}},name:"silver.ViewWrapper",configFields:[xt("backstage")],apis:{setViews:(s,l,f)=>s.setViews(l,f),toggleView:(s,l,f,p,b)=>s.toggleView(l,f,p,b),whichView:(s,l)=>s.whichView(l)}});const VH=gp.optional({factory:eT,name:"menubar",schema:[xt("backstage")]}),jH=gp.optional({factory:{sketch:s=>OD.sketch({uid:s.uid,dom:s.dom,listBehaviours:Ct([Qt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>nT({type:s.type,uid:je("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:s.providers,onEscape:()=>(s.onEscape(),I.some(!0))}),setupItem:(l,f,p,b)=>{yh.setGroups(f,p)},shell:!0})},name:"multiple-toolbar",schema:[xt("dom"),xt("onEscape")]}),UH=gp.optional({factory:{sketch:s=>(f=>f.type===ll.sliding?HH:f.type===ll.floating?FH:nT)(s)({type:s.type,uid:s.uid,onEscape:()=>(s.onEscape(),I.some(!0)),onToggled:(f,p)=>s.onToolbarToggled(p),cyclicKeying:!1,initGroups:[],getSink:s.getSink,providers:s.providers,moreDrawerData:{lazyToolbar:s.lazyToolbar,lazyMoreButton:s.lazyMoreButton,lazyHeader:s.lazyHeader},attributes:s.attributes})},name:"toolbar",schema:[xt("dom"),xt("onEscape"),xt("getSink")]}),WH=gp.optional({factory:{sketch:s=>{const l=s.editor,f=s.sticky?LR:X3;return{uid:s.uid,dom:s.dom,components:s.components,behaviours:Ct(f(l,s.sharedBackstage))}}},name:"header",schema:[xt("dom")]}),ZH=gp.optional({factory:{sketch:s=>{const l=s.promotionLink?[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:" Get all features"}}]:[];return{uid:s.uid,dom:s.dom,components:l}}},name:"promotion",schema:[xt("dom"),xt("promotionLink")]}),qH=gp.optional({name:"socket",schema:[xt("dom")]}),KH=gp.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Ct([os.config({}),Mo.config({}),hc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:l=>{Nn.getCurrent(l).each(Wa.hideAllSlots),mn(l,oT)},onGrown:l=>{mn(l,oT)},onStartGrow:l=>{co(l,tT,{width:wr(l.element,"width").getOr("")})},onStartShrink:l=>{co(l,tT,{width:jn(l.element)+"px"})}}),jo.config({}),Nn.config({find:l=>{const f=jo.contents(l);return ze(f)}})])}],behaviours:Ct([_3(0),Co("sidebar-sliding-events",[ct(tT,(l,f)=>{Vo(l.element,"width",f.event.width)}),ct(oT,(l,f)=>{xn(l.element,"width")})])])})},name:"sidebar",schema:[xt("dom")]}),GH=gp.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Ct([jo.config({}),mh.config({focus:!1}),Nn.config({find:l=>ze(l.components())})]),components:[]})},name:"throbber",schema:[xt("dom")]}),RC=gp.optional({factory:Ep,name:"viewWrapper",schema:[xt("backstage")]}),jR=gp.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:s.components})},name:"editorContainer",schema:[]});var xs=Hl({name:"OuterContainer",factory:(s,l,f)=>{let p=!1;const b=C=>{qb(C,".tox-statusbar").each(A=>{Pi(A,"display")==="none"&&$o(A,"aria-hidden")==="true"?(xn(A,"display"),ur(A,"aria-hidden")):(Vo(A,"display","none"),mo(A,"aria-hidden","true"))})},v={getSocket:C=>Oi.getPart(C,s,"socket"),setSidebar:(C,A,T)=>{Oi.getPart(C,s,"sidebar").each(M=>((P,B,H)=>{Nn.getCurrent(P).each(Z=>{jo.set(Z,[Nx(B)]);const X=H==null?void 0:H.toLowerCase();h(X)&&en(B,X)&&Nn.getCurrent(Z).each(le=>{Wa.showSlot(le,X),hc.immediateGrow(Z),xn(Z.element,"width"),pk(P.element,"region")})})})(M,A,T))},toggleSidebar:(C,A)=>{Oi.getPart(C,s,"sidebar").each(T=>((M,P)=>{Nn.getCurrent(M).each(B=>{Nn.getCurrent(B).each(H=>{hc.hasGrown(B)?Wa.isShowing(H,P)?(hc.shrink(B),pk(M.element,"presentation")):(Wa.hideAllSlots(H),Wa.showSlot(H,P),pk(M.element,"region")):(Wa.hideAllSlots(H),Wa.showSlot(H,P),hc.grow(B),pk(M.element,"region"))})})})(T,A))},whichSidebar:C=>Oi.getPart(C,s,"sidebar").bind(BR).getOrNull(),getHeader:C=>Oi.getPart(C,s,"header"),getToolbar:C=>Oi.getPart(C,s,"toolbar"),setToolbar:(C,A)=>{Oi.getPart(C,s,"toolbar").each(T=>{const M=Le(A,MC);T.getApis().setGroups(T,M)})},setToolbars:(C,A)=>{Oi.getPart(C,s,"multiple-toolbar").each(T=>{const M=Le(A,P=>Le(P,MC));OD.setItems(T,M)})},refreshToolbar:C=>{Oi.getPart(C,s,"toolbar").each(A=>A.getApis().refresh(A))},toggleToolbarDrawer:C=>{Oi.getPart(C,s,"toolbar").each(A=>{jd(A.getApis().toggle,T=>T(A))})},toggleToolbarDrawerWithoutFocusing:C=>{Oi.getPart(C,s,"toolbar").each(A=>{jd(A.getApis().toggleWithoutFocusing,T=>T(A))})},isToolbarDrawerToggled:C=>Oi.getPart(C,s,"toolbar").bind(A=>I.from(A.getApis().isOpen).map(T=>T(A))).getOr(!1),getThrobber:C=>Oi.getPart(C,s,"throbber"),focusToolbar:C=>{Oi.getPart(C,s,"toolbar").orThunk(()=>Oi.getPart(C,s,"multiple-toolbar")).each(A=>{Qt.focusIn(A)})},setMenubar:(C,A)=>{Oi.getPart(C,s,"menubar").each(T=>{eT.setMenus(T,A)})},focusMenubar:C=>{Oi.getPart(C,s,"menubar").each(A=>{eT.focus(A)})},setViews:(C,A)=>{Oi.getPart(C,s,"viewWrapper").each(T=>{Ep.setViews(T,A)})},toggleView:(C,A)=>Oi.getPart(C,s,"viewWrapper").exists(T=>Ep.toggleView(T,()=>v.showMainView(C),()=>v.hideMainView(C),A)),whichView:C=>Oi.getPart(C,s,"viewWrapper").bind(Ep.whichView).getOrNull(),hideMainView:C=>{p=v.isToolbarDrawerToggled(C),p&&v.toggleToolbarDrawer(C),Oi.getPart(C,s,"editorContainer").each(A=>{const T=A.element;b(T),Vo(T,"display","none"),mo(T,"aria-hidden","true")})},showMainView:C=>{p&&v.toggleToolbarDrawer(C),Oi.getPart(C,s,"editorContainer").each(A=>{const T=A.element;b(T),xn(T,"display"),ur(T,"aria-hidden")})}};return{uid:s.uid,dom:s.dom,components:l,apis:v,behaviours:s.behaviours}},configFields:[xt("dom"),xt("behaviours")],partFields:[WH,VH,UH,jH,qH,KH,ZH,GH,RC,jR],apis:{getSocket:(s,l)=>s.getSocket(l),setSidebar:(s,l,f,p)=>{s.setSidebar(l,f,p)},toggleSidebar:(s,l,f)=>{s.toggleSidebar(l,f)},whichSidebar:(s,l)=>s.whichSidebar(l),getHeader:(s,l)=>s.getHeader(l),getToolbar:(s,l)=>s.getToolbar(l),setToolbar:(s,l,f)=>{s.setToolbar(l,f)},setToolbars:(s,l,f)=>{s.setToolbars(l,f)},refreshToolbar:(s,l)=>s.refreshToolbar(l),toggleToolbarDrawer:(s,l)=>{s.toggleToolbarDrawer(l)},toggleToolbarDrawerWithoutFocusing:(s,l)=>{s.toggleToolbarDrawerWithoutFocusing(l)},isToolbarDrawerToggled:(s,l)=>s.isToolbarDrawerToggled(l),getThrobber:(s,l)=>s.getThrobber(l),setMenubar:(s,l,f)=>{s.setMenubar(l,f)},focusMenubar:(s,l)=>{s.focusMenubar(l)},focusToolbar:(s,l)=>{s.focusToolbar(l)},setViews:(s,l,f)=>{s.setViews(l,f)},toggleView:(s,l,f)=>s.toggleView(l,f),whichView:(s,l)=>s.whichView(l)}});const rT={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code suggestededits revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image video link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},iT=s=>s.split(" "),UR=(s,l)=>{const f={...rT,...l.menus},p=Dt(l.menus).length>0,b=l.menubar===void 0||l.menubar===!0?iT("file edit view insert format tools table help"):iT(l.menubar===!1?"":l.menubar),v=to(b,A=>{const T=en(rT,A);return p?T||so(l.menus,A).exists(M=>en(M,"items")):T}),C=Le(v,A=>{const T=f[A];return((M,P,B)=>{const H=MM(B).split(/[ ,]/);return{text:M.title,getItems:()=>Zo(M.items,Z=>{const X=Z.toLowerCase();return X.trim().length===0||To(H,le=>le===X)?[]:X==="separator"||X==="|"?[{type:"separator"}]:P.menuItems[X]?[P.menuItems[X]]:[]})}})({title:T.title,items:iT(T.items)},l,s)});return to(C,A=>A.getItems().length>0&&To(A.getItems(),T=>h(T)||T.type!=="separator"))},LC=(s,l,f)=>(s.on("remove",()=>f.unload(l)),f.load(l)),aT=(s,l,f,p)=>(s.on("remove",()=>p.unloadRawCss(l)),p.loadRawCss(l,f)),lT=s=>I.from(tinymce.Resource.get(s)).filter(h),cT=(s,l,f="")=>{const p=(v=>{const C=HM(v);return C?I.from(C):I.none()})(s).map(v=>((C,A)=>"ui/"+C+"/"+A)(v,`${l}.css`)),b=p.bind(lT);return pi(p,b,(v,C)=>({_kind:"load-raw",key:v,css:C})).getOrThunk(()=>{const v=s.editorManager.suffix;return{_kind:"load-stylesheet",url:f+`/${l}${v}.css`}})},YH=(s,l)=>{const f=s.ui.styleSheetLoader,p=cT(s,"skin",l);switch(p._kind){case"load-raw":const{key:b,css:v}=p;return aT(s,b,v,f),Promise.resolve();case"load-stylesheet":const{url:C}=p;return LC(s,C,f);default:return Promise.resolve()}},XH=(s,l)=>{var f;if(f=Ut(s.getElement()),!ld(f).isSome())return Promise.resolve();{const p=Cw.DOM.styleSheetLoader,b=cT(s,"skin.shadowdom",l);switch(b._kind){case"load-raw":const{key:v,css:C}=b;return aT(s,v,C,p),Promise.resolve();case"load-stylesheet":const{url:A}=b;return LC(s,A,p);default:return Promise.resolve()}}},dT=(s,l)=>(async(f,p)=>{const b=$M(p);if(await((v,C,A)=>{const T=cT(v,C?"content.inline":"content",A);switch(T._kind){case"load-raw":const{key:M,css:P}=T;return C?aT(v,M,P,v.ui.styleSheetLoader):v.on("PostRender",()=>{aT(v,M,P,v.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:B}=T;return A&&v.contentCSS.push(B),Promise.resolve();default:return Promise.resolve()}})(p,f,b),!JA(p)&&h(b))return Promise.all([YH(p,b),XH(p,b)]).then()})(s,l).then((f=>{const p=()=>{f._skinLoaded=!0,(b=>{b.dispatch("SkinLoaded")})(f)};return()=>{f.initialized?p():f.on("init",p)}})(l),(f=>()=>((p,b)=>{p.dispatch("SkinLoadError",b)})(f,{message:"Skin could not be loaded"}))(l)),WR=Ve(dT,!1),QH=Ve(dT,!0),ZR=s=>({isEnabled:()=>!io.isDisabled(s),setEnabled:l=>io.set(s,!l),setText:l=>co(s,Eu,{text:l}),setIcon:l=>co(s,Ey,{icon:l})}),qR=s=>({setActive:l=>{Ko.set(s,l)},isActive:()=>Ko.isOn(s),isEnabled:()=>!io.isDisabled(s),setEnabled:l=>io.set(s,!l),setText:l=>co(s,Eu,{text:l}),setIcon:l=>co(s,Ey,{icon:l})}),JH=(s,l)=>s.map(f=>({"aria-label":l.translate(f)})).getOr({}),e$=je("focus-button"),Rx=(s,l,f,p,b,v,C)=>{const A=l.map(M=>Hn(GN(M,"tox-tbtn",b))),T=s.map(M=>Hn(Gm(M,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(l.isSome()?["tox-tbtn--select"]:[]),attributes:{...JH(f,b),...Y(C)?{"data-mce-name":C}:{}}},components:Tx([T.map(M=>M.asSpec()),A.map(M=>M.asSpec())]),eventOrder:{[de()]:["focusing","alloy.base.behaviour",ub],[yd()]:[ub,"toolbar-group-button-events"],[nf()]:[ub,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:Ct([Kw(()=>b.checkUiComponentContext(v).shouldDisable),fi(()=>b.checkUiComponentContext(v)),Co(ub,[Cs((M,P)=>L3(M)),ct(Eu,(M,P)=>{A.bind(B=>B.getOpt(M)).each(B=>{jo.set(B,[Xs(b.translate(P.event.text))])})}),ct(Ey,(M,P)=>{T.bind(B=>B.getOpt(M)).each(B=>{jo.set(B,[Gm(P.event.icon,b.icons)])})}),ct(de(),(M,P)=>{P.event.prevent(),mn(M,e$)})])].concat(p.getOr([])))}},KR=(s,l,f,p)=>{var A;const b=jt(ye),v=Rx(s.icon,s.text,s.tooltip,I.none(),f,s.context,p);return ca.sketch({dom:v.dom,components:v.components,eventOrder:qN,buttonBehaviours:{...Ct([Co("toolbar-button-events",[(C={onAction:s.onAction,getApi:l.getApi},lf((T,M)=>{by(C,T)(P=>{co(T,R3,{buttonApi:P}),C.onAction(P)})})),Cu(l,b),yy(l,b)]),...s.tooltip.map(T=>Is.config(f.tooltips.getConfig({tooltipText:f.translate(T)+s.shortcut.map(M=>` (${X4(M)})`).getOr("")}))).toArray(),Kw(()=>!s.enabled||f.checkUiComponentContext(s.context).shouldDisable),fi(()=>f.checkUiComponentContext(s.context))].concat(l.toolbarButtonBehaviours)),[ub]:(A=v.buttonBehaviours)==null?void 0:A[ub]}});var C},GR=(s,l,f,p)=>KR(s,{toolbarButtonBehaviours:f.length>0?[Co("toolbarButtonWith",f)]:[],getApi:ZR,onSetup:s.onSetup},l,p),BC=(s,l,f,p)=>KR(s,{toolbarButtonBehaviours:[jo.config({}),Ko.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(f.length>0?[Co("toolbarToggleButtonWith",f)]:[]),getApi:qR,onSetup:s.onSetup},l,p),t$=(s,l,f)=>p=>yn(b=>l.fetch(b)).map(b=>I.from(v3(Js(Cy(je("menu-value"),b,v=>{l.onItemAction(s(p),v)},l.columns,l.presets,Md.CLOSE_ON_EXECUTE,l.select.getOr(Me),f),{movement:tk(l.columns,l.presets),menuBehaviours:qw(l.columns!=="auto"?[]:[Cs((v,C)=>{Ss(v,4,a5(l.presets)).each(({numRows:A,numColumns:T})=>{Qt.setGridSize(v,A,T)})})])})))),PC=s=>{rr.getContent(s).each(l=>{rs(l.element,".tox-toolbar-slider__input,.tox-toolbar-textfield").fold(()=>Qt.focusIn(l),Er)})},YR=je("forward-slide"),IC=je("backward-slide"),FC=je("change-slide-event"),HC="tox-pop--resizing",Dy=(s,l,f)=>Cc(f)?s.translate(l):s.translate([l,s.translate(f)]),Ym=(s,l)=>{const f=(v,C,A,T)=>{const M=s.shared.providers.translate(v.title);if(v.type==="separator")return I.some({type:"separator",text:M});if(v.type==="submenu"){const P=Zo(v.getStyleItems(),B=>p(B,C,T));return C===0&&P.length<=0?I.none():I.some({type:"nestedmenuitem",text:M,enabled:P.length>0,getSubmenuItems:()=>Zo(v.getStyleItems(),B=>p(B,C,T))})}return I.some({type:"togglemenuitem",text:M,icon:v.icon,active:v.isSelected(T),enabled:!A,onAction:l.onAction(v),...v.getStylePreview().fold(()=>({}),P=>({meta:{style:P}}))})},p=(v,C,A)=>{const T=v.type==="formatter"&&l.isInvalid(v);return C===0?T?[]:f(v,C,!1,A).toArray():f(v,C,T,A).toArray()},b=v=>{const C=l.getCurrentValue(),A=l.shouldHide?0:1;return Zo(v,T=>p(T,A,C))};return{validateItems:b,getFetch:(v,C)=>(A,T)=>{const M=C(),P=b(M);T(Mx(P,Md.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:I.none()}))}}},Of=(s,l)=>{const f=l.dataset,p=f.type==="basic"?()=>Le(f.data,b=>xR(b,l.isSelectedFor,l.getPreviewFor)):f.getData;return{items:Ym(s,l),getStyleItems:p}},mk=(s,l,f,p,b,v)=>{const{items:C,getStyleItems:A}=Of(l,f),T=jt(f.tooltip);return P3({context:"mode:design",text:f.icon.isSome()?I.none():f.text,icon:f.icon,ariaLabel:I.some(f.tooltip),tooltip:I.none(),role:I.none(),fetch:C.getFetch(l,A),onSetup:M=>{const P=B=>M.setTooltip(Dy(s,p(B.value),B.value));return s.on(b,P),ek(_y(s,"NodeChange",B=>{const H=B.getComponent();f.updateText(H),io.set(B.getComponent(),!s.selection.isEditable()||A().length===0)})(M),()=>s.off(b,P))},getApi:M=>({getComponent:ge(M),setTooltip:P=>{const B=l.shared.providers.translate(P);mo(M.element,"aria-label",B),T.set(P)}}),columns:1,presets:"normal",classes:f.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Is.config({...l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(f.tooltip),onShow:M=>{if(f.tooltip!==T.get()){const P=l.shared.providers.translate(T.get());Is.setComponents(M,l.shared.providers.tooltips.getComponents({tooltipText:P}))}}})})]},"tox-tbtn",l.shared,v)};var Lx;(function(s){s[s.SemiColon=0]="SemiColon",s[s.Space=1]="Space"})(Lx||(Lx={}));const $C=(s,l,f)=>{const p=(b=((v,C)=>C===Lx.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(s.options.get(l),f),Le(b,v=>{let C=v,A=v;const T=v.split("=");return T.length>1&&(C=T[0],A=T[1]),{title:C,format:A}}));var b;return{type:"basic",data:p}},XR=ge("Alignment {0}"),uT="left",fT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],QR=s=>{const l={type:"basic",data:fT};return{tooltip:Dy(s,XR(),uT),text:I.none(),icon:I.some("align-left"),isSelectedFor:f=>()=>s.formatter.match(f),getCurrentValue:I.none,getPreviewFor:f=>I.none,onAction:f=>()=>G(fT,p=>p.format===f.format).each(p=>s.execCommand(p.command)),updateText:f=>{const p=G(fT,b=>s.formatter.match(b.format)).fold(ge(uT),b=>b.title.toLowerCase());co(f,Ey,{icon:`align-${p}`}),((b,v)=>{b.dispatch("AlignTextUpdate",v)})(s,{value:p})},dataset:l,shouldHide:!1,isInvalid:f=>!s.formatter.canApply(f.format)}},JR=(s,l)=>{const f=l(),p=Le(f,b=>b.format);return I.from(s.formatter.closest(p)).bind(b=>G(f,v=>v.format===b))},e6=ge("Block {0}"),hT="Paragraph",t6=s=>{const l=$C(s,"block_formats",Lx.SemiColon);return{tooltip:Dy(s,e6(),hT),text:I.some(hT),icon:I.none(),isSelectedFor:f=>()=>s.formatter.match(f),getCurrentValue:I.none,getPreviewFor:f=>()=>{const p=s.formatter.get(f);return p?I.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(f))}):I.none()},onAction:d3(s),updateText:f=>{const p=JR(s,()=>l.data).fold(ge(hT),b=>b.title);co(f,Eu,{text:p}),((b,v)=>{b.dispatch("BlocksTextUpdate",v)})(s,{value:p})},dataset:l,shouldHide:!1,isInvalid:f=>!s.formatter.canApply(f.format)}},o6=ge("Font {0}"),pT="System Font",mT=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],n6=s=>{const l=s.split(/\s*,\s*/);return Le(l,f=>f.replace(/^['"]+|['"]+$/g,""))},s6=(s,l)=>l.length>0&&yr(l,f=>s.indexOf(f.toLowerCase())>-1),r6=s=>{const l=()=>{const p=M=>M?n6(M)[0]:"",b=s.queryCommandValue("FontName"),v=f.data,C=b?b.toLowerCase():"",A=FM(s);return{matchOpt:G(v,M=>{const P=M.format;return P.toLowerCase()===C||p(P).toLowerCase()===p(C).toLowerCase()}).orThunk(()=>Ks(((M,P)=>{if(M.indexOf("-apple-system")===0||P.length>0){const B=n6(M.toLowerCase());return s6(B,mT)||s6(B,P)}return!1})(C,A),{title:pT,format:C})),font:b}},f=$C(s,"font_family_formats",Lx.SemiColon);return{tooltip:Dy(s,o6(),pT),text:I.some(pT),icon:I.none(),isSelectedFor:p=>b=>b.exists(v=>v.format===p),getCurrentValue:()=>{const{matchOpt:p}=l();return p},getPreviewFor:p=>()=>I.some({tag:"div",styles:p.indexOf("dings")===-1?{"font-family":p}:{}}),onAction:p=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontName",!1,p.format)})},updateText:p=>{const{matchOpt:b,font:v}=l(),C=b.fold(ge(v),A=>A.title);co(p,Eu,{text:C}),((A,T)=>{A.dispatch("FontFamilyTextUpdate",T)})(s,{value:C})},dataset:f,shouldHide:!1,isInvalid:Me}};var gk=tinymce.util.Tools.resolve("tinymce.util.VK");const i6=ge("Font size {0}"),a6="12pt",o$={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},l6={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},n$=(s,l)=>/[0-9.]+px$/.test(s)?((f,p)=>{const b=Math.pow(10,p);return Math.round(f*b)/b})(72*parseInt(s,10)/96,l||0)+"pt":so(l6,s).getOr(s),s$=s=>so(o$,s).getOr(""),c6=s=>{const l=()=>{let b=I.none();const v=p.data,C=s.queryCommandValue("FontSize");if(C)for(let A=3;b.isNone()&&A>=0;A--){const T=n$(C,A),M=s$(T);b=G(v,P=>P.format===C||P.format===T||P.format===M)}return{matchOpt:b,size:C}},f=ge(I.none),p=$C(s,"font_size_formats",Lx.Space);return{tooltip:Dy(s,i6(),a6),text:I.some(a6),icon:I.none(),isSelectedFor:b=>v=>v.exists(C=>C.format===b),getPreviewFor:f,getCurrentValue:()=>{const{matchOpt:b}=l();return b},onAction:b=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,b.format)})},updateText:b=>{const{matchOpt:v,size:C}=l(),A=v.fold(ge(C),T=>T.title);co(b,Eu,{text:A}),((T,M)=>{T.dispatch("FontSizeTextUpdate",M)})(s,{value:A})},dataset:p,shouldHide:!1,isInvalid:Me}},d6=s=>Cc(s)?"Formats":"Format {0}",u6=(s,l)=>{const f="Formats";return{tooltip:Dy(s,d6(""),""),text:I.some(f),icon:I.none(),isSelectedFor:p=>()=>s.formatter.match(p),getCurrentValue:I.none,getPreviewFor:p=>()=>{const b=s.formatter.get(p);return b!==void 0?I.some({tag:b.length>0&&(b[0].inline||b[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(p))}):I.none()},onAction:d3(s),updateText:p=>{const b=A=>pR(A)?Zo(A.items,b):mR(A)?[{title:A.title,format:A.format}]:[],v=Zo(yR(s),b),C=JR(s,ge(v)).fold(ge({title:f,tooltipLabel:""}),A=>({title:A.title,tooltipLabel:A.title}));co(p,Eu,{text:C.title}),((A,T)=>{A.dispatch("StylesTextUpdate",T)})(s,{value:C.tooltipLabel})},shouldHide:$m(s),isInvalid:p=>!s.formatter.canApply(p.format),dataset:l}},f6=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Bx=(s,l)=>(f,p,b,v)=>{const C=s(f).mapError(A=>ou(A)).getOrDie();return l(C,p,b,v)},r$={button:Bx(sC,(s,l,f,p)=>((b,v,C)=>GR(b,v,[],C))(s,l.shared.providers,p)),togglebutton:Bx(W4,(s,l,f,p)=>((b,v,C)=>BC(b,v,[],C))(s,l.shared.providers,p)),menubutton:Bx(P4,(s,l,f,p)=>lk(s,"tox-tbtn",l,I.none(),!1,p)),splitbutton:Bx(s=>Ps("SplitButton",EF,s),(s,l,f,p)=>((b,v,C)=>{const A=jt(ye),T=jt(b.tooltip.getOr("")),M=((te,oe,ue)=>pe=>{const Oe=pe.getSystem(),Te=pe.element,De=()=>{const nt=kr(Te,"tox-split-button__chevron");return{mainOpt:nt?Wd(Te).bind(Ye=>Oe.getByDom(Ye).toOptional()):I.some(pe),chevronOpt:nt?I.some(pe):Lr(Te).bind(Ye=>Oe.getByDom(Ye).toOptional().filter(st=>kr(st.element,"tox-split-button__chevron")))}},et=nt=>{const{mainOpt:Ye,chevronOpt:st}=De();Ye.each(nt),st.each(nt)};return{isEnabled:()=>{const{mainOpt:nt}=De();return nt.exists(Ye=>!io.isDisabled(Ye))},setEnabled:nt=>et(Ye=>io.set(Ye,!nt)),setText:nt=>{const{mainOpt:Ye}=De();Ye.each(st=>co(st,Eu,{text:nt}))},setIcon:nt=>{const{mainOpt:Ye}=De();Ye.each(st=>co(st,Ey,{icon:nt}))},setIconFill:(nt,Ye)=>et(st=>{rs(st.element,`svg path[class="${nt}"], rect[class="${nt}"]`).each(wt=>{mo(wt,"fill",Ye)})}),isActive:()=>{const{mainOpt:nt}=De();return nt.exists(Ye=>Ko.isOn(Ye))},setActive:nt=>{const{mainOpt:Ye}=De();Ye.each(st=>Ko.set(st,nt))},setTooltip:nt=>{te.set(nt);const{mainOpt:Ye,chevronOpt:st}=De();Ye.each(Gt=>mo(Gt.element,"aria-label",oe.providers.translate(nt)));const wt=ue.chevronTooltip.map(Gt=>oe.providers.translate(Gt)).getOr(oe.providers.translate(`${nt} menu`));st.each(Gt=>mo(Gt.element,"aria-label",wt))}}})(T,v,b),P=je("tox-split-menu"),B=jt(!1),H=()=>b.tooltip.map(te=>v.providers.translate(te)).getOr(v.providers.translate("Text color")),Z=()=>b.chevronTooltip.map(te=>v.providers.translate(te)).getOrThunk(()=>{const te=H();return v.providers.translate(["{0} menu",te])}),X=(te,oe)=>{B.set(te),mo(oe.element,"aria-expanded",String(te))},le=jl.sketch({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:o5("chevron-down",v.providers.icons),attributes:{"aria-label":Z(),...Y(C)?{"data-mce-name":C+"-chevron"}:{},"aria-haspopup":"menu","aria-expanded":String(B.get()),"aria-controls":P}},components:[],toggleClass:"tox-tbtn--enabled",dropdownBehaviours:Ct([Co("split-dropdown-events",[Cs((te,oe)=>L3(te)),Cu({getApi:M,onSetup:b.onSetup},A),ct("alloy-dropdown-open",te=>X(!0,te)),ct("alloy-dropdown-close",te=>X(!1,te))]),Kw(()=>v.providers.checkUiComponentContext(b.context).shouldDisable),fi(()=>v.providers.checkUiComponentContext(b.context)),nx.config({}),Is.config(v.providers.tooltips.getConfig({tooltipText:Z(),onShow:te=>{if(T.get()!==b.tooltip.getOr("")){const oe=b.chevronTooltip.map(ue=>v.providers.translate(ue)).getOr(`${v.providers.translate(T.get())} menu`);Is.setComponents(te,v.providers.tooltips.getComponents({tooltipText:oe}))}}}))]),lazySink:v.getSink,fetch:t$(M,b,v.providers),getHotspot:te=>Wd(te.element).bind(oe=>te.getSystem().getByDom(oe).toOptional()),onOpen:(te,oe,ue)=>{gn.highlightBy(ue,pe=>kr(pe.element,"tox-collection__item--active")),gn.getHighlighted(ue).each(Qt.focusIn)},parts:{menu:{...Bw(0,b.columns,b.presets),dom:{...Bw(0,b.columns,b.presets).dom,tag:"div",attributes:{id:P}}}}}),se=Rx(b.icon,b.text,I.none(),I.some([Ko.config({toggleClass:"tox-tbtn--enabled",aria:b.presets==="color"?{mode:"none"}:{mode:"pressed"},toggleOnExecute:!1}),...b.tooltip.isSome()?[Is.config(v.providers.tooltips.getConfig({tooltipText:v.providers.translate(b.tooltip.getOr("")),onShow:te=>{if(T.get()!==b.tooltip.getOr("")){const oe=v.providers.translate(T.get());Is.setComponents(te,v.providers.tooltips.getComponents({tooltipText:oe}))}}}))]:[]]),v.providers,b.context,C);return[ca.sketch({dom:{...se.dom,classes:["tox-tbtn","tox-split-button__main"].concat(b.text.isSome()?["tox-tbtn--select"]:[]),attributes:{"aria-label":H(),...Y(C)?{"data-mce-name":C}:{}}},components:se.components,eventOrder:se.eventOrder,buttonBehaviours:se.buttonBehaviours,action:te=>{if(b.onAction){const oe=M(te);oe.isEnabled()&&b.onAction(oe)}}}),le]})(s,l.shared,p)),grouptoolbarbutton:Bx(s=>Ps("GroupToolbarButton",SF,s),(s,l,f,p)=>{const b=f.ui.registry.getAll().buttons,v={[y0]:l.shared.header.isPositionedAtTop()?rf.TopToBottom:rf.BottomToTop};if(ry(f)===ll.floating)return((C,A,T,M,P)=>{const B=A.shared,H=jt(ye),Z={toolbarButtonBehaviours:[],getApi:ZR,onSetup:C.onSetup},X=[Co("toolbar-group-button-events",[Cu(Z,H),yy(Z,H)]),...C.tooltip.map(le=>Is.config(A.shared.providers.tooltips.getConfig({tooltipText:A.shared.providers.translate(le)}))).toArray()];return Pm.sketch({lazySink:B.getSink,fetch:()=>yn(le=>{le(Le(T(C.items),MC))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Rx(C.icon,C.text,C.tooltip,I.some(X),B.providers,C.context,P),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:M}}}})})(s,l,C=>VC(f,{buttons:b,toolbar:C,allowToolbarGroups:!1},l,I.none()),v,p);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},h6={styles:(s,l)=>{const f={type:"advanced",...l.styles};return mk(s,l,u6(s,f),d6,"StylesTextUpdate","styles")},fontsize:(s,l)=>mk(s,l,c6(s),i6,"FontSizeTextUpdate","fontsize"),fontsizeinput:(s,l)=>((f,p,b,v)=>{let C=I.none();const A=_y(f,"NodeChange SwitchMode DisabledStateChange",ue=>{const pe=ue.getComponent();C=I.some(pe),b.updateInputValue(pe),io.set(pe,!f.selection.isEditable()||wh(f))}),T=ue=>({getComponent:ge(ue)}),M=jt(ye),P=je("custom-number-input-events"),B=(ue,pe,Oe)=>{const Te=C.map(st=>Zt.getValue(st)).getOr(""),De=b.getNewValue(Te,ue),et=Te.length-`${De}`.length,nt=C.map(st=>st.element.dom.selectionStart-et),Ye=C.map(st=>st.element.dom.selectionEnd-et);b.onAction(De,Oe),C.each(st=>{Zt.setValue(st,De),pe&&(nt.each(wt=>st.element.dom.selectionStart=wt),Ye.each(wt=>st.element.dom.selectionEnd=wt))})},H=(ue,pe)=>B((Oe,Te)=>Oe-Te,ue,pe),Z=(ue,pe)=>B((Oe,Te)=>Oe+Te,ue,pe),X=ue=>za(ue.element).fold(I.none,pe=>(Er(pe),I.some(!0))),le=ue=>cd(ue.element)?(Ri(ue.element).each(pe=>Er(pe)),I.some(!0)):I.none(),se=(ue,pe,Oe,Te)=>{const De=jt(ye),et=p.shared.providers.translate(Oe),nt=je("altExecuting"),Ye=_y(f,"NodeChange SwitchMode DisabledStateChange",wt=>{io.set(wt.getComponent(),!f.selection.isEditable()||wh(f))}),st=wt=>{io.isDisabled(wt)||ue(!0)};return ca.sketch({dom:{tag:"button",attributes:{"aria-label":et,"data-mce-name":pe},classes:Te.concat(pe)},components:[B3(pe,p.shared.providers.icons)],buttonBehaviours:Ct([io.config({}),Is.config(p.shared.providers.tooltips.getConfig({tooltipText:et})),Co(nt,[Cu({onSetup:Ye,getApi:T},De),yy({getApi:T},De),ct(Ln(),(wt,Gt)=>{Gt.event.raw.keyCode!==gk.SPACEBAR&&Gt.event.raw.keyCode!==gk.ENTER||io.isDisabled(wt)||ue(!1)}),ct(Ja(),st),ct(F(),st)])]),eventOrder:{[Ln()]:[nt,"keying"],[Ja()]:[nt,"alloy.base.behaviour"],[F()]:[nt,"alloy.base.behaviour"],[yd()]:["alloy.base.behaviour",nt,"tooltipping"],[nf()]:[nt,"tooltipping"]}})},ae=Hn(se(ue=>H(!1,ue),"minus","Decrease font size",[])),te=Hn(se(ue=>Z(!1,ue),"plus","Increase font size",[])),oe=Hn({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[yp.sketch({inputBehaviours:Ct([io.config({}),Co(P,[Cu({onSetup:A,getApi:T},M),yy({getApi:T},M)]),Co("input-update-display-text",[ct(Eu,(ue,pe)=>{Zt.setValue(ue,pe.event.text)}),ct(dn(),ue=>{b.onAction(Zt.getValue(ue))}),ct(Si(),ue=>{b.onAction(Zt.getValue(ue))})]),Qt.config({mode:"special",onEnter:ue=>(B(Ie,!0,!0),I.some(!0)),onEscape:X,onUp:ue=>(Z(!0,!1),I.some(!0)),onDown:ue=>(H(!0,!1),I.some(!0)),onLeft:(ue,pe)=>(pe.cut(),I.none()),onRight:(ue,pe)=>(pe.cut(),I.none())})])})],behaviours:Ct([Mo.config({}),Qt.config({mode:"special",onEnter:le,onSpace:le,onEscape:X}),Co("input-wrapper-events",[ct(Wt(),ue=>{Ge([ae,te],pe=>{const Oe=Ut(pe.get(ue).element.dom);cd(Oe)&&gl(Oe)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Y(v)?{"data-mce-name":v}:{}}},components:[ae.asSpec(),oe.asSpec(),te.asSpec()],behaviours:Ct([Mo.config({}),Qt.config({mode:"flow",focusInside:_t.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ue=>cd(ue.element)?I.none():(Er(ue.element),I.some(!0))})])}})(s,l,(f=>{const p=()=>f.queryCommandValue("FontSize");return{updateInputValue:b=>co(b,Eu,{text:p()}),onAction:(b,v)=>f.execCommand("FontSize",!1,b,{skip_focus:!v}),getNewValue:(b,v)=>{Ll(b,["unsupportedLength","empty"]);const C=p(),A=Ll(b,["unsupportedLength","empty"]).or(Ll(C,["unsupportedLength","empty"])),T=A.map(Z=>Z.value).getOr(16),M=RM(f),P=A.map(Z=>Z.unit).filter(Z=>Z!=="").getOr(M),B=v(T,(Z=>({em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}})[Z]??{step:1})(P).step),H=`${(Z=>Z>=0)(B)?B:T}${P}`;return H!==C&&((Z,X)=>{Z.dispatch("FontSizeInputTextUpdate",X)})(f,{value:H}),H}}})(s),"fontsizeinput"),fontfamily:(s,l)=>mk(s,l,r6(s),o6,"FontFamilyTextUpdate","fontfamily"),blocks:(s,l)=>mk(s,l,t6(s),e6,"BlocksTextUpdate","blocks"),align:(s,l)=>mk(s,l,QR(s),XR,"AlignTextUpdate","align"),navigateback:(s,l)=>{const f=Ia(sC({type:"button",icon:"chevron-left",tooltip:"Back",onAction:ye}));return GR(f,l.shared.providers,[ct(R3,p=>{mn(p,IC)})])}},VC=(s,l,f,p)=>{const b=(C=>{const A=C.toolbar,T=C.buttons;return A===!1?[]:A===void 0||A===!0?(M=>{const P=Le(f6,B=>{const H=to(B.items,Z=>en(M,Z)||en(h6,Z));return{name:B.name,items:H}});return to(P,B=>B.items.length>0)})(T):h(A)?(M=>{const P=M.split("|");return Le(P,B=>({items:B.trim().split(" ")}))})(A):(M=>Ne(M,P=>(en(P,"name")||en(P,"label"))&&en(P,"items")))(A)?A:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(l),v=Le(b,C=>{const A=Zo(C.items,T=>T.trim().length===0?[]:((M,P,B,H,Z,X)=>so(P,B.toLowerCase()).orThunk(()=>X.bind(le=>Yt(le,se=>so(P,se+B.toLowerCase())))).fold(()=>so(h6,B.toLowerCase()).map(le=>le(M,Z)),le=>le.type!=="grouptoolbarbutton"||H?((se,ae,te,oe)=>so(r$,se.type).fold(()=>(console.error("skipping button defined by",se),I.none()),ue=>I.some(ue(se,ae,te,oe))))(le,Z,M,B.toLowerCase()):(console.warn(`Ignoring the '${B}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),I.none())))(s,l.buttons,T,l.allowToolbarGroups,f,p).map(M=>Array.isArray(M)?M:[M]).getOr([]));return{title:I.from(s.translate(C.name)),label:Ks(C.label!==void 0,s.translate(C.label)),items:A}});return to(v,C=>C.items.length>0)},p6=(s,l,f,p)=>{const b=l.mainUi.outerContainer,v=f.toolbar,C=f.buttons;if(Ne(v,h)){const A=v.map(T=>{const M={toolbar:T,buttons:C,allowToolbarGroups:f.allowToolbarGroups};return VC(s,M,p,I.none())});xs.setToolbars(b,A)}else xs.setToolbar(b,VC(s,f,p,I.none()))},m6=_e(),g6=m6.os.isiOS()&&m6.os.version.major<=12;var Px=Object.freeze({__proto__:null,render:(s,l,f,p,b)=>{const{mainUi:v,uiMotherships:C}=l,A=jt(0),T=v.outerContainer;WR(s);const M=Ut(b.targetNode),P=Gf(ni(M));ph(M,v.mothership),((X,le,se)=>{jm(X)&&ph(se.mainUi.mothership.element,se.popupUi.mothership),C_(le,se.dialogUi.mothership)})(s,P,l),s.on("PostRender",()=>{xs.setSidebar(T,f.sidebar,PM(s))}),s.on("SkinLoaded",()=>{p6(s,l,f,p),A.set(s.getWin().innerWidth),xs.setMenubar(T,UR(s,f)),xs.setViews(T,f.views),((X,le)=>{const{uiMotherships:se}=le,ae=X.dom;let te=X.getWin();const oe=X.getDoc().documentElement,ue=jt(Bs(te.innerWidth,te.innerHeight)),pe=jt(Bs(oe.offsetWidth,oe.offsetHeight)),Oe=()=>{const nt=ue.get();nt.left===te.innerWidth&&nt.top===te.innerHeight||(ue.set(Bs(te.innerWidth,te.innerHeight)),uC(X))},Te=()=>{const nt=X.getDoc().documentElement,Ye=pe.get();Ye.left===nt.offsetWidth&&Ye.top===nt.offsetHeight||(pe.set(Bs(nt.offsetWidth,nt.offsetHeight)),uC(X))},De=nt=>{((Ye,st)=>{Ye.dispatch("ScrollContent",st)})(X,nt)};ae.bind(te,"resize",Oe),ae.bind(te,"scroll",De);const et=Da(Ut(X.getBody()),"load",Te);X.on("hide",()=>{Ge(se,nt=>{Vo(nt.element,"display","none")})}),X.on("show",()=>{Ge(se,nt=>{xn(nt.element,"display")})}),X.on("NodeChange",Te),X.on("remove",()=>{et.unbind(),ae.unbind(te,"resize",Oe),ae.unbind(te,"scroll",De),te=null})})(s,l)});const B=xs.getSocket(T).getOrDie("Could not find expected socket element");if(g6){xe(B.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const X=(se=>{let ae=null;return{cancel:()=>{z(ae)||(clearTimeout(ae),ae=null)},throttle:(...te)=>{z(ae)&&(ae=setTimeout(()=>{ae=null,se.apply(null,te)},20))}}})(()=>{s.dispatch("ScrollContent")}),le=Li(B.element,"scroll",X.throttle);s.on("remove",le.unbind)}Yw(s,l),s.addCommand("ToggleSidebar",(X,le)=>{xs.toggleSidebar(T,le),(se=>{se.dispatch("ToggleSidebar")})(s)}),s.addQueryValueHandler("ToggleSidebar",()=>xs.whichSidebar(T)??""),s.addCommand("ToggleView",(X,le)=>{if(xs.toggleView(T,le)){const se=T.element;v.mothership.broadcastOn([uu()],{target:se}),Ge(C,ae=>{ae.broadcastOn([uu()],{target:se})}),z(xs.whichView(T))&&(s.focus(),s.nodeChanged(),xs.refreshToolbar(T)),(ae=>{ae.dispatch("ToggleView")})(s)}}),s.addQueryValueHandler("ToggleView",()=>xs.whichView(T)??"");const H=ry(s);H!==ll.sliding&&H!==ll.floating||s.on("ResizeWindow ResizeEditor ResizeContent",()=>{const X=s.getWin().innerWidth;X!==A.get()&&(xs.refreshToolbar(l.mainUi.outerContainer),A.set(X))});const Z={setEnabled:X=>{Ax(l,X?"setEnabled":"setDisabled")},isEnabled:()=>!io.isDisabled(T)};return{iframeContainer:B.element.dom,editorContainer:T.element.dom,api:Z}}});const gT=s=>ve(s)?s+"px":s,jC=(s,l,f)=>{const p=l.filter(v=>s<v),b=f.filter(v=>s>v);return p.or(b).getOr(s)},b6=s=>{const l=S2(s),f=HA(s),p=Jg(s);return(b=l,/^[0-9\.]+(|px)$/i.test(""+b)?I.some(parseInt(""+b,10)):I.none()).map(v=>jC(v,f,p));var b},{ToolbarLocation:Ix,ToolbarMode:Rd}=UM,bT=(s,l,f,p,b)=>{const{mainUi:v,uiMotherships:C}=f,A=Cw.DOM,T=ly(s),M=yx(s),P=Jg(s).or(b6(s)),B=p.shared.header,H=B.isPositionedAtTop,Z=ry(s),X=Z===Rd.sliding||Z===Rd.floating,le=jt(!1),se=()=>le.get()&&!s.removed,ae=pe=>X?pe.fold(ge(0),Oe=>Oe.components().length>1?Br(Oe.components()[1].element):0):0,te=()=>{Ge(C,pe=>{pe.broadcastOn([$a()],{})})},oe=pe=>{if(!se())return;T||b.on(De=>{const et=P.getOrThunk(()=>Wh().width-fd(l).left-10);Vo(De.element,"max-width",et+"px")});const Oe=Ra(),Te=!(T||T||!(pr(v.outerContainer.element).left+ud(v.outerContainer.element)>=window.innerWidth-40||wr(v.outerContainer.element,"width").isSome())||(Vo(v.outerContainer.element,"position","absolute"),Vo(v.outerContainer.element,"left","0px"),xn(v.outerContainer.element,"width"),0));if(X&&xs.refreshToolbar(v.outerContainer),!T){const De=Ra(),et=Ks(Oe.left!==De.left,Oe);((nt,Ye)=>{b.on(st=>{const wt=xs.getToolbar(v.outerContainer),Gt=ae(wt),uo=Ar(l),Eo=((xo,ss)=>jm(xo)?Tr(ss):I.none())(s,v.outerContainer.element),rn=Eo.fold(()=>uo.x,xo=>{const ss=Ar(xo);return on(xo,vr())?uo.x:uo.x-ss.x}),$n=Ks(nt,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(xo=>xo>150).map(xo=>{const ss=Ye.getOr(Ra()),vo=window.innerWidth-(rn-ss.left),Fs=Math.max(Math.min(xo,vo),150);return vo<xo&&Vo(v.outerContainer.element,"width",Fs+"px"),{width:Fs+"px"}}).getOr({width:"max-content"}),ns={position:"absolute",left:Math.round(rn)+"px",top:Eo.fold(()=>H()?Math.max(uo.y-Br(st.element)+Gt,0):uo.bottom,xo=>{const ss=Ar(xo),vo=xo.dom.scrollTop??0,Fs=on(xo,vr())?Math.max(uo.y-Br(st.element)+Gt,0):uo.y-ss.y+vo-Br(st.element)+Gt;return H()?Fs:uo.bottom})+"px"};xe(v.outerContainer.element,{...ns,...$n})})})(Te,et),et.each(nt=>{Xo(nt.left,De.top)})}M&&b.on(pe),te()},ue=()=>!(T||!M||!se())&&b.get().exists(pe=>{const Oe=B.getDockingMode(),Te=(et=>{switch(kh(s)){case Ix.auto:const nt=xs.getToolbar(v.outerContainer),Ye=ae(nt),st=Br(et.element)-Ye,wt=Ar(l);if(wt.y>st)return"top";{const Gt=Oa(l),uo=Math.max(Gt.dom.scrollHeight,Br(Gt));return wt.bottom<uo-st||er().bottom<wt.bottom-st?"bottom":"top"}case Ix.bottom:return"bottom";case Ix.top:default:return"top"}})(pe);return Te!==Oe&&(De=Te,b.on(et=>{sr.setModes(et,[De]),B.setDockingMode(De);const nt=H()?rf.TopToBottom:rf.BottomToTop;mo(et.element,y0,nt)}),!0);var De});return{isVisible:se,isPositionedAtTop:H,show:()=>{le.set(!0),Vo(v.outerContainer.element,"display","flex"),A.addClass(s.getBody(),"mce-edit-focus"),Ge(C,pe=>{xn(pe.element,"display")}),ue(),jm(s)?oe(pe=>sr.isDocked(pe)?sr.reset(pe):sr.refresh(pe)):oe(sr.refresh)},hide:()=>{le.set(!1),Vo(v.outerContainer.element,"display","none"),A.removeClass(s.getBody(),"mce-edit-focus"),Ge(C,pe=>{Vo(pe.element,"display","none")})},update:oe,updateMode:()=>{ue()&&oe(sr.reset)},repositionPopups:te}},yT=(s,l)=>{const f=Ar(s);return{pos:l?f.y:f.bottom,bounds:f}};var i$=Object.freeze({__proto__:null,render:(s,l,f,p,b)=>{const{mainUi:v}=l,C=Qn(),A=Ut(b.targetNode),T=bT(s,A,l,p,C),M=WA(s);QH(s);const P=()=>{if(C.isSet())return void T.show();C.set(xs.getHeader(v.outerContainer).getOrDie());const H=D2(s);jm(s)?(ph(A,v.mothership),ph(A,l.popupUi.mothership)):C_(H,v.mothership),C_(H,l.dialogUi.mothership);const Z=()=>{p6(s,l,f,p),xs.setMenubar(v.outerContainer,UR(s,f)),T.show(),((X,le,se,ae)=>{const te=jt(yT(le,se.isPositionedAtTop())),oe=Te=>{const{pos:De,bounds:et}=yT(le,se.isPositionedAtTop()),{pos:nt,bounds:Ye}=te.get(),st=et.height!==Ye.height||et.width!==Ye.width;te.set({pos:De,bounds:et}),st&&uC(X,Te),se.isVisible()&&(nt!==De?se.update(sr.reset):st&&(se.updateMode(),se.repositionPopups()))};ae||(X.on("activate",se.show),X.on("deactivate",se.hide)),X.on("SkinLoaded ResizeWindow",()=>se.update(sr.reset)),X.on("NodeChange keydown",Te=>{requestAnimationFrame(()=>oe(Te))});let ue=0;const pe=Sc(()=>se.update(sr.refresh),33);X.on("ScrollWindow",()=>{const Te=Ra().left;Te!==ue&&(ue=Te,pe.throttle()),se.updateMode()}),jm(X)&&X.on("ElementScroll",Te=>{se.update(sr.refresh)});const Oe=ti();Oe.set(Da(Ut(X.getBody()),"load",Te=>oe(Te.raw))),X.on("remove",()=>{Oe.clear()})})(s,A,T,M),s.nodeChanged()};M?s.once("SkinLoaded",Z):Z()};s.on("show",P),s.on("hide",T.hide),M||(s.on("focus",P),s.on("blur",T.hide)),s.on("init",()=>{(s.hasFocus()||M)&&P()}),Yw(s,l);const B={show:P,hide:T.hide,setEnabled:H=>{Ax(l,H?"setEnabled":"setDisabled")},isEnabled:()=>!io.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:B}}});const y6="contexttoolbar-hide",xT=(s,l,f)=>({setInputEnabled:p=>{!p&&f&&Er(f),io.set(s,!p)},isInputEnabled:()=>!io.isDisabled(s),hide:()=>{mn(s,wa())},back:()=>{mn(s,IC)},getValue:()=>l.get().getOrThunk(()=>Zt.getValue(s)),setValue:p=>{s.getSystem().isConnected()?Zt.setValue(s,p):l.set(p)}}),UC=(s,l,f)=>{const p=Jn(s.element).bind(b=>s.getSystem().getByDom(b).toOptional());return xT(p.getOr(s),l,f)},vT=(s,l,f)=>ct(R3,(p,b)=>{const v=s.get(p),C=xT(v,f,p.element);l.onAction(C,b.event.buttonApi)}),wT=(s,l,f,p)=>{const b=Le(l,v=>Hn(((C,A,T,M)=>(P=>P.type==="contextformtogglebutton")(A)?((P,B,H,Z)=>{const{primary:X,...le}=B.original,se=Ia(W4({...le,type:"togglebutton",onAction:ye}));return BC(se,H,[vT(P,B,Z)])})(C,A,T,M):((P,B,H,Z)=>{const{primary:X,...le}=B.original,se=Ia(sC({...le,type:"button",onAction:ye}));return GR(se,H,[vT(P,B,Z)])})(C,A,T,M))(s,v,f,p)));return{asSpecs:()=>Le(b,v=>v.asSpec()),findPrimary:v=>Yt(l,(C,A)=>C.primary?I.from(b[A]).bind(T=>T.getOpt(v)).filter(bo(io.isDisabled)):I.none())}},a$=(s,l,f,p)=>{const{width:b,height:v}=s.initValue();let C=SC;const A=je("ratio-event"),T=Te=>xT(Te,p),M=Te=>Dd(Te,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Te]},l.icons),P=()=>!1,B=s.label.getOr("Constrain proportions"),H=l.translate(B),Z=Nr.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":H,"data-mce-name":B}},components:[M("lock"),M("unlock")],buttonBehaviours:Ct([io.config({disabled:P}),os.config({}),Is.config(l.tooltips.getConfig({tooltipText:H}))])}),X=Te=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:Te}),le=Te=>ms(Te.element,"div.tox-focusable-wrapper").fold(I.none,De=>(Er(De),I.some(!0))),se=Te=>fn.parts.field({factory:yp,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:Te?b:v,inputBehaviours:Ct([io.config({disabled:P}),os.config({}),Co("size-input-toolbar-events",[ct(Oo(),(De,et)=>{co(De,A,{isField1:Te})})]),Qt.config({mode:"special",onEnter:f,onEscape:le})]),selectOnFocus:!1}),ae=Te=>({dom:{tag:"label",classes:["tox-label"]},components:[Xs(l.translate(Te))]}),te=Te=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[Te],behaviours:Ct([os.config({}),Mo.config({}),Qt.config({mode:"special",onEnter:De=>rs(De.element,"input").fold(I.none,et=>(Er(et),I.some(!0)))})])}),oe=te(Nr.parts.field1(X([fn.parts.label(ae("Width:")),se(!0)]))),ue=te(Nr.parts.field2(X([fn.parts.label(ae("Height:")),se(!1)]))),pe=jt(ye),Oe=[Cu({onBeforeSetup:Te=>rs(Te.element,"input").each(Er),onSetup:s.onSetup,getApi:T},pe),Gw({getApi:T},pe,p)];return Nr.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[oe,X([Z]),ue],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Te,De,et)=>{ak(Zt.getValue(Te)).each(nt=>{C(nt).each(Ye=>{Zt.setValue(De,CC(Ye))})})},onInput:Te=>mn(Te,TN),coupledFieldBehaviours:Ct([Mo.config({}),Qt.config({mode:"flow",focusInside:_t.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),io.config({disabled:P,onDisabled:Te=>{Nr.getField1(Te).bind(fn.getField).each(io.disable),Nr.getField2(Te).bind(fn.getField).each(io.disable),Nr.getLock(Te).each(io.disable)},onEnabled:Te=>{Nr.getField1(Te).bind(fn.getField).each(io.enable),Nr.getField2(Te).bind(fn.getField).each(io.enable),Nr.getLock(Te).each(io.enable)}}),fi(()=>l.checkUiComponentContext("mode:design")),Co("size-input-toolbar-events2",[ct(A,(Te,De)=>{const et=De.event.isField1,nt=et?Nr.getField1(Te):Nr.getField2(Te),Ye=et?Nr.getField2(Te):Nr.getField1(Te),st=nt.map(Zt.getValue).getOr(""),wt=Ye.map(Zt.getValue).getOr("");C=H3(st,wt)}),ct(TN,Te=>s.onInput(T(Te))),...Oe])])})},x6=(s,l,f)=>fn.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...s.toArray(),l],fieldBehaviours:Ct([io.config({disabled:()=>f.checkUiComponentContext("mode:design").shouldDisable,onDisabled:p=>{(b=>{Bi(b.element).each(v=>{ms(v,'[tabindex="-1"]').each(C=>{Er(C)})})})(p),fn.getField(p).each(io.disable)},onEnabled:p=>{fn.getField(p).each(io.enable)}})])}),v6=(s,l,f,p)=>{const b=jt(ye),v=T=>UC(T,p),C=s.label.map(T=>fn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Xs(l.translate(T))]})),A=fn.parts.field({factory:yp,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(s.min()),max:String(s.max())},data:s.initValue().toString(),fromInputValue:T=>(M=>{const P=parseFloat(M);return isNaN(P)?I.none():I.some(P)})(T).getOr(s.min()),toInputValue:T=>String(T),inputBehaviours:Ct([io.config({disabled:()=>l.checkUiComponentContext("mode:design").shouldDisable}),fi(()=>l.checkUiComponentContext("mode:design")),Qt.config({mode:"special",onEnter:f,onLeft:(T,M)=>(M.cut(),I.none()),onRight:(T,M)=>(M.cut(),I.none())}),Co("slider-events",[Cu({onSetup:s.onSetup,getApi:v,onBeforeSetup:Qt.focusIn},b),Gw({getApi:v},b,p),ct(Ts(),T=>{s.onInput(v(T))})])])});return x6(C,A,l)},l$=(s,l,f,p)=>{const b=jt(ye),v=M=>UC(M,p),C=s.label.map(M=>fn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Xs(l.translate(M))]})),A={...s.placeholder.map(M=>({placeholder:l.translate(M)})).getOr({})},T=fn.parts.field({factory:yp,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:A,data:s.initValue(),selectOnFocus:!0,inputBehaviours:Ct([io.config({disabled:()=>l.checkUiComponentContext("mode:design").shouldDisable}),fi(()=>l.checkUiComponentContext("mode:design")),Qt.config({mode:"special",onEnter:f,onLeft:(M,P)=>(P.cut(),I.none()),onRight:(M,P)=>(P.cut(),I.none())}),Co("input-events",[Cu({onSetup:s.onSetup,getApi:M=>ms(M.element,".tox-toolbar").bind(P=>rs(P,"button:enabled")).fold(()=>UC(M,p),P=>UC(M,p,P)),onBeforeSetup:Qt.focusIn},b),Gw({getApi:v},b,p),ct(Ts(),M=>{s.onInput(v(M))})])])});return x6(C,T,l)},WC=(s,l,f)=>{const p=Qn(),b=Hn(s(f,T=>C.findPrimary(T).orThunk(()=>A.findPrimary(T)).map(M=>(km(M),!0)),p)),v=yo(l.commands,T=>T.align==="start"),C=wT(b,v.pass,f,p),A=wT(b,v.fail,f,p);return to([{title:I.none(),label:I.none(),items:C.asSpecs()},{title:I.none(),label:I.none(),items:[b.asSpec()]},{title:I.none(),label:I.none(),items:A.asSpecs()}],T=>T.items.length>0)},w6=(s,l)=>{switch(s.type){case"contextform":return WC(Ve(l$,s),s,l);case"contextsliderform":return WC(Ve(v6,s),s,l);case"contextsizeinputform":return WC(Ve(a$,s),s,l)}},kT=(s,l,f)=>l.bottom-s.y>=f&&s.bottom-l.y>=f,_T=s=>{const l=(f=>{const p=f.getBoundingClientRect();if(p.height<=0&&p.width<=0){const b=Yp(Ut(f.startContainer),f.startOffset).element;return(wn(b)?Jn(b):I.some(b)).filter(In).map(v=>v.dom.getBoundingClientRect()).getOr(p)}return p})(s.selection.getRng());if(s.inline){const f=Ra();return un(f.left+l.left,f.top+l.top,l.width,l.height)}{const f=Xd(Ut(s.getBody()));return un(f.x+l.left,f.y+l.top,l.width,l.height)}},k6=(s,l,f,p=0)=>{const b=Wh(window),v=Ar(Ut(s.getContentAreaContainer())),C=Aw(s)||Tw(s)||Ow(s),{x:A,width:T}=((M,P,B)=>{const H=Math.max(M.x+B,P.x);return{x:H,width:Math.min(M.right-B,P.right)-H}})(v,b,p);if(s.inline&&!C)return un(A,b.y,T,b.height);{const M=l.header.isPositionedAtTop(),{y:P,bottom:B}=((H,Z,X,le,se,ae)=>{const te=Ut(H.getContainer()),oe=rs(te,".tox-editor-header").getOr(te),ue=Ar(oe),pe=ue.y>=Z.bottom,Oe=le&&!pe;if(H.inline&&Oe)return{y:Math.max(ue.bottom+ae,X.y),bottom:X.bottom};if(H.inline&&!Oe)return{y:X.y,bottom:Math.min(ue.y-ae,X.bottom)};const Te=se==="line"?Ar(te):Z;return Oe?{y:Math.max(ue.bottom+ae,X.y),bottom:Math.min(Te.bottom-ae,X.bottom)}:{y:Math.max(Te.y+ae,X.y),bottom:Math.min(ue.y-ae,X.bottom)}})(s,v,b,M,f,p);return un(A,P,T,B-P)}},_6={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},C6={maxHeightFunction:lh(),maxWidthFunction:T1()},S6=s=>s==="node",ZC=(s,l,f,p,b)=>{const v=_T(s),C=p.lastElement().exists(A=>on(f,A));return((A,T)=>{const M=A.selection.getRng(),P=Yp(Ut(M.startContainer),M.startOffset);return M.startContainer===M.endContainer&&M.startOffset===M.endOffset-1&&on(P.element,T)})(s,f)?C?A1:$c:C?((A,T)=>{const M=wr(A,"position");Vo(A,"position",T);const P=kT(v,Ar(l),-20)&&!p.isReposition()?d_:A1;return M.each(B=>Vo(A,"position",B)),P})(l,p.getMode()):(p.getMode()==="fixed"?b.y+Ra().top:b.y)+(Br(l)+12)<=v.y?$c:b0},Ap=(s,l,f,p)=>{const b=C=>(A,T,M,P,B)=>({...ZC(s,P,C,f,B)({...A,y:B.y,height:B.height},T,M,P,B),alwaysFit:!0}),v=C=>S6(p)?[b(C)]:[];return l?{onLtr:C=>[li,Kr,ai,Vi,ia,Ei].concat(v(C)),onRtl:C=>[li,ai,Kr,ia,Vi,Ei].concat(v(C))}:{onLtr:C=>[Ei,li,Vi,Kr,ia,ai].concat(v(C)),onRtl:C=>[Ei,li,ia,ai,Vi,Kr].concat(v(C))}},qC=(s,l)=>{const f=to(l,v=>v.predicate(s.dom)),{pass:p,fail:b}=yo(f,v=>v.type==="contexttoolbar");return{contextToolbars:p,contextForms:b}},Au=(s,l)=>{const f={},p=[],b=[],v={},C={},A=Dt(s);return Ge(A,T=>{const M=s[T];M.type==="contextform"||M.type==="contextsliderform"||M.type==="contextsizeinputform"?((P,B)=>{const H=Ia(Ps("ContextForm",bF,B));f[P]=H,H.launch.map(Z=>{v["form:"+P]={...B.launch,type:Z.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{l(H)}}}),H.scope==="editor"?b.push(H):p.push(H),C[P]=H})(T,M):M.type==="contexttoolbar"&&((P,B)=>{var H;(H=B,Ps("ContextToolbar",xF,H)).each(Z=>{Z.launch.isSome()&&(v["toolbar:"+P]={...B.launch,type:"button",onAction:()=>{l(Z)}}),B.scope==="editor"?b.push(Z):p.push(Z),C[P]=Z})})(T,M)}),{forms:f,inNodeScope:p,inEditorScope:b,lookupTable:C,formNavigators:v}},CT="tox-pop--transition",KC=(s,l,f,p)=>{const b=p.backstage,v=b.shared,C=_e().deviceType.isTouch,A=Qn(),T=Qn(),M=Qn(),P=(De=>{const et=jt([]);return{sketch:rr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Ye=>{et.set([]),rr.getContent(Ye).each(st=>{xn(st.element,"visibility")}),ln(Ye.element,HC),xn(Ye.element,"width")},onHide:()=>{et.set([]),De.onHide()},inlineBehaviours:Ct([Co("context-toolbar-events",[du(ac(),(Ye,st)=>{st.event.raw.propertyName==="width"&&(ln(Ye.element,HC),xn(Ye.element,"width"))}),ct(FC,(Ye,st)=>{const wt=Ye.element;xn(wt,"width");const Gt=jn(wt),uo=Bi(Ye.element).isSome();xn(wt,"left"),xn(wt,"right"),xn(wt,"max-width"),rr.setContent(Ye,st.event.contents),_s(wt,HC);const Eo=jn(wt);Vo(wt,"transition","none"),rr.reposition(Ye),xn(wt,"transition"),Vo(wt,"width",Gt+"px"),st.event.focus.fold(()=>{uo&&PC(Ye)},rn=>{Tc(ni(Ye.element)).fold(()=>Er(rn),$n=>{on($n,rn)||De.focusElement(rn)})}),setTimeout(()=>{Vo(Ye.element,"width",Eo+"px")},0)}),ct(YR,(Ye,st)=>{rr.getContent(Ye).each(wt=>{et.set(et.get().concat([{bar:wt,focus:Tc(ni(Ye.element))}]))}),co(Ye,FC,{contents:st.event.forwardContents,focus:I.none()})}),ct(IC,(Ye,st)=>{De.onBack(),we(et.get()).each(wt=>{et.set(et.get().slice(0,et.get().length-1)),co(Ye,FC,{contents:Ed(wt.bar),focus:wt.focus})})})]),Qt.config({mode:"special",onEscape:Ye=>we(et.get()).fold(()=>De.onEscape(),st=>(mn(Ye,IC),I.some(!0)))})]),lazySink:()=>pn.value(De.sink)}),inSubtoolbar:()=>et.get().length>0}})({sink:f,onEscape:()=>(s.focus(),cN(s),I.some(!0)),onHide:()=>{cN(s)},onBack:()=>{(De=>{De.dispatch("ContextFormSlideBack")})(s)},focusElement:De=>{s.getBody().contains(De.dom)?s.focus():Er(De)}}),B=ja(P.sketch),H=()=>{const De=M.get().getOr("node"),et=S6(De)?1:0;return k6(s,v,De,et)},Z=()=>!(s.removed||C()&&b.isContextMenuOpen()),X=()=>{if(Z()){const De=H(),et=Mn(M.get(),"node")?((nt,Ye)=>Ye.filter(st=>bt(st)&&an(st)).map(Xd).getOrThunk(()=>_T(nt)))(s,A.get()):_T(s);return De.height<=0||!kT(et,De,.01)}return!0},le=()=>{A.clear(),T.clear(),M.clear(),rr.hide(B)},se=()=>{if(rr.isOpen(B)){const De=B.element;xn(De,"display"),X()?Vo(De,"display","none"):(T.set(0),rr.reposition(B))}},ae=De=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[De],behaviours:Ct([Qt.config({mode:"acyclic"}),Co("pop-dialog-wrap-events",[Cs(et=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>Qt.focusIn(et))}),_d(et=>{s.shortcuts.remove("ctrl+F9")})])])}),te=De=>{const et=ue([De]);co(B,YR,{forwardContents:ae(et)})},oe=Ur(()=>Au(l,te)),ue=De=>{const{buttons:et}=s.ui.registry.getAll(),nt={...et,...oe().formNavigators},Ye=ry(s)===ll.scrolling?ll.scrolling:ll.default,st=Vn(Le(De,wt=>{return wt.type==="contexttoolbar"?((uo,Eo)=>VC(s,{buttons:uo,toolbar:Eo.items,allowToolbarGroups:!1},p.backstage,I.some(["form:","toolbar:"])))(nt,(Gt=wt,{...Gt,launch:Gt.launch.getOrUndefined(),items:h(Gt.items)?Gt.items:Le(Gt.items,vF)})):((uo,Eo)=>w6(uo,Eo))(wt,v.providers);var Gt}));return nT({type:Ye,uid:je("context-toolbar"),initGroups:st,onEscape:I.none,cyclicKeying:!0,providers:v.providers})},pe=(De,et)=>{if(Te.cancel(),!Z())return;const nt=ue(De),Ye=De[0].position,st=((Gt,uo)=>{const Eo=Gt==="node"?v.anchors.node(uo):v.anchors.cursor(),rn=(($n,ns,xo,ss)=>ns==="line"?{bubble:Il(12,0,_6),layouts:{onLtr:()=>[Og],onRtl:()=>[k1]},overrides:C6}:{bubble:Il(0,12,_6,1/12),layouts:Ap($n,xo,ss,ns),overrides:C6})(s,Gt,C(),{lastElement:A.get,isReposition:()=>Mn(T.get(),0),getMode:()=>la.getMode(f)});return Js(Eo,rn)})(Ye,et);M.set(Ye),T.set(1);const wt=B.element;xn(wt,"display"),(Gt=>Mn(pi(Gt,A.get(),on),!0))(et)||(ln(wt,CT),la.reset(f,B)),rr.showWithinBounds(B,ae(nt),{anchor:st,transition:{classes:[CT],mode:"placement"}},()=>I.some(H())),et.fold(A.clear,A.set),X()&&Vo(wt,"display","none")};let Oe=!1;const Te=Sc(()=>{!s.hasFocus()||s.removed||Oe||(kr(B.element,CT)?Te.throttle():((De,et)=>{const nt=Ut(et.getBody()),Ye=wt=>on(wt,nt),st=Ut(et.selection.getNode());return(wt=>!Ye(wt)&&!Ws(nt,wt))(st)?I.none():((wt,Gt,uo)=>{const Eo=qC(wt,Gt);if(Eo.contextForms.length>0)return I.some({elem:wt,toolbars:[Eo.contextForms[0]]});{const rn=qC(wt,uo);if(rn.contextForms.length>0)return I.some({elem:wt,toolbars:[rn.contextForms[0]]});if(Eo.contextToolbars.length>0||rn.contextToolbars.length>0){const $n=(ns=>{if(ns.length<=1)return ns;{const xo=Wn=>To(ns,vi=>vi.position===Wn),ss=Wn=>to(ns,vi=>vi.position===Wn),vo=xo("selection"),Fs=xo("node");if(vo||Fs){if(Fs&&vo){const Wn=ss("node"),vi=Le(ss("selection"),Es=>({...Es,position:"node"}));return Wn.concat(vi)}return ss(vo?"selection":"node")}return ss("line")}})(Eo.contextToolbars.concat(rn.contextToolbars));return I.some({elem:wt,toolbars:$n})}return I.none()}})(st,De.inNodeScope,De.inEditorScope).orThunk(()=>((wt,Gt,uo)=>wt(Gt)?I.none():nm(Gt,Eo=>{if(In(Eo)){const{contextToolbars:rn,contextForms:$n}=qC(Eo,uo.inNodeScope),ns=$n.length>0?$n:(xo=>{if(xo.length<=1)return xo;{const ss=vo=>G(xo,Fs=>Fs.position===vo);return ss("selection").orThunk(()=>ss("node")).orThunk(()=>ss("line")).map(vo=>vo.position).fold(()=>[],vo=>to(xo,Fs=>Fs.position===vo))}})(rn);return ns.length>0?I.some({elem:Eo,toolbars:ns}):I.none()}return I.none()},wt))(Ye,st,De))})(oe(),s).fold(le,De=>{pe(De.toolbars,I.some(De.elem))}))},17);s.on("init",()=>{s.on("remove",le),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",se),s.on("click focus SetContent",Te.throttle),s.on("keyup",De=>{var et;((et=De.keyCode)!==gk.ENTER&&et!==gk.SPACEBAR||!P.inSubtoolbar())&&Te.throttle()}),s.on(y6,le),s.on("contexttoolbar-show",De=>{const et=oe();so(et.lookupTable,De.toolbarKey).each(nt=>{pe([nt],Ks(De.target!==s,De.target)),PC(B)})}),s.on("focusout",De=>{_w.setEditorTimeout(s,()=>{Bi(f.element).isNone()&&Bi(B.element).isNone()&&!s.hasFocus()&&le()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&le()}),s.on("DisabledStateChange",De=>{De.state&&le()}),s.on("ExecCommand",({command:De})=>{De.toLowerCase()==="toggleview"&&le()}),s.on("AfterProgressState",De=>{De.state?le():s.hasFocus()&&Te.throttle()}),s.on("dragstart",()=>{Oe=!0}),s.on("dragend drop",()=>{Oe=!1}),s.on("NodeChange",De=>{P.inSubtoolbar()?(Vo(B.element,"transition","none"),se(),xn(B.element,"transition")):Bi(B.element).fold(Te.throttle,ye)})})},E6=(s,l)=>{const f=()=>{const p=l.getOptions(s),b=l.getCurrent(s).map(l.hash),v=Qn();return Le(p,C=>({type:"togglemenuitem",text:l.display(C),onSetup:A=>{const T=P=>{P&&(v.on(B=>B.setActive(!1)),v.set(A)),A.setActive(P)};T(Mn(b,l.hash(C)));const M=l.watcher(s,C,T);return()=>{v.clear(),M()}},onAction:()=>l.setCurrent(s,C)}))};s.ui.registry.addMenuButton(l.name,{tooltip:l.text,icon:l.icon,fetch:p=>p(f()),onSetup:l.onToolbarSetup}),s.ui.registry.addNestedMenuItem(l.name,{type:"nestedmenuitem",text:l.text,getSubmenuItems:f,onSetup:l.onMenuSetup})},My=s=>{E6(s,(l=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:VM,hash:f=>(p=>Ll(p,["fixed","relative","empty"]).map(({value:b,unit:v})=>b+v))(f).getOr(f),display:Ie,watcher:(f,p,b)=>f.formatter.formatChanged("lineheight",b,!1,{value:p}).unbind,getCurrent:f=>I.from(f.queryCommandValue("LineHeight")),setCurrent:(f,p)=>f.execCommand("LineHeight",!1,p),onToolbarSetup:Wi(l),onMenuSetup:Wi(l)}))(s)),(l=>I.from(Vm(l)).map(f=>({name:"language",text:"Language",icon:"language",getOptions:ge(f),hash:p=>$(p.customCode)?p.code:`${p.code}/${p.customCode}`,display:p=>p.title,watcher:(p,b,v)=>p.formatter.formatChanged("lang",v,!1,{value:b.code,customValue:b.customCode??null}).unbind,getCurrent:p=>{const b=Ut(p.selection.getNode());return sm(b,v=>I.some(v).filter(In).bind(C=>si(C,"lang").map(A=>({code:A,customCode:si(C,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(p,b)=>p.execCommand("Lang",!1,b),onToolbarSetup:p=>{const b=ti();return p.setActive(l.formatter.match("lang",{},void 0,!0)),b.set(l.formatter.formatChanged("lang",p.setActive,!0)),ek(b.clear,Wi(l)(p))},onMenuSetup:Wi(l)})))(s).each(l=>E6(s,l))},c$=s=>_y(s,"NodeChange",l=>{l.setEnabled(s.queryCommandState("outdent")&&s.selection.isEditable())}),GC=(s,l)=>f=>{f.setActive(l.get());const p=b=>{l.set(b.state),f.setActive(b.state)};return s.on("PastePlainTextToggle",p),ek(()=>s.off("PastePlainTextToggle",p),Wi(s)(f))},bk=(s,l)=>()=>{s.execCommand("mceToggleFormat",!1,l)},d$=s=>{(l=>{(f=>{Cp.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(p,b)=>{f.ui.registry.addToggleButton(p.name,{tooltip:p.text,icon:p.icon,onSetup:ky(f,p.name),onAction:bk(f,p.name),shortcut:p.shortcut})});for(let p=1;p<=6;p++){const b="h"+p,v=`Access+${p}`;f.ui.registry.addToggleButton(b,{text:b.toUpperCase(),tooltip:"Heading "+p,onSetup:ky(f,b),onAction:bk(f,b),shortcut:v})}})(l),(f=>{Cp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],p=>{f.ui.registry.addButton(p.name,{tooltip:p.text,icon:p.icon,onAction:bc(f,p.action),shortcut:p.shortcut,context:p.context})}),Cp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],p=>{f.ui.registry.addButton(p.name,{tooltip:p.text,icon:p.icon,onSetup:Wi(f),onAction:bc(f,p.action)})})})(l),(f=>{Cp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],p=>{f.ui.registry.addToggleButton(p.name,{tooltip:p.text,icon:p.icon,onAction:bc(f,p.action),onSetup:ky(f,p.name)})})})(l)})(s),(l=>{Cp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],f=>{l.ui.registry.addMenuItem(f.name,{text:f.text,icon:f.icon,shortcut:f.shortcut,onAction:bc(l,f.action),context:f.context})}),Cp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],f=>{l.ui.registry.addMenuItem(f.name,{text:f.text,icon:f.icon,shortcut:f.shortcut,onSetup:Wi(l),onAction:bc(l,f.action)})}),l.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Wi(l),onAction:bk(l,"code")})})(s)},YC=(s,l)=>_y(s,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",f=>{f.setEnabled(!s.mode.isReadOnly()&&s.undoManager[l]())}),Ny=s=>_y(s,"VisualAid",l=>{l.setActive(s.hasVisual)}),A6=(s,l)=>{(f=>{Ge([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],p=>{f.ui.registry.addToggleButton(p.name,{tooltip:p.text,icon:p.icon,onAction:bc(f,p.cmd),onSetup:ky(f,p.name)})}),f.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Wi(f),onAction:bc(f,"JustifyNone")})})(s),d$(s),((f,p)=>{((b,v)=>{const C=Of(v,QR(b));b.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:Wi(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(f,p),((b,v)=>{const C=Of(v,r6(b));b.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:Wi(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(f,p),((b,v)=>{const C={type:"advanced",...v.styles},A=Of(v,u6(b,C));b.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Wi(b,()=>A.getStyleItems().length>0),getSubmenuItems:()=>A.items.validateItems(A.getStyleItems())})})(f,p),((b,v)=>{const C=Of(v,t6(b));b.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Wi(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(f,p),((b,v)=>{const C=Of(v,c6(b));b.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Wi(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(f,p)})(s,l),(f=>{(p=>{p.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:YC(p,"hasUndo"),onAction:bc(p,"undo")}),p.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:YC(p,"hasRedo"),onAction:bc(p,"redo")})})(f),(p=>{p.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:YC(p,"hasUndo"),onAction:bc(p,"undo"),shortcut:"Meta+Z"}),p.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:YC(p,"hasRedo"),onAction:bc(p,"redo"),shortcut:"Meta+Y"})})(f)})(s),(f=>{(A=>{A.addCommand("mceApplyTextcolor",(T,M)=>{((P,B,H)=>{P.undoManager.transact(()=>{P.focus(),P.formatter.apply(B,{value:H}),P.nodeChanged()})})(A,T,M)}),A.addCommand("mceRemoveTextcolor",T=>{((M,P)=>{M.undoManager.transact(()=>{M.focus(),M.formatter.remove(P,{value:null},void 0,!0),M.nodeChanged()})})(A,T)})})(f);const p=RF(f),b=LF(f),v=jt(p),C=jt(b);bN(f,"forecolor","forecolor",v),bN(f,"backcolor","hilitecolor",C),yN(f,"forecolor","forecolor","Text color",v),yN(f,"backcolor","hilitecolor","Background color",C)})(s),(f=>{(p=>{p.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:bc(p,"mceToggleVisualAid"),context:"any"})})(f),(p=>{p.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Ny(p),onAction:bc(p,"mceToggleVisualAid"),context:"any"})})(f)})(s),(f=>{(p=>{p.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:c$(p),onAction:bc(p,"outdent")}),p.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Wi(p,()=>p.queryCommandState("indent")),onAction:bc(p,"indent")})})(f)})(s),My(s),(f=>{const p=jt(QA(f)),b=()=>f.execCommand("mceTogglePlainTextPaste");f.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:b,onSetup:GC(f,p)}),f.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:b,onSetup:GC(f,p)})})(s),(f=>{f.ui.registry.addContext("editable",()=>f.selection.isEditable()),f.ui.registry.addContext("mode",p=>f.mode.get()===p),f.ui.registry.addContext("any",yt),f.ui.registry.addContext("formatting",p=>f.formatter.canApply(p)),f.ui.registry.addContext("insert",p=>f.schema.isValidChild(f.selection.getNode().tagName,p))})(s)},T6=s=>h(s)?s.split(/[ ,]/):s,O6=s=>l=>l.options.get(s),XC=O6("contextmenu_never_use_native"),z6=O6("contextmenu_avoid_overlap"),QC=s=>{const l=s.ui.registry.getAll().contextMenus,f=s.options.get("contextmenu");return s.options.isSet("contextmenu")?f:to(f,p=>en(l,p))},Fx=(s,l)=>({type:"makeshift",x:s,y:l}),ST=s=>s.type==="longpress"||s.type.indexOf("touch")===0,yk=(s,l)=>l.type==="contextmenu"||l.type==="longpress"?s.inline?(f=>{if(ST(f)){const p=f.touches[0];return Fx(p.pageX,p.pageY)}return Fx(f.pageX,f.pageY)})(l):((f,p)=>{const b=Cw.DOM.getPos(f);return((v,C,A)=>Fx(v.x+C,v.y+A))(p,b.x,b.y)})(s.getContentAreaContainer(),(f=>{if(ST(f)){const p=f.touches[0];return Fx(p.clientX,p.clientY)}return Fx(f.clientX,f.clientY)})(l)):D6(s),D6=s=>({type:"selection",root:Ut(s.selection.getNode())}),M6=(s,l,f)=>{switch(f){case"node":return(p=>({type:"node",node:I.some(Ut(p.selection.getNode())),root:Ut(p.getBody())}))(s);case"point":return yk(s,l);case"selection":return D6(s)}},u$=(s,l,f,p,b,v)=>{const C=f(),A=M6(s,l,v);Mx(C,Md.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:I.none()}).map(T=>{l.preventDefault(),rr.showMenuAt(b,{anchor:A},{menu:{markers:eb("normal")},data:T})})},f$={onLtr:()=>[li,Kr,ai,Vi,ia,Ei,$c,b0,sp,lu,ci,g0],onRtl:()=>[li,ai,Kr,ia,Vi,Ei,$c,b0,ci,g0,sp,lu]},ET={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},h$=(s,l,f,p,b,v)=>{const C=_e(),A=C.os.isiOS(),T=C.os.isMacOS(),M=C.os.isAndroid(),P=C.deviceType.isTouch(),B=()=>{const H=f();((Z,X,le,se,ae,te,oe)=>{const ue=((pe,Oe,Te)=>{const De=M6(pe,Oe,Te);return{bubble:Il(0,Te==="point"?12:0,ET),layouts:f$,overrides:{maxWidthFunction:T1(),maxHeightFunction:lh()},...De}})(Z,X,te);Mx(le,Md.CLOSE_ON_EXECUTE,se,{isHorizontalMenu:!0,search:I.none()}).map(pe=>{X.preventDefault();const Oe=oe?aa.HighlightMenuAndItem:aa.HighlightNone;rr.showMenuWithinBounds(ae,{anchor:ue},{menu:{markers:eb("normal"),highlightOnOpen:Oe},data:pe,type:"horizontal"},()=>I.some(k6(Z,se.shared,te==="node"?"node":"selection"))),Z.dispatch(y6)})})(s,l,H,p,b,v,!(M||A||T&&P))};if((T||A)&&v!=="node"){const H=()=>{(Z=>{const X=Z.selection.getRng(),le=()=>{_w.setEditorTimeout(Z,()=>{Z.selection.setRng(X)},10),te()};Z.once("touchend",le);const se=oe=>{oe.preventDefault(),oe.stopImmediatePropagation()};Z.on("mousedown",se,!0);const ae=()=>te();Z.once("longpresscancel",ae);const te=()=>{Z.off("touchend",le),Z.off("longpresscancel",ae),Z.off("mousedown",se)}})(s),B()};((Z,X)=>{const le=Z.selection;if(le.isCollapsed()||X.touches.length<1)return!1;{const se=X.touches[0],ae=le.getRng();return th(Z.getWin(),Mc.domRange(ae)).exists(te=>te.left<=se.clientX&&te.right>=se.clientX&&te.top<=se.clientY&&te.bottom>=se.clientY)}})(s,l)?H():(s.once("selectionchange",H),s.once("touchend",()=>s.off("selectionchange",H)))}else B()},JC=s=>h(s)?s==="|":s.type==="separator",AT={type:"separator"},Hx=s=>{const l=f=>({text:f.text,icon:f.icon,enabled:f.enabled,shortcut:f.shortcut});if(h(s))return s;switch(s.type){case"separator":return AT;case"submenu":return{type:"nestedmenuitem",...l(s),getSubmenuItems:()=>{const p=s.getSubmenuItems();return h(p)?p:Le(p,Hx)}};default:const f=s;return{type:"menuitem",...l(f),onAction:Je(f.onAction)}}},N6=(s,l)=>{if(l.length===0)return s;const f=we(s).filter(p=>!JC(p)).fold(()=>[],p=>[AT]);return s.concat(f).concat(l).concat([AT])},TT=(s,l)=>!(f=>f.type==="longpress"||en(f,"touches"))(l)&&(l.button!==2||l.target===s.getBody()&&l.pointerType===""),R6=(s,l)=>TT(s,l)?s.selection.getStart(!0):l.target,p$=(s,l,f)=>{const p=_e().deviceType.isTouch,b=ja(rr.sketch({dom:{tag:"div"},lazySink:l,onEscape:()=>s.focus(),onShow:()=>f.setContextMenuState(!0),onHide:()=>f.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Ct([Co("dismissContextMenu",[ct(pm(),(A,T)=>{Pn.close(A),s.focus()})])])})),v=()=>rr.hide(b),C=A=>{if(XC(s)&&A.preventDefault(),((M,P)=>P.ctrlKey&&!XC(M))(s,A)||(M=>QC(M).length===0)(s))return;const T=((M,P)=>{const B=z6(M),H=TT(M,P)?"selection":"point";if(_c(B)){const Z=R6(M,P);return om(Ut(Z),B)?"node":H}return H})(s,A);(p()?h$:u$)(s,A,()=>{const M=R6(s,A),P=s.ui.registry.getAll(),B=QC(s);return((H,Z,X)=>{const le=fo(Z,(se,ae)=>so(H,ae.toLowerCase()).map(te=>{const oe=te.update(X);if(h(oe)&&_c(Uf(oe)))return N6(se,oe.split(" "));if(k(oe)&&oe.length>0){const ue=Le(oe,Hx);return N6(se,ue)}return se}).getOrThunk(()=>se.concat([ae])),[]);return le.length>0&&JC(le[le.length-1])&&le.pop(),le})(P.contextMenus,B,M)},f,b,T)};s.on("init",()=>{const A="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(p()?"":" ResizeWindow");s.on(A,v),s.on("longpress contextmenu",C)})},L6=(s,l,f,p,b,v)=>s.fold(()=>F0.snap({sensor:Wg(f-20,p-20),range:Bs(b,v),output:Wg(I.some(f),I.some(p)),extra:{td:l}}),C=>{const A=f-20,T=p-20,M=C.element.dom.getBoundingClientRect();return F0.snap({sensor:Wg(A,T),range:Bs(40,40),output:Wg(I.some(f-M.width/2),I.some(p-M.height/2)),extra:{td:l}})}),B6=(s,l,f)=>({getSnapPoints:s,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(p,b)=>{const v=b.td;((C,A)=>C.exists(T=>on(T,A)))(l.get(),v)||(l.set(v),f(v))},mustSnap:!0}),xk=s=>Hn(ca.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Ct([F0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:s}),nx.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),P6=(s,l)=>{const f=jt([]),p=jt([]),b=jt(!1),v=Qn(),C=Qn(),A=te=>{const oe=Xd(te);return L6(B.getOpt(l),te,oe.x,oe.y,oe.width,oe.height)},T=te=>{const oe=Xd(te);return L6(H.getOpt(l),te,oe.right,oe.bottom,oe.width,oe.height)},M=B6(()=>Le(f.get(),te=>A(te)),v,te=>{C.get().each(oe=>{s.dispatch("TableSelectorChange",{start:te,finish:oe})})}),P=B6(()=>Le(p.get(),te=>T(te)),C,te=>{v.get().each(oe=>{s.dispatch("TableSelectorChange",{start:oe,finish:te})})}),B=xk(M),H=xk(P),Z=ja(B.asSpec()),X=ja(H.asSpec()),le=(te,oe,ue,pe)=>{const Oe=ue(oe);F0.snapTo(te,Oe),((Te,De)=>{const et=De.dom.getBoundingClientRect();xn(Te.element,"display");const nt=ju(Ut(s.getBody())).dom.innerHeight,Ye=et[pe]<0,st=((wt,Gt)=>wt[pe]>Gt)(et,nt);(Ye||st)&&Vo(Te.element,"display","none")})(te,oe)},se=te=>le(Z,te,A,"top"),ae=te=>le(X,te,T,"bottom");if(_e().deviceType.isTouch()){const te=oe=>Le(oe,Ut);s.on("TableSelectionChange",oe=>{b.get()||(Nm(l,Z),Nm(l,X),b.set(!0));const ue=Ut(oe.start),pe=Ut(oe.finish);v.set(ue),C.set(pe),I.from(oe.otherCells).each(Oe=>{f.set(te(Oe.upOrLeftCells)),p.set(te(Oe.downOrRightCells)),se(ue),ae(pe)})}),s.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(se),C.get().each(ae)}),s.on("TableSelectionClear",()=>{b.get()&&(Rm(Z),Rm(X),b.set(!1)),v.clear(),C.clear()})}},m$=(s,l,f)=>{const p=l.delimiter??"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Ct([Qt.config({mode:"flow",selector:"div[role=button]"}),io.config({disabled:f.isDisabled}),fi(()=>f.checkUiComponentContext("any")),os.config({}),jo.config({}),Co("elementPathEvents",[Cs((b,v)=>{s.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Qt.focusIn(b)),s.on("NodeChange",C=>{const A=(M=>{const P=[];let B=M.length;for(;B-- >0;){const Z=M[B];if(Z.nodeType===1&&(H=Z).nodeName!=="BR"&&!H.getAttribute("data-mce-bogus")&&H.getAttribute("data-mce-type")!=="bookmark"){const X=NF(s,Z);if(X.isDefaultPrevented()||P.push({name:X.name,element:Z}),X.isPropagationStopped())break}}var H;return P})(C.parents),T=A.length>0?fo(A,(M,P,B)=>{const H=((Z,X,le)=>ca.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":le}},components:[Xs(Z)],action:se=>{s.focus(),s.selection.select(X),s.nodeChanged()},buttonBehaviours:Ct([Is.config({...f.tooltips.getConfig({tooltipText:f.translate(["Select the {0} element",X.nodeName.toLowerCase()]),onShow:(se,ae)=>{((te,oe)=>{const ue=I.from($o(te,"id")).getOrThunk(()=>{const pe=je("aria");return mo(oe,"id",pe),pe});mo(te,"aria-describedby",ue)})(se.element,ae.element)},onHide:se=>{var ae;ae=se.element,ur(ae,"aria-describedby")}})}),Km(f.isDisabled),fi(()=>f.checkUiComponentContext("any"))])}))(P.name,P.element,B);return B===0?M.concat([H]):M.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Xs(` ${p} `)]},H])},[]):[];jo.set(b,T)})})])]),components:[]}};var zf;(function(s){s[s.None=0]="None",s[s.Both=1]="Both",s[s.Vertical=2]="Vertical"})(zf||(zf={}));const hb=s=>{const l=Ut(s.getContainer());return{height:Br(l),width:jn(l)}},OT=(s,l,f)=>{const p=Ut(s.getContainer()),b=((v,C,A,T)=>{const M=jC(T.height+C.top,$A(v),sy(v));return A===zf.Both?{height:M,width:jC(T.width+C.left,HA(v),Jg(v))}:{height:M}})(s,l,f,hb(s));return Wo(b,(v,C)=>{ve(v)&&Vo(p,C,gT(v))}),(v=>{v.dispatch("ResizeEditor")})(s),b},Ry=(s,l,f)=>{mo(s.element,"aria-valuetext",((p,b)=>b===zf.Both?cl.translate(["Editor's height: {0} pixels, Editor's width: {1} pixels",p.height,p.width]):cl.translate(["Editor's height: {0} pixels",p.height]))(l,f))},eS=(s,l,f,p,b)=>{const v=Bs(20*p,20*b),C=OT(s,v,f);return Ry(l,C,f),I.some(!0)},I6=(s,l)=>{const f=()=>{const p=[],b=IM(s),v=YA(s),C=T2(s)||s.hasPlugin("wordcount");return v&&p.push(m$(s,{},l)),b&&p.push((()=>{const A=X4("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Xs(cl.translate(["Press {0} for help",A]))]}})()),C&&p.push((()=>{const A=[];return s.hasPlugin("wordcount")&&A.push(((T,M)=>{const P=(B,H,Z)=>jo.set(B,[Xs(M.translate(["{0} "+Z,H[Z]]))]);return ca.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Ct([Km(M.isDisabled),fi(()=>M.checkUiComponentContext("any")),os.config({}),jo.config({}),Zt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Co("wordcount-events",[lf(B=>{const H=Zt.getValue(B),Z=H.mode==="words"?"characters":"words";Zt.setValue(B,{mode:Z,count:H.count}),P(B,H.count,Z)}),Cs(B=>{T.on("wordCountUpdate",H=>{const{mode:Z}=Zt.getValue(B);Zt.setValue(B,{mode:Z,count:H.wordCount}),P(B,H.wordCount,Z)})})])]),eventOrder:{[tl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(s,l)),T2(s)&&A.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":s.translate(["Build with {0}","TinyMCE"])},innerHtml:s.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Ct([Mo.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:A}})()),p.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const A="tox-statusbar__text-container--flex-start",T="tox-statusbar__text-container--flex-end";if(b){const M="tox-statusbar__text-container-3-cols";return C||v?C&&!v?[M,T]:[M,A]:[M,"tox-statusbar__text-container--space-around"]}return[C&&!v?T:A]})()]},components:p}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const p=f(),b=((v,C)=>{const A=(P=>{const B=XA(P);return B===!1?zf.None:B==="both"?zf.Both:zf.Vertical})(v);if(A===zf.None)return I.none();const T=A===zf.Both?cl.translate("Press the arrow keys to resize the editor."):cl.translate("Press the Up and Down arrow keys to resize the editor."),M=A===zf.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return I.some(Dd("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",M],attributes:{"aria-label":C.translate(T),"data-mce-name":"resize-handle",role:"separator"},behaviours:[F0.config({mode:"mouse",repositionTarget:!1,onDrag:(P,B,H)=>{const Z=OT(v,H,A);Ry(P,Z,A)},blockerClass:"tox-blocker"}),Qt.config({mode:"special",onLeft:P=>eS(v,P,A,-1,0),onRight:P=>eS(v,P,A,1,0),onUp:P=>eS(v,P,A,0,-1),onDown:P=>eS(v,P,A,0,1)}),os.config({}),Mo.config({}),Is.config(C.tooltips.getConfig({tooltipText:C.translate("Resize")})),Co("set-aria-valuetext",[Cs(P=>{const B=()=>{Ry(P,hb(v),A)};v._skinLoaded?B():v.once("SkinLoaded",B)})])],eventOrder:{[yd()]:["add-focusable","set-aria-valuetext"]}},C.icons))})(s,l);return p.concat(b.toArray())})()}},F6=(s,l)=>l.get().getOrDie(`UI for ${s} has not been rendered`),g$=(s,l)=>{const f=s.inline,p=f?i$:Px,b=yx(s)?PH:BH,v=(()=>{const Te=Qn(),De=Qn(),et=Qn();return{dialogUi:Te,popupUi:De,mainUi:et,getUiMotherships:()=>{const nt=Te.get().map(st=>st.mothership),Ye=De.get().map(st=>st.mothership);return nt.fold(()=>Ye.toArray(),st=>Ye.fold(()=>[st],wt=>on(st.element,wt.element)?[st]:[st,wt]))},lazyGetInOuterOrDie:(nt,Ye)=>()=>et.get().bind(st=>Ye(st.outerContainer)).getOrDie(`Could not find ${nt} element in OuterContainer`)}})(),C=Qn(),A=Qn(),T=Qn(),M=_e().deviceType.isTouch()?["tox-platform-touch"]:[],P=ay(s),B=ry(s),H=Hn({dom:{tag:"div",classes:["tox-anchorbar"]}}),Z=Hn({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),X=()=>v.mainUi.get().map(Te=>Te.outerContainer).bind(xs.getHeader),le=v.lazyGetInOuterOrDie("anchor bar",H.getOpt),se=v.lazyGetInOuterOrDie("bottom anchor bar",Z.getOpt),ae=v.lazyGetInOuterOrDie("toolbar",xs.getToolbar),te=v.lazyGetInOuterOrDie("throbber",xs.getThrobber),oe=((Te,De,et,nt)=>{const Ye=jt(!1),st=(vo=>{const Fs=jt(ay(vo)?"bottom":"top");return{isPositionedAtTop:()=>Fs.get()==="top",getDockingMode:Fs.get,setDockingMode:Fs.set}})(De),wt={icons:()=>De.ui.registry.getAll().icons,menuItems:()=>De.ui.registry.getAll().menuItems,translate:cl.translate,isDisabled:()=>!De.ui.isEnabled(),getOption:De.options.get,tooltips:wH(Te.dialog),checkUiComponentContext:vo=>{if(wh(De))return{contextType:"disabled",shouldDisable:!0};const[Fs,Wn=""]=vo.split(":"),vi=De.ui.registry.getAll().contexts;return{contextType:Fs,shouldDisable:!so(vi,Fs).fold(()=>so(vi,"mode").map(Es=>Es("design")).getOr(!1),Es=>Wn.charAt(0)==="!"?!Es(Wn.slice(1)):Es(Wn))}}},Gt=MH(De),uo=(vo=>{const Fs=dl=>()=>vo.formatter.match(dl),Wn=dl=>()=>{const Wl=vo.formatter.get(dl);return Wl!==void 0?I.some({tag:Wl.length>0&&(Wl[0].inline||Wl[0].block)||"div",styles:vo.dom.parseStyle(vo.formatter.getCssText(dl))}):I.none()},vi=jt([]),Es=jt([]),yc=jt(!1);return vo.on("PreInit",dl=>{const Wl=yR(vo),Qm=vR(vo,Wl,Fs,Wn);vi.set(Qm)}),vo.on("addStyleModifications",dl=>{const Wl=vR(vo,dl.items,Fs,Wn);Es.set(Wl),yc.set(dl.replace)}),{getData:()=>{const dl=yc.get()?[]:vi.get(),Wl=Es.get();return dl.concat(Wl)}}})(De),Eo=(vo=>({colorPicker:gH(vo),hasCustomColors:bH(vo),getColors:yH(vo),getColorCols:xH(vo)}))(De),rn=(vo=>({isDraggableModal:vH(vo)}))(De),$n={shared:{providers:wt,anchors:mH(De,et,nt,st.isPositionedAtTop),header:st},urlinput:Gt,styles:uo,colorinput:Eo,dialog:rn,isContextMenuOpen:()=>Ye.get(),setContextMenuState:vo=>Ye.set(vo)},ns=vo=>I.none(),xo={...$n,shared:{...$n.shared,interpreter:vo=>hR(vo,{},xo,ns),getSink:Te.popup}},ss={...$n,shared:{...$n.shared,interpreter:vo=>hR(vo,{},ss,ns),getSink:Te.dialog}};return{popup:xo,dialog:ss}})({popup:()=>pn.fromOption(v.popupUi.get().map(Te=>Te.sink),"(popup) UI has not been rendered"),dialog:()=>pn.fromOption(v.dialogUi.get().map(Te=>Te.sink),"UI has not been rendered")},s,le,se),ue=()=>{const Te=(()=>{const $n={attributes:{[y0]:P?rf.BottomToTop:rf.TopToBottom}},ns=xs.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:oe.popup,onEscape:()=>{s.focus()}}),xo=xs.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:oe.popup.shared.getSink,providers:oe.popup.shared.providers,onEscape:()=>{s.focus()},onToolbarToggled:Wl=>{((Qm,Vx)=>{Qm.dispatch("ToggleToolbarDrawer",{state:Vx})})(s,Wl)},type:B,lazyToolbar:ae,lazyHeader:()=>X().getOrDie("Could not find header element"),...$n}),ss=xs.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:oe.popup.shared.providers,onEscape:()=>{s.focus()},type:B}),vo=Ow(s),Fs=Tw(s),Wn=Aw(s),vi=O2(s),Es=vo||Fs||Wn,yc=[(dl=vi,xs.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:dl})),ns];var dl;return xs.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Es?[]:["tox-editor-header--empty"]),...$n},components:Vn([Wn?yc:[],vo?[ss]:Fs?[xo]:[],ly(s)?[]:[H.asSpec()]]),sticky:yx(s),editor:s,sharedBackstage:oe.popup.shared})})(),De={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[xs.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),xs.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},et=xs.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:oe.popup}),nt=xs.parts.viewWrapper({backstage:oe.popup}),Ye=BM(s)&&!f?I.some(I6(s,oe.popup.shared.providers)):I.none(),st=Vn([P?[]:[Te],f?[]:[De],P?[Te]:[]]),wt=xs.parts.editorContainer({components:Vn([st,f?[]:[Z.asSpec()]])}),Gt=e4(s),uo={role:"application",...cl.isRtl()?{dir:"rtl"}:{},...Gt?{"aria-hidden":"true"}:{}},Eo=ja(xs.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(f?["tox-tinymce-inline"]:[]).concat(P?["tox-tinymce--toolbar-bottom"]:[]).concat(M),styles:{visibility:"hidden",...Gt?{opacity:"0",border:"0"}:{}},attributes:uo},components:[wt,...f?[]:[nt,...Ye.toArray()],et],behaviours:Ct([fi(()=>oe.popup.shared.providers.checkUiComponentContext("any")),io.config({disableClass:"tox-tinymce--disabled"}),Qt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),rn=sx(Eo);return C.set(rn),{mothership:rn,outerContainer:Eo}},pe=Te=>{const De=gT((nt=>(Ye=>{const st=((uo,Eo)=>{if(typeof Eo=="number")return I.from(Eo);const rn=/^([0-9.]+)(pt|em|px)$/.exec(Eo.trim());if(rn){const $n=rn[2],ns=Number.parseFloat(rn[1]);if(Number.isNaN(ns)||ns<0)return I.none();if($n==="em")return I.from(ns*Number.parseFloat(window.getComputedStyle(uo.dom).fontSize));if($n==="pt")return I.from(.75*ns);if($n==="px")return I.from(ns)}return I.none()})(Ut(Ye.targetElm),C2(Ye)),wt=$A(Ye),Gt=sy(Ye);return st.map(uo=>jC(uo,wt,Gt))})(nt).getOr(C2(nt)))(s)),et=gT((nt=>b6(nt).getOr(S2(nt)))(s));return s.inline||(Oc("div","width",et)&&Vo(Te.element,"width",et),Oc("div","height",De)?Vo(Te.element,"height",De):Vo(Te.element,"height","400px")),De},Oe=Te=>{const{mainUi:De,popupUi:et,uiMotherships:nt}=Te;Xn(jA(s),(xo,ss)=>{s.ui.registry.addGroupToolbarButton(ss,xo)});const{buttons:Ye,menuItems:st,contextToolbars:wt,sidebars:Gt,views:uo}=s.ui.registry.getAll(),Eo=iy(s),rn={menuItems:st,menus:jM(s),menubar:qA(s),toolbar:Eo.getOrThunk(()=>bx(s)),allowToolbarGroups:B===ll.floating,buttons:Ye,sidebar:Gt,views:uo};var $n;$n=De.outerContainer,s.addShortcut("alt+F9","focus menubar",()=>{xs.focusMenubar($n)}),s.addShortcut("alt+F10","focus toolbar",()=>{xs.focusToolbar($n)}),s.addCommand("ToggleToolbarDrawer",(xo,ss,vo)=>{ss!=null&&ss.skipFocus?(console.warn(NH.skipFocus,new Error().stack),xs.toggleToolbarDrawerWithoutFocusing($n)):vo!=null&&vo.skip_focus?xs.toggleToolbarDrawerWithoutFocusing($n):xs.toggleToolbarDrawer($n)}),s.addQueryStateHandler("ToggleToolbarDrawer",()=>xs.isToolbarDrawerToggled($n)),s.on("blur",()=>{ry(s)===ll.floating&&xs.isToolbarDrawerToggled($n)&&xs.toggleToolbarDrawerWithoutFocusing($n)}),((xo,ss,vo)=>{const Fs=(Cn,Ou)=>{Ge([ss,...vo],Sh=>{Sh.broadcastEvent(Cn,Ou)})},Wn=(Cn,Ou)=>{Ge([ss,...vo],Sh=>{Sh.broadcastOn([Cn],Ou)})},vi=Cn=>Wn(uu(),{target:Cn.target}),Es=Cn=>{Wn(jc(),{closedTooltip:()=>{Cn.preventDefault()}})},yc=Qp(),dl=Li(yc,"touchstart",vi),Wl=Li(yc,"touchmove",Cn=>Fs(fm(),Cn)),Qm=Li(yc,"touchend",Cn=>Fs(hm(),Cn)),Vx=Li(yc,"mousedown",vi),iS=Li(yc,"mouseup",Cn=>{Cn.raw.button===0&&Wn(_0(),{target:Cn.target})}),Df=Cn=>Wn(uu(),{target:Ut(Cn.target)}),mb=Cn=>{Cn.button===0&&Wn(_0(),{target:Ut(Cn.target)})},Tp=()=>{Ge(xo.editorManager.get(),Cn=>{xo!==Cn&&Cn.dispatch("DismissPopups",{relatedTarget:xo})})},jx=Cn=>Fs(r1(),tc(Cn)),Ux=Cn=>{Wn($a(),{}),Fs(Ic(),tc(Cn))},gb=ni(Ut(xo.getElement())),Wx=Da(gb,"scroll",Cn=>{requestAnimationFrame(()=>{if(xo.getContainer()!=null){const Ou=xp(xo,ss.element).map(Sh=>[Sh.element,...Sh.others]).getOr([]);To(Ou,Sh=>on(Sh,Cn.target))&&(xo.dispatch("ElementScroll",{target:Cn.target.dom}),Fs(Jb(),Cn))}})}),By=()=>Wn($a(),{}),Zx=Cn=>{Cn.state&&Wn(uu(),{target:Ut(xo.getContainer())})},qx=Cn=>{Wn(uu(),{target:Ut(Cn.relatedTarget.getContainer())})},Py=Cn=>xo.dispatch("focusin",Cn),Op=Cn=>xo.dispatch("focusout",Cn);xo.on("PostRender",()=>{xo.on("click",Df),xo.on("tap",Df),xo.on("mouseup",mb),xo.on("mousedown",Tp),xo.on("ScrollWindow",jx),xo.on("ResizeWindow",Ux),xo.on("ResizeEditor",By),xo.on("AfterProgressState",Zx),xo.on("DismissPopups",qx),xo.on("CloseActiveTooltips",Es),Ge([ss,...vo],Cn=>{Cn.element.dom.addEventListener("focusin",Py),Cn.element.dom.addEventListener("focusout",Op)})}),xo.on("remove",()=>{xo.off("click",Df),xo.off("tap",Df),xo.off("mouseup",mb),xo.off("mousedown",Tp),xo.off("ScrollWindow",jx),xo.off("ResizeWindow",Ux),xo.off("ResizeEditor",By),xo.off("AfterProgressState",Zx),xo.off("DismissPopups",qx),xo.off("CloseActiveTooltips",Es),Ge([ss,...vo],Cn=>{Cn.element.dom.removeEventListener("focusin",Py),Cn.element.dom.removeEventListener("focusout",Op)}),Vx.unbind(),dl.unbind(),Wl.unbind(),Qm.unbind(),iS.unbind(),Wx.unbind()}),xo.on("detach",()=>{Ge([ss,...vo],e8),Ge([ss,...vo],Cn=>Cn.destroy())})})(s,De.mothership,nt),b.setup(s,oe.popup.shared,X),A6(s,oe.popup),p$(s,oe.popup.shared.getSink,oe.popup),(xo=>{const{sidebars:ss}=xo.ui.registry.getAll();Ge(Dt(ss),vo=>{const Fs=ss[vo],Wn=()=>Mn(I.from(xo.queryCommandValue("ToggleSidebar")),vo);xo.ui.registry.addToggleButton(vo,{icon:Fs.icon,tooltip:Fs.tooltip,onAction:vi=>{xo.execCommand("ToggleSidebar",!1,vo),vi.setActive(Wn())},onSetup:vi=>{vi.setActive(Wn());const Es=()=>vi.setActive(Wn());return xo.on("ToggleSidebar",Es),()=>{xo.off("ToggleSidebar",Es)}},context:"any"})})})(s),IH(s,te,oe.popup.shared),KC(s,wt,et.sink,{backstage:oe.popup}),P6(s,et.sink);const ns={targetNode:s.getElement(),height:pe(De.outerContainer)};return p.render(s,Te,rn,oe.popup,ns)};return{popups:{backstage:oe.popup,getMothership:()=>F6("popups",T)},dialogs:{backstage:oe.dialog,getMothership:()=>F6("dialogs",A)},renderUI:()=>{const Te=ue(),De=(()=>{const Ye=D2(s),st=on(vr(),Ye)&&Pi(Ye,"display")==="grid",wt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(M),attributes:{...cl.isRtl()?{dir:"rtl"}:{}}},behaviours:Ct([la.config({useFixed:()=>b.isDocked(X)})])},Gt={dom:{styles:{width:document.body.clientWidth+"px"}},events:is([ct(Ic(),rn=>{Vo(rn.element,"width",document.body.clientWidth+"px")})])},uo=ja(Js(wt,st?Gt:{})),Eo=sx(uo);return A.set(Eo),{sink:uo,mothership:Eo}})(),et=jm(s)?(()=>{const Ye={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(M),attributes:{...cl.isRtl()?{dir:"rtl"}:{}}},behaviours:Ct([la.config({useFixed:()=>b.isDocked(X),getBounds:()=>l.getPopupSinkBounds()})])},st=ja(Ye),wt=sx(st);return T.set(wt),{sink:st,mothership:wt}})():(Ye=>(T.set(Ye.mothership),Ye))(De);v.dialogUi.set(De),v.popupUi.set(et),v.mainUi.set(Te);const nt={popupUi:et,dialogUi:De,mainUi:Te,uiMotherships:v.getUiMotherships()};return Oe(nt)}}},pb=s=>{const l=[],f={};return Wo(s,(p,b)=>{p.fold(()=>{l.push(b)},v=>{f[b]=v})}),l.length>0?pn.error(l):pn.value(f)},H6=(s,l,f,p)=>{const b=Hn(ax.sketch(C=>({dom:{tag:"div",classes:["tox-form"].concat(s.classes)},components:Le(s.items,A=>fR(C,A,l,f,p))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:Ct([Qt.config({mode:"acyclic",useTabstopAt:bo(rk)}),(v=b,Nn.config({find:v.getOpt})),qF(b,{postprocess:C=>pb(C).fold(A=>(console.error(A),{}),Ie)}),Co("dialog-body-panel",[ct(Oo(),(C,A)=>{C.getSystem().broadcastOn([kC],{newFocus:I.some(A.event.target)})})])])};var v},$6=(s,l)=>{Vo(s,"height",l+"px"),Vo(s,"flex-basis",l+"px")},vk=(s,l,f)=>{ms(s,'[role="dialog"]').each(p=>{rs(p,'[role="tablist"]').each(b=>{f.get().map(v=>(Vo(l,"height","0"),Vo(l,"flex-basis","0"),Math.min(v,((C,A,T)=>{const M=Oa(C).dom,P=ms(C,".tox-dialog-wrap").getOr(C);let B;B=Pi(P,"position")==="fixed"?Math.max(M.clientHeight,window.innerHeight):Math.max(M.offsetHeight,M.scrollHeight);const H=Br(A),Z=A.dom.offsetLeft>=T.dom.offsetLeft+jn(T)?Math.max(Br(T),H):H,X=parseInt(Pi(C,"margin-top"),10)||0,le=parseInt(Pi(C,"margin-bottom"),10)||0;return B-(Br(C)+X+le-Z)})(p,l,b)))).each(v=>{$6(l,v)})})})},zT=s=>rs(s,'[role="tabpanel"]'),V6="send-data-to-section",j6="send-data-to-view",U6=(s,l,f,p)=>{const b=jt({}),v=P=>{const B=Zt.getValue(P),H=pb(B).getOr({}),Z=b.get(),X=Js(Z,H);b.set(X)},C=P=>{const B=b.get();Zt.setValue(P,B)},A=jt(null),T=Le(s.tabs,P=>({value:P.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Xs(f.shared.providers.translate(P.title))],view:()=>[ax.sketch(B=>({dom:{tag:"div",classes:["tox-form"]},components:Le(P.items,H=>fR(B,H,l,f,p)),formBehaviours:Ct([Qt.config({mode:"acyclic",useTabstopAt:bo(rk)}),Co("TabView.form.events",[Cs(C),_d(v)]),$l.config({channels:Qa([{key:V6,value:{onReceive:v}},{key:j6,value:{onReceive:C}}])})])}))]})),M=(P=>{const B=Qn();return{extraEvents:[Cs(Z=>{const X=Z.element;zT(X).each(le=>{Vo(le,"visibility","hidden"),Z.getSystem().getByDom(le).toOptional().each(se=>{const ae=((oe,ue,pe)=>Le(oe,(Oe,Te)=>{jo.set(pe,oe[Te].view());const De=ue.dom.getBoundingClientRect();return jo.set(pe,[]),De.height}))(P,le,se);(oe=>ze(tt(oe,(ue,pe)=>ue>pe?-1:ue<pe?1:0)))(ae).fold(B.clear,B.set)}),vk(X,le,B),xn(le,"visibility"),((se,ae)=>{ze(se).each(te=>mx.showTab(ae,te.value))})(P,Z),requestAnimationFrame(()=>{vk(X,le,B)})})}),ct(Ic(),Z=>{const X=Z.element;zT(X).each(le=>{vk(X,le,B)})}),ct(zN,(Z,X)=>{const le=Z.element;zT(le).each(se=>{const ae=Tc(ni(se));Vo(se,"visibility","hidden");const te=wr(se,"height").map(ue=>parseInt(ue,10));xn(se,"height"),xn(se,"flex-basis");const oe=se.dom.getBoundingClientRect().height;te.forall(ue=>oe>ue)?(B.set(oe),vk(le,se,B)):te.each(ue=>{$6(se,ue)}),xn(se,"visibility"),ae.each(Er)})})],selectFirst:!1}})(T);return mx.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(P,B,H)=>{const Z=Zt.getValue(B);co(P,ON,{name:Z,oldName:A.get()}),A.set(Z)},tabs:T,components:[mx.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[IA.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Ct([os.config({})])}),mx.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:M.selectFirst,tabSectionBehaviours:Ct([Co("tabpanel",M.extraEvents),Qt.config({mode:"acyclic"}),Nn.config({find:P=>ze(mx.getViewItems(P))}),Sy(I.none(),P=>(P.getSystem().broadcastOn([V6],{}),b.get()),(P,B)=>{b.set(B),P.getSystem().broadcastOn([j6],{})})])})},W6=(s,l,f,p,b,v)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...f.map(C=>({id:C})).getOr({}),...b?{"aria-live":"polite"}:{}}},components:[],behaviours:Ct([_3(0),Ti.config({channel:`${VN}-${l}`,updateState:(C,A)=>I.some({isTabPanel:()=>A.body.type==="tabpanel"}),renderComponents:C=>{const A=C.body;return A.type==="tabpanel"?[U6(A,C.initialData,p,v)]:[H6(A,C.initialData,p,v)]},initialData:s})])}),b$=gx.deviceType.isTouch(),Z6=(s,l)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[s,l]}),q6=(s,l)=>zi.parts.close(ca.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":l.translate("Close")}},action:s,buttonBehaviours:Ct([os.config({})])})),K6=()=>zi.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),G6=(s,l)=>zi.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:mp(`<p>${t5(l.translate(s))}</p>`)}]}]}),Y6=s=>zi.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:s}),X6=(s,l)=>[gu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:s}),gu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:l})],tS=s=>{const l="tox-dialog",f=l+"-wrap",p=f+"__backdrop",b=l+"__disable-scroll";return zi.sketch({lazySink:s.lazySink,onEscape:v=>(s.onEscape(v),I.some(!0)),useTabstopAt:v=>!rk(v),firstTabstop:s.firstTabstop,dom:{tag:"div",classes:[l].concat(s.extraClasses),styles:{position:"relative",...s.extraStyles}},components:[s.header,s.body,...s.footer.toArray()],parts:{blocker:{dom:mp(`<div class="${f}"></div>`),components:[{dom:{tag:"div",classes:b$?[p,p+"--opaque"]:[p]}}]}},dragBlockClass:f,modalBehaviours:Ct([Mo.config({}),Co("dialog-events",s.dialogEvents.concat([du(Oo(),(v,C)=>{mh.isBlocked(v)||Qt.focusIn(v)}),ct(mm(),(v,C)=>{v.getSystem().broadcastOn([kC],{newFocus:C.event.newFocus})})])),Co("scroll-lock",[Cs(()=>{_s(vr(),b)}),_d(()=>{ln(vr(),b)})]),...s.extraBehaviours]),eventOrder:{[tl()]:["dialog-events"],[yd()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[nf()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...s.eventOrder}})},Q6=s=>ca.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Ct([os.config({}),Is.config(s.tooltips.getConfig({tooltipText:s.translate("Close")}))]),components:[Dd("close",{tag:"span",classes:["tox-icon"]},s.icons)],action:l=>{mn(l,lb)}}),J6=(s,l,f,p)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...f.map(b=>({id:b})).getOr({})}},components:[],behaviours:Ct([Ti.config({channel:`${z3}-${l}`,initialData:s,renderComponents:b=>[Xs(p.translate(b.title))]})])}),eL=()=>({dom:mp('<div class="tox-dialog__draghandle"></div>')}),tL=(s,l,f)=>((p,b,v)=>{const C=zi.parts.title(J6(p,b,I.none(),v)),A=zi.parts.draghandle(eL()),T=zi.parts.close(Q6(v)),M=[C].concat(p.draggable?[A]:[]).concat([T]);return gu.sketch({dom:mp('<div class="tox-dialog__header"></div>'),components:M})})({title:f.shared.providers.translate(s),draggable:f.dialog.isDraggableModal()},l,f.shared.providers),oL=(s,l,f,p)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":f.translate(s)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${p.getOr(0)}px`,position:"absolute"}},behaviours:l,components:[{dom:mp('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),nL=(s,l,f)=>({onClose:()=>f.closeWindow(),onBlock:p=>{const b=rs(s().element,".tox-dialog__header").map(v=>Br(v));zi.setBusy(s(),(v,C)=>oL(p.message,C,l,b))},onUnblock:()=>{zi.setIdle(s())}}),DT="tox-dialog--fullscreen",oS="tox-dialog--width-lg",MT="tox-dialog--width-md",Ly=s=>{switch(s){case"large":return I.some(oS);case"medium":return I.some(MT);default:return I.none()}},sL=(s,l)=>{const f=Ut(l.element.dom);kr(f,DT)||(qr(f,[oS,MT]),Ly(s).each(p=>_s(f,p)))},rL=(s,l)=>{const f=Ut(s.element.dom),p=eh(f),b=G(p,v=>v===oS||v===MT).or(Ly(l));((v,C)=>{Ge(C,A=>{((T,M)=>{Zr(T)?T.dom.classList.toggle(M):((P,B)=>ft(Uh(P),B)?ma(P,B):Rl(P,B))(T,M),wg(T)})(v,A)})})(f,[DT,...b.toArray()])},iL=(s,l,f)=>ja(tS({...s,firstTabstop:1,lazySink:f.shared.getSink,extraBehaviours:[db({}),...s.extraBehaviours],onEscape:p=>{mn(p,lb)},dialogEvents:l,eventOrder:{[of()]:[Ti.name(),$l.name()],[yd()]:["scroll-lock",Ti.name(),"messages","dialog-events","alloy.base.behaviour"],[nf()]:["alloy.base.behaviour","dialog-events","messages",Ti.name(),"scroll-lock"]}})),NT=(s,l={})=>Le(s,f=>f.type==="menu"?(p=>{const b=Le(p.items,v=>{const C=so(l,v.name).getOr(jt(!1));return{...v,storage:C}});return{...p,items:b}})(f):f),aL=s=>fo(s,(l,f)=>f.type==="menu"?fo(f.items,(p,b)=>(p[b.name]=b.storage,p),l):l,{}),lL=(s,l)=>[z1(Oo(),JF),s(nk,(f,p,b,v)=>{cd(v.element)&&Tc(ni(v.element)).each(gl),l.onClose(),p.onClose()}),s(lb,(f,p,b,v)=>{p.onCancel(f),mn(v,nk)}),ct(k3,(f,p)=>l.onUnblock()),ct(w3,(f,p)=>l.onBlock(p.event))],cL=(s,l,f)=>{const p=(v,C)=>ct(v,(A,T)=>{b(A,(M,P)=>{C(s(),M,T.event,A)})}),b=(v,C)=>{Ti.getState(v).get().each(A=>{C(A.internalDialog,v)})};return[...lL(p,l),p(sk,(v,C)=>C.onSubmit(v)),p(Cl,(v,C,A)=>{C.onChange(v,{name:A.name})}),p(_p,(v,C,A,T)=>{const M=()=>T.getSystem().isConnected()?Qt.focusIn(T):void 0,P=Z=>Jp(Z,"disabled")||si(Z,"aria-disabled").exists(X=>X==="true"),B=ni(T.element),H=Tc(B);C.onAction(v,{name:A.name,value:A.value}),Tc(B).fold(M,Z=>{P(Z)||H.exists(X=>Ws(Z,X)&&P(X))?M():f().toOptional().filter(X=>!Ws(X.element,Z)).each(M)})}),p(ON,(v,C,A)=>{C.onTabChange(v,{newTabName:A.name,oldTabName:A.oldName})}),_d(v=>{const C=s();Zt.setValue(v,C.getData())})]},y$=(s,l)=>{const f=l.map(v=>v.footerButtons).getOr([]),p=yo(f,v=>v.align==="start"),b=(v,C)=>gu.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:Le(C,A=>A.memento.asSpec())});return[b("start",p.pass),b("end",p.fail)]},Xm=(s,l,f)=>({dom:mp('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Ct([Ti.config({channel:`${D3}-${l}`,initialData:s,updateState:(p,b)=>{const v=Le(b.buttons,C=>{const A=Hn(((T,M)=>OC(T,T.type,M))(C,f));return{name:C.name,align:C.align,memento:A}});return I.some({lookupByName:C=>((A,T,M)=>G(T,P=>P.name===M).bind(P=>P.memento.getOpt(A)))(p,v,C),footerButtons:v})},renderComponents:y$})])}),dL=(s,l,f)=>zi.parts.footer(Xm(s,l,f)),nS=(s,l)=>{if(s.getRoot().getSystem().isConnected()){const f=Nn.getCurrent(s.getFormWrapper()).getOr(s.getFormWrapper());return ax.getField(f,l).orThunk(()=>s.getFooter().bind(b=>Ti.getState(b).get()).bind(b=>b.lookupByName(l)))}return I.none()},RT=(s,l,f)=>{const p=v=>{const C=s.getRoot();C.getSystem().isConnected()&&v(C)},b={getData:()=>{const v=s.getRoot(),C=v.getSystem().isConnected()?s.getFormWrapper():v;return{...Zt.getValue(C),...Xn(f,A=>A.get())}},setData:v=>{p(C=>{const A=b.getData(),T=Js(A,v),M=((B,H)=>{const Z=B.getRoot();return Ti.getState(Z).get().map(X=>Ia(Ps("data",X.dataValidator,H))).getOr(H)})(s,T),P=s.getFormWrapper();Zt.setValue(P,M),Wo(f,(B,H)=>{en(T,H)&&B.set(T[H])})})},setEnabled:(v,C)=>{nS(s,v).each(C?io.enable:io.disable)},focus:v=>{nS(s,v).each(Mo.focus)},block:v=>{if(!h(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");p(C=>{co(C,w3,{message:v})})},unblock:()=>{p(v=>{mn(v,k3)})},showTab:v=>{p(C=>{const A=s.getBody();Ti.getState(A).get().exists(T=>T.isTabPanel())&&Nn.getCurrent(A).each(T=>{mx.showTab(T,v)})})},redial:v=>{p(C=>{const A=s.getId(),T=l(v),M=NT(T.internalDialog.buttons,f);C.getSystem().broadcastOn([`${zx}-${A}`],T),C.getSystem().broadcastOn([`${z3}-${A}`],T.internalDialog),C.getSystem().broadcastOn([`${VN}-${A}`],T.internalDialog),C.getSystem().broadcastOn([`${D3}-${A}`],{...T.internalDialog,buttons:M}),b.setData(T.initialData)})},close:()=>{p(v=>{mn(v,nk)})},toggleFullscreen:s.toggleFullscreen};return b},uL=(s,l,f,p=!1,b)=>{const v=je("dialog"),C=je("dialog-label"),A=je("dialog-content"),T=s.internalDialog,M=jt(T.size),P=Ly(M.get()).toArray(),B=Hn(((pe,Oe,Te,De)=>gu.sketch({dom:mp('<div class="tox-dialog__header"></div>'),components:[J6(pe,Oe,I.some(Te),De),eL(),Q6(De)],containerBehaviours:Ct([F0.config({mode:"mouse",blockerClass:"blocker",getTarget:et=>La(et,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(et,nt)=>{et.getSystem().broadcastOn([$a()],{target:nt})}})])}))({title:T.title,draggable:!0},v,C,f.shared.providers)),H=Hn(((pe,Oe,Te,De,et,nt)=>W6(pe,Oe,I.some(Te),De,et,nt))({body:T.body,initialData:T.initialData},v,A,f,p,pe=>nS(oe,pe))),Z=NT(T.buttons),X=aL(Z),le=Ks(Z.length!==0,Hn(((pe,Oe,Te)=>Xm(pe,Oe,Te))({buttons:Z},v,f))),se=cL(()=>ue,{onBlock:pe=>{mh.block(te,(Oe,Te)=>{const De=B.getOpt(te).map(et=>Br(et.element));return oL(pe.message,Te,f.shared.providers,De)})},onUnblock:()=>{mh.unblock(te)},onClose:()=>l.closeWindow()},f.shared.getSink),ae=_e().os,te=ja({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...P],attributes:{role:"dialog",...ae.isMacOS()?{"aria-label":T.title}:{"aria-labelledby":C}}},eventOrder:{[of()]:[Ti.name(),$l.name()],[tl()]:["execute-on-form"],[yd()]:["reflecting","execute-on-form"]},behaviours:Ct([Qt.config({mode:"cyclic",onEscape:pe=>(mn(pe,nk),I.some(!0)),useTabstopAt:pe=>!rk(pe)&&(Ot(pe)!=="button"||$o(pe,"disabled")!=="disabled"),firstTabstop:1}),Ti.config({channel:`${zx}-${v}`,updateState:(pe,Oe)=>(M.set(Oe.internalDialog.size),sL(Oe.internalDialog.size,pe),b(),I.some(Oe)),initialData:s}),Mo.config({}),Co("execute-on-form",se.concat([du(Oo(),(pe,Oe)=>{Qt.focusIn(pe)}),ct(mm(),(pe,Oe)=>{pe.getSystem().broadcastOn([kC],{newFocus:Oe.event.newFocus})})])),mh.config({getRoot:()=>I.some(te)}),jo.config({}),db({})]),components:[B.asSpec(),H.asSpec(),...le.map(pe=>pe.asSpec()).toArray()]}),oe={getId:ge(v),getRoot:ge(te),getFooter:()=>le.map(pe=>pe.get(te)),getBody:()=>H.get(te),getFormWrapper:()=>{const pe=H.get(te);return Nn.getCurrent(pe).getOr(pe)},toggleFullscreen:()=>{rL(te,M.get())}},ue=RT(oe,l.redial,X);return{dialog:te,instanceApi:ue}};var LT=tinymce.util.Tools.resolve("tinymce.util.URI");const x$=["insertContent","setContent","execCommand","close","block","unblock"],fL=s=>g(s)&&x$.indexOf(s.mceAction)!==-1,BT=(s,l,f,p)=>{const b=je("dialog"),v=tL(s.title,b,p),C=(ae=>{const te={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[HN(I.none(),{dom:{tag:"iframe",attributes:{src:ae.url}},behaviours:Ct([os.config({}),Mo.config({})])})]}],behaviours:Ct([Qt.config({mode:"acyclic",useTabstopAt:bo(rk)})])};return zi.parts.body(te)})(s),A=s.buttons.bind(ae=>ae.length===0?I.none():I.some(dL({buttons:ae},b,p))),T=((ae,te)=>{const oe=(pe,Oe)=>ct(pe,(Te,De)=>{ue(Te,(et,nt)=>{Oe(se,et,De.event,Te)})}),ue=(pe,Oe)=>{Ti.getState(pe).get().each(Te=>{Oe(Te,pe)})};return[...lL(oe,te),oe(_p,(pe,Oe,Te)=>{Oe.onAction(pe,{name:Te.name})})]})(0,nL(()=>le,p.shared.providers,l)),M={...s.height.fold(()=>({}),ae=>({height:ae+"px","max-height":ae+"px"})),...s.width.fold(()=>({}),ae=>({width:ae+"px","max-width":ae+"px"}))},P=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[],B=new LT(s.url,{base_uri:new LT(window.location.href)}),H=`${B.protocol}://${B.host}${B.port?":"+B.port:""}`,Z=ti(),X=[Ti.config({channel:`${zx}-${b}`,updateState:(ae,te)=>I.some(te),initialData:s}),Co("messages",[Cs(()=>{const ae=Li(Ut(window),"message",te=>{if(B.isSameOrigin(new LT(te.raw.origin))){const oe=te.raw.data;fL(oe)?((ue,pe,Oe)=>{switch(Oe.mceAction){case"insertContent":ue.insertContent(Oe.content);break;case"setContent":ue.setContent(Oe.content);break;case"execCommand":const Te=!!D(Oe.ui)&&Oe.ui;ue.execCommand(Oe.cmd,Te,Oe.value);break;case"close":pe.close();break;case"block":pe.block(Oe.message);break;case"unblock":pe.unblock()}})(f,se,oe):(ue=>!fL(ue)&&g(ue)&&en(ue,"mceAction"))(oe)&&s.onMessage(se,oe)}});Z.set(ae)}),_d(Z.clear)]),$l.config({channels:{[jN]:{onReceive:(ae,te)=>{rs(ae.element,"iframe").each(oe=>{const ue=oe.dom.contentWindow;Y(ue)&&ue.postMessage(te,H)})}}}})],le=iL({id:b,header:v,body:C,footer:A,extraClasses:P,extraBehaviours:X,extraStyles:M},T,p),se=(ae=>{const te=oe=>{ae.getSystem().isConnected()&&oe(ae)};return{block:oe=>{if(!h(oe))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");te(ue=>{co(ue,w3,{message:oe})})},unblock:()=>{te(oe=>{mn(oe,k3)})},close:()=>{te(oe=>{mn(oe,nk)})},sendMessage:oe=>{te(ue=>{ue.getSystem().broadcastOn([jN],oe)})}}})(le);return{dialog:le,instanceApi:se}},PT=(s,l)=>Ia(Ps("data",l,s)),sS=s=>om(s,".tox-alert-dialog")||om(s,".tox-confirm-dialog"),rS=(s,l,f,p)=>l&&f?[]:[sr.config({contextual:{lazyContext:()=>I.some(Ar(Ut(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:p},modes:["top"],lazyViewport:b=>xp(s,b.element).map(v=>({bounds:Um(v),optScrollEnv:I.some({currentScrollTop:v.element.dom.scrollTop,scrollElmTop:pr(v.element).top})})).getOrThunk(()=>({bounds:er(),optScrollEnv:I.none()}))})],$x=s=>{const l=s.editor,f=yx(l),p=(T=>{const M=T.shared;return{open:(P,B)=>{const H=()=>{zi.hide(se),B()},Z=Hn(OC({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:I.some("primary"),align:"end",enabled:!0,icon:I.none()},"cancel",T)),X=K6(),le=q6(H,M.providers),se=ja(tS({lazySink:()=>M.getSink(),header:Z6(X,le),body:G6(P,M.providers),footer:I.some(Y6(X6([],[Z.asSpec()]))),onEscape:H,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ct(lb,H)],eventOrder:{}}));zi.show(se);const ae=Z.get(se);Mo.focus(ae)}}})(s.backstages.dialog),b=(T=>{const M=T.shared;return{open:(P,B)=>{const H=oe=>{zi.hide(ae),B(oe)},Z=Hn(OC({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:I.some("primary"),align:"end",enabled:!0,icon:I.none()},"submit",T)),X=OC({context:"any",name:"no",text:"No",primary:!1,buttonType:I.some("secondary"),align:"end",enabled:!0,icon:I.none()},"cancel",T),le=K6(),se=q6(()=>H(!1),M.providers),ae=ja(tS({lazySink:()=>M.getSink(),header:Z6(le,se),body:G6(P,M.providers),footer:I.some(Y6(X6([],[X,Z.asSpec()]))),onEscape:()=>H(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ct(lb,()=>H(!1)),ct(sk,()=>H(!0))],eventOrder:{}}));zi.show(ae);const te=Z.get(ae);Mo.focus(te)}}})(s.backstages.dialog),v=(T,M)=>gy.open((P,B,H)=>{const Z=B,X=((le,se,ae)=>{const te=je("dialog"),oe=le.internalDialog,ue=tL(oe.title,te,ae),pe=jt(oe.size),Oe=Ly(pe.get()).toArray(),Te=((Eo,rn,$n,ns)=>{const xo=W6(Eo,rn,I.none(),$n,!1,ns);return zi.parts.body(xo)})({body:oe.body,initialData:oe.initialData},te,ae,Eo=>nS(Gt,Eo)),De=NT(oe.buttons),et=aL(De),nt=Ks(De.length!==0,dL({buttons:De},te,ae)),Ye=cL(()=>uo,nL(()=>wt,ae.shared.providers,se),ae.shared.getSink),st={id:te,header:ue,body:Te,footer:nt,extraClasses:Oe,extraBehaviours:[Ti.config({channel:`${zx}-${te}`,updateState:(Eo,rn)=>(pe.set(rn.internalDialog.size),sL(rn.internalDialog.size,Eo),I.some(rn)),initialData:le})],extraStyles:{}},wt=iL(st,Ye,ae),Gt={getId:ge(te),getRoot:ge(wt),getBody:()=>zi.getBody(wt),getFooter:()=>zi.getFooter(wt),getFormWrapper:()=>{const Eo=zi.getBody(wt);return Nn.getCurrent(Eo).getOr(Eo)},toggleFullscreen:()=>{rL(wt,pe.get())}},uo=RT(Gt,se.redial,et);return{dialog:wt,instanceApi:uo}})({dataValidator:H,initialData:Z,internalDialog:P},{redial:gy.redial,closeWindow:()=>{zi.hide(X.dialog),M(X.instanceApi)}},s.backstages.dialog);return zi.show(X.dialog),X.instanceApi.setData(Z),X.instanceApi},T),C=(T,M,P,B)=>gy.open((H,Z,X)=>{const le=PT(Z,X),se=Qn(),ae=s.backstages.popup.shared.header.isPositionedAtTop(),te=()=>se.on(Oe=>{rr.reposition(Oe),f&&ae||sr.refresh(Oe)}),oe=uL({dataValidator:X,initialData:le,internalDialog:H},{redial:gy.redial,closeWindow:()=>{se.on(rr.hide),l.off("ResizeEditor",te),l.off("ScrollWindow",ue),se.clear(),P(oe.instanceApi)}},s.backstages.popup,B.ariaAttrs,te),ue=()=>oe.dialog.getSystem().broadcastOn([$a()],{target:oe.dialog.element}),pe=ja(rr.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:B.persistent?{event:"doNotDismissYet"}:{},...ae?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ct([Co("window-manager-inline-events",[ct(pm(),(Oe,Te)=>{mn(oe.dialog,lb)})]),...rS(l,f,ae,()=>oe.dialog.getSystem().broadcastOn([uu()],{target:oe.dialog.element}))]),isExtraPart:(Oe,Te)=>sS(Te)}));return se.set(pe),rr.showWithinBounds(pe,Ed(oe.dialog),{anchor:M},()=>{const Oe=l.inline?vr():Ut(l.getContainer()),Te=Ar(Oe);return I.some(Te)}),f&&ae||(sr.refresh(pe),l.on("ResizeEditor",te)),l.on("ScrollWindow",ue),oe.instanceApi.setData(le),Qt.focusIn(oe.dialog),oe.instanceApi},T),A=(T,M,P,B)=>gy.open((H,Z,X)=>{const le=PT(Z,X),se=Qn(),ae=s.backstages.popup.shared.header.isPositionedAtTop(),te=()=>se.on(pe=>{rr.reposition(pe),sr.refresh(pe)}),oe=uL({dataValidator:X,initialData:le,internalDialog:H},{redial:gy.redial,closeWindow:()=>{se.on(rr.hide),l.off("ResizeEditor ScrollWindow ElementScroll",te),se.clear(),P(oe.instanceApi)}},s.backstages.popup,B.ariaAttrs,te),ue=ja(rr.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:B.persistent?{event:"doNotDismissYet"}:{},...ae?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ct([Co("window-manager-inline-events",[ct(pm(),(pe,Oe)=>{mn(oe.dialog,lb)})]),sr.config({contextual:{lazyContext:()=>I.some(Ar(Ut(l.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:pe=>xp(l,pe.element).map(Oe=>({bounds:Um(Oe),optScrollEnv:I.some({currentScrollTop:Oe.element.dom.scrollTop,scrollElmTop:pr(Oe.element).top})})).getOrThunk(()=>({bounds:er(),optScrollEnv:I.none()}))})]),isExtraPart:(pe,Oe)=>sS(Oe)}));return se.set(ue),rr.showWithinBounds(ue,Ed(oe.dialog),{anchor:M},()=>s.backstages.popup.shared.getSink().toOptional().bind(pe=>{const Oe=xp(l,pe.element).map(et=>Um(et)).getOr(er()),Te=Ar(Ut(l.getContentAreaContainer())),De=Zh(Te,Oe);return I.some(un(De.x,De.y,De.width,De.height-15))})),sr.refresh(ue),l.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",te),oe.instanceApi.setData(le),Qt.focusIn(oe.dialog),oe.instanceApi},T);return{open:(T,M,P)=>{if(!$(M)){if(M.inline==="toolbar")return C(T,s.backstages.popup.shared.anchors.inlineDialog(),P,M);if(M.inline==="bottom")return A(T,s.backstages.popup.shared.anchors.inlineBottomDialog(),P,M);if(M.inline==="cursor")return C(T,s.backstages.popup.shared.anchors.cursor(),P,M)}return v(T,P)},openUrl:(T,M)=>((P,B)=>gy.openUrl(H=>{const Z=BT(H,{closeWindow:()=>{zi.hide(Z.dialog),B(Z.instanceApi)}},l,s.backstages.dialog);return zi.show(Z.dialog),Z.instanceApi},P))(T,M),alert:(T,M)=>{p.open(T,M)},close:T=>{T.close()},confirm:(T,M)=>{b.open(T,M)}}},v$=s=>{_2(s),(l=>{const f=l.options.register,p=v=>{return Ne(v,h)?{value:(C=v,dN(C.map((A,T)=>T%2==0?"#"+(M=>{return(P=M,o3(P)?I.some({value:Su(P)}):I.none()).orThunk(()=>i3(M).map(vy)).getOrThunk(()=>{const B=document.createElement("canvas");B.height=1,B.width=1;const H=B.getContext("2d");H.clearRect(0,0,B.width,B.height),H.fillStyle="#FFFFFF",H.fillStyle=M,H.fillRect(0,0,1,1);const Z=H.getImageData(0,0,1,1).data,X=Z[0],le=Z[1],se=Z[2],ae=Z[3];return vy(wy(X,le,se,ae))});var P})(A).value:A))),valid:!0}:{valid:!1,message:"Must be an array of strings."};var C},b=v=>ve(v)&&v>0?{value:v,valid:!0}:{valid:!1,message:"Must be a positive number."};f("color_map",{processor:p,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),f("color_map_raw",{processor:v=>Ne(v,h)?{value:dN(v),valid:!0}:{valid:!1,message:"Must be an array of strings."}}),f("color_map_background",{processor:p}),f("color_map_foreground",{processor:p}),f("color_cols",{processor:b,default:p3(l)}),f("color_cols_foreground",{processor:b,default:m3(l,f3)}),f("color_cols_background",{processor:b,default:m3(l,h3)}),f("custom_colors",{processor:"boolean",default:!0}),f("color_default_foreground",{processor:"string",default:pC}),f("color_default_background",{processor:"string",default:pC})})(s),(l=>{const f=l.options.register;f("contextmenu_avoid_overlap",{processor:"string",default:""}),f("contextmenu_never_use_native",{processor:"boolean",default:!1}),f("contextmenu",{processor:p=>p===!1?{value:[],valid:!0}:h(p)||Ne(p,h)?{value:T6(p),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(s)};QI.add("silver",s=>{v$(s);let l=()=>er();const{dialogs:f,popups:p,renderUI:b}=g$(s,{getPopupSinkBounds:()=>l()});jF(s,p.backstage.shared);const v=$x({editor:s,backstages:{popup:p.backstage,dialog:f.backstage}}),C=Qn();return{renderUI:()=>{const A=b();return xp(s,p.getMothership().element).each(T=>{l=()=>Um(T)}),A},getWindowManagerImpl:ge(v),getNotificationManagerImpl:()=>g7(s,{backstage:p.backstage},p.getMothership(),C),getPromotionElement:()=>rs(Ut(s.getContainer()),".tox-promotion").map(A=>A.dom).getOrNull()}})})();(function(){var c=tinymce.util.Tools.resolve("tinymce.ModelManager");const o=w=>S=>(O=>{var ee;const L=typeof O;return O===null?"null":L==="object"&&Array.isArray(O)?"array":L==="object"&&(V=U=O,(Q=String).prototype.isPrototypeOf(V)||((ee=U.constructor)==null?void 0:ee.name)===Q.name)?"string":L;var V,U,Q})(S)===w,r=w=>S=>typeof S===w,a=w=>S=>w===S,d=o("string"),h=o("object"),g=o("array"),x=a(null),k=r("boolean"),z=a(void 0),D=w=>!(S=>S==null)(w),$=r("function"),K=r("number"),Y=()=>{},ie=w=>()=>w,ve=w=>w,Ne=(w,S)=>w===S;function ye(w,...S){return(...O)=>{const L=S.concat(O);return w.apply(null,L)}}const Je=w=>S=>!w(S),He=w=>w(),ge=ie(!1),Ie=ie(!0),Zc=class Zc{constructor(S,O){vt(this,"tag");vt(this,"value");this.tag=S,this.value=O}static some(S){return new Zc(!0,S)}static none(){return Zc.singletonNone}fold(S,O){return this.tag?O(this.value):S()}isSome(){return this.tag}isNone(){return!this.tag}map(S){return this.tag?Zc.some(S(this.value)):Zc.none()}bind(S){return this.tag?S(this.value):Zc.none()}exists(S){return this.tag&&S(this.value)}forall(S){return!this.tag||S(this.value)}filter(S){return!this.tag||S(this.value)?this:Zc.none()}getOr(S){return this.tag?this.value:S}or(S){return this.tag?this:S}getOrThunk(S){return this.tag?this.value:S()}orThunk(S){return this.tag?this:S()}getOrDie(S){if(this.tag)return this.value;throw new Error(S??"Called getOrDie on None")}static from(S){return D(S)?Zc.some(S):Zc.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(S){this.tag&&S(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}};vt(Zc,"singletonNone",new Zc(!1));let he=Zc;const Ve=Array.prototype.slice,bo=Array.prototype.indexOf,lo=Array.prototype.push,Kt=(w,S)=>{return O=w,L=S,bo.call(O,L)>-1;var O,L},Me=(w,S)=>{for(let O=0,L=w.length;O<L;O++)if(S(w[O],O))return!0;return!1},yt=(w,S)=>{const O=[];for(let L=0;L<w;L++)O.push(S(L));return O},I=(w,S)=>{const O=w.length,L=new Array(O);for(let V=0;V<O;V++){const U=w[V];L[V]=S(U,V)}return L},Mt=(w,S)=>{for(let O=0,L=w.length;O<L;O++)S(w[O],O)},Ft=(w,S)=>{const O=[],L=[];for(let V=0,U=w.length;V<U;V++){const Q=w[V];(S(Q,V)?O:L).push(Q)}return{pass:O,fail:L}},zo=(w,S)=>{const O=[];for(let L=0,V=w.length;L<V;L++){const U=w[L];S(U,L)&&O.push(U)}return O},En=(w,S,O)=>(((L,V)=>{for(let U=L.length-1;U>=0;U--)V(L[U],U)})(w,(L,V)=>{O=S(O,L,V)}),O),ft=(w,S,O)=>(Mt(w,(L,V)=>{O=S(O,L,V)}),O),To=(w,S)=>((O,L,V)=>{for(let U=0,Q=O.length;U<Q;U++){const ee=O[U];if(L(ee,U))return he.some(ee);if(V(ee,U))break}return he.none()})(w,S,ge),zs=(w,S)=>{for(let O=0,L=w.length;O<L;O++)if(S(w[O],O))return he.some(O);return he.none()},Tt=w=>{const S=[];for(let O=0,L=w.length;O<L;++O){if(!g(w[O]))throw new Error("Arr.flatten item "+O+" was not an array, input: "+w);lo.apply(S,w[O])}return S},Le=(w,S)=>Tt(I(w,S)),Ge=(w,S)=>{for(let O=0,L=w.length;O<L;++O)if(S(w[O],O)!==!0)return!1;return!0},yo=(w,S)=>{const O={};for(let L=0,V=w.length;L<V;L++){const U=w[L];O[String(U)]=S(U,L)}return O},to=(w,S)=>S>=0&&S<w.length?he.some(w[S]):he.none(),_o=w=>to(w,0),fo=w=>to(w,w.length-1),G=(w,S)=>{for(let O=0;O<w.length;O++){const L=S(w[O],O);if(L.isSome())return L}return he.none()},ir=Object.keys,Vn=Object.hasOwnProperty,Zo=(w,S)=>{const O=ir(w);for(let L=0,V=O.length;L<V;L++){const U=O[L];S(w[U],U)}},yr=(w,S)=>Jr(w,(O,L)=>({k:L,v:S(O,L)})),Jr=(w,S)=>{const O={};return Zo(w,(L,V)=>{const U=S(L,V);O[U.k]=U.v}),O},Qo=(w,S)=>{const O=[];return Zo(w,(L,V)=>{O.push(S(L,V))}),O},Rn=w=>Qo(w,ve),Do=(w,S)=>Vn.call(w,S),tt=w=>{if(!g(w))throw new Error("cases must be an array");if(w.length===0)throw new Error("there must be at least one case");const S=[],O={};return Mt(w,(L,V)=>{const U=ir(L);if(U.length!==1)throw new Error("one and only one name per case");const Q=U[0],ee=L[Q];if(O[Q]!==void 0)throw new Error("duplicate key detected:"+Q);if(Q==="cata")throw new Error("cannot have a case named cata (sorry)");if(!g(ee))throw new Error("case arguments must be an array");S.push(Q),O[Q]=(...fe)=>{const ke=fe.length;if(ke!==ee.length)throw new Error("Wrong number of arguments to case "+Q+". Expected "+ee.length+" ("+ee+"), got "+ke);return{fold:(...Re)=>{if(Re.length!==w.length)throw new Error("Wrong number of arguments to fold. Expected "+w.length+", got "+Re.length);return Re[V].apply(null,fe)},match:Re=>{const Ce=ir(Re);if(S.length!==Ce.length)throw new Error("Wrong number of arguments to match. Expected: "+S.join(",")+`
Actual: `+Ce.join(","));if(!Ge(S,Ee=>Kt(Ce,Ee)))throw new Error("Not all branches were specified when using match. Specified: "+Ce.join(", ")+`
Required: `+S.join(", "));return Re[Q].apply(null,fe)},log:Re=>{console.log(Re,{constructors:S,constructor:Q,params:fe})}}}}),O},es=w=>{let S=w;return{get:()=>S,set:O=>{S=O}}},ze=w=>w.slice(0).sort(),we=(w,S)=>{const O=zo(S,L=>!Kt(w,L));O.length>0&&(L=>{throw new Error("Unsupported keys for object: "+ze(L).join(", "))})(O)},mt=w=>((S,O)=>((L,V,U)=>{if(V.length===0)throw new Error("You must specify at least one required field.");return((Q,ee)=>{if(!g(ee))throw new Error("The "+Q+" fields must be an array. Was: "+ee+".");Mt(ee,fe=>{if(!d(fe))throw new Error("The value "+fe+" in the "+Q+" fields was not a string.")})})("required",V),(Q=>{const ee=ze(Q);To(ee,(fe,ke)=>ke<ee.length-1&&fe===ee[ke+1]).each(fe=>{throw new Error("The field: "+fe+" occurs more than once in the combined fields: ["+ee.join(", ")+"].")})})(V),Q=>{const ee=ir(Q);Ge(V,ke=>Kt(ee,ke))||((ke,Re)=>{throw new Error("All required keys ("+ze(ke).join(", ")+") were not specified. Specified keys were: "+ze(Re).join(", ")+".")})(V,ee),L(V,ee);const fe=zo(V,ke=>!U.validate(Q[ke],ke));return fe.length>0&&((ke,Re)=>{throw new Error("All values need to be of type: "+Re+". Keys ("+ze(ke).join(", ")+") were not.")})(fe,U.label),Q}})(S,O,{validate:$,label:"function"}))(we,w),Yt=w=>{const S=U=>U(w),O=ie(w),L=()=>V,V={tag:!0,inner:w,fold:(U,Q)=>Q(w),isValue:Ie,isError:ge,map:U=>bn.value(U(w)),mapError:L,bind:S,exists:S,forall:S,getOr:O,or:L,getOrThunk:O,orThunk:L,getOrDie:O,each:U=>{U(w)},toOptional:()=>he.some(w)};return V},Dt=w=>{const S=()=>O,O={tag:!1,inner:w,fold:(V,U)=>V(w),isValue:ge,isError:Ie,map:S,mapError:V=>bn.error(V(w)),bind:S,exists:ge,forall:Ie,getOr:ve,or:ve,getOrThunk:He,orThunk:He,getOrDie:(L=String(w),()=>{throw new Error(L)}),each:Y,toOptional:he.none};var L;return O},bn={value:Yt,error:Dt,fromOption:(w,S)=>w.fold(()=>Dt(S),Yt)},Wo=typeof window<"u"?window:Function("return this;")(),Xn=w=>{const S=w.replace(/\./g,"-");return{resolve:O=>S+"-"+O}},Gi=(w,S,O=Ne)=>w.exists(L=>O(L,S)),Rr=w=>{const S=[],O=L=>{S.push(L)};for(let L=0;L<w.length;L++)w[L].each(O);return S},Ds=(w,S)=>w?he.some(S):he.none(),Sr=(w,S)=>((O,L)=>{let V=L??Wo;for(let U=0;U<O.length&&V!=null;++U)V=V[O[U]];return V})(w.split("."),S),ar=()=>{const w=(S=>{const O=es(he.none()),L=()=>O.get().each(S);return{clear:()=>{L(),O.set(he.none())},isSet:()=>O.get().isSome(),get:()=>O.get(),set:V=>{L(),O.set(he.some(V))}}})(Y);return{...w,on:S=>w.get().each(S)}},lr=(w,S,O)=>S===""||w.length>=S.length&&w.substr(O,O+S.length)===S,ps=(w,S,O=0,L)=>{const V=w.indexOf(S,O);return V!==-1&&(!!z(L)||V+S.length<=L)},so=(w,S)=>lr(w,S,0),en=(w,S)=>lr(w,S,w.length-S.length),ls=(w=>S=>S.replace(w,""))(/^\s+|\s+$/g),Ls=w=>w.length>0,jt=w=>{let S,O=!1;return(...L)=>(O||(O=!0,S=w.apply(null,L)),S)},Tl=["tfoot","thead","tbody","colgroup"],kc=(w,S,O)=>({element:w,rowspan:S,colspan:O}),Yi=(w,S,O)=>({element:w,cells:S,section:O}),Vr=(w,S,O)=>({element:w,isNew:S,isLocked:O}),yn=(w,S,O,L)=>({element:w,cells:S,section:O,isNew:L}),Ea=(w,S,O)=>{const L=w.cells,V=L.slice(0,S),U=L.slice(S),Q=V.concat(O).concat(U);return pn(w,Q)},Zp=(w,S,O)=>Ea(w,S,[O]),hl=(w,S,O)=>{w.cells[S]=O},pn=(w,S)=>yn(w.element,S,w.section,w.isNew),An=(w,S)=>w.cells[S],hi=(w,S)=>An(w,S).element,Ni=w=>w.cells.length,Us=w=>{const S=Ft(w,O=>O.section==="colgroup");return{rows:S.fail,cols:S.pass}},Dn=(w,S,O)=>{const L=I(w.cells,O);return yn(S(w.element),L,w.section,!0)},Io=w=>{if(w==null)throw new Error("Node cannot be null or undefined");return{dom:w}},je={fromHtml:(w,S)=>{const O=(S||document).createElement("div");if(O.innerHTML=w,!O.hasChildNodes()||O.childNodes.length>1){const L="HTML does not have a single root node";throw console.error(L,w),new Error(L)}return Io(O.childNodes[0])},fromTag:(w,S)=>{const O=(S||document).createElement(w);return Io(O)},fromText:(w,S)=>{const O=(S||document).createTextNode(w);return Io(O)},fromDom:Io,fromPoint:(w,S,O)=>he.from(w.dom.elementFromPoint(S,O)).map(Io)},Iu=(w,S)=>{const O=w.document.createRange();return O.selectNode(S.dom),O},Js=(w,S)=>{const O=w.document.createRange();return Yl(O,S),O},Yl=(w,S)=>w.selectNodeContents(S.dom),Mn=(w,S,O)=>{const L=w.document.createRange();var V;return V=L,S.fold(U=>{V.setStartBefore(U.dom)},(U,Q)=>{V.setStart(U.dom,Q)},U=>{V.setStartAfter(U.dom)}),((U,Q)=>{Q.fold(ee=>{U.setEndBefore(ee.dom)},(ee,fe)=>{U.setEnd(ee.dom,fe)},ee=>{U.setEndAfter(ee.dom)})})(L,O),L},Xl=(w,S,O,L,V)=>{const U=w.document.createRange();return U.setStart(S.dom,O),U.setEnd(L.dom,V),U},pi=w=>({left:w.left,top:w.top,right:w.right,bottom:w.bottom,width:w.width,height:w.height}),jd=tt([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ks=(w,S,O)=>S(je.fromDom(O.startContainer),O.startOffset,je.fromDom(O.endContainer),O.endOffset),dg=(w,S)=>{const O=((L,V)=>V.match({domRange:U=>({ltr:ie(U),rtl:he.none}),relative:(U,Q)=>({ltr:jt(()=>Mn(L,U,Q)),rtl:jt(()=>he.some(Mn(L,Q,U)))}),exact:(U,Q,ee,fe)=>({ltr:jt(()=>Xl(L,U,Q,ee,fe)),rtl:jt(()=>he.some(Xl(L,ee,fe,U,Q)))})}))(w,S);return((L,V)=>{const U=V.ltr();return U.collapsed?V.rtl().filter(Q=>Q.collapsed===!1).map(Q=>jd.rtl(je.fromDom(Q.endContainer),Q.endOffset,je.fromDom(Q.startContainer),Q.startOffset)).getOrThunk(()=>Ks(0,jd.ltr,U)):Ks(0,jd.ltr,U)})(0,O)},ei=(w,S)=>dg(w,S).match({ltr:(O,L,V,U)=>{const Q=w.document.createRange();return Q.setStart(O.dom,L),Q.setEnd(V.dom,U),Q},rtl:(O,L,V,U)=>{const Q=w.document.createRange();return Q.setStart(V.dom,U),Q.setEnd(O.dom,L),Q}});jd.ltr,jd.rtl;const ti=(w,S)=>{const O=w.dom;if(O.nodeType!==1)return!1;{const L=O;if(L.matches!==void 0)return L.matches(S);if(L.msMatchesSelector!==void 0)return L.msMatchesSelector(S);if(L.webkitMatchesSelector!==void 0)return L.webkitMatchesSelector(S);if(L.mozMatchesSelector!==void 0)return L.mozMatchesSelector(S);throw new Error("Browser lacks native selectors")}},Qn=w=>w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11||w.childElementCount===0,jf=(w,S)=>{const O=S===void 0?document:S.dom;return Qn(O)?he.none():he.from(O.querySelector(w)).map(je.fromDom)},cs=(w,S)=>w.dom===S.dom,jr=(w,S)=>{const O=w.dom,L=S.dom;return O!==L&&O.contains(L)},ug=ti,rd=()=>Uf(0,0),Uf=(w,S)=>({major:w,minor:S}),_c={nu:Uf,detect:(w,S)=>{const O=String(S).toLowerCase();return w.length===0?rd():((L,V)=>{const U=((ee,fe)=>{for(let ke=0;ke<ee.length;ke++){const Re=ee[ke];if(Re.test(fe))return Re}})(L,V);if(!U)return{major:0,minor:0};const Q=ee=>Number(V.replace(U,"$"+ee));return Uf(Q(1),Q(2))})(w,O)},unknown:rd},Cc=(w,S)=>{const O=String(S).toLowerCase();return To(w,L=>L.search(O))},Sc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ur=w=>S=>ps(S,w),Wf=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:w=>ps(w,"edge/")&&ps(w,"chrome")&&ps(w,"safari")&&ps(w,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Sc],search:w=>ps(w,"chrome")&&!ps(w,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:w=>ps(w,"msie")||ps(w,"trident")},{name:"Opera",versionRegexes:[Sc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ur("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ur("firefox")},{name:"Safari",versionRegexes:[Sc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:w=>(ps(w,"safari")||ps(w,"mobile/"))&&ps(w,"applewebkit")}],Bb=[{name:"Windows",search:Ur("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:w=>ps(w,"iphone")||ps(w,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ur("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ur("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ur("linux"),versionRegexes:[]},{name:"Solaris",search:Ur("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ur("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ur("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Gs={browsers:ie(Wf),oses:ie(Bb)},fg="Edge",Ut="Chromium",id="Opera",qp="Firefox",hg="Safari",Ol=w=>{const S=w.current,O=w.version,L=V=>()=>S===V;return{current:S,version:O,isEdge:L(fg),isChromium:L(Ut),isIE:L("IE"),isOpera:L(id),isFirefox:L(qp),isSafari:L(hg)}},Kp=()=>Ol({current:void 0,version:_c.unknown()}),pg=Ol,Ql="Windows",Ec="Android",Gp="Linux",mg="macOS",on="Solaris",Ws="FreeBSD",Zf="ChromeOS",Fu=w=>{const S=w.current,O=w.version,L=V=>()=>S===V;return{current:S,version:O,isWindows:L(Ql),isiOS:L("iOS"),isAndroid:L(Ec),isMacOS:L(mg),isLinux:L(Gp),isSolaris:L(on),isFreeBSD:L(Ws),isChromeOS:L(Zf)}},zl=()=>Fu({current:void 0,version:_c.unknown()}),gg=Fu,Hu=w=>window.matchMedia(w).matches;let oi=jt(()=>((w,S,O)=>{const L=Gs.browsers(),V=Gs.oses(),U=S.bind(fe=>((ke,Re)=>G(Re.brands,Ce=>{const Ee=Ce.brand.toLowerCase();return To(ke,Se=>{var Ue;return Ee===((Ue=Se.brand)==null?void 0:Ue.toLowerCase())}).map(Se=>({current:Se.name,version:_c.nu(parseInt(Ce.version,10),0)}))}))(L,fe)).orThunk(()=>((fe,ke)=>Cc(fe,ke).map(Re=>{const Ce=_c.detect(Re.versionRegexes,ke);return{current:Re.name,version:Ce}}))(L,w)).fold(Kp,pg),Q=((fe,ke)=>Cc(fe,ke).map(Re=>{const Ce=_c.detect(Re.versionRegexes,ke);return{current:Re.name,version:Ce}}))(V,w).fold(zl,gg),ee=((fe,ke,Re,Ce)=>{const Ee=fe.isiOS()&&/ipad/i.test(Re)===!0,Se=fe.isiOS()&&!Ee,Ue=fe.isiOS()||fe.isAndroid(),We=Ue||Ce("(pointer:coarse)"),dt=Ee||!Se&&Ue&&Ce("(min-device-width:768px)"),pt=Se||Ue&&!dt,kt=ke.isSafari()&&fe.isiOS()&&/safari/i.test(Re)===!1,St=!pt&&!dt&&!kt;return{isiPad:ie(Ee),isiPhone:ie(Se),isTablet:ie(dt),isPhone:ie(pt),isTouch:ie(We),isAndroid:fe.isAndroid,isiOS:fe.isiOS,isWebView:ie(kt),isDesktop:ie(St)}})(Q,U,w,O);return{browser:U,os:Q,deviceType:ee}})(window.navigator.userAgent,he.from(window.navigator.userAgentData),Hu));const ad=()=>oi(),Pb=Object.getPrototypeOf,qf=w=>{const S=Sr("ownerDocument.defaultView",w);return h(w)&&((O=>((L,V)=>{const U=((Q,ee)=>Sr(Q,ee))(L,V);if(U==null)throw new Error(L+" not available on this browser");return U})("HTMLElement",O))(S).prototype.isPrototypeOf(w)||/^HTML\w*Element$/.test(Pb(w).constructor.name))},Zs=w=>w.dom.nodeName.toLowerCase(),Ud=w=>w.dom.nodeType,Aa=w=>S=>Ud(S)===w,pl=w=>Ud(w)===8||Zs(w)==="#comment",xr=w=>ml(w)&&qf(w.dom),ml=Aa(1),fa=Aa(3),bg=Aa(9),Ih=Aa(11),Xi=w=>S=>ml(S)&&Zs(S)===w,$u=w=>je.fromDom(w.dom.ownerDocument),Kf=w=>bg(w)?w:$u(w),Dl=w=>he.from(w.dom.parentNode).map(je.fromDom),Fh=w=>he.from(w.dom.parentElement).map(je.fromDom),Vu=(w,S)=>{const O=$(S)?S:ge;let L=w.dom;const V=[];for(;L.parentNode!==null&&L.parentNode!==void 0;){const U=L.parentNode,Q=je.fromDom(U);if(V.push(Q),O(Q)===!0)break;L=U}return V},Hh=w=>he.from(w.dom.previousSibling).map(je.fromDom),Ac=w=>he.from(w.dom.nextSibling).map(je.fromDom),Ta=w=>I(w.dom.childNodes,je.fromDom),Wr=(w,S)=>{const O=w.dom.childNodes;return he.from(O[S]).map(je.fromDom)},re=w=>Ih(w)&&D(w.dom.host),_e=w=>je.fromDom(w.dom.getRootNode()),Fe=w=>je.fromDom(w.dom.host),ht=w=>{const S=je.fromDom((ee=>{if(D(ee.target)){const fe=je.fromDom(ee.target);if(ml(fe)&&D(fe.dom.shadowRoot)&&ee.composed&&ee.composedPath){const ke=ee.composedPath();if(ke)return _o(ke)}}return he.from(ee.target)})(w).getOr(w.target)),O=()=>w.stopPropagation(),L=()=>w.preventDefault(),V=(U=L,Q=O,(...ee)=>U(Q.apply(null,ee)));var U,Q;return((ee,fe,ke,Re,Ce,Ee,Se)=>({target:ee,x:fe,y:ke,stop:Re,prevent:Ce,kill:Ee,raw:Se}))(S,w.clientX,w.clientY,O,L,V,w)},Ot=(w,S,O,L)=>{w.dom.removeEventListener(S,O,L)},Jt=Ie,an=(w,S,O)=>((L,V,U,Q)=>((ee,fe,ke,Re,Ce)=>{const Ee=((Se,Ue)=>We=>{Se(We)&&Ue(ht(We))})(ke,Re);return ee.dom.addEventListener(fe,Ee,Ce),{unbind:ye(Ot,ee,fe,Ee,Ce)}})(L,V,U,Q,!1))(w,S,Jt,O),In=ht,wn=(w,S)=>{Dl(w).each(O=>{O.dom.insertBefore(S.dom,w.dom)})},cr=(w,S)=>{Ac(w).fold(()=>{Dl(w).each(O=>{ks(O,S)})},O=>{wn(O,S)})},dr=(w,S)=>{(L=>Wr(L,0))(w).fold(()=>{ks(w,S)},L=>{w.dom.insertBefore(S.dom,L.dom)})},ks=(w,S)=>{w.dom.appendChild(S.dom)},mi=(w,S)=>{wn(w,S),ks(S,w)},$h=(w,S)=>{Mt(S,(O,L)=>{const V=L===0?w:S[L-1];cr(V,O)})},Oa=(w,S)=>{Mt(S,O=>{ks(w,O)})},ju=(w,S,O)=>{if(!(d(O)||k(O)||K(O)))throw console.error("Invalid call to Attribute.set. Key ",S,":: Value ",O,":: Element ",w),new Error("Attribute value was not simple");w.setAttribute(S,O+"")},Jn=(w,S,O)=>{ju(w.dom,S,O)},za=(w,S)=>{const O=w.dom;Zo(S,(L,V)=>{ju(O,V,L)})},Uu=(w,S)=>{const O=w.dom.getAttribute(S);return O===null?void 0:O},Wd=(w,S)=>he.from(Uu(w,S)),Lr=(w,S)=>{w.dom.removeAttribute(S)},Jl=w=>ft(w.dom.attributes,(S,O)=>(S[O.name]=O.value,S),{}),Zd=w=>{w.dom.textContent="",Mt(Ta(w),S=>{Ri(S)})},Ri=w=>{const S=w.dom;S.parentNode!==null&&S.parentNode.removeChild(S)},Ib=w=>{const S=Ta(w);S.length>0&&$h(w,S),Ri(w)},Yp=(w,S)=>je.fromDom(w.dom.cloneNode(S)),yg=w=>Yp(w,!1),ni=w=>Yp(w,!0),Gf=(w,S)=>{const O=je.fromTag(S),L=Jl(w);return za(O,L),O},ld=w=>w.style!==void 0&&$(w.style.getPropertyValue),ec=w=>{const S=fa(w)?w.dom.parentNode:w.dom;if(S==null||S.ownerDocument===null)return!1;const O=S.ownerDocument;return(U=>{const Q=_e(U);return re(Q)?he.some(Q):he.none()})(je.fromDom(S)).fold(()=>O.body.contains(S),(L=ec,V=Fe,U=>L(V(U))));var L,V},xg=(w,S,O)=>{if(!d(O))throw console.error("Invalid call to CSS.set. Property ",S,":: Value ",O,":: Element ",w),new Error("CSS value must be a string: "+O);ld(w)&&w.style.setProperty(S,O)},Ci=(w,S,O)=>{const L=w.dom;xg(L,S,O)},Xp=(w,S)=>{const O=w.dom;Zo(S,(L,V)=>{xg(O,V,L)})},qd=(w,S)=>{const O=w.dom,L=window.getComputedStyle(O).getPropertyValue(S);return L!==""||ec(w)?L:Li(O,S)},Li=(w,S)=>ld(w)?w.style.getPropertyValue(S):"",Da=(w,S)=>{const O=w.dom,L=Li(O,S);return he.from(L).filter(V=>V.length>0)},tc=(w,S)=>{((O,L)=>{ld(O)&&O.style.removeProperty(L)})(w.dom,S),Gi(Wd(w,"style").map(ls),"")&&Lr(w,"style")},Qp=(w,S)=>{const O=V=>{const U=S(V);if(U<=0||U===null){const Q=qd(V,w);return parseFloat(Q)||0}return U},L=(V,U)=>ft(U,(Q,ee)=>{const fe=qd(V,ee),ke=fe===void 0?0:parseInt(fe,10);return isNaN(ke)?Q:Q+ke},0);return{set:(V,U)=>{if(!K(U)&&!U.match(/^[0-9]+$/))throw new Error(w+".set accepts only positive integer values. Value was "+U);const Q=V.dom;ld(Q)&&(Q.style[w]=U+"px")},get:O,getOuter:O,aggregate:L,max:(V,U,Q)=>{const ee=L(V,Q);return U>ee?U-ee:0}}},Er=(w,S,O)=>((L,V)=>(U=>{const Q=parseFloat(U);return isNaN(Q)?he.none():he.some(Q)})(L).getOr(V))(qd(w,S),O),gl=Qp("height",w=>{const S=w.dom;return ec(w)?S.getBoundingClientRect().height:S.offsetHeight}),cd=w=>gl.get(w),Tc=w=>gl.getOuter(w),Bi=Qp("width",w=>{const S=w.dom;return ec(w)?S.getBoundingClientRect().width:S.offsetWidth}),Ml=w=>Bi.get(w),Fb=w=>Bi.getOuter(w),Hb=w=>((S,O)=>{const L=S.dom,V=L.getBoundingClientRect().width||L.offsetWidth;return((U,Q,ee,fe)=>Q-Er(U,`padding-${ee}`,0)-Er(U,`padding-${fe}`,0)-Er(U,`border-${ee}-width`,0)-Er(U,`border-${fe}-width`,0))(S,V,"left","right")})(w),Ma=(w,S)=>({left:w,top:S,translate:(O,L)=>Ma(w+O,S+L)}),ha=Ma,Na=(w,S)=>w!==void 0?w:S!==void 0?S:0,mo=w=>{const S=w.dom.ownerDocument,O=S.body,L=S.defaultView,V=S.documentElement;if(O===w.dom)return ha(O.offsetLeft,O.offsetTop);const U=Na(L==null?void 0:L.pageYOffset,V.scrollTop),Q=Na(L==null?void 0:L.pageXOffset,V.scrollLeft),ee=Na(V.clientTop,O.clientTop),fe=Na(V.clientLeft,O.clientLeft);return Qy(w).translate(Q-fe,U-ee)},Qy=w=>{const S=w.dom,O=S.ownerDocument.body;return O===S?ha(O.offsetLeft,O.offsetTop):ec(w)?(L=>{const V=L.getBoundingClientRect();return ha(V.left,V.top)})(S):ha(0,0)},$o=(w=>{const S=O=>w(O)?he.from(O.dom.nodeValue):he.none();return{get:O=>{if(!w(O))throw new Error("Can only get text value of a text node");return S(O).getOr("")},getOption:S,set:(O,L)=>{if(!w(O))throw new Error("Can only set raw text value of a text node");O.dom.nodeValue=L}}})(fa),si=w=>$o.get(w),Jp=w=>$o.getOption(w),ur=(w,S)=>$o.set(w,S),$b=(w,S)=>O=>Kd(O)==="rtl"?S:w,Kd=w=>qd(w,"direction")==="rtl"?"rtl":"ltr";var Jy=(w,S,O,L,V)=>w(O,L)?he.some(O):$(V)&&V(O)?he.none():S(O,L,V);const Yf=(w,S,O)=>{let L=w.dom;const V=$(O)?O:ge;for(;L.parentNode;){L=L.parentNode;const U=je.fromDom(L);if(S(U))return he.some(U);if(V(U))break}return he.none()},Ga=(w,S,O)=>Jy((L,V)=>V(L),Yf,w,S,O),Wu=(w,S,O)=>Yf(w,L=>ti(L,S),O),Vh=(w,S)=>(O=>To(O.dom.childNodes,L=>{return V=je.fromDom(L),ti(V,S);var V}).map(je.fromDom))(w),bt=(w,S)=>jf(S,w),vr=(w,S,O)=>Jy((L,V)=>ti(L,V),Wu,w,S,O),Vb=w=>w.dom.classList!==void 0,jb=(w,S)=>((O,L,V)=>{const U=((Q,ee)=>{const fe=Uu(Q,ee);return fe===void 0||fe===""?[]:fe.split(" ")})(O,L).concat([V]);return Jn(O,L,U.join(" ")),!0})(w,"class",S),oc=(w,S)=>{Vb(w)?w.dom.classList.add(S):jb(w,S)},Vo=(w,S)=>Vb(w)&&w.dom.classList.contains(S),xe=w=>vr(w,"[contenteditable]"),Zu=(w,S=!1)=>ec(w)?w.dom.isContentEditable:xe(w).fold(ie(S),O=>Pi(O)==="true"),Pi=w=>w.dom.contentEditable,vg=(w,S)=>{let O=[];return Mt(Ta(w),L=>{S(L)&&(O=O.concat([L])),O=O.concat(vg(L,S))}),O},wr=(w,S,O)=>((L,V,U)=>zo(Vu(L,U),Q=>ti(Q,S)))(w,0,O),Gd=(w,S)=>(O=>zo(Ta(O),L=>ti(L,S)))(w),Oc=(w,S)=>((O,L)=>{const V=L===void 0?document:L.dom;return Qn(V)?[]:I(V.querySelectorAll(O),je.fromDom)})(S,w),xn=w=>Zs(w)==="img"?1:Jp(w).fold(()=>Ta(w).length,S=>S.length),em=["img","br"],Ub=w=>Jp(w).filter(S=>S.trim().length!==0||S.indexOf("")>-1).isSome()||Kt(em,Zs(w))||(S=>xr(S)&&Uu(S,"contenteditable")==="false")(w),jh=w=>((S,O)=>{const L=V=>{for(let U=0;U<V.childNodes.length;U++){const Q=je.fromDom(V.childNodes[U]);if(O(Q))return he.some(Q);const ee=L(V.childNodes[U]);if(ee.isSome())return ee}return he.none()};return L(S.dom)})(w,Ub),Br=w=>Yd(w,Ub),Yd=(w,S)=>{const O=L=>{const V=Ta(L);for(let U=V.length-1;U>=0;U--){const Q=V[U];if(S(Q))return he.some(Q);const ee=O(Q);if(ee.isSome())return ee}return he.none()};return O(w)},dd=(w,S,O,L)=>({start:w,soffset:S,finish:O,foffset:L}),Xf=tt([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),jn={before:Xf.before,on:Xf.on,after:Xf.after,cata:(w,S,O,L)=>w.fold(S,O,L),getStart:w=>w.fold(ve,ve,ve)},ud=tt([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Qf={domRange:ud.domRange,relative:ud.relative,exact:ud.exact,exactFromRange:w=>ud.exact(w.start,w.soffset,w.finish,w.foffset),getWin:w=>{const S=(O=>O.match({domRange:L=>je.fromDom(L.startContainer),relative:(L,V)=>jn.getStart(L),exact:(L,V,U,Q)=>L}))(w);return je.fromDom(Kf(S).dom.defaultView)},range:dd},Bs=(w,S)=>{const O=Zs(w);return O==="input"?jn.after(w):Kt(["br","img"],O)?S===0?jn.before(w):jn.after(w):jn.on(w,S)},cn=w=>he.from(w.getSelection()),pr=(w,S)=>{cn(w).each(O=>{O.removeAllRanges(),O.addRange(S)})},fd=(w,S,O,L,V)=>{const U=Xl(w,S,O,L,V);pr(w,U)},Ra=(w,S)=>dg(w,S).match({ltr:(O,L,V,U)=>{fd(w,O,L,V,U)},rtl:(O,L,V,U)=>{cn(w).each(Q=>{if(Q.setBaseAndExtent)Q.setBaseAndExtent(O.dom,L,V.dom,U);else if(Q.extend)try{((ee,fe,ke,Re,Ce,Ee)=>{fe.collapse(ke.dom,Re),fe.extend(Ce.dom,Ee)})(0,Q,O,L,V,U)}catch{fd(w,V,U,O,L)}else fd(w,V,U,O,L)})}}),Xo=(w,S,O,L,V)=>{const U=((Q,ee,fe,ke)=>{const Re=Bs(Q,ee),Ce=Bs(fe,ke);return Qf.relative(Re,Ce)})(S,O,L,V);Ra(w,U)},Wb=(w,S,O)=>{const L=((V,U)=>{const Q=V.fold(jn.before,Bs,jn.after),ee=U.fold(jn.before,Bs,jn.after);return Qf.relative(Q,ee)})(S,O);Ra(w,L)},Jf=w=>{if(w.rangeCount>0){const S=w.getRangeAt(0),O=w.getRangeAt(w.rangeCount-1);return he.some(dd(je.fromDom(S.startContainer),S.startOffset,je.fromDom(O.endContainer),O.endOffset))}return he.none()},Zb=w=>{if(w.anchorNode===null||w.focusNode===null)return Jf(w);{const S=je.fromDom(w.anchorNode),O=je.fromDom(w.focusNode);return((L,V,U,Q)=>{const ee=((ke,Re,Ce,Ee)=>{const Se=$u(ke).dom.createRange();return Se.setStart(ke.dom,Re),Se.setEnd(Ce.dom,Ee),Se})(L,V,U,Q),fe=cs(L,U)&&V===Q;return ee.collapsed&&!fe})(S,w.anchorOffset,O,w.focusOffset)?he.some(dd(S,w.anchorOffset,O,w.focusOffset)):Jf(w)}},hd=(w,S,O=!0)=>{const L=(O?Js:Iu)(w,S);pr(w,L)},mr=w=>(S=>cn(S).filter(O=>O.rangeCount>0).bind(Zb))(w).map(S=>Qf.exact(S.start,S.soffset,S.finish,S.foffset)),Ii=(w,S,O)=>((L,V,U)=>((Q,ee,fe)=>Q.caretPositionFromPoint?((ke,Re,Ce)=>{var Ee;return he.from((Ee=ke.caretPositionFromPoint)==null?void 0:Ee.call(ke,Re,Ce)).bind(Se=>{if(Se.offsetNode===null)return he.none();const Ue=ke.createRange();return Ue.setStart(Se.offsetNode,Se.offset),Ue.collapse(),he.some(Ue)})})(Q,ee,fe):Q.caretRangeFromPoint?((ke,Re,Ce)=>{var Ee;return he.from((Ee=ke.caretRangeFromPoint)==null?void 0:Ee.call(ke,Re,Ce))})(Q,ee,fe):he.none())(L.document,V,U).map(Q=>dd(je.fromDom(Q.startContainer),Q.startOffset,je.fromDom(Q.endContainer),Q.endOffset)))(w,S,O),e1={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},t1=(()=>{const w="[0-9]+",S="[eE][+-]?"+w,O=V=>`(?:${V})?`,L=["Infinity",w+"\\."+O(w)+O(S),"\\."+w+O(S),w+O(S)].join("|");return new RegExp(`^([+-]?(?:${L}))(.*)$`)})(),ms=w=>I(w,ie(0)),qb=(w,S,O,L,V)=>V(w.slice(0,S)).concat(L).concat(V(w.slice(O))),Nl=w=>(S,O,L,V)=>{if(w(L)){const U=Math.max(V,S[O]-Math.abs(L)),Q=Math.abs(U-S[O]);return L>=0?Q:-Q}return L},rs=Nl(w=>w<0),La=Nl(Ie),pa=()=>{const w=(O,L,V,U)=>{const Q=(100+V)/100,ee=Math.max(U,(O[L]+V)/Q);return I(O,(fe,ke)=>(ke===L?ee:fe/Q)-fe)},S=(O,L,V,U,Q,ee)=>ee?w(O,L,U,Q):((fe,ke,Re,Ce,Ee)=>{const Se=rs(fe,ke,Ce,Ee);return qb(fe,ke,Re+1,[Se,0],ms)})(O,L,V,U,Q);return{resizeTable:(O,L)=>O(L),clampTableDelta:rs,calcLeftEdgeDeltas:S,calcMiddleDeltas:(O,L,V,U,Q,ee,fe)=>S(O,V,U,Q,ee,fe),calcRightEdgeDeltas:(O,L,V,U,Q,ee)=>{if(ee)return w(O,V,U,Q);{const fe=rs(O,V,U,Q);return ms(O.slice(0,V)).concat([fe])}},calcRedestributedWidths:(O,L,V,U)=>{if(U){const Q=(L+V)/L,ee=I(O,fe=>fe/Q);return{delta:100*Q-100,newSizes:ee}}return{delta:V,newSizes:O}}}},pd=()=>{const w=(S,O,L,V,U)=>{const Q=La(S,V>=0?L:O,V,U);return qb(S,O,L+1,[Q,-Q],ms)};return{resizeTable:(S,O,L)=>{L&&S(O)},clampTableDelta:(S,O,L,V,U)=>{if(U){if(L>=0)return L;{const Q=ft(S,(ee,fe)=>ee+fe-V,0);return Math.max(-Q,L)}}return rs(S,O,L,V)},calcLeftEdgeDeltas:w,calcMiddleDeltas:(S,O,L,V,U,Q)=>w(S,L,V,U,Q),calcRightEdgeDeltas:(S,O,L,V,U,Q)=>{if(Q)return ms(S);{const ee=V/S.length;return I(S,ie(ee))}},calcRedestributedWidths:(S,O,L,V)=>({delta:0,newSizes:S})}},Zr=(w,S,O=0)=>Wd(w,S).map(L=>parseInt(L,10)).getOr(O),Uh=(w,S)=>Zr(w,S,1),Rl=w=>Xi("col")(w)?Zr(w,"span",1)>1:Uh(w,"colspan")>1,ma=(w,S)=>parseInt(qd(w,S),10),_s=ie(10),wg=ie(10),ln=(w,S)=>kr(w,S,Ie),kr=(w,S,O)=>Le(Ta(w),L=>ti(L,S)?O(L)?[L]:[]:kr(L,S,O)),bl=(w,S)=>((O,L,V=ge)=>V(L)?he.none():Kt(O,Zs(L))?he.some(L):Wu(L,O.join(","),U=>ti(U,"table")||V(U)))(["td","th"],w,S),qr=w=>ln(w,"th,td"),eh=w=>ti(w,"colgroup")?Gd(w,"col"):Le(Dc(w),S=>Gd(S,"col")),Pr=(w,S)=>vr(w,"table",S),zc=w=>ln(w,"tr"),Dc=w=>Pr(w).fold(ie([]),S=>Gd(S,"colgroup")),ri=Xi("th"),tm=w=>Ge(w,S=>ri(S.element)),om=(w,S)=>w&&S?"sectionCells":w?"section":"cells",Kb=w=>{const S=w.section==="thead",O=Gi(nm(w.cells),"th");return w.section==="tfoot"?{type:"footer"}:S||O?{type:"header",subType:om(S,O)}:{type:"body"}},nm=w=>{const S=zo(w,O=>ri(O.element));return S.length===0?he.some("td"):S.length===w.length?he.some("th"):he.none()},sm=(w,S)=>I(w,O=>{if(Zs(O)==="colgroup"){const L=I(eh(O),V=>{const U=Zr(V,"span",1);return kc(V,1,U)});return Yi(O,L,"colgroup")}{const L=I(qr(O),V=>{const U=Zr(V,"rowspan",1),Q=Zr(V,"colspan",1);return kc(V,U,Q)});return Yi(O,L,S(O))}}),kg=w=>Dl(w).map(S=>{const O=Zs(S);return(L=>Kt(Tl,L))(O)?O:"tbody"}).getOr("tbody"),_g=w=>{const S=zc(w),O=[...Dc(w),...S];return sm(O,kg)},Cg="data-snooker-locked-cols",rm=w=>Wd(w,Cg).bind(S=>he.from(S.match(/\d+/g))).map(S=>yo(S,Ie)),Mc=w=>{const S=ft(Us(w).rows,(L,V)=>(Mt(V.cells,(U,Q)=>{U.isLocked&&(L[Q]=!0)}),L),{}),O=Qo(S,(L,V)=>parseInt(V,10));return(L=>{const V=Ve.call(L,0);return V.sort(void 0),V})(O)},im=(w,S)=>w+","+S,o1=(w,S)=>{const O=Le(w.all,L=>L.cells);return zo(O,S)},th=w=>{const S={},O=[],L=_o(w).map(Ee=>Ee.element).bind(Pr).bind(rm).getOr({});let V=0,U=0,Q=0;const{pass:ee,fail:fe}=Ft(w,Ee=>Ee.section==="colgroup");Mt(fe,Ee=>{const Se=[];Mt(Ee.cells,Ue=>{let We=0;for(;S[im(Q,We)]!==void 0;)We++;const dt=((kt,St)=>Do(kt,St)&&kt[St]!==void 0&&kt[St]!==null)(L,We.toString()),pt=((kt,St,At,zt,Lt,oo)=>({element:kt,rowspan:St,colspan:At,row:zt,column:Lt,isLocked:oo}))(Ue.element,Ue.rowspan,Ue.colspan,Q,We,dt);for(let kt=0;kt<Ue.colspan;kt++)for(let St=0;St<Ue.rowspan;St++){const At=We+kt,zt=im(Q+St,At);S[zt]=pt,U=Math.max(U,At+1)}Se.push(pt)}),V++,O.push(Yi(Ee.element,Se,Ee.section)),Q++});const{columns:ke,colgroups:Re}=fo(ee).map(Ee=>{const Se=(We=>{const dt={};let pt=0;return Mt(We.cells,kt=>{const St=kt.colspan;yt(St,At=>{const zt=pt+At;dt[zt]=((Lt,oo,No)=>({element:Lt,colspan:oo,column:No}))(kt.element,St,zt)}),pt+=St}),dt})(Ee);return{colgroups:[((We,dt)=>({element:We,columns:dt}))(Ee.element,Rn(Se))],columns:Se}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Ee,Se)=>({rows:Ee,columns:Se}))(V,U),access:S,all:O,columns:ke,colgroups:Re}},Fi=w=>{const S=_g(w);return th(S)},qu=th,Ll=(w,S,O)=>he.from(w.access[im(S,O)]),Nc=(w,S,O)=>{const L=o1(w,V=>O(S,V.element));return L.length>0?he.some(L[0]):he.none()},Wh=o1,ii=w=>Le(w.all,S=>S.cells),Ya=w=>Rn(w.columns),nc=w=>ir(w.columns).length>0,un=(w,S)=>he.from(w.columns[S]),Ar=(w,S,O)=>Vr(O(w.element,S),!0,w.isLocked),Xd=(w,S)=>w.section!==S?yn(w.element,w.cells,S,w.isNew):w,Zh=()=>({transformRow:Xd,transformCell:(w,S,O)=>{const L=O(w.element,S),V=Zs(L)!=="td"?(U=>{const Q=Gf(U,"td");cr(U,Q);const ee=Ta(U);return Oa(Q,ee),Ri(U),Q})(L):L;return Vr(V,w.isNew,w.isLocked)}}),er=()=>({transformRow:Xd,transformCell:Ar}),qh=()=>({transformRow:(w,S)=>Xd(w,S==="thead"?"tbody":S),transformCell:Ar}),Tr=Zh,Ba=er,fr=qh,Bl=()=>({transformRow:ve,transformCell:Ar}),Qd=(w,S=Ie)=>{const O=w.grid,L=yt(O.columns,ve),V=yt(O.rows,ve);return I(L,U=>Or(()=>Le(V,Q=>Ll(w,Q,U).filter(ee=>ee.column===U).toArray()),Q=>Q.colspan===1&&S(Q.element),()=>Ll(w,0,U)))},Or=(w,S,O)=>{const L=w();return To(L,S).orThunk(()=>he.from(L[0]).orThunk(O)).map(V=>V.element)},Jd=w=>{const S=w.grid,O=yt(S.rows,ve),L=yt(S.columns,ve);return I(O,V=>Or(()=>Le(L,U=>Ll(w,V,U).filter(Q=>Q.row===V).fold(ie([]),Q=>[Q])),U=>U.rowspan===1,()=>Ll(w,V,0)))},sc=(w,S)=>({row:w,y:S}),eu=(w,S)=>({col:w,x:S}),ts=w=>mo(w).left+Fb(w),Qi=w=>mo(w).left,md=(w,S)=>eu(w,Qi(S)),ga=(w,S)=>eu(w,ts(S)),gi=w=>mo(w).top,Ku=(w,S)=>sc(w,gi(S)),Rc=(w,S)=>sc(w,gi(S)+Tc(S)),hr=(w,S,O)=>{if(O.length===0)return[];const L=I(O.slice(1),(U,Q)=>U.map(ee=>w(Q,ee))),V=O[O.length-1].map(U=>S(O.length-1,U));return L.concat([V])},Xa={delta:ve,positions:w=>hr(Ku,Rc,w),edge:gi},oh=$b({delta:ve,edge:Qi,positions:w=>hr(md,ga,w)},{delta:w=>-w,edge:ts,positions:w=>hr(ga,md,w)}),Gu={delta:(w,S)=>oh(S).delta(w,S),positions:(w,S)=>oh(S).positions(w,S),edge:w=>oh(w).edge(w)},n1=/(\d+(\.\d+)?)%/,tu=/(\d+(\.\d+)?)px|em/,rc=Xi("col"),Gb=Xi("tr"),am=(w,S,O)=>{const L=Fh(w).getOrThunk(()=>(V=>{const U=V.dom.body;if(U==null)throw new Error("Body is not available yet");return je.fromDom(U)})($u(w)));return S(w)/O(L)*100},gd=(w,S)=>{Ci(w,"width",S+"px")},Yu=(w,S)=>{Ci(w,"width",S+"%")},Pa=(w,S)=>{Ci(w,"height",S+"px")},Yb=w=>{const S=(O=>{return Er(L=O,"height",L.dom.offsetHeight)+"px";var L})(w);return S?((O,L,V,U)=>{const Q=parseFloat(O);return en(O,"%")&&Zs(L)!=="table"?((ee,fe,ke,Re)=>{const Ce=Pr(ee).map(Ee=>{const Se=ke(Ee);return Math.floor(fe/100*Se)}).getOr(fe);return Re(ee,Ce),Ce})(L,Q,V,U):Q})(S,w,cd,Pa):cd(w)},bd=(w,S)=>Da(w,S).orThunk(()=>Wd(w,S).map(O=>O+"px")),Xu=w=>bd(w,"width"),ba=w=>am(w,Ml,Hb),ko=w=>{return rc(w)?Math.round(Ml(w)):Er(S=w,"width",S.dom.offsetWidth);var S},Qu=w=>Gb(w)?cd(w):((S,O,L)=>L(S)/Uh(S,"rowspan"))(w,0,Yb),lm=(w,S,O)=>{Ci(w,"width",S+O)},s1=w=>am(w,Ml,Hb)+"%",Kh=ie(n1),Lc=Xi("col"),cm=w=>Xu(w).getOrThunk(()=>ko(w)+"px"),dm=w=>{return(S=w,bd(S,"height")).getOrThunk(()=>Qu(w)+"px");var S},Ps=(w,S,O,L,V,U)=>w.filter(L).fold(()=>U(((Q,ee)=>{if(ee<0||ee>=Q.length-1)return he.none();const fe=Q[ee].fold(()=>{const Re=(Ce=>{const Ee=Ve.call(Ce,0);return Ee.reverse(),Ee})(Q.slice(0,ee));return G(Re,(Ce,Ee)=>Ce.map(Se=>({value:Se,delta:Ee+1})))},Re=>he.some({value:Re,delta:0})),ke=Q[ee+1].fold(()=>{const Re=Q.slice(ee+1);return G(Re,(Ce,Ee)=>Ce.map(Se=>({value:Se,delta:Ee+1})))},Re=>he.some({value:Re,delta:1}));return fe.bind(Re=>ke.map(Ce=>{const Ee=Ce.delta+Re.delta;return Math.abs(Ce.value-Re.value)/Ee}))})(O,S)),Q=>V(Q)),Ia=(w,S,O,L)=>{const V=Qd(w),U=nc(w)?(fe=>I(Ya(fe),ke=>he.from(ke.element)))(w):V,Q=[he.some(Gu.edge(S))].concat(I(Gu.positions(V,S),fe=>fe.map(ke=>ke.x))),ee=Je(Rl);return I(U,(fe,ke)=>Ps(fe,ke,Q,ee,Re=>{if((Ee=>{const Se=ad().browser,Ue=Se.isChromium()||Se.isFirefox();return!Lc(Ee)||Ue})(Re))return O(Re);{const Ee=(Ce=V[ke])!=null?ve(Ce):he.none();return Ps(Ee,ke,Q,ee,Se=>L(he.some(Math.round(Ml(Se)))),L)}var Ce},L))},Hi=w=>w.map(S=>S+"px").getOr(""),ou=(w,S,O)=>Ia(w,S,ko,L=>L.getOrThunk(O.minCellWidth)),Ji=(w,S,O,L)=>{const V=Jd(w),U=I(w.all,ee=>he.some(ee.element)),Q=[he.some(Xa.edge(S))].concat(I(Xa.positions(V,S),ee=>ee.map(fe=>fe.y)));return I(U,(ee,fe)=>Ps(ee,fe,Q,Ie,O,L))},um=(w,S)=>()=>ec(w)?S(w):parseFloat(Da(w,"width").getOr("0")),zr=w=>{const S=um(w,L=>parseFloat(s1(L))),O=um(w,Ml);return{width:S,pixelWidth:O,getWidths:(L,V)=>((U,Q,ee)=>Ia(U,Q,ba,fe=>fe.fold(()=>ee.minCellWidth(),ke=>ke/ee.pixelWidth()*100)))(L,w,V),getCellDelta:L=>L/O()*100,singleColumnWidth:(L,V)=>[100-L],minCellWidth:()=>_s()/O()*100,setElementWidth:Yu,adjustTableWidth:L=>{const V=S();Yu(w,V+L/100*V)},isRelative:!0,label:"percent"}},bi=w=>{const S=um(w,Ml);return{width:S,pixelWidth:S,getWidths:(O,L)=>ou(O,w,L),getCellDelta:ve,singleColumnWidth:(O,L)=>[Math.max(_s(),O+L)-O],minCellWidth:_s,setElementWidth:gd,adjustTableWidth:O=>{const L=S()+O;gd(w,L)},isRelative:!1,label:"pixel"}},Bc=w=>Xu(w).fold(()=>(S=>{const O=um(S,Ml),L=ie(0);return{width:O,pixelWidth:O,getWidths:(V,U)=>ou(V,S,U),getCellDelta:L,singleColumnWidth:ie([0]),minCellWidth:L,setElementWidth:Y,adjustTableWidth:Y,isRelative:!0,label:"none"}})(w),S=>((O,L)=>Kh().exec(L)!==null?zr(O):bi(O))(w,S)),xt=bi,Fa=zr,Ju=(w,S,O,L)=>{O===L?Lr(w,S):Jn(w,S,O)},Ir=(w,S,O)=>{fo(Gd(w,S)).fold(()=>dr(w,O),L=>cr(L,O))},ic=(w,S)=>{const O=[],L=[],V=Ee=>I(Ee,Se=>{Se.isNew&&O.push(Se.element);const Ue=Se.element;return Zd(Ue),Mt(Se.cells,We=>{We.isNew&&L.push(We.element),Ju(We.element,"colspan",We.colspan,1),Ju(We.element,"rowspan",We.rowspan,1),ks(Ue,We.element)}),Ue}),U=Ee=>Le(Ee,Se=>I(Se.cells,Ue=>(Ju(Ue.element,"span",Ue.colspan,1),Ue.element))),Q=(Ee,Se)=>{const Ue=((dt,pt)=>{const kt=Vh(dt,pt).getOrThunk(()=>{const St=je.fromTag(pt,$u(dt).dom);return pt==="thead"?Ir(dt,"caption,colgroup",St):pt==="colgroup"?Ir(dt,"caption",St):ks(dt,St),St});return Zd(kt),kt})(w,Se),We=(Se==="colgroup"?U:V)(Ee);Oa(Ue,We)},ee=(Ee,Se)=>{Ee.length>0?Q(Ee,Se):(Ue=>{Vh(w,Ue).each(Ri)})(Se)},fe=[],ke=[],Re=[],Ce=[];return Mt(S,Ee=>{switch(Ee.section){case"thead":fe.push(Ee);break;case"tbody":ke.push(Ee);break;case"tfoot":Re.push(Ee);break;case"colgroup":Ce.push(Ee)}}),ee(Ce,"colgroup"),ee(fe,"thead"),ee(ke,"tbody"),ee(Re,"tfoot"),{newRows:O,newCells:L}},yl=(w,S)=>{if(w.length===0)return 0;const O=w[0];return zs(w,L=>!S(O.element,L.element)).getOr(w.length)},ea=(w,S)=>{const O=I(w,L=>I(L.cells,ge));return I(w,(L,V)=>{const U=Le(L.cells,(Q,ee)=>{if(O[V][ee]===!1){const Ee=((Se,Ue,We,dt)=>{const pt=((zt,Lt)=>zt[Lt])(Se,Ue),kt=pt.section==="colgroup",St=yl(pt.cells.slice(We),dt),At=kt?1:yl(((zt,Lt)=>I(zt,oo=>An(oo,Lt)))(Se.slice(Ue),We),dt);return{colspan:St,rowspan:At}})(w,V,ee,S);return((Se,Ue,We,dt)=>{for(let pt=Se;pt<Se+We;pt++)for(let kt=Ue;kt<Ue+dt;kt++)O[pt][kt]=!0})(V,ee,Ee.rowspan,Ee.colspan),[(fe=Q.element,ke=Ee.rowspan,Re=Ee.colspan,Ce=Q.isNew,{element:fe,rowspan:ke,colspan:Re,isNew:Ce})]}return[];var fe,ke,Re,Ce});return((Q,ee,fe,ke)=>({element:Q,cells:ee,section:fe,isNew:ke}))(L.element,U,L.section,L.isNew)})},ya=(w,S,O)=>{const L=[];Mt(w.colgroups,V=>{const U=[];for(let Q=0;Q<w.grid.columns;Q++){const ee=un(w,Q).map(fe=>Vr(fe.element,O,!1)).getOrThunk(()=>Vr(S.colGap(),!0,!1));U.push(ee)}L.push(yn(V.element,U,"colgroup",O))});for(let V=0;V<w.grid.rows;V++){const U=[];for(let fe=0;fe<w.grid.columns;fe++){const ke=Ll(w,V,fe).map(Re=>Vr(Re.element,O,Re.isLocked)).getOrThunk(()=>Vr(S.gap(),!0,!1));U.push(ke)}const Q=w.all[V],ee=yn(Q.element,U,Q.section,O);L.push(ee)}return L},ta=w=>ea(w,cs),Fn=(w,S)=>G(w.all,O=>To(O.cells,L=>cs(S,L.element))),xa=(w,S,O)=>{const L=I(S.selection,U=>bl(U).bind(Q=>Fn(w,Q)).filter(O)),V=Rr(L);return Ds(V.length>0,V)},tr=(w,S,O,L,V,U,Q,ee,fe)=>{const ke=Fi(U),Re=he.from(fe==null?void 0:fe.section).getOrThunk(Bl);return S(ke,Q).map(Ce=>{const Ee=((We,dt)=>ya(We,dt,!1))(ke,ee),Se=w(Ee,Ce,cs,V(ee),Re),Ue=Mc(Se.grid);return{info:Ce,grid:ta(Se.grid),cursor:Se.cursor,lockedColumns:Ue}}).bind(Ce=>{const Ee=ic(U,Ce.grid),Se=he.from(fe==null?void 0:fe.sizing).getOrThunk(()=>Bc(U)),Ue=he.from(fe==null?void 0:fe.resize).getOrThunk(pd);return O(U,Ce.grid,Ce.info,{sizing:Se,resize:Ue,section:Re}),L(U),Lr(U,Cg),Ce.lockedColumns.length>0&&Jn(U,Cg,Ce.lockedColumns.join(",")),he.some({cursor:Ce.cursor,newRows:Ee.newRows,newCells:Ee.newCells})})},Ys=(w,S)=>bl(S.element).bind(O=>Fn(w,O).map(L=>({...L,generators:S.generators,clipboard:S.clipboard}))),Pc=(w,S)=>xa(w,S,Ie).map(O=>({cells:O,generators:S.generators,clipboard:S.clipboard})),Fr=(w,S)=>xa(w,S,Ie),ef=(w,S)=>xa(w,S,O=>!O.isLocked),oa=(w,S)=>Ge(S,O=>((L,V)=>Fn(L,V).exists(U=>!U.isLocked))(w,O)),Ke=(w,S)=>((O,L)=>L.mergable)(0,S).filter(O=>oa(w,O.cells)),Pl=(w,S)=>((O,L)=>L.unmergable)(0,S).filter(O=>oa(w,O)),xl={...tt([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},gs=(w,S,O)=>{const L=((V,U)=>nc(V)?((Q,ee)=>{const fe=Ya(Q);return I(fe,(ke,Re)=>({element:ke.element,width:ee[Re],colspan:ke.colspan}))})(V,U):((Q,ee)=>{const fe=ii(Q);return I(fe,ke=>{const Re=((Ce,Ee,Se)=>{let Ue=0;for(let We=Ce;We<Ee;We++)Ue+=Se[We]!==void 0?Se[We]:0;return Ue})(ke.column,ke.column+ke.colspan,ee);return{element:ke.element,width:Re,colspan:ke.colspan}})})(V,U))(w,S);Mt(L,V=>{O.setElementWidth(V.element,V.width)})},$i=(w,S,O,L,V)=>{const U=Fi(w),Q=V.getCellDelta(S),ee=V.getWidths(U,V),fe=O===U.grid.columns-1,ke=L.clampTableDelta(ee,O,Q,V.minCellWidth(),fe),Re=((Ee,Se,Ue,We,dt)=>{const pt=Ee.slice(0),kt=((At,zt)=>At.length===0?xl.none():At.length===1?xl.only(0):zt===0?xl.left(0,1):zt===At.length-1?xl.right(zt-1,zt):zt>0&&zt<At.length-1?xl.middle(zt-1,zt,zt+1):xl.none())(Ee,Se),St=ie(I(pt,ie(0)));return kt.fold(St,At=>We.singleColumnWidth(pt[At],Ue),(At,zt)=>dt.calcLeftEdgeDeltas(pt,At,zt,Ue,We.minCellWidth(),We.isRelative),(At,zt,Lt)=>dt.calcMiddleDeltas(pt,At,zt,Lt,Ue,We.minCellWidth(),We.isRelative),(At,zt)=>dt.calcRightEdgeDeltas(pt,At,zt,Ue,We.minCellWidth(),We.isRelative))})(ee,O,ke,V,L),Ce=I(Re,(Ee,Se)=>Ee+ee[Se]);gs(U,Ce,V),L.resizeTable(V.adjustTableWidth,ke,fe)},yi=(w,S,O)=>{const L=Fi(w),V=((fe,ke)=>Ji(fe,ke,Qu,Re=>Re.getOrThunk(wg)))(L,w),U=I(V,(fe,ke)=>O===ke?Math.max(S+fe,wg()):fe),Q=((fe,ke)=>I(fe.all,(Re,Ce)=>({element:Re.element,height:ke[Ce]})))(L,U);Mt(Q,fe=>{Pa(fe.element,fe.height)}),Mt(ii(L),fe=>{(ke=>{tc(ke,"height")})(fe.element)});const ee=En(U,(fe,ke)=>fe+ke,0);Pa(w,ee)},ds=(w,S)=>{Rl(w)||(L=>Xu(L).bind(V=>{return U=V,Q=["fixed","relative","empty"],he.from(t1.exec(U)).bind(ee=>{const fe=Number(ee[1]),ke=ee[2];return((Re,Ce)=>Me(Ce,Ee=>Me(e1[Ee],Se=>Re===Se)))(ke,Q)?he.some({value:fe,unit:ke}):he.none()});var U,Q}))(w).each(L=>{const V=L.value/2;lm(w,V,L.unit),lm(S,V,L.unit)})},nu=(w,S,O)=>{const L=Zr(w,S,1);O===1||L<=1?Lr(w,S):Jn(w,S,Math.min(O,L))},Gh=(w,S)=>O=>{const L=O.column+O.colspan-1,V=O.column;return L>=w&&V<S},nh=(w,S,O)=>{const L=w[O].element,V=je.fromTag("td");ks(V,je.fromTag("br")),(S?ks:dr)(L,V)},Qa=Xi("col"),xi=Xi("colgroup"),Hr=w=>Zs(w)==="tr"||xi(w),R=w=>({element:w,colspan:Zr(w,"colspan",1),rowspan:Zr(w,"rowspan",1)}),F=w=>Wd(w,"scope").map(S=>S.substr(0,3)),J=(w,S=R)=>{const O=V=>{if(Hr(V))return xi((U={element:V}).element)?w.colgroup(U):w.row(U);{const Q=V,ee=(fe=>Qa(fe.element)?w.col(fe):w.cell(fe))(S(Q));return L=he.some({item:Q,replacement:ee}),ee}var U};let L=he.none();return{getOrInit:(V,U)=>L.fold(()=>O(V),Q=>U(V,Q.item)?Q.replacement:O(V))}},de=w=>S=>{const O=[],L=V=>{const U=w==="td"?{scope:null}:{},Q=S.replace(V,w,U);return O.push({item:V,sub:Q}),Q};return{replaceOrInit:(V,U)=>{if(Hr(V)||Qa(V))return V;{const Q=V;return((ee,fe)=>To(O,ke=>fe(ke.item,ee)))(Q,U).fold(()=>L(Q),ee=>U(V,ee.item)?ee.sub:L(Q))}}}},Ae=w=>({unmerge:S=>{const O=F(S);return O.each(L=>Jn(S,"scope",L)),()=>{const L=w.cell({element:S,colspan:1,rowspan:1});return tc(L,"width"),tc(S,"width"),O.each(V=>Jn(L,"scope",V)),L}},merge:S=>(tc(S[0],"width"),(()=>{const O=Rr(I(S,F));if(O.length===0)return he.none();{const L=O[0],V=["row","col"];return Me(O,U=>U!==L&&Kt(V,U))?he.none():he.from(L)}})().fold(()=>Lr(S[0],"scope"),O=>Jn(S[0],"scope",O+"group")),ie(S[0]))}),ut=tt([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Rt=(w,S,O)=>{const L=O.substring(0,O.length-w.length),V=parseFloat(L);return L===V.toString()?S(V):ut.invalid(O)},Wt={...ut,from:w=>en(w,"%")?Rt("%",ut.percent,w):en(w,"px")?Rt("px",ut.pixels,w):ut.invalid(w)},Oo=(w,S,O)=>{const L=Wt.from(O),V=Ge(w,U=>U==="0px")?((U,Q)=>{const ee=U.fold(()=>ie(""),fe=>ie(fe/Q+"px"),()=>ie(100/Q+"%"));return yt(Q,ee)})(L,w.length):((U,Q,ee)=>U.fold(()=>Q,fe=>((ke,Re,Ce)=>{const Ee=Ce/Re;return I(ke,Se=>Wt.from(Se).fold(()=>Se,Ue=>Ue*Ee+"px",Ue=>Ue/100*Ce+"px"))})(Q,ee,fe),fe=>((ke,Re)=>I(ke,Ce=>Wt.from(Ce).fold(()=>Ce,Ee=>Ee/Re*100+"%",Ee=>Ee+"%")))(Q,ee)))(L,w,S);return or(V)},dn=(w,S)=>w.length===0?S:En(w,(O,L)=>Wt.from(L).fold(ie(0),ve,ve)+O,0),Ln=(w,S)=>Wt.from(w).fold(ie(w),O=>O+S+"px",O=>O+S+"%"),or=w=>{if(w.length===0)return w;const S=En(w,(L,V)=>{const U=Wt.from(V).fold(()=>({value:V,remainder:0}),Q=>(ee=>{const fe=Math.floor(ee);return{value:fe+"px",remainder:ee-fe}})(Q),Q=>({value:Q+"%",remainder:0}));return{output:[U.value].concat(L.output),remainder:L.remainder+U.remainder}},{output:[],remainder:0}),O=S.output;return O.slice(0,O.length-1).concat([Ln(O[O.length-1],Math.round(S.remainder))])},Ts=Wt.from,Si=(w,S,O)=>{const L=Fi(w),V=L.all,U=ii(L),Q=Ya(L);S.each(ee=>{const fe=Ts(ee).fold(ie("px"),ie("px"),ie("%")),ke=Ml(w),Re=((Ee,Se)=>Ia(Ee,Se,cm,Hi))(L,w),Ce=Oo(Re,ke,ee);nc(L)?((Ee,Se,Ue)=>{Mt(Se,(We,dt)=>{const pt=dn([Ee[dt]],_s());Ci(We.element,"width",pt+Ue)})})(Ce,Q,fe):((Ee,Se,Ue)=>{Mt(Se,We=>{const dt=Ee.slice(We.column,We.colspan+We.column),pt=dn(dt,_s());Ci(We.element,"width",pt+Ue)})})(Ce,U,fe),Ci(w,"width",ee)}),O.each(ee=>{const fe=cd(w),ke=((Re,Ce)=>Ji(Re,Ce,dm,Hi))(L,w);((Re,Ce,Ee)=>{Mt(Ee,Se=>{tc(Se.element,"height")}),Mt(Ce,(Se,Ue)=>{Ci(Se.element,"height",Re[Ue])})})(Oo(ke,fe,ee),V,U),Ci(w,"height",ee)})},Ja=w=>Xu(w).exists(S=>n1.test(S)),su=w=>Xu(w).exists(S=>tu.test(S)),ac=w=>Xu(w).isNone();var Xb=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Yh=()=>({up:ie({selector:Wu,closest:vr,predicate:Yf,all:Vu}),down:ie({selector:Oc,predicate:vg}),styles:ie({get:qd,getRaw:Da,set:Ci,remove:tc}),attrs:ie({get:Uu,set:Jn,remove:Lr,copyTo:(w,S)=>{const O=Jl(w);za(S,O)}}),insert:ie({before:wn,after:cr,afterAll:$h,append:ks,appendAll:Oa,prepend:dr,wrap:mi}),remove:ie({unwrap:Ib,remove:Ri}),create:ie({nu:je.fromTag,clone:w=>je.fromDom(w.dom.cloneNode(!1)),text:je.fromText}),query:ie({comparePosition:(w,S)=>w.dom.compareDocumentPosition(S.dom),prevSibling:Hh,nextSibling:Ac}),property:ie({children:Ta,name:Zs,parent:Dl,document:w=>Kf(w).dom,isText:fa,isComment:pl,isElement:ml,isSpecial:w=>{const S=Zs(w);return Kt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],S)},getLanguage:w=>ml(w)?Wd(w,"lang"):he.none(),getText:si,setText:ur,isBoundary:w=>!!ml(w)&&(Zs(w)==="body"||Kt(Xb,Zs(w))),isEmptyTag:w=>!!ml(w)&&Kt(["br","img","hr","input"],Zs(w)),isNonEditable:w=>ml(w)&&Uu(w,"contenteditable")==="false"}),eq:cs,is:ug});const Ms=(w,S)=>({item:w,mode:S}),tf=(w,S,O,L=el)=>w.property().parent(S).map(V=>Ms(V,L)),el=(w,S,O,L=lc)=>O.sibling(w,S).map(V=>Ms(V,L)),lc=(w,S,O,L=lc)=>{const V=w.property().children(S);return O.first(V).map(U=>Ms(U,L))},Xh=[{current:tf,next:el,fallback:he.none()},{current:el,next:lc,fallback:he.some(tf)},{current:lc,next:lc,fallback:he.some(el)}],of=(w,S,O,L,V=Xh)=>To(V,U=>U.current===O).bind(U=>U.current(w,S,L,U.next).orThunk(()=>U.fallback.bind(Q=>of(w,S,Q,L)))),tl=(w,S,O,L,V,U)=>of(w,S,L,V).bind(Q=>U(Q.item)?he.none():O(Q.item)?he.some(Q.item):tl(w,Q.item,O,Q.mode,V,U)),nn=(w,S)=>({element:w,offset:S}),bs=(w,S,O)=>w.property().isText(S)&&w.property().getText(S).trim().length===0||w.property().isComment(S)?O(S).bind(L=>bs(w,L,O).orThunk(()=>he.some(L))):he.none(),va=(w,S)=>w.property().isText(S)?w.property().getText(S).length:w.property().children(S).length,wa=(w,S)=>{const O=bs(w,S,w.query().prevSibling).getOr(S);if(w.property().isText(O))return nn(O,va(w,O));const L=w.property().children(O);return L.length>0?wa(w,L[L.length-1]):nn(O,va(w,O))},Qb=wa,Sg=Yh(),fm=w=>S=>w.property().children(S).length===0,hm=(w,S,O,L)=>tl(w,S,O,el,{sibling:(V,U)=>V.query().prevSibling(U),first:V=>V.length>0?he.some(V[V.length-1]):he.none()},L),r1=(w,S,O,L)=>tl(w,S,O,el,{sibling:(V,U)=>V.query().nextSibling(U),first:V=>V.length>0?he.some(V[0]):he.none()},L),Ic=Yh(),yd=(w,S)=>((O,L,V)=>hm(O,L,fm(O),V))(Ic,w,S),nf=(w,S)=>((O,L,V)=>r1(O,L,fm(O),V))(Ic,w,S),pm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Yk=(w,S,O,L)=>{const V=S(w,O);return En(L,(U,Q)=>{const ee=S(w,Q);return mm(w,U,ee)},V)},mm=(w,S,O)=>S.bind(L=>O.filter(ye(w.eq,L))),i1=Yh(),Jb=(w,S)=>((O,L,V)=>V.length>0?((U,Q,ee,fe)=>fe(U,Q,ee[0],ee.slice(1)))(O,L,V,Yk):he.none())(i1,(O,L)=>w(L),S),a1=Yh(),l1=w=>((S,O)=>{const L=S.property().name(O);return Kt(pm,L)})(a1,w),Av=w=>((S,O)=>{const L=S.property().name(O);return Kt(["ol","ul"],L)})(a1,w),Tv=w=>{const S=Xi("br"),O=V=>Br(V).bind(U=>{const Q=Ac(U).map(ee=>!!l1(ee)||!!((fe,ke)=>Kt(["br","img","hr","input"],fe.property().name(ke)))(a1,ee)&&Zs(ee)!=="img").getOr(!1);return Dl(U).map(ee=>{return Q===!0||Zs(fe=ee)==="li"||Yf(fe,Av).isSome()||S(U)||l1(ee)&&!cs(V,ee)?[]:[je.fromTag("br")];var fe})}).getOr([]),L=(()=>{const V=Le(w,U=>{const Q=Ta(U);return(ee=>Ge(ee,fe=>S(fe)||fa(fe)&&si(fe).trim().length===0))(Q)?[]:Q.concat(O(U))});return V.length===0?[je.fromTag("br")]:V})();Zd(w[0]),Oa(w[0],L)},Fc=w=>{Lr(w,"width"),Lr(w,"height")},ru=w=>{const S=s1(w);Si(w,he.some(S),he.none()),Fc(w)},Dr=w=>{const S=(O=>Ml(O)+"px")(w);Si(w,he.some(S),he.none()),Fc(w)},Xk=w=>{tc(w,"width");const S=eh(w),O=S.length>0?S:qr(w);Mt(O,L=>{tc(L,"width"),Fc(L)}),Fc(w)},Qh={scope:["row","col"]},Ov=w=>()=>{const S=je.fromTag("td",w.dom);return ks(S,je.fromTag("br",w.dom)),S},c1=w=>()=>je.fromTag("col",w.dom),e0=w=>()=>je.fromTag("colgroup",w.dom),Qk=w=>()=>je.fromTag("tr",w.dom),Jk=(w,S,O)=>{const L=((V,U)=>{const Q=Gf(V,U),ee=Ta(ni(V));return Oa(Q,ee),Q})(w,S);return Zo(O,(V,U)=>{V===null?Lr(L,U):Jn(L,U,V)}),L},sh=w=>w,xd=(w,S,O)=>{const L=(V,U)=>{((Q,ee)=>{const fe=Q.dom,ke=ee.dom;ld(fe)&&ld(ke)&&(ke.style.cssText=fe.style.cssText)})(V.element,U),tc(U,"height"),V.colspan!==1&&tc(U,"width")};return{col:V=>{const U=je.fromTag(Zs(V.element),S.dom);return L(V,U),w(V.element,U),U},colgroup:e0(S),row:Qk(S),cell:V=>{const U=je.fromTag(Zs(V.element),S.dom),Q=O.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ee=Q.length>0?((fe,ke,Re)=>jh(fe).map(Ce=>{const Ee=Re.join(","),Se=wr(Ce,Ee,Ue=>cs(Ue,fe));return En(Se,(Ue,We)=>{const dt=yg(We);return ks(Ue,dt),dt},ke)}).getOr(ke))(V.element,U,Q):U;return ks(ee,je.fromTag("br")),L(V,U),((fe,ke)=>{Zo(Qh,(Re,Ce)=>Wd(fe,Ce).filter(Ee=>Kt(Re,Ee)).each(Ee=>Jn(ke,Ce,Ee)))})(V.element,U),w(V.element,U),U},replace:Jk,colGap:c1(S),gap:Ov(S)}},eo=w=>({col:c1(w),colgroup:e0(w),row:Qk(w),cell:Ov(w),replace:sh,colGap:c1(w),gap:Ov(w)}),sn=w=>Fi(w).grid,vl=(w,S,O,L)=>{const V=Us(w).rows;let U=!0;for(let Q=0;Q<V.length;Q++)for(let ee=0;ee<Ni(V[0]);ee++){const fe=V[Q],ke=An(fe,ee),Re=O(ke.element,S);Re&&!U?hl(fe,ee,Vr(L(),!0,ke.isLocked)):Re&&(U=!1)}return w},vd=(w,S)=>({rowDelta:0,colDelta:Ni(w[0])-Ni(S[0])}),cc=(w,S)=>({rowDelta:w.length-S.length,colDelta:0}),ys=(w,S,O,L)=>{const V=S.section==="colgroup"?O.col:O.cell;return yt(w,U=>Vr(V(),!0,L(U)))},e_=(w,S,O,L)=>{const V=w[w.length-1];return w.concat(yt(S,()=>{const U=V.section==="colgroup"?O.colgroup:O.row,Q=Dn(V,U,ve),ee=ys(Q.cells.length,Q,O,fe=>Do(L,fe.toString()));return pn(Q,ee)}))},Jh=(w,S,O,L)=>I(w,V=>{const U=ys(S,V,O,ge);return Ea(V,L,U)}),gm=(w,S,O)=>{const L=S.colDelta<0?Jh:ve,V=S.rowDelta<0?e_:ve,U=Mc(w),Q=Ni(w[0]),ee=Me(U,Re=>Re===Q-1),fe=L(w,Math.abs(S.colDelta),O,ee?Q-1:Q),ke=Mc(fe);return V(fe,Math.abs(S.rowDelta),O,yo(ke,Ie))},wd=(w,S,O,L)=>{const V=ye(L,An(w[S],O).element),U=w[S];return w.length>1&&Ni(U)>1&&(O>0&&V(hi(U,O-1))||O<U.cells.length-1&&V(hi(U,O+1))||S>0&&V(hi(w[S-1],O))||S<w.length-1&&V(hi(w[S+1],O)))},d1=(w,S,O)=>zo(O,L=>L>=w.column&&L<=Ni(S[0])+w.column),t0=(w,S,O,L,V)=>{((ke,Re,Ce,Ee)=>{Re>0&&Re<ke[0].cells.length&&Mt(ke,Se=>{const Ue=Se.cells[Re-1];let We=0;const dt=Ee();for(;Se.cells.length>Re+We&&Ce(Ue.element,Se.cells[Re+We].element);)hl(Se,Re+We,Vr(dt,!0,Se.cells[Re+We].isLocked)),We++})})(S,w,V,L.cell);const U=cc(O,S),Q=gm(O,U,L),ee=cc(S,Q),fe=gm(S,ee,L);return I(fe,(ke,Re)=>Ea(ke,w,Q[Re].cells))},_t=(w,S,O,L,V)=>{((kt,St,At,zt)=>{const Lt=Us(kt).rows;if(St>0&&St<Lt.length){const oo=((No,Un)=>ft(No,(Lo,vn)=>Me(Lo,qo=>Un(qo.element,vn.element))?Lo:Lo.concat([vn]),[]))(Lt[St-1].cells,At);Mt(oo,No=>{let Un=he.none();for(let Lo=St;Lo<Lt.length;Lo++)for(let vn=0;vn<Ni(Lt[0]);vn++){const qo=Lt[Lo],fs=An(qo,vn);At(fs.element,No.element)&&(Un.isNone()&&(Un=he.some(zt())),Un.each(Gr=>{hl(qo,vn,Vr(Gr,!0,fs.isLocked))}))}})}})(S,w,V,L.cell);const U=Mc(S),Q=vd(S,O),ee={...Q,colDelta:Q.colDelta-U.length},fe=gm(S,ee,L),{cols:ke,rows:Re}=Us(fe),Ce=Mc(fe),Ee=vd(O,S),Se={...Ee,colDelta:Ee.colDelta+Ce.length},Ue=(dt=L,pt=Ce,I(O,kt=>ft(pt,(St,At)=>{const zt=ys(1,kt,dt,Ie)[0];return Zp(St,At,zt)},kt))),We=gm(Ue,Se,L);var dt,pt;return[...ke,...Re.slice(0,w),...We,...Re.slice(w,Re.length)]},zv=(w,S,O,L,V)=>{const{rows:U,cols:Q}=Us(w),ee=U.slice(0,S),fe=U.slice(S);return[...Q,...ee,((ke,Re,Ce,Ee)=>Dn(ke,Se=>Ee(Se,Ce),Re))(U[O],(ke,Re)=>S>0&&S<U.length&&L(hi(U[S-1],Re),hi(U[S],Re))?An(U[S],Re):Vr(V(ke.element,L),!0,ke.isLocked),L,V),...fe]},o0=(w,S,O,L,V)=>I(w,U=>{const Q=S>0&&S<Ni(U)&&L(hi(U,S-1),hi(U,S)),ee=((fe,ke,Re,Ce,Ee,Se,Ue)=>{if(Re!=="colgroup"&&Ce)return An(fe,ke);{const We=An(fe,Ee);return Vr(Ue(We.element,Se),!0,!1)}})(U,S,U.section,Q,O,L,V);return Zp(U,S,ee)}),iu=(w,S,O,L)=>((V,U,Q,ee)=>hi(V[U],Q)!==void 0&&U>0&&ee(hi(V[U-1],Q),hi(V[U],Q)))(w,S,O,L)||((V,U,Q)=>U>0&&Q(hi(V,U-1),hi(V,U)))(w[S],O,L),bm=(w,S,O,L)=>{const V=U=>(Q=>Q==="row"?(ee=>Uh(ee,"rowspan")>1)(S):Rl(S))(U)?`${U}group`:U;return w?ri(S)?V(O):null:L&&ri(S)?V(O==="row"?"col":"row"):null},n0=(w,S,O)=>Vr(O(w.element,S),!0,w.isLocked),nr=(w,S,O,L,V,U,Q)=>I(w,(ee,fe)=>(ke=>{const Re=ke.cells,Ce=I(Re,(Ee,Se)=>{if((Ue=>Me(S,We=>O(Ue.element,We.element)))(Ee)){const Ue=Q(Ee,fe,Se)?V(Ee,O,L):Ee;return U(Ue,fe,Se).each(We=>{var dt,pt;dt=Ue.element,pt={scope:he.from(We)},Zo(pt,(kt,St)=>{kt.fold(()=>{Lr(dt,St)},At=>{ju(dt.dom,St,At)})})}),Ue}return Ee});return yn(ke.element,Ce,ke.section,ke.isNew)})(ee)),u1=(w,S,O)=>Le(w,(L,V)=>iu(w,V,S,O)?[]:[An(L,S)]),s0=(w,S,O,L,V)=>{const U=Us(w).rows,Q=Le(S,Re=>u1(U,Re,L)),ee=I(U,Re=>tm(Re.cells)),fe=((Re,Ce)=>Ge(Ce,ve)&&tm(Re)?Ie:(Ee,Se,Ue)=>!(Zs(Ee.element)==="th"&&Ce[Se]))(Q,ee);return nr(w,Q,L,V,n0,((Re,Ce)=>(Ee,Se)=>he.some(bm(Re,Ee.element,"row",Ce[Se])))(O,ee),fe)},ol=(w,S,O,L)=>{const V=Us(w).rows,U=I(S,Q=>An(V[Q.row],Q.column));return nr(w,U,O,L,n0,he.none,Ie)},us=w=>ft(w,(S,O)=>Me(S,L=>L.column===O.column)?S:S.concat([O]),[]).sort((S,O)=>S.column-O.column),ym=w=>Zu(w,!0),xm=w=>{qr(w).length===0&&Ri(w)},f1=(w,S)=>({grid:w,cursor:S}),na=(w,S,O)=>{const L=((V,U,Q)=>{var fe,ke;const ee=Us(V).rows;return he.from((ke=(fe=ee[U])==null?void 0:fe.cells[Q])==null?void 0:ke.element).filter(ym).orThunk(()=>(Re=>G(Re,Ce=>G(Ce.cells,Ee=>{const Se=Ee.element;return Ds(ym(Se),Se)})))(ee))})(w,S,O);return f1(w,L)},nl=w=>ft(w,(S,O)=>Me(S,L=>L.row===O.row)?S:S.concat([O]),[]).sort((S,O)=>S.row-O.row),cE=(w,S,O,L)=>{const V=S[0].row,U=nl(S),Q=En(U,(ee,fe)=>({grid:zv(ee.grid,V,fe.row+ee.delta,O,L.getOrInit),delta:ee.delta+1}),{grid:w,delta:0}).grid;return na(Q,V,S[0].column)},Dv=(w,S,O,L)=>{const V=nl(S),U=V[V.length-1],Q=U.row+U.rowspan,ee=En(V,(fe,ke)=>zv(fe,Q,ke.row,O,L.getOrInit),w);return na(ee,Q,S[0].column)},dE=(w,S,O,L)=>{const V=S.details,U=us(V),Q=U[0].column,ee=En(U,(fe,ke)=>({grid:o0(fe.grid,Q,ke.column+fe.delta,O,L.getOrInit),delta:fe.delta+1}),{grid:w,delta:0}).grid;return na(ee,V[0].row,Q)},t_=(w,S,O,L)=>{const V=S.details,U=V[V.length-1],Q=U.column+U.colspan,ee=us(V),fe=En(ee,(ke,Re)=>o0(ke,Q,Re.column,O,L.getOrInit),w);return na(fe,V[0].row,Q)},h1=(w,S,O,L)=>{const V=us(S),U=I(V,ee=>ee.column),Q=s0(w,U,!0,O,L.replaceOrInit);return na(Q,S[0].row,S[0].column)},Mv=(w,S,O,L)=>{const V=ol(w,S,O,L.replaceOrInit);return na(V,S[0].row,S[0].column)},p1=(w,S,O,L)=>{const V=us(S),U=I(V,ee=>ee.column),Q=s0(w,U,!1,O,L.replaceOrInit);return na(Q,S[0].row,S[0].column)},sl=(w,S,O,L)=>{const V=ol(w,S,O,L.replaceOrInit);return na(V,S[0].row,S[0].column)},Hc=(w,S)=>(O,L,V,U,Q)=>{const ee=nl(L),fe=I(ee,Re=>Re.row),ke=((Re,Ce,Ee,Se,Ue,We,dt)=>{const{cols:pt,rows:kt}=Us(Re),St=kt[Ce[0]],At=Le(Ce,Lo=>((vn,qo,fs)=>{const Gr=vn[qo];return Le(Gr.cells,(_a,Ai)=>iu(vn,qo,Ai,fs)?[]:[_a])})(kt,Lo,Ue)),zt=I(St.cells,(Lo,vn)=>tm(u1(kt,vn,Ue))),Lt=[...kt];Mt(Ce,Lo=>{Lt[Lo]=dt.transformRow(kt[Lo],Ee)});const oo=[...pt,...Lt],No=((Lo,vn)=>Ge(vn,ve)&&tm(Lo.cells)?Ie:(qo,fs,Gr)=>!(Zs(qo.element)==="th"&&vn[Gr]))(St,zt),Un=((Lo,vn)=>(qo,fs,Gr)=>he.some(bm(Lo,qo.element,"col",vn[Gr])))(Se,zt);return nr(oo,At,Ue,We,dt.transformCell,Un,No)})(O,fe,w,S,V,U.replaceOrInit,Q);return na(ke,L[0].row,L[0].column)},kd=Hc("thead",!0),m1=Hc("tbody",!1),Nv=Hc("tfoot",!1),uE=(w,S,O,L)=>{const V=us(S.details),U=((ee,fe)=>Le(ee,ke=>{const Re=ke.cells,Ce=En(fe,(Ee,Se)=>Se>=0&&Se<Ee.length?Ee.slice(0,Se).concat(Ee.slice(Se+1)):Ee,Re);return Ce.length>0?[yn(ke.element,Ce,ke.section,ke.isNew)]:[]}))(w,I(V,ee=>ee.column)),Q=U.length>0?U[0].cells.length-1:0;return na(U,V[0].row,Math.min(V[0].column,Q))},r0=(w,S,O,L)=>{const V=nl(S),U=((ee,fe,ke)=>{const{rows:Re,cols:Ce}=Us(ee);return[...Ce,...Re.slice(0,fe),...Re.slice(ke+1)]})(w,V[0].row,V[V.length-1].row),Q=Math.max(Us(U).rows.length-1,0);return na(U,Math.min(S[0].row,Q),S[0].column)},au=(w,S,O,L)=>{const V=S.cells;Tv(V);const U=((Q,ee,fe,ke)=>{const Re=Us(Q).rows;if(Re.length===0)return Q;for(let Ce=ee.startRow;Ce<=ee.finishRow;Ce++)for(let Ee=ee.startCol;Ee<=ee.finishCol;Ee++){const Se=Re[Ce],Ue=An(Se,Ee).isLocked;hl(Se,Ee,Vr(ke(),!1,Ue))}return Q})(w,S.bounds,0,L.merge(V));return f1(U,he.from(V[0]))},Ha=(w,S,O,L)=>{const V=En(S,(U,Q)=>vl(U,Q,O,L.unmerge(Q)),w);return f1(V,he.from(S[0]))},g1=(w,S,O,L)=>{const V=((ee,fe)=>{const ke=Fi(ee);return ya(ke,fe,!0)})(S.clipboard,S.generators);var U,Q;return((ee,fe,ke,Re,Ce)=>{const Ee=Mc(fe),Se=((pt,kt,St)=>{const At=Ni(kt[0]),zt=Us(kt).cols.length+pt.row,Lt=yt(At-pt.column,oo=>oo+pt.column);return{row:zt,column:To(Lt,oo=>Ge(St,No=>No!==oo)).getOr(At-1)}})(ee,fe,Ee),Ue=Us(ke).rows,We=d1(Se,Ue,Ee);return((pt,kt,St)=>{if(pt.row>=kt.length||pt.column>Ni(kt[0]))return bn.error("invalid start address out of table bounds, row: "+pt.row+", column: "+pt.column);const At=kt.slice(pt.row),zt=At[0].cells.slice(pt.column),Lt=Ni(St[0]),oo=St.length;return bn.value({rowDelta:At.length-oo,colDelta:zt.length-Lt})})(Se,fe,Ue).map(pt=>{const kt={...pt,colDelta:pt.colDelta-We.length},St=gm(fe,kt,Re),At=Mc(St),zt=d1(Se,Ue,At);return((Lt,oo,No,Un,Lo,vn)=>{const qo=Lt.row,fs=Lt.column,Gr=qo+No.length,_a=fs+Ni(No[0])+vn.length,Ai=yo(vn,Ie);for(let Qt=qo;Qt<Gr;Qt++){let ff=0;for(let Va=fs;Va<_a;Va++){if(Ai[Va]){ff++;continue}wd(oo,Qt,Va,Lo)&&vl(oo,hi(oo[Qt],Va),Lo,Un.cell);const fp=Va-fs-ff,pu=An(No[Qt-qo],fp),$g=pu.element,mu=Un.replace($g);hl(oo[Qt],Va,Vr(mu,!0,pu.isLocked))}}return oo})(Se,St,Ue,Re,Ce,zt)})})((U=S.row,Q=S.column,{row:U,column:Q}),w,V,S.generators,O).fold(()=>f1(w,he.some(S.element)),ee=>na(ee,S.row,S.column))},Eg=(w,S,O)=>{const L=((U,Q)=>sm(U,()=>Q))(w,O.section),V=qu(L);return ya(V,S,!0)},ep=(w,S,O,L)=>{const V=Us(w).rows,U=S.cells[0].column,Q=V[S.cells[0].row],ee=Eg(S.clipboard,S.generators,Q),fe=t0(U,w,ee,S.generators,O);return na(fe,S.cells[0].row,S.cells[0].column)},i0=(w,S,O,L)=>{const V=Us(w).rows,U=S.cells[S.cells.length-1].column+S.cells[S.cells.length-1].colspan,Q=V[S.cells[0].row],ee=Eg(S.clipboard,S.generators,Q),fe=t0(U,w,ee,S.generators,O);return na(fe,S.cells[0].row,U)},b1=(w,S,O,L)=>{const V=Us(w).rows,U=S.cells[0].row,Q=V[U],ee=Eg(S.clipboard,S.generators,Q),fe=_t(U,w,ee,S.generators,O);return na(fe,S.cells[0].row,S.cells[0].column)},Os=(w,S,O,L)=>{const V=Us(w).rows,U=S.cells[S.cells.length-1].row+S.cells[S.cells.length-1].rowspan,Q=V[S.cells[0].row],ee=Eg(S.clipboard,S.generators,Q),fe=_t(U,w,ee,S.generators,O);return na(fe,U,S.cells[0].column)},tp=(w,S,O,L)=>((V,U,Q,ee)=>{const fe=qu(U),ke=ee.getWidths(fe,ee);gs(fe,ke,ee)})(0,S,0,L.sizing),vm=(w,S,O,L)=>((V,U,Q,ee,fe)=>{const ke=qu(U),Re=ee.getWidths(ke,ee),Ce=ee.pixelWidth(),{newSizes:Ee,delta:Se}=fe.calcRedestributedWidths(Re,Ce,Q.pixelDelta,ee.isRelative);gs(ke,Ee,ee),ee.adjustTableWidth(Se)})(0,S,O,L.sizing,L.resize),Rv=(w,S)=>Me(S,O=>O.column===0&&O.isLocked),a0=(w,S)=>Me(S,O=>O.column+O.colspan>=w.grid.columns&&O.isLocked),l0=(w,S)=>{const O=Qd(w),L=us(S);return ft(L,(V,U)=>V+O[U.column].map(Fb).getOr(0),0)},y1=w=>(S,O)=>Fr(S,O).filter(L=>!(w?Rv:a0)(S,L)).map(L=>({details:L,pixelDelta:l0(S,L)})),x1=(w,S)=>ef(w,S).map(O=>({details:O,pixelDelta:-l0(w,O)})),o_=w=>(S,O)=>Pc(S,O).filter(L=>!(w?Rv:a0)(S,L.cells)),Lv=de("th"),Il=de("td"),Ag=(w,S,O,L)=>tr(cE,Fr,Y,Y,J,w,S,O,L),sa=(w,S,O,L)=>tr(Dv,Fr,Y,Y,J,w,S,O,L),op=(w,S,O,L)=>tr(dE,y1(!0),vm,Y,J,w,S,O,L),Tg=(w,S,O,L)=>tr(t_,y1(!1),vm,Y,J,w,S,O,L),c0=(w,S,O,L)=>tr(uE,x1,vm,xm,J,w,S,O,L),d0=(w,S,O,L)=>tr(r0,Fr,Y,xm,J,w,S,O,L),rh=(w,S,O,L)=>tr(h1,ef,Y,Y,Lv,w,S,O,L),n_=(w,S,O,L)=>tr(p1,ef,Y,Y,Il,w,S,O,L),v1=(w,S,O,L)=>tr(kd,Fr,Y,Y,Lv,w,S,O,L),s_=(w,S,O,L)=>tr(m1,Fr,Y,Y,Il,w,S,O,L),Bv=(w,S,O,L)=>tr(Nv,Fr,Y,Y,Il,w,S,O,L),ra=(w,S,O,L)=>tr(Mv,ef,Y,Y,Lv,w,S,O,L),ih=(w,S,O,L)=>tr(sl,ef,Y,Y,Il,w,S,O,L),r_=(w,S,O,L)=>tr(au,Ke,tp,Y,Ae,w,S,O,L),i_=(w,S,O,L)=>tr(Ha,Pl,tp,Y,Ae,w,S,O,L),Pv=(w,S,O,L)=>tr(g1,Ys,tp,Y,J,w,S,O,L),a_=(w,S,O,L)=>tr(ep,o_(!0),Y,Y,J,w,S,O,L),w1=(w,S,O,L)=>tr(i0,o_(!1),Y,Y,J,w,S,O,L),l_=(w,S,O,L)=>tr(b1,Pc,Y,Y,J,w,S,O,L),Kr=(w,S,O,L)=>tr(Os,Pc,Y,Y,J,w,S,O,L),ai=(w,S)=>{const O=Fi(w);return Fr(O,S).bind(L=>{const V=L[L.length-1],U=L[0].column,Q=V.column+V.colspan,ee=Tt(I(O.all,fe=>zo(fe.cells,ke=>ke.column>=U&&ke.column<Q)));return nm(ee)}).getOr("")},Vi=(w,S)=>{const O=Fi(w);return Fr(O,S).bind(nm).getOr("")},ia=(w,S)=>{const O=Fi(w);return Fr(O,S).bind(L=>{const V=L[L.length-1],U=L[0].row,Q=V.row+V.rowspan;return(ee=>{const fe=I(ee,Ce=>Kb(Ce).type),ke=Kt(fe,"header"),Re=Kt(fe,"footer");if(ke||Re){const Ce=Kt(fe,"body");return!ke||Ce||Re?ke||Ce||!Re?he.none():he.some("footer"):he.some("header")}return he.some("body")})(O.all.slice(U,Q))}).getOr("")},Ei=(w,S)=>{const O=S.column,L=S.column+S.colspan-1,V=S.row,U=S.row+S.rowspan-1;return O<=w.finishCol&&L>=w.startCol&&V<=w.finishRow&&U>=w.startRow},li=(w,S)=>S.column>=w.startCol&&S.column+S.colspan-1<=w.finishCol&&S.row>=w.startRow&&S.row+S.rowspan-1<=w.finishRow,Og=(w,S,O)=>{const L=Nc(w,S,cs),V=Nc(w,O,cs);return L.bind(U=>V.map(Q=>{return ee=U,fe=Q,{startRow:Math.min(ee.row,fe.row),startCol:Math.min(ee.column,fe.column),finishRow:Math.max(ee.row+ee.rowspan-1,fe.row+fe.rowspan-1),finishCol:Math.max(ee.column+ee.colspan-1,fe.column+fe.colspan-1)};var ee,fe}))},k1=(w,S,O)=>Og(w,S,O).map(L=>{const V=Wh(w,ye(Ei,L));return I(V,U=>U.element)}),zg=(w,S)=>Nc(w,S,(O,L)=>jr(L,O)).map(O=>O.element),u0=(w,S,O)=>{const L=f0(w);return k1(L,S,O)},_1=(w,S,O,L,V)=>{const U=f0(w),Q=cs(w,O)?he.some(S):zg(U,S),ee=cs(w,V)?he.some(L):zg(U,L);return Q.bind(fe=>ee.bind(ke=>k1(U,fe,ke)))},f0=Fi,Iv={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},sf=(w,S,O,L)=>yt(w,V=>((U,Q,ee,fe)=>{const ke=je.fromTag("tr");for(let Re=0;Re<U;Re++){const Ce=je.fromTag(fe<Q||Re<ee?"th":"td");Re<ee&&Jn(Ce,"scope","row"),fe<Q&&Jn(Ce,"scope","col"),ks(Ce,je.fromTag("br")),ks(ke,Ce)}return ke})(S,O,L,V)),dc=w=>{let S=[];return{bind:O=>{if(O===void 0)throw new Error("Event bind error: undefined handler");S.push(O)},unbind:O=>{S=zo(S,L=>L!==O)},trigger:(...O)=>{const L={};Mt(w,(V,U)=>{L[V]=O[U]}),Mt(S,V=>{V(L)})}}},np=w=>({registry:yr(w,S=>({bind:S.bind,unbind:S.unbind})),trigger:yr(w,S=>S.trigger)}),ah=mt(["compare","extract","mutate","sink"]),h0=mt(["element","start","stop","destroy"]),Fv=mt(["forceDrop","drop","move","delayDrop"]),Hv=()=>{const w=(()=>{const L=np({move:dc(["info"])});return{onEvent:Y,reset:Y,events:L.registry}})(),S=(()=>{let L=he.none();const V=np({move:dc(["info"])});return{onEvent:(U,Q)=>{Q.extract(U).each(ee=>{((ke,Re)=>{const Ce=L.map(Ee=>ke.compare(Ee,Re));return L=he.some(Re),Ce})(Q,ee).each(ke=>{V.trigger.move(ke)})})},reset:()=>{L=he.none()},events:V.registry}})();let O=w;return{on:()=>{O.reset(),O=S},off:()=>{O.reset(),O=w},isOn:()=>O===S,onEvent:(L,V)=>{O.onEvent(L,V)},events:S.events}},p0=Xn("ephox-dragster").resolve;var m0=ah({compare:(w,S)=>ha(S.left-w.left,S.top-w.top),extract:w=>he.some(ha(w.x,w.y)),sink:(w,S)=>{const O=(ee=>{const fe={layerClass:p0("blocker"),...ee},ke=je.fromTag("div");return Jn(ke,"role","presentation"),Jn(ke,"data-mce-bogus","all"),Xp(ke,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),oc(ke,p0("blocker")),oc(ke,fe.layerClass),{element:ie(ke),destroy:()=>{Ri(ke)}}})(S),L=an(O.element(),"mousedown",w.forceDrop),V=an(O.element(),"mouseup",w.drop),U=an(O.element(),"mousemove",w.move),Q=an(O.element(),"mouseout",w.delayDrop);return h0({element:O.element,start:ee=>{ks(ee,O.element())},stop:()=>{Ri(O.element())},destroy:()=>{O.destroy(),V.unbind(),U.unbind(),Q.unbind(),L.unbind()}})},mutate:(w,S)=>{w.mutate(S.left,S.top)}});const C1=Xn("ephox-snooker").resolve,g0=C1("resizer-bar"),lu=C1("resizer-rows"),ci=C1("resizer-cols"),sp=w=>{const S=Oc(w.parent(),"."+g0);Mt(S,Ri)},$c=(w,S,O)=>{const L=w.origin();Mt(S,V=>{V.each(U=>{const Q=O(L,U);oc(Q,g0),ks(w.parent(),Q)})})},b0=(w,S,O,L,V)=>{const U=mo(O),Q=S.isResizable,ee=L.length>0?Xa.positions(L,O):[],fe=ee.length>0?((Ce,Ee)=>Le(Ce.all,(Se,Ue)=>Ee(Se.element)?[Ue]:[]))(w,Q):[];((Ce,Ee,Se,Ue)=>{$c(Ce,Ee,(We,dt)=>{const pt=((kt,St,At,zt)=>{const Lt=je.fromTag("div");return Xp(Lt,{position:"absolute",left:St+"px",top:At-3.5+"px",height:"7px",width:zt+"px"}),za(Lt,{"data-mce-bogus":"all","data-row":kt,role:"presentation"}),Lt})(dt.row,Se.left-We.left,dt.y-We.top,Ue);return oc(pt,lu),pt})})(S,zo(ee,(Ce,Ee)=>Me(fe,Se=>Ee===Se)),U,Fb(O));const ke=V.length>0?Gu.positions(V,O):[],Re=ke.length>0?((Ce,Ee)=>{const Se=[];return yt(Ce.grid.columns,Ue=>{un(Ce,Ue).map(We=>We.element).forall(Ee)&&Se.push(Ue)}),zo(Se,Ue=>{const We=Wh(Ce,dt=>dt.column===Ue);return Ge(We,dt=>Ee(dt.element))})})(w,Q):[];((Ce,Ee,Se,Ue)=>{$c(Ce,Ee,(We,dt)=>{const pt=((kt,St,At,zt,Lt)=>{const oo=je.fromTag("div");return Xp(oo,{position:"absolute",left:St-3.5+"px",top:At+"px",height:Lt+"px",width:"7px"}),za(oo,{"data-mce-bogus":"all","data-column":kt,role:"presentation"}),oo})(dt.col,dt.x-We.left,Se.top-We.top,0,Ue);return oc(pt,ci),pt})})(S,zo(ke,(Ce,Ee)=>Me(Re,Se=>Ee===Se)),U,Tc(O))},S1=(w,S)=>{if(sp(w),w.isResizable(S)){const O=Fi(S),L=Jd(O),V=Qd(O);b0(O,w,S,L,V)}},E1=(w,S)=>{const O=Oc(w.parent(),"."+g0);Mt(O,S)},c_=w=>{E1(w,S=>{Ci(S,"display","none")})},A1=w=>{E1(w,S=>{Ci(S,"display","block")})},fE=C1("resizer-bar-dragging"),d_=w=>{const S=(()=>{const Ce=np({drag:dc(["xDelta","yDelta","target"])});let Ee=he.none();const Se=(()=>{const Ue=np({drag:dc(["xDelta","yDelta"])});return{mutate:(We,dt)=>{Ue.trigger.drag(We,dt)},events:Ue.registry}})();return Se.events.drag.bind(Ue=>{Ee.each(We=>{Ce.trigger.drag(Ue.xDelta,Ue.yDelta,We)})}),{assign:Ue=>{Ee=he.some(Ue)},get:()=>Ee,mutate:Se.mutate,events:Ce.registry}})(),O=((Ce,Ee={})=>((Se,Ue,We)=>{let dt=!1;const pt=np({start:dc([]),stop:dc([])}),kt=Hv(),St=()=>{Lt.stop(),kt.isOn()&&(kt.off(),pt.trigger.stop())},At=(oo=>{let No=null;const Un=()=>{x(No)||(clearTimeout(No),No=null)};return{cancel:Un,throttle:(...Lo)=>{Un(),No=setTimeout(()=>{No=null,oo.apply(null,Lo)},200)}}})(St);kt.events.move.bind(oo=>{Ue.mutate(Se,oo.info)});const zt=oo=>(...No)=>{dt&&oo.apply(null,No)},Lt=Ue.sink(Fv({forceDrop:St,drop:zt(St),move:zt(oo=>{At.cancel(),kt.onEvent(oo,Ue)}),delayDrop:zt(At.throttle)}),We);return{element:Lt.element,go:oo=>{Lt.start(oo),kt.on(),pt.trigger.start()},on:()=>{dt=!0},off:()=>{dt=!1},isActive:()=>dt,destroy:()=>{Lt.destroy()},events:pt.registry}})(Ce,Ee.mode??m0,Ee))(S,{});let L=he.none();const V=(Ce,Ee)=>he.from(Uu(Ce,Ee));S.events.drag.bind(Ce=>{V(Ce.target,"data-row").each(Ee=>{const Se=ma(Ce.target,"top");Ci(Ce.target,"top",Se+Ce.yDelta+"px")}),V(Ce.target,"data-column").each(Ee=>{const Se=ma(Ce.target,"left");Ci(Ce.target,"left",Se+Ce.xDelta+"px")})});const U=(Ce,Ee)=>ma(Ce,Ee)-Zr(Ce,"data-initial-"+Ee,0);O.events.stop.bind(()=>{S.get().each(Ce=>{L.each(Ee=>{V(Ce,"data-row").each(Se=>{const Ue=U(Ce,"top");Lr(Ce,"data-initial-top"),Re.trigger.adjustHeight(Ee,Ue,parseInt(Se,10))}),V(Ce,"data-column").each(Se=>{const Ue=U(Ce,"left");Lr(Ce,"data-initial-left"),Re.trigger.adjustWidth(Ee,Ue,parseInt(Se,10))}),S1(w,Ee)})})});const Q=(Ce,Ee)=>{Re.trigger.startAdjust(),S.assign(Ce),Jn(Ce,"data-initial-"+Ee,ma(Ce,Ee)),oc(Ce,fE),Ci(Ce,"opacity","0.2"),O.go(w.dragContainer())},ee=an(w.parent(),"mousedown",Ce=>{var Ee;Ee=Ce.target,Vo(Ee,lu)&&Q(Ce.target,"top"),(Se=>Vo(Se,ci))(Ce.target)&&Q(Ce.target,"left")}),fe=Ce=>cs(Ce,w.view()),ke=an(w.view(),"mouseover",Ce=>{var Ee;(Ee=Ce.target,vr(Ee,"table",fe).filter(Zu)).fold(()=>{ec(Ce.target)&&!(Se=>Vo(Se,"ephox-snooker-resizer-bar")||Vo(Se,"ephox-dragster-blocker"))(Ce.target)&&sp(w)},Se=>{O.isActive()&&(L=he.some(Se),S1(w,Se))})}),Re=np({adjustHeight:dc(["table","delta","row"]),adjustWidth:dc(["table","delta","column"]),startAdjust:dc([])});return{destroy:()=>{ee.unbind(),ke.unbind(),O.destroy(),sp(w)},refresh:Ce=>{S1(w,Ce)},on:O.on,off:O.off,hideBars:ye(c_,w),showBars:ye(A1,w),events:Re.registry}},rp=w=>S=>S.options.get(w),$v="100%",lh=w=>{const S=w.dom,O=S.getParent(w.selection.getStart(),S.isBlock)??w.getBody();return Hb(je.fromDom(O))+"px"},T1=w=>he.from(w.options.get("table_clone_elements")),rf=rp("table_header_type"),y0=rp("table_column_resizing"),u_=w=>y0(w)==="preservetable",aa=w=>y0(w)==="resizetable",rl=rp("table_sizing_mode"),Mr=w=>rl(w)==="relative",wm=w=>rl(w)==="fixed",cu=w=>rl(w)==="responsive",mn=rp("table_resize_bars"),co=rp("table_style_by_css"),km=rp("table_merge_content_on_paste"),af=w=>{const S=w.options,O=S.get("table_default_attributes");return S.isSet("table_default_attributes")?O:((L,V)=>cu(L)||co(L)?V:wm(L)?{...V,width:lh(L)}:{...V,width:$v})(w,O)},Vv=rp("table_use_colgroups"),x0=w=>je.fromDom(w.getBody()),is=w=>S=>cs(S,x0(w)),ip=w=>{Lr(w,"data-mce-style");const S=O=>Lr(O,"data-mce-style");Mt(qr(w),S),Mt(eh(w),S),Mt(zc(w),S)},v0=w=>je.fromDom(w.selection.getStart()),ct=w=>w.getBoundingClientRect().width,O1=w=>w.getBoundingClientRect().height,Dg=w=>(S,O)=>{const L=S.dom.getStyle(O,w)||S.dom.getAttrib(O,w);return he.from(L).filter(Ls)},Mg=Dg("width"),z1=Dg("height"),ch=w=>Ga(w,Xi("table")).exists(Zu),_m=w=>Wu(w,"table"),du=(w,S,O)=>{const L=V=>U=>O!==void 0&&O(U)||cs(U,V);return cs(w,S)?he.some({boxes:he.some([w]),start:w,finish:S}):_m(w).bind(V=>_m(S).bind(U=>{if(cs(V,U))return he.some({boxes:u0(V,w,S),start:w,finish:S});if(jr(V,U)){const Q=wr(S,"td,th",L(V)),ee=Q.length>0?Q[Q.length-1]:S;return he.some({boxes:_1(V,w,V,S,U),start:w,finish:ee})}if(jr(U,V)){const Q=wr(w,"td,th",L(U)),ee=Q.length>0?Q[Q.length-1]:w;return he.some({boxes:_1(U,w,V,S,U),start:w,finish:ee})}return((Q,ee)=>((fe,ke,Re,Ce=ge)=>{const Ee=[ke].concat(fe.up().all(ke)),Se=[Re].concat(fe.up().all(Re)),Ue=kt=>zs(kt,Ce).fold(()=>kt,St=>kt.slice(0,St+1)),We=Ue(Ee),dt=Ue(Se),pt=To(We,kt=>Me(dt,((St,At)=>ye(St.eq,At))(fe,kt)));return{firstpath:We,secondpath:dt,shared:pt}})(i1,Q,ee,void 0))(w,S).shared.bind(Q=>vr(Q,"table",O).bind(ee=>{const fe=wr(S,"td,th",L(ee)),ke=fe.length>0?fe[fe.length-1]:S,Re=wr(w,"td,th",L(ee)),Ce=Re.length>0?Re[Re.length-1]:w;return he.some({boxes:_1(ee,w,V,S,U),start:Ce,finish:ke})}))}))},Cs=(w,S)=>{const O=Oc(w,S);return O.length>0?he.some(O):he.none()},_d=(w,S,O)=>bt(w,S).bind(L=>bt(w,O).bind(V=>Jb(_m,[L,V]).map(U=>({first:L,last:V,table:U})))),f_=(w,S,O,L,V)=>((U,Q)=>To(U,ee=>ti(ee,Q)))(w,V).bind(U=>((Q,ee,fe)=>Pr(Q).bind(ke=>((Re,Ce,Ee,Se)=>Nc(Re,Ce,cs).bind(Ue=>{const We=Ee>0?Ue.row+Ue.rowspan-1:Ue.row,dt=Se>0?Ue.column+Ue.colspan-1:Ue.column;return Ll(Re,We+Ee,dt+Se).map(pt=>pt.element)}))(f0(ke),Q,ee,fe)))(U,S,O).bind(Q=>((ee,fe)=>Wu(ee,"table").bind(ke=>bt(ke,fe).bind(Re=>du(Re,ee).bind(Ce=>Ce.boxes.map(Ee=>({boxes:Ee,start:Ce.start,finish:Ce.finish}))))))(Q,L))),lf=(w,S)=>Cs(w,S),Cd=(w,S,O)=>_d(w,S,O).bind(L=>{const V=fe=>cs(w,fe),U="thead,tfoot,tbody,table",Q=Wu(L.first,U,V),ee=Wu(L.last,U,V);return Q.bind(fe=>ee.bind(ke=>cs(fe,ke)?((Re,Ce,Ee)=>((Se,Ue,We)=>Og(Se,Ue,We).bind(dt=>((pt,kt)=>{let St=!0;const At=ye(li,kt);for(let zt=kt.startRow;zt<=kt.finishRow;zt++)for(let Lt=kt.startCol;Lt<=kt.finishCol;Lt++)St=St&&Ll(pt,zt,Lt).exists(At);return St?he.some(kt):he.none()})(Se,dt)))(f0(Re),Ce,Ee))(L.table,L.first,L.last):he.none()))}),Ng=ve,hE=w=>{const S=(O,L)=>Wd(O,L).exists(V=>parseInt(V,10)>1);return w.length>0&&Ge(w,O=>S(O,"rowspan")||S(O,"colspan"))?he.some(w):he.none()},h_=(w,S,O)=>S.length<=1?he.none():Cd(w,O.firstSelectedSelector,O.lastSelectedSelector).map(L=>({bounds:L,cells:S})),Ct=(w,S)=>({selection:w,kill:S}),D1=()=>({tag:"none"}),ji=w=>({tag:"multiple",elements:w}),w0=w=>({tag:"single",element:w}),jv=(w,S,O,L)=>({start:jn.on(w,S),finish:jn.on(O,L)}),ap=(w,S)=>{const O=ei(w,S);return dd(je.fromDom(O.startContainer),O.startOffset,je.fromDom(O.endContainer),O.endOffset)},Co=jv,Uv=(w,S,O,L,V)=>cs(O,L)?he.none():du(O,L,S).bind(U=>{const Q=U.boxes.getOr([]);return Q.length>1?(V(w,Q,U.start,U.finish),he.some(Ct(he.some(Co(O,0,O,xn(O))),!0))):he.none()}),Rg=tt([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),pE=w=>vr(w,"tr"),cf={...Rg,verify:(w,S,O,L,V,U,Q)=>vr(L,"td,th",Q).bind(ee=>vr(S,"td,th",Q).map(fe=>cs(ee,fe)?cs(L,ee)&&xn(ee)===V?U(fe):Rg.none("in same cell"):Jb(pE,[ee,fe]).fold(()=>((ke,Re,Ce)=>{const Ee=ke.getRect(Re),Se=ke.getRect(Ce);return Se.right>Ee.left&&Se.left<Ee.right})(w,fe,ee)?Rg.success():U(fe),ke=>U(fe)))).getOr(Rg.none("default")),cata:(w,S,O,L,V)=>w.fold(S,O,L,V)},Mo=Xi("br"),lp=(w,S,O)=>S(w,O).bind(L=>fa(L)&&si(L).trim().length===0?lp(L,S,O):he.some(L)),df=(w,S,O,L)=>((V,U)=>Wr(V,U).filter(Mo).orThunk(()=>Wr(V,U-1).filter(Mo)))(S,O).bind(V=>L.traverse(V).fold(()=>lp(V,L.gather,w).map(L.relative),U=>(Q=>Dl(Q).bind(ee=>{const fe=Ta(ee);return((ke,Re)=>zs(ke,ye(cs,Re)))(fe,Q).map(ke=>((Re,Ce,Ee,Se)=>({parent:Re,children:Ce,element:Ee,index:Se}))(ee,fe,Q,ke))}))(U).map(Q=>jn.on(Q.parent,Q.index)))),Vc=(w,S)=>({left:w.left,top:w.top+S,right:w.right,bottom:w.bottom+S}),cp=(w,S)=>({left:w.left,top:w.top-S,right:w.right,bottom:w.bottom-S}),wl=(w,S,O)=>({left:w.left+S,top:w.top+O,right:w.right+S,bottom:w.bottom+O}),Kn=w=>({left:w.left,top:w.top,right:w.right,bottom:w.bottom}),Lg=(w,S)=>he.some(w.getRect(S)),k0=(w,S,O)=>ml(S)?Lg(w,S).map(Kn):fa(S)?((L,V,U)=>U>=0&&U<xn(V)?L.getRangedRect(V,U,V,U+1):U>0?L.getRangedRect(V,U-1,V,U):he.none())(w,S,O).map(Kn):he.none(),Cm=(w,S)=>ml(S)?Lg(w,S).map(Kn):fa(S)?w.getRangedRect(S,0,S,xn(S)).map(Kn):he.none(),jc=tt([{none:[]},{retry:["caret"]}]),uu=(w,S,O)=>Ga(S,l1).fold(ge,L=>Cm(w,L).exists(V=>((U,Q)=>U.left<Q.left||Math.abs(Q.right-U.left)<1||U.left>Q.right)(O,V))),$a={point:w=>w.bottom,adjuster:(w,S,O,L,V)=>{const U=Vc(V,5);return Math.abs(O.bottom-L.bottom)<1||O.top>V.bottom?jc.retry(U):O.top===V.bottom?jc.retry(Vc(V,1)):uu(w,S,V)?jc.retry(wl(U,5,0)):jc.none()},move:Vc,gather:nf},_0=(w,S,O,L,V)=>V===0?he.some(L):((U,Q,ee)=>U.elementFromPoint(Q,ee).filter(fe=>Zs(fe)==="table").isSome())(w,L.left,S.point(L))?((U,Q,ee,fe,ke)=>_0(U,Q,ee,Q.move(fe,5),ke))(w,S,O,L,V-1):w.situsFromPoint(L.left,S.point(L)).bind(U=>U.start.fold(he.none,Q=>Cm(w,Q).bind(ee=>S.adjuster(w,Q,ee,O,L).fold(he.none,fe=>_0(w,S,O,fe,V-1))).orThunk(()=>he.some(L)),he.none)),p_=(w,S,O)=>{const L=w.move(O,5),V=_0(S,w,O,L,100).getOr(L);return((U,Q,ee)=>U.point(Q)>ee.getInnerHeight()?he.some(U.point(Q)-ee.getInnerHeight()):U.point(Q)<0?he.some(-U.point(Q)):he.none())(w,V,S).fold(()=>S.situsFromPoint(V.left,w.point(V)),U=>(S.scrollBy(0,U),S.situsFromPoint(V.left,w.point(V)-U)))},Wv={tryUp:ye(p_,{point:w=>w.top,adjuster:(w,S,O,L,V)=>{const U=cp(V,5);return Math.abs(O.top-L.top)<1||O.bottom<V.top?jc.retry(U):O.bottom===V.top?jc.retry(cp(V,1)):uu(w,S,V)?jc.retry(wl(U,5,0)):jc.none()},move:cp,gather:yd}),tryDown:ye(p_,$a),getJumpSize:ie(5)},C0=(w,S,O)=>w.getSelection().bind(L=>((V,U,Q,ee)=>(Mo(U)?((ke,Re,Ce)=>Ce.traverse(Re).orThunk(()=>lp(Re,Ce.gather,ke)).map(Ce.relative))(V,U,ee):df(V,U,Q,ee)).map(ke=>({start:ke,finish:ke})))(S,L.finish,L.foffset,O).fold(()=>he.some(nn(L.finish,L.foffset)),V=>{const U=w.fromSitus(V);return Q=cf.verify(w,L.finish,L.foffset,U.finish,U.foffset,O.failure,S),cf.cata(Q,ee=>he.none(),()=>he.none(),ee=>he.some(nn(ee,0)),ee=>he.some(nn(ee,xn(ee))));var Q})),S0=(w,S,O,L,V,U)=>U===0?he.none():Bg(w,S,O,L,V).bind(Q=>{const ee=w.fromSitus(Q),fe=cf.verify(w,O,L,ee.finish,ee.foffset,V.failure,S);return cf.cata(fe,()=>he.none(),()=>he.some(Q),ke=>cs(O,ke)&&L===0?kn(w,O,L,cp,V):S0(w,S,ke,0,V,U-1),ke=>cs(O,ke)&&L===xn(ke)?kn(w,O,L,Vc,V):S0(w,S,ke,xn(ke),V,U-1))}),kn=(w,S,O,L,V)=>k0(w,S,O).bind(U=>fu(w,V,L(U,Wv.getJumpSize()))),fu=(w,S,O)=>{const L=ad().browser;return L.isChromium()||L.isSafari()||L.isFirefox()?S.retry(w,O):he.none()},Bg=(w,S,O,L,V)=>k0(w,O,L).bind(U=>fu(w,V,U)),mE=(w,S,O,L,V)=>vr(L,"td,th",S).bind(U=>vr(U,"table",S).bind(Q=>((ee,fe)=>Yf(ee,ke=>Dl(ke).exists(Re=>cs(Re,fe)),void 0).isSome())(V,Q)?((ee,fe,ke)=>C0(ee,fe,ke).bind(Re=>S0(ee,fe,Re.element,Re.offset,ke,20).map(ee.fromSitus)))(w,S,O).bind(ee=>vr(ee.finish,"td,th",S).map(fe=>({start:U,finish:fe,range:ee}))):he.none())),E0=(w,S,O,L,V,U)=>U(L,S).orThunk(()=>mE(w,S,O,L,V).map(Q=>{const ee=Q.range;return Ct(he.some(Co(ee.start,ee.soffset,ee.finish,ee.foffset)),!0)})),Bn=(w,S)=>vr(w,"tr",S).bind(O=>vr(O,"table",S).bind(L=>{const V=Oc(L,"tr");return cs(O,V[0])?((U,Q,ee)=>hm(Ic,U,fe=>Br(fe).isSome(),ee))(L,0,S).map(U=>{const Q=xn(U);return Ct(he.some(Co(U,Q,U,Q)),!0)}):he.none()})),gE=(w,S)=>vr(w,"tr",S).bind(O=>vr(O,"table",S).bind(L=>{const V=Oc(L,"tr");return cs(O,V[V.length-1])?((U,Q,ee)=>r1(Ic,U,fe=>jh(fe).isSome(),ee))(L,0,S).map(U=>Ct(he.some(Co(U,0,U,0)),!0)):he.none()})),A0=(w,S,O,L,V,U,Q)=>mE(w,O,L,V,U).bind(ee=>Uv(S,O,ee.start,ee.finish,Q)),uc=(w,S)=>vr(w,"td,th",S),ka=w=>Fh(w).exists(Zu),Sm={traverse:Ac,gather:nf,relative:jn.before,retry:Wv.tryDown,failure:cf.failedDown},dh={traverse:Hh,gather:yd,relative:jn.before,retry:Wv.tryUp,failure:cf.failedUp},Sd=w=>S=>S===w,Em=Sd(38),dp=Sd(40),gn=w=>w>=37&&w<=40,Zv={isBackward:Sd(37),isForward:Sd(39)},M1={isBackward:Sd(39),isForward:Sd(37)},qv=w=>({elementFromPoint:(S,O)=>je.fromPoint(je.fromDom(w.document),S,O),getRect:S=>S.dom.getBoundingClientRect(),getRangedRect:(S,O,L,V)=>{const U=Qf.exact(S,O,L,V);return((Q,ee)=>(fe=>{const ke=fe.getClientRects(),Re=ke.length>0?ke[0]:fe.getBoundingClientRect();return Re.width>0||Re.height>0?he.some(Re).map(pi):he.none()})(ei(Q,ee)))(w,U)},getSelection:()=>mr(w).map(S=>ap(w,S)),fromSitus:S=>{const O=Qf.relative(S.start,S.finish);return ap(w,O)},situsFromPoint:(S,O)=>Ii(w,S,O).map(L=>jv(L.start,L.soffset,L.finish,L.foffset)),clearSelection:()=>{(S=>{cn(S).each(O=>O.removeAllRanges())})(w)},collapseSelection:(S=!1)=>{mr(w).each(O=>O.fold(L=>L.collapse(S),(L,V)=>{const U=S?L:V;Wb(w,U,U)},(L,V,U,Q)=>{const ee=S?L:U,fe=S?V:Q;Xo(w,ee,fe,ee,fe)}))},setSelection:S=>{Xo(w,S.start,S.soffset,S.finish,S.foffset)},setRelativeSelection:(S,O)=>{Wb(w,S,O)},selectNode:S=>{hd(w,S,!1)},selectContents:S=>{hd(w,S)},getInnerHeight:()=>w.innerHeight,getScrollY:()=>(S=>{const O=S!==void 0?S.dom:document,L=O.body.scrollLeft||O.documentElement.scrollLeft,V=O.body.scrollTop||O.documentElement.scrollTop;return ha(L,V)})(je.fromDom(w.document)).top,scrollBy:(S,O)=>{((L,V,U)=>{const Q=(U!==void 0?U.dom:document).defaultView;Q&&Q.scrollBy(L,V)})(S,O,je.fromDom(w.document))}}),Uc=(w,S)=>({rows:w,cols:S}),N1=w=>Ga(w,xr).exists(Zu),R1=(w,S)=>N1(w)||N1(S),L1="data-mce-selected",up="data-mce-first-selected",Am="data-mce-last-selected",Tm="["+L1+"]",Wc={selected:L1,selectedSelector:"td["+L1+"],th["+L1+"]",firstSelected:up,firstSelectedSelector:"td["+up+"],th["+up+"]",lastSelected:Am,lastSelectedSelector:"td["+Am+"],th["+Am+"]"},T0=(w,S,O)=>({element:O,mergable:h_(S,w,Wc),unmergable:hE(w),selection:Ng(w)}),m_=w=>(S,O)=>{const L=Zs(S),V=L==="col"||L==="colgroup"?Pr(U=S).bind(Q=>lf(Q,Wc.firstSelectedSelector)).fold(ie(U),Q=>Q[0]):S;var U;return vr(V,w,O)},g_=m_("th,td,caption"),Kv=m_("th,td"),hu=w=>{return S=w.model.table.getSelectedCells(),I(S,je.fromDom);var S},Gv=(w,S)=>{w.on("BeforeGetContent",O=>{const L=V=>{O.preventDefault(),(U=>Pr(U[0]).map(Q=>{const ee=((fe,ke)=>{const Re=St=>ti(St.element,ke),Ce=ni(fe),Ee=_g(Ce),Se=Bc(fe),Ue=qu(Ee),We=((St,At)=>{const zt=St.grid.columns;let Lt=St.grid.rows,oo=zt,No=0,Un=0;const Lo=[],vn=[];return Zo(St.access,qo=>{if(Lo.push(qo),At(qo)){vn.push(qo);const fs=qo.row,Gr=fs+qo.rowspan-1,_a=qo.column,Ai=_a+qo.colspan-1;fs<Lt?Lt=fs:Gr>No&&(No=Gr),_a<oo?oo=_a:Ai>Un&&(Un=Ai)}}),((qo,fs,Gr,_a,Ai,Qt)=>({minRow:qo,minCol:fs,maxRow:Gr,maxCol:_a,allCells:Ai,selectedCells:Qt}))(Lt,oo,No,Un,Lo,vn)})(Ue,Re),dt="th:not("+ke+"),td:not("+ke+")",pt=kr(Ce,"th,td",St=>ti(St,dt));Mt(pt,Ri),((St,At,zt,Lt)=>{const oo=zo(St,Lo=>Lo.section!=="colgroup"),No=At.grid.columns,Un=At.grid.rows;for(let Lo=0;Lo<Un;Lo++){let vn=!1;for(let qo=0;qo<No;qo++)Lo<zt.minRow||Lo>zt.maxRow||qo<zt.minCol||qo>zt.maxCol||(Ll(At,Lo,qo).filter(Lt).isNone()?nh(oo,vn,Lo):vn=!0)}})(Ee,Ue,We,Re);const kt=((St,At,zt,Lt)=>{if(Lt.minCol===0&&At.grid.columns===Lt.maxCol+1)return 0;const oo=ou(At,St,zt),No=ft(oo,(vn,qo)=>vn+qo,0),Un=ft(oo.slice(Lt.minCol,Lt.maxCol+1),(vn,qo)=>vn+qo,0),Lo=Un/No*zt.pixelWidth()-zt.pixelWidth();return zt.getCellDelta(Lo)})(fe,Fi(fe),Se,We);return((St,At,zt,Lt)=>{Zo(zt.columns,No=>{(No.column<At.minCol||No.column>At.maxCol)&&Ri(No.element)});const oo=zo(ln(St,"tr"),No=>No.dom.childElementCount===0);Mt(oo,Ri),At.minCol!==At.maxCol&&At.minRow!==At.maxRow||Mt(ln(St,"th,td"),No=>{Lr(No,"rowspan"),Lr(No,"colspan")}),Lr(St,Cg),Lr(St,"data-snooker-col-series"),Bc(St).adjustTableWidth(Lt)})(Ce,We,Ue,kt),Ce})(Q,Tm);return ip(ee),[ee]}))(V).each(U=>{const Q=O.format==="text"?((ee,fe)=>{const ke=ee.getDoc(),Re=_e(je.fromDom(ee.getBody())),Ce=je.fromTag("div",ke);Jn(Ce,"data-mce-bogus","all"),Xp(Ce,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const Ee=(Ue=>re(Ue)?Ue:je.fromDom(Kf(Ue).dom.body))(Re);Oa(Ce,fe),ks(Ee,Ce);const Se=Ce.dom.innerText;return Ri(Ce),Se})(w,U):((ee,fe)=>I(fe,ke=>ee.selection.serializer.serialize(ke.dom,{})).join(""))(w,U);O.content=Q})};if(O.selection===!0){const V=(U=>zo(hu(U),Q=>ti(Q,Wc.selectedSelector)))(w);V.length>=1&&L(V)}}),w.on("BeforeSetContent",O=>{if(O.selection===!0&&O.paste===!0){const L=hu(w);_o(L).each(V=>{Pr(V).each(U=>{const Q=zo((fe=>{const ke=document.createElement("div");return ke.innerHTML=fe,Ta(je.fromDom(ke))})(O.content),fe=>Zs(fe)!=="meta"),ee=Xi("table");if(km(w)&&Q.length===1&&ee(Q[0])){O.preventDefault();const fe=je.fromDom(w.getDoc()),ke=eo(fe),Re=((Ce,Ee,Se)=>({element:Ce,clipboard:Ee,generators:Se}))(V,Q[0],ke);S.pasteCells(U,Re).each(()=>{w.focus()})}})})}})},uh=(w,S)=>w.dispatch("NewRow",{node:S}),B1=(w,S)=>w.dispatch("NewCell",{node:S}),Fl=(w,S,O)=>{w.dispatch("TableModified",{...O,table:S})},Pg={structure:!1,style:!0},di={structure:!0,style:!1},fh={structure:!0,style:!0},Yv=(w,S)=>Mr(w)?Fa(S):wm(w)?xt(S):Bc(S),Ig=(w,S,O)=>{const L=Re=>Zs(x0(Re))==="table",V=T1(w),U=aa(w)?Y:ds,Q=Re=>{switch(rf(w)){case"section":return Tr();case"sectionCells":return Ba();case"cells":return fr();default:return((Ce,Ee)=>{var Se;switch((Se=Fi(Ce),G(Se.all,Ue=>{const We=Kb(Ue);return We.type==="header"?he.from(We.subType):he.none()})).getOr(Ee)){case"section":return Zh();case"sectionCells":return er();case"cells":return qh()}})(Re,"section")}},ee=(Re,Ce,Ee,Se)=>(Ue,We,dt=!1)=>{ip(Ue);const pt=je.fromDom(w.getDoc()),kt=xd(Ee,pt,V),St={sizing:Yv(w,Ue),resize:aa(w)?pa():pd(),section:Q(Ue)};return Ce(Ue)?Re(Ue,We,kt,St).bind(At=>{S.refresh(Ue.dom),Mt(At.newRows,Lt=>{uh(w,Lt.dom)}),Mt(At.newCells,Lt=>{B1(w,Lt.dom)});const zt=((Lt,oo)=>oo.cursor.fold(()=>{const No=qr(Lt);return _o(No).filter(ec).map(Un=>{O.clearSelectedCells(Lt.dom);const Lo=w.dom.createRng();return Lo.selectNode(Un.dom),w.selection.setRng(Lo),Jn(Un,"data-mce-selected","1"),Lo})},No=>{const Un=Qb(Sg,No),Lo=w.dom.createRng();return Lo.setStart(Un.element.dom,Un.offset),Lo.setEnd(Un.element.dom,Un.offset),w.selection.setRng(Lo),O.clearSelectedCells(Lt.dom),he.some(Lo)}))(Ue,At);return ec(Ue)&&(ip(Ue),dt||Fl(w,Ue.dom,Se)),zt.map(Lt=>({rng:Lt,effect:Se}))}):he.none()},fe=ee(d0,Re=>!L(w)||sn(Re).rows>1,Y,di),ke=ee(c0,Re=>!L(w)||sn(Re).columns>1,Y,di);return{deleteRow:fe,deleteColumn:ke,insertRowsBefore:ee(Ag,Ie,Y,di),insertRowsAfter:ee(sa,Ie,Y,di),insertColumnsBefore:ee(op,Ie,U,di),insertColumnsAfter:ee(Tg,Ie,U,di),mergeCells:ee(r_,Ie,Y,di),unmergeCells:ee(i_,Ie,Y,di),pasteColsBefore:ee(a_,Ie,Y,di),pasteColsAfter:ee(w1,Ie,Y,di),pasteRowsBefore:ee(l_,Ie,Y,di),pasteRowsAfter:ee(Kr,Ie,Y,di),pasteCells:ee(Pv,Ie,Y,fh),makeCellsHeader:ee(ra,Ie,Y,di),unmakeCellsHeader:ee(ih,Ie,Y,di),makeColumnsHeader:ee(rh,Ie,Y,di),unmakeColumnsHeader:ee(n_,Ie,Y,di),makeRowsHeader:ee(v1,Ie,Y,di),makeRowsBody:ee(s_,Ie,Y,di),makeRowsFooter:ee(Bv,Ie,Y,di),getTableRowType:ia,getTableCellType:Vi,getTableColType:ai}},O0=(w,S)=>{w.selection.select(S.dom,!0),w.selection.collapse(!0)},b_=(w,S,O,L,V)=>{const U=(ee=>{const fe=ee.options,ke=fe.get("table_default_styles");return fe.isSet("table_default_styles")?ke:((Re,Ce)=>cu(Re)||!co(Re)?Ce:wm(Re)?{...Ce,width:lh(Re)}:{...Ce,width:$v})(ee,ke)})(w),Q={styles:U,attributes:af(w),colGroups:Vv(w)};return w.undoManager.ignore(()=>{const ee=((ke,Re,Ce,Ee,Se,Ue=Iv)=>{const We=je.fromTag("table"),dt=Se!=="cells";Xp(We,Ue.styles),za(We,Ue.attributes),Ue.colGroups&&ks(We,(At=>{const zt=je.fromTag("colgroup");return yt(At,()=>ks(zt,je.fromTag("col"))),zt})(Re));const pt=Math.min(ke,Ce);if(dt&&Ce>0){const At=je.fromTag("thead");ks(We,At);const zt=sf(Ce,Re,Se==="sectionCells"?pt:0,Ee);Oa(At,zt)}const kt=je.fromTag("tbody");ks(We,kt);const St=sf(dt?ke-pt:ke,Re,dt?0:Ce,Ee);return Oa(kt,St),We})(O,S,V,L,rf(w),Q);Jn(ee,"data-mce-id","__mce");const fe=(ke=>{const Re=je.fromTag("div"),Ce=je.fromDom(ke.dom.cloneNode(!0));return ks(Re,Ce),(Ee=>Ee.dom.innerHTML)(Re)})(ee);w.insertContent(fe),w.addVisual()}),bt(x0(w),'table[data-mce-id="__mce"]').map(ee=>(wm(w)?Dr(ee):cu(w)?Xk(ee):(Mr(w)||(fe=>d(fe)&&fe.indexOf("%")!==-1)(U.width))&&ru(ee),ip(ee),Lr(ee,"data-mce-id"),((fe,ke)=>{Mt(Oc(ke,"tr"),Re=>{uh(fe,Re.dom),Mt(Oc(Re,"th,td"),Ce=>{B1(fe,Ce.dom)})})})(w,ee),((fe,ke)=>{bt(ke,"td,th").each(ye(O0,fe))})(w,ee),ee.dom)).getOrNull()};var z0=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Om="x-tinymce/dom-table-",uf=Om+"rows",Fg=Om+"columns",ui=w=>{const S=z0.FakeClipboardItem(w);z0.write([S])},zm=w=>{const S=z0.read()??[];return G(S,O=>he.from(O.getType(w)))},kl=w=>{zm(w).isSome()&&z0.clear()},y_=w=>{w.fold(Hg,S=>ui({[uf]:S}))},x_=()=>zm(uf),Hg=()=>kl(uf),Dm=w=>{w.fold(fc,S=>ui({[Fg]:S}))},hh=()=>zm(Fg),fc=()=>kl(Fg),D0=w=>g_(v0(w),is(w)).filter(ch),P1=(w,S)=>{const O=is(w),L=Ce=>Pr(Ce,O),V=Ce=>(Ee=>Kv(v0(Ee),is(Ee)).filter(ch))(w).bind(Ee=>L(Ee).map(Se=>Ce(Se,Ee))),U=Ce=>{w.focus()},Q=(Ce,Ee=!1)=>V((Se,Ue)=>{const We=T0(hu(w),Se,Ue);Ce(Se,We,Ee).each(U)}),ee=()=>V((Ce,Ee)=>((Se,Ue,We)=>{const dt=Fi(Se);return Fr(dt,Ue).bind(pt=>{const kt=ya(dt,We,!1),St=Us(kt).rows.slice(pt[0].row,pt[pt.length-1].row+pt[pt.length-1].rowspan),At=Le(St,Lt=>{const oo=zo(Lt.cells,No=>!No.isLocked);return oo.length>0?[{...Lt,cells:oo}]:[]}),zt=ta(At);return Ds(zt.length>0,zt)}).map(pt=>I(pt,kt=>{const St=yg(kt.element);return Mt(kt.cells,At=>{const zt=ni(At.element);Ju(zt,"colspan",At.colspan,1),Ju(zt,"rowspan",At.rowspan,1),ks(St,zt)}),St}))})(Ce,T0(hu(w),Ce,Ee),xd(Y,je.fromDom(w.getDoc()),he.none()))),fe=()=>V((Ce,Ee)=>((Se,Ue)=>{const We=Fi(Se);return ef(We,Ue).map(dt=>{const pt=dt[dt.length-1],kt=dt[0].column,St=pt.column+pt.colspan,At=((Lt,oo,No)=>{if(nc(Lt)){const Un=zo(Ya(Lt),Gh(oo,No)),Lo=I(Un,qo=>{const fs=ni(qo.element);return nu(fs,"span",No-oo),fs}),vn=je.fromTag("colgroup");return Oa(vn,Lo),[vn]}return[]})(We,kt,St),zt=((Lt,oo,No)=>I(Lt.all,Un=>{const Lo=zo(Un.cells,Gh(oo,No)),vn=I(Lo,fs=>{const Gr=ni(fs.element);return nu(Gr,"colspan",No-oo),Gr}),qo=je.fromTag("tr");return Oa(qo,vn),qo}))(We,kt,St);return[...At,...zt]})})(Ce,T0(hu(w),Ce,Ee))),ke=(Ce,Ee)=>Ee().each(Se=>{const Ue=I(Se,We=>ni(We));V((We,dt)=>{const pt=eo(je.fromDom(w.getDoc())),kt=((St,At,zt,Lt)=>({selection:Ng(St),clipboard:zt,generators:Lt}))(hu(w),0,Ue,pt);Ce(We,kt).each(U)})}),Re=Ce=>(Ee,Se)=>((Ue,We)=>Do(Ue,We)?he.from(Ue[We]):he.none())(Se,"type").each(Ue=>{Q(Ce(Ue),Se.no_events)});Zo({mceTableSplitCells:()=>Q(S.unmergeCells),mceTableMergeCells:()=>Q(S.mergeCells),mceTableInsertRowBefore:()=>Q(S.insertRowsBefore),mceTableInsertRowAfter:()=>Q(S.insertRowsAfter),mceTableInsertColBefore:()=>Q(S.insertColumnsBefore),mceTableInsertColAfter:()=>Q(S.insertColumnsAfter),mceTableDeleteCol:()=>Q(S.deleteColumn),mceTableDeleteRow:()=>Q(S.deleteRow),mceTableCutCol:()=>fe().each(Ce=>{Dm(Ce),Q(S.deleteColumn)}),mceTableCutRow:()=>ee().each(Ce=>{y_(Ce),Q(S.deleteRow)}),mceTableCopyCol:()=>fe().each(Ce=>Dm(Ce)),mceTableCopyRow:()=>ee().each(Ce=>y_(Ce)),mceTablePasteColBefore:()=>ke(S.pasteColsBefore,hh),mceTablePasteColAfter:()=>ke(S.pasteColsAfter,hh),mceTablePasteRowBefore:()=>ke(S.pasteRowsBefore,x_),mceTablePasteRowAfter:()=>ke(S.pasteRowsAfter,x_),mceTableDelete:()=>D0(w).each(Ce=>{Pr(Ce,O).filter(Je(O)).each(Ee=>{const Se=je.fromText("");if(cr(Ee,Se),Ri(Ee),w.dom.isEmpty(w.getBody()))w.setContent(""),w.selection.setCursorLocation();else{const Ue=w.dom.createRng();Ue.setStart(Se.dom,0),Ue.setEnd(Se.dom,0),w.selection.setRng(Ue),w.nodeChanged()}})}),mceTableCellToggleClass:(Ce,Ee)=>{V(Se=>{const Ue=hu(w),We=Ge(Ue,pt=>w.formatter.match("tablecellclass",{value:Ee},pt.dom)),dt=We?w.formatter.remove:w.formatter.apply;Mt(Ue,pt=>dt("tablecellclass",{value:Ee},pt.dom)),Fl(w,Se.dom,Pg)})},mceTableToggleClass:(Ce,Ee)=>{V(Se=>{w.formatter.toggle("tableclass",{value:Ee},Se.dom),Fl(w,Se.dom,Pg)})},mceTableToggleCaption:()=>{D0(w).each(Ce=>{Pr(Ce,O).each(Ee=>{Vh(Ee,"caption").fold(()=>{const Se=je.fromTag("caption");ks(Se,je.fromText("Caption")),((Ue,We)=>{Wr(Ue,0).fold(()=>{ks(Ue,We)},dt=>{wn(dt,We)})})(Ee,Se),w.selection.setCursorLocation(Se.dom,0)},Se=>{Xi("caption")(Ce)&&jf("td",Ee).each(Ue=>w.selection.setCursorLocation(Ue.dom,0)),Ri(Se)}),Fl(w,Ee.dom,di)})})},mceTableSizingMode:(Ce,Ee)=>(Se=>D0(w).each(Ue=>{cu(w)||wm(w)||Mr(w)||Pr(Ue,O).each(We=>{Se!=="relative"||Ja(We)?Se!=="fixed"||su(We)?Se!=="responsive"||ac(We)||Xk(We):Dr(We):ru(We),ip(We),Fl(w,We.dom,di)})}))(Ee),mceTableCellType:Re(Ce=>Ce==="th"?S.makeCellsHeader:S.unmakeCellsHeader),mceTableColType:Re(Ce=>Ce==="th"?S.makeColumnsHeader:S.unmakeColumnsHeader),mceTableRowType:Re(Ce=>{switch(Ce){case"header":return S.makeRowsHeader;case"footer":return S.makeRowsFooter;default:return S.makeRowsBody}})},(Ce,Ee)=>w.addCommand(Ee,Ce)),w.addCommand("mceInsertTable",(Ce,Ee)=>{((Se,Ue,We,dt={})=>{const pt=kt=>K(kt)&&kt>0;if(pt(Ue)&&pt(We)){const kt=dt.headerRows||0,St=dt.headerColumns||0;return b_(Se,We,Ue,St,kt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(w,Ee.rows,Ee.columns,Ee.options)}),w.addCommand("mceTableApplyCellStyle",(Ce,Ee)=>{const Se=dt=>"tablecell"+dt.toLowerCase().replace("-","");if(!h(Ee))return;const Ue=zo(hu(w),ch);if(Ue.length===0)return;const We=((dt,pt)=>{const kt={};return((St,At,zt,Lt)=>{Zo(St,(oo,No)=>{(At(oo,No)?zt:Lt)(oo,No)})})(dt,pt,(St=>(At,zt)=>{St[zt]=At})(kt),Y),kt})(Ee,(dt,pt)=>w.formatter.has(Se(pt))&&d(dt));(dt=>{for(const pt in dt)if(Vn.call(dt,pt))return!1;return!0})(We)||(Zo(We,(dt,pt)=>{const kt=Se(pt);Mt(Ue,St=>{dt===""?w.formatter.remove(kt,{value:null},St.dom,!0):w.formatter.apply(kt,{value:dt},St.dom)})}),L(Ue[0]).each(dt=>Fl(w,dt.dom,Pg)))})},M0=w=>!Vo(je.fromDom(w.target),"ephox-snooker-resizer-bar"),N0=(w,S)=>{const O=(V=Wc.selectedSelector,{get:()=>lf(je.fromDom(w.getBody()),V).fold(()=>Kv(v0(w),is(w)).fold(D1,w0),ji)}),L=((U,Q,ee)=>{const fe=Ee=>{Lr(Ee,U.selected),Lr(Ee,U.firstSelected),Lr(Ee,U.lastSelected)},ke=Ee=>{Jn(Ee,U.selected,"1")},Re=Ee=>{Ce(Ee),ee()},Ce=Ee=>{const Se=Oc(Ee,`${U.selectedSelector},${U.firstSelectedSelector},${U.lastSelectedSelector}`);Mt(Se,fe)};return{clearBeforeUpdate:Ce,clear:Re,selectRange:(Ee,Se,Ue,We)=>{Re(Ee),Mt(Se,ke),Jn(Ue,U.firstSelected,"1"),Jn(We,U.lastSelected,"1"),Q(Se,Ue,We)},selectedSelector:U.selectedSelector,firstSelectedSelector:U.firstSelectedSelector,lastSelectedSelector:U.lastSelectedSelector}})(Wc,(U,Q,ee)=>{Pr(Q).each(fe=>{const ke=I(U,Se=>Se.dom),Re=T1(w),Ce=xd(Y,je.fromDom(w.getDoc()),Re),Ee=((Se,Ue,We)=>{const dt=Fi(Se);return Fr(dt,Ue).map(pt=>{const kt=ya(dt,We,!1),{rows:St}=Us(kt),At=((Lt,oo)=>{const No=Lt.slice(0,oo[oo.length-1].row+1),Un=ta(No);return Le(Un,Lo=>{const vn=Lo.cells.slice(0,oo[oo.length-1].column+1);return I(vn,qo=>qo.element)})})(St,pt),zt=((Lt,oo)=>{const No=Lt.slice(oo[0].row+oo[0].rowspan-1,Lt.length),Un=ta(No);return Le(Un,Lo=>{const vn=Lo.cells.slice(oo[0].column+oo[0].colspan-1,Lo.cells.length);return I(vn,qo=>qo.element)})})(St,pt);return{upOrLeftCells:At,downOrRightCells:zt}})})(fe,{selection:hu(w)},Ce).map(Se=>yr(Se,Ue=>I(Ue,We=>We.dom))).getOrUndefined();((Se,Ue,We,dt,pt)=>{Se.dispatch("TableSelectionChange",{cells:Ue,start:We,finish:dt,otherCells:pt})})(w,ke,Q.dom,ee.dom,Ee)})},()=>(U=>{U.dispatch("TableSelectionClear")})(w));var V;return w.on("init",U=>{const Q=w.getWin(),ee=x0(w),fe=is(w),ke=((We,dt,pt,kt)=>{const St=((At,zt,Lt,oo)=>{const No=ar(),Un=No.clear,Lo=vn=>{No.on(qo=>{oo.clearBeforeUpdate(zt),uc(vn.target,Lt).each(fs=>{du(qo,fs,Lt).each(Gr=>{const _a=Gr.boxes.getOr([]);if(_a.length===1){const Ai=_a[0],Qt=Pi(Ai)==="false",ff=Gi(xe(vn.target),Ai,cs);Qt&&ff&&oo.selectRange(zt,_a,Ai,Ai)}else _a.length>1&&(oo.selectRange(zt,_a,Gr.start,Gr.finish),At.selectContents(fs))})})})};return{clearstate:Un,mousedown:vn=>{oo.clear(zt),uc(vn.target,Lt).filter(ka).each(No.set)},mouseover:vn=>{Lo(vn)},mouseup:vn=>{Lo(vn),Un()}}})(qv(We),dt,pt,kt);return{clearstate:St.clearstate,mousedown:St.mousedown,mouseover:St.mouseover,mouseup:St.mouseup}})(Q,ee,fe,L),Re=((We,dt,pt,kt)=>{const St=qv(We),At=()=>(kt.clear(dt),he.none());return{keydown:(zt,Lt,oo,No,Un,Lo)=>{const vn=zt.raw,qo=vn.which,fs=vn.shiftKey===!0;return Cs(dt,kt.selectedSelector).fold(()=>(gn(qo)&&!fs&&kt.clearBeforeUpdate(dt),gn(qo)&&fs&&!R1(Lt,No)?he.none:dp(qo)&&fs?ye(A0,St,dt,pt,Sm,No,Lt,kt.selectRange):Em(qo)&&fs?ye(A0,St,dt,pt,dh,No,Lt,kt.selectRange):dp(qo)?ye(E0,St,pt,Sm,No,Lt,gE):Em(qo)?ye(E0,St,pt,dh,No,Lt,Bn):he.none),_a=>{const Ai=Qt=>()=>G(Qt,Va=>((fp,pu,$g,mu,hf)=>f_(mu,fp,pu,hf.firstSelectedSelector,hf.lastSelectedSelector).map(Vg=>(hf.clearBeforeUpdate($g),hf.selectRange($g,Vg.boxes,Vg.start,Vg.finish),Vg.boxes)))(Va.rows,Va.cols,dt,_a,kt)).fold(()=>_d(dt,kt.firstSelectedSelector,kt.lastSelectedSelector).map(Va=>{const fp=dp(qo)||Lo.isForward(qo)?jn.after:jn.before;return St.setRelativeSelection(jn.on(Va.first,0),fp(Va.table)),kt.clear(dt),Ct(he.none(),!0)}),Va=>he.some(Ct(he.none(),!0)));return gn(qo)&&fs&&!R1(Lt,No)?he.none:dp(qo)&&fs?Ai([Uc(1,0)]):Em(qo)&&fs?Ai([Uc(-1,0)]):Lo.isBackward(qo)&&fs?Ai([Uc(0,-1),Uc(-1,0)]):Lo.isForward(qo)&&fs?Ai([Uc(0,1),Uc(1,0)]):gn(qo)&&!fs?At:he.none})()},keyup:(zt,Lt,oo,No,Un)=>Cs(dt,kt.selectedSelector).fold(()=>{const Lo=zt.raw,vn=Lo.which;return Lo.shiftKey===!0&&gn(vn)&&R1(Lt,No)?((qo,fs,Gr,_a,Ai,Qt,ff)=>cs(Gr,Ai)&&_a===Qt?he.none():vr(Gr,"td,th",fs).bind(Va=>vr(Ai,"td,th",fs).bind(fp=>Uv(qo,fs,Va,fp,ff))))(dt,pt,Lt,oo,No,Un,kt.selectRange):he.none()},he.none)}})(Q,ee,fe,L),Ce=((We,dt,pt,kt)=>{const St=qv(We);return(At,zt)=>{kt.clearBeforeUpdate(dt),du(At,zt,pt).each(Lt=>{const oo=Lt.boxes.getOr([]);kt.selectRange(dt,oo,Lt.start,Lt.finish),St.selectContents(zt),St.collapseSelection()})}})(Q,ee,fe,L);w.on("TableSelectorChange",We=>Ce(We.start,We.finish));const Ee=(We,dt)=>{(pt=>pt.raw.shiftKey===!0)(We)&&(dt.kill&&We.kill(),dt.selection.each(pt=>{const kt=Qf.relative(pt.start,pt.finish),St=ei(Q,kt);w.selection.setRng(St)}))},Se=We=>We.button===0,Ue=(()=>{const We=es(je.fromDom(ee)),dt=es(0);return{touchEnd:pt=>{const kt=je.fromDom(pt.target);if(Xi("td")(kt)||Xi("th")(kt)){const St=We.get(),At=dt.get();cs(St,kt)&&pt.timeStamp-At<300&&(pt.preventDefault(),Ce(kt,kt))}We.set(kt),dt.set(pt.timeStamp)}}})();w.on("dragstart",We=>{ke.clearstate()}),w.on("mousedown",We=>{Se(We)&&M0(We)&&ke.mousedown(In(We))}),w.on("mouseover",We=>{var dt;((dt=We).buttons===void 0||1&dt.buttons)&&M0(We)&&ke.mouseover(In(We))}),w.on("mouseup",We=>{Se(We)&&M0(We)&&ke.mouseup(In(We))}),w.on("touchend",Ue.touchEnd),w.on("keyup",We=>{const dt=In(We);if(dt.raw.shiftKey&&gn(dt.raw.which)){const pt=w.selection.getRng(),kt=je.fromDom(pt.startContainer),St=je.fromDom(pt.endContainer);Re.keyup(dt,kt,pt.startOffset,St,pt.endOffset).each(At=>{Ee(dt,At)})}}),w.on("keydown",We=>{const dt=In(We);S.hide();const pt=w.selection.getRng(),kt=je.fromDom(pt.startContainer),St=je.fromDom(pt.endContainer),At=$b(Zv,M1)(je.fromDom(w.selection.getStart()));Re.keydown(dt,kt,pt.startOffset,St,pt.endOffset,At).each(zt=>{Ee(dt,zt)}),S.show()}),w.on("NodeChange",()=>{const We=w.selection,dt=je.fromDom(We.getStart()),pt=je.fromDom(We.getEnd());Jb(Pr,[dt,pt]).fold(()=>L.clear(ee),Y)})}),w.on("PreInit",()=>{w.serializer.addTempAttr(Wc.firstSelected),w.serializer.addTempAttr(Wc.lastSelected)}),{getSelectedCells:()=>((U,Q)=>{switch(U.tag){case"none":return Q();case"single":return(ee=>[ee.dom])(U.element);case"multiple":return(ee=>I(ee,fe=>fe.dom))(U.elements)}})(O.get(),ie([])),clearSelectedCells:U=>L.clear(je.fromDom(U))}},v_=w=>D(w)&&w.nodeName==="TABLE",Mm="bar-",R0=w=>Uu(w,"data-mce-resize")!=="false",w_=w=>{const S=ar(),O=ar(),L=ar();let V,U,Q,ee;const fe=Se=>Yv(w,Se),ke=()=>u_(w)?pd():pa(),Re=(Se,Ue,We,dt)=>{const pt=(At=>{return so(zt=At,"corner-")?(Lt=>Lt.substring(7))(zt):zt;var zt})(Ue),kt=en(pt,"e"),St=so(pt,"n");if(U===""&&ru(Se),ee===""&&(At=>{const zt=(Lt=>cd(Lt)+"px")(At);Si(At,he.none(),he.some(zt)),Fc(At)})(Se),We!==V&&U!==""){Ci(Se,"width",U);const At=ke(),zt=fe(Se),Lt=u_(w)||kt?(oo=>sn(oo).columns)(Se)-1:0;$i(Se,We-V,Lt,At,zt)}else if((At=>/^(\d+(\.\d+)?)%$/.test(At))(U)){const At=parseFloat(U.replace("%",""));Ci(Se,"width",We*At/V+"%")}if((At=>/^(\d+(\.\d+)?)px$/.test(At))(U)&&(At=>{const zt=Fi(At);nc(zt)||Mt(qr(At),Lt=>{const oo=qd(Lt,"width");Ci(Lt,"width",oo),Lr(Lt,"width")})})(Se),dt!==Q&&ee!==""){Ci(Se,"height",ee);const At=St?0:(zt=>sn(zt).rows)(Se)-1;yi(Se,dt-Q,At)}};w.on("init",()=>{const Se=((Ue,We)=>((dt,pt)=>({parent:ie(dt),view:ie(dt),dragContainer:ie(dt),origin:()=>mo(dt),isResizable:pt}))(je.fromDom(Ue.getBody()),We))(w,R0);if(L.set(Se),(Ue=>{const We=Ue.options.get("object_resizing");return Kt(We.split(","),"table")})(w)&&mn(w)){const Ue=((We,dt,pt)=>{const kt=Xa,St=Gu,At=d_(We),zt=np({beforeResize:dc(["table","type"]),afterResize:dc(["table","type"]),startDrag:dc([])});return At.events.adjustHeight.bind(Lt=>{const oo=Lt.table;zt.trigger.beforeResize(oo,"row");const No=kt.delta(Lt.delta,oo);yi(oo,No,Lt.row),zt.trigger.afterResize(oo,"row")}),At.events.startAdjust.bind(Lt=>{zt.trigger.startDrag()}),At.events.adjustWidth.bind(Lt=>{const oo=Lt.table;zt.trigger.beforeResize(oo,"col");const No=St.delta(Lt.delta,oo),Un=pt(oo);$i(oo,No,Lt.column,dt,Un),zt.trigger.afterResize(oo,"col")}),{on:At.on,off:At.off,refreshBars:At.refresh,hideBars:At.hideBars,showBars:At.showBars,destroy:At.destroy,events:zt.registry}})(Se,ke(),fe);w.mode.isReadOnly()||Ue.on(),Ue.events.startDrag.bind(We=>{S.set(w.selection.getRng())}),Ue.events.beforeResize.bind(We=>{const dt=We.table.dom;((pt,kt,St,At,zt)=>{pt.dispatch("ObjectResizeStart",{target:kt,width:St,height:At,origin:zt})})(w,dt,ct(dt),O1(dt),Mm+We.type)}),Ue.events.afterResize.bind(We=>{const dt=We.table,pt=dt.dom;ip(dt),S.on(kt=>{w.selection.setRng(kt),w.focus()}),((kt,St,At,zt,Lt)=>{kt.dispatch("ObjectResized",{target:St,width:At,height:zt,origin:Lt})})(w,pt,ct(pt),O1(pt),Mm+We.type),w.undoManager.add()}),O.set(Ue)}}),w.on("ObjectResizeStart",Se=>{const Ue=Se.target;if(v_(Ue)&&!w.mode.isReadOnly()){const We=je.fromDom(Ue);Mt(w.dom.select(".mce-clonedresizable"),dt=>{w.dom.addClass(dt,"mce-"+y0(w)+"-columns")}),!su(We)&&wm(w)?Dr(We):!Ja(We)&&Mr(w)&&ru(We),ac(We)&&so(Se.origin,Mm)&&ru(We),V=Se.width,U=cu(w)?"":Mg(w,Ue).getOr(""),Q=Se.height,ee=z1(w,Ue).getOr("")}}),w.on("ObjectResized",Se=>{const Ue=Se.target;if(v_(Ue)){const We=je.fromDom(Ue),dt=Se.origin;(pt=>so(pt,"corner-"))(dt)&&Re(We,dt,Se.width,Se.height),ip(We),Fl(w,We.dom,Pg)}});const Ce=()=>{O.on(Se=>{Se.on(),Se.showBars()})},Ee=()=>{O.on(Se=>{Se.off(),Se.hideBars()})};return w.on("DisabledStateChange",Se=>{Se.state?Ee():Ce()}),w.on("SwitchMode",()=>{w.mode.isReadOnly()?Ee():Ce()}),w.on("dragstart dragend",Se=>{Se.type==="dragstart"?Ee():Ce()}),w.on("remove",()=>{O.on(Se=>{Se.destroy()})}),{refresh:Se=>{O.on(Ue=>Ue.refreshBars(je.fromDom(Se)))},hide:()=>{O.on(Se=>Se.hideBars())},show:()=>{O.on(Se=>Se.showBars())}}},Xv=w=>{(V=>{const U=V.options.register;U("table_clone_elements",{processor:"string[]"}),U("table_use_colgroups",{processor:"boolean",default:!0}),U("table_header_type",{processor:Q=>{const ee=Kt(["section","cells","sectionCells","auto"],Q);return ee?{value:Q,valid:ee}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),U("table_sizing_mode",{processor:"string",default:"auto"}),U("table_default_attributes",{processor:"object",default:{border:"1"}}),U("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),U("table_column_resizing",{processor:Q=>{const ee=Kt(["preservetable","resizetable"],Q);return ee?{value:Q,valid:ee}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),U("table_resize_bars",{processor:"boolean",default:!0}),U("table_style_by_css",{processor:"boolean",default:!0}),U("table_merge_content_on_paste",{processor:"boolean",default:!0})})(w);const S=w_(w),O=N0(w,S),L=Ig(w,S,O);return P1(w,L),((V,U)=>{const Q=is(V),ee=fe=>Kv(v0(V)).bind(ke=>Pr(ke,Q).map(Re=>{const Ce=T0(hu(V),Re,ke);return fe(Re,Ce)})).getOr("");Zo({mceTableRowType:()=>ee(U.getTableRowType),mceTableCellType:()=>ee(U.getTableCellType),mceTableColType:()=>ee(U.getTableColType)},(fe,ke)=>V.addQueryValueHandler(ke,fe))})(w,L),Gv(w,L),{getSelectedCells:O.getSelectedCells,clearSelectedCells:O.clearSelectedCells}};c.add("dom",w=>({table:Xv(w)}))})();tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;cursor:auto;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox{color:var(--tox-private-color-black,#222f3e);font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--tox-private-font-size-base, 16px)}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:var(--tox-private-font-stack, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);z-index:var(--tox-private-z-index-sink,1300)}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:8px;margin-bottom:8px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;justify-content:center;align-items:center;gap:2px;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon-and-text .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon.tox-icon--error svg{fill:#c00}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--success svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--success svg{fill:#78AB46}.tox .tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--icon .tox-icon.tox-icon--error svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon.tox-icon--error svg{fill:#c00}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-button--stretch{width:100%}.tox .tox-button--secondary--outline{background-color:transparent;border-color:var(--tox-private-button-secondary-outline-border-color,#f0f0f0);color:var(--tox-private-button-secondary-outline-text-color,#222f3e)}.tox .tox-button--secondary--outline:focus:not(:disabled){background-color:var(--tox-private-button-secondary-outline-focus-background-color,#e3e3e3);border-color:var(--tox-private-button-secondary-outline-focus-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-focus-text-color,#222f3e)}.tox .tox-button--secondary--outline:hover:not(:disabled){background-color:var(--tox-private-button-secondary-outline-hover-background-color,#f0f0f0);border-color:var(--tox-private-button-secondary-outline-hover-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-hover-text-color,#222f3e)}.tox .tox-button--secondary--outline:active:not(:disabled){background-color:var(--tox-private-button-secondary-outline-active-background-color,#e3e3e3);border-color:var(--tox-private-button-secondary-outline-active-border-color,#e3e3e3);color:var(--tox-private-button-secondary-outline-active-text-color,#222f3e)}.tox .tox-button--secondary--outline[disabled]{background-color:var(--tox-private-button-secondary-outline-disabled-background-color,transparent);border-color:var(--tox-private-button-secondary-outline-disabled-border-color,#f0f0f0);color:var(--tox-private-button-secondary-outline-disabled-text-color,rgba(34,47,62,.5))}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-context-form__group .tox-button--icon.tox-lock-context-form-size-input{margin-left:8px;margin-right:8px}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-selectfield select option:checked{background-color:revert;color:revert}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox-mentions__card-common{z-index:1200}.tox.tox-mentions__card{background:#fff;border:1px solid #eee;display:flex;padding:4px 8px}.tox.tox-mentions__card .tox-mentions__container{display:flex;flex-direction:column;align-self:center;margin:0 4px}.tox .tox-mentions__avatar{width:42px;height:42px;border-radius:50%;margin-right:4px}.tox .tox-mentions__username{font-size:14px;line-height:21px;color:#222f3e}.tox .tox-mentions__description{font-size:12px;line-height:21px;color:rgba(34,47,62,.7)}.tox .tox-collection__item--active .tox-mentions__description,.tox .tox-collection__item--active .tox-mentions__username{color:inherit}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1302;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:var(--tox-private-sidebar-background-color,#f0f0f0);display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-sidebar-content{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px;border-left:1px solid var(--tox-private-sidebar-border-color,#e3e3e3)}.tox .tox-sidebar-content__header{align-items:center;display:flex;justify-content:space-between;box-shadow:var(--tox-private-sidebar-header-box-shadow,0 4px 8px 0 rgba(34,47,62,.1));padding:var(--tox-private-pad-sm,8px) 12px;background:var(--tox-private-background-color,#fff);z-index:1}.tox .tox-sidebar-content__header .tox-sidebar-content__header-close-button{margin-left:auto}.tox .tox-sidebar-content__title{font-size:var(--tox-private-font-size-lg, 20px);font-weight:var(--tox-private-font-weight-normal,normal);padding:var(--tox-private-pad-sm,8px) 0 var(--tox-private-pad-sm,8px) 0;color:var(--tox-private-text-color,#222f3e);line-height:28px}.tox-ai .tox-ai__user-prompt{display:flex;flex-direction:column;margin-left:auto;gap:inherit}.tox-ai .tox-ai__user-prompt__context{margin-left:auto}.tox-ai .tox-ai__user-prompt__text{background-color:var(--tox-private-ai-user-prompt-background,#f0f0f0);padding:var(--tox-private-pad-sm,8px) 12px;border-radius:var(--tox-private-control-border-radius,6px);max-width:80%;align-self:flex-end;color:var(--tox-private-text-color,#222f3e)}.tox-ai .tox-ai__scroll{overflow:auto;background-color:var(--tox-private-background-color,#fff);display:flex;padding:12px;flex-direction:column;align-items:flex-start;gap:12px;flex:1 0 0;align-self:stretch}.tox-ai .tox-ai__response-content{padding:var(--tox-private-pad-sm,8px) 0;color:var(--tox-private-text-color,#222f3e);font-feature-settings:'liga' off,'clig' off;font-size:var(--tox-private-font-size-sm, 14px);font-style:normal;font-weight:var(--tox-private-font-weight-normal,normal);line-height:var(--tox-private-line-height, 18px);white-space:pre-wrap}.tox-ai .tox-ai__response.tox-ai__response-streaming{background:linear-gradient(180deg,var(--tox-private-color-black,#222f3e) 0,color-mix(in srgb,var(--tox-private-color-black,#222f3e) 0,transparent) 100%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.tox-ai .tox-ai__error-message{border-radius:var(--tox-private-panel-border-radius,6px);border:1px solid var(--tox-private-color-error,#c00);background:linear-gradient(0deg,color-mix(in srgb,var(--tox-private-color-white,#fff) 90%,transparent) 0,color-mix(in srgb,var(--tox-private-color-white,#fff) 90%,transparent) 100%),var(--tox-private-color-error,#c00);padding:var(--tox-private-pad-sm,8px);width:100%}.tox-ai .tox-ai__footer{border-top:1px solid var(--tox-private-ai-footer-border-color,#e3e3e3);padding:12px;gap:var(--tox-private-pad-sm,8px);background-color:var(--tox-private-background-color,#fff);display:flex;flex-direction:column}.tox-ai .tox-ai__footer-actions{display:flex;gap:var(--tox-private-pad-sm,8px)}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-cursor-default{cursor:ns-resize}.tox .tox-statusbar__resize-cursor-both{cursor:nwse-resize}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-tag{width:-moz-fit-content;width:fit-content;display:flex;padding:4px 6px;align-items:center;gap:4px;border-radius:3px;background:linear-gradient(0deg,color-mix(in srgb,var(--tox-private-color-white,#fff) 90%,transparent) 0,color-mix(in srgb,var(--tox-private-color-white,#fff) 90%,transparent) 100%),var(--tox-private-color-tint,#006ce7);line-height:var(--tox-private-base-value, 16px);font-size:var(--tox-private-font-size-xs, 12px)}.tox .tox-tag .tox-tag__icon{height:var(--tox-private-base-value,16px)}.tox .tox-tag .tox-tag__close{height:var(--tox-private-base-value,16px)}.tox .tox-tag .tox-tag__close .tox-button.tox-button--icon{border:0;padding:0}.tox .tox-tag .tox-tag__close .tox-button.tox-button--icon::before{box-shadow:none}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-toggle{--tox-private-slider-background-color:#fff;--tox-private-slider-border-color:rgb(227, 227, 227);--tox-private-slider-handle-background-color:#222f3e;display:flex;align-items:center;gap:4px;padding:4px;font-weight:400;line-height:24px;white-space:nowrap;background-color:#fff;color:#222f3e}.tox .tox-toggle input{position:absolute;opacity:0;width:0;height:0}.tox .tox-toggle__slider{position:relative;cursor:pointer;box-sizing:border-box;transition:.4s;border-radius:34px;width:28px;height:16px;background-color:var(--tox-private-slider-background-color);border:1px solid var(--tox-private-slider-border-color)}.tox .tox-toggle__slider::before{position:absolute;content:"";height:12px;width:12px;left:1px;bottom:1px;transition:.4s;border-radius:50%;background-color:var(--tox-private-slider-handle-background-color)}.tox input:checked+.tox-toggle__slider{--tox-private-slider-background-color:#006ce7;--tox-private-slider-border-color:#006ce7}.tox input:focus+.tox-toggle__slider{box-shadow:0 0 0 1px #fff,0 0 0 2px #006ce7}.tox input:checked+.tox-toggle__slider::before{transform:translateX(12px);--tox-private-slider-handle-background-color:#fff}.tox input:disabled+.tox-toggle__slider::before{opacity:50%}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}.tox .tox-tbtn .tox-tbtn__icon-wrap{pointer-events:none}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button__main{border-radius:3px 0 0 3px;margin-right:0}.tox .tox-split-button__main:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__main:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:3px 0 0 3px}@media (forced-colors:active){.tox .tox-split-button__main:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron{width:16px;border-radius:0 3px 3px 0;margin-left:0}.tox .tox-split-button__chevron:focus{border:0;box-shadow:none;background:#fff;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button__chevron:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:0 3px 3px 0}@media (forced-colors:active){.tox .tox-split-button__chevron:focus::after{border:2px solid highlight}}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox.tox-platform-touch .tox-split-button__main{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button__chevron.tox-tbtn--disabled,.tox .tox-split-button__main.tox-tbtn--disabled{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:hover,.tox .tox-split-button__main.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__chevron.tox-tbtn--disabled:focus,.tox .tox-split-button__main.tox-tbtn--disabled:focus{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button__main.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:min(80%,15em);padding:8px 0 0 0;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden;background-color:#fff}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__align-right{margin-left:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-view .tox-revisionhistory__pane{padding:0}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{display:block;width:min-content;padding:4px 8px;margin-bottom:8px;font-size:12px;font-weight:700;border-radius:4px;background:#d3d5d8}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-content{display:flex;flex-direction:row;gap:8px;align-items:center}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-info{display:flex;flex-direction:column;flex:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;font-weight:400}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox [data-mce-name=suggestededits] .tox-icon .tox-icon--badge{fill:#006ce7}.tox .tox-view .tox-suggestededits__pane{padding:0}.tox .tox-suggestededits__sink{position:relative;z-index:1000}.tox .tox-suggestededits__sink .tox-tiered-menu .tox-collection--list{position:absolute}.tox .tox-suggestededits__container{height:100%;display:flex;flex-direction:column}.tox .tox-suggestededits__container .tox-suggestededits{background-color:#fff;border-top:1px solid #eee;display:flex;flex:1;height:inherit;overflow-x:auto;overflow-y:hidden;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__content{flex:1}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model{height:100%;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__model .tox-suggestededits__iframe{height:100%;width:100%;overflow:scroll;background-color:#fff}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar{background-color:#f0f0f0;display:flex;flex-direction:column;flex:0 1 auto;min-width:248px;width:316px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-header{padding:4px 12px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content{display:flex;flex:1;flex-direction:column;gap:12px;overflow:auto;padding:6px 12px 12px 12px;position:relative}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card{background-color:#fff;border-radius:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--divider{background-color:#f0f0f0;height:1px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--editor,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--single{align-items:flex-start;align-self:stretch;display:flex;flex-direction:column;gap:6px;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header{display:flex;flex:auto;justify-content:space-between;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar .tox-skeleton__circle,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--avatar img{height:24px;width:24px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user{display:flex;align-items:center;flex:1 0 0;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--avatar{height:36px;width:36px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--name{color:#222f3e;font-size:14px;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__card--feedback-user .tox-suggestededits__card--details .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution{align-items:center;border:0;border-radius:20px;height:20px;width:20px;display:flex;flex:0 0 auto;justify-content:center;text-align:center}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--accepted .tox-icon svg{fill:#78AB46}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--header .tox-suggestededits__resolution.tox-suggestededits__resolution--rejected .tox-icon svg{fill:#c00}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content{display:flex;flex-direction:column;align-self:stretch;flex:auto;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations{display:flex;gap:8px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar{align-items:center;border-radius:6px;display:flex;flex-direction:column;font-size:12px;justify-content:space-between;width:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--insert{background-color:#78ab46;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--modify{background-color:#006ce7;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-bar--remove{background-color:#c00;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__operations .tox-suggestededits__operations-text{color:#222f3e;font-weight:700}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--feedback{color:#222f3e;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--textarea{border:2px solid #eee;border-radius:6px;color:#222f3e;gap:8px;padding:5px 6px;resize:none;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--content .tox-suggestededits__card--textarea:focus{border:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer{display:flex;flex-direction:column;gap:6px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--footer .tox-suggestededits__card--timestamp .tox-icon svg{fill:#222F3E80;transform:translate(0,8px);margin-top:-10px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons{display:flex;align-items:center;gap:8px;width:100%}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons.tox-suggestededits__card--review-buttons{justify-content:space-between;padding:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card .tox-suggestededits__card--buttons.tox-suggestededits__card--feedback-buttons{justify-content:flex-end}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--hidden{opacity:.5}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--resolved{background-color:#d3d5d8}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active:focus,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active:focus-visible{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single{border-radius:6px}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single:focus,.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card.tox-suggestededits__card--active .tox-suggestededits__card--single:focus-visible{outline:2px solid #006ce7}.tox .tox-suggestededits__container .tox-suggestededits .tox-suggestededits__sidebar-content .tox-suggestededits__card:hover{box-shadow:0 4px 8px 0 #d3d5d8}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);var PX={},IX={},FX;function w_e(){return FX||(FX=1,function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(Le,Ge,yo)=>{const to=Ge==="UL"?"InsertUnorderedList":"InsertOrderedList";Le.execCommand(to,!1,yo===!1?null:{"list-style-type":yo})},r=Le=>{Le.addCommand("ApplyUnorderedListStyle",(Ge,yo)=>{o(Le,"UL",yo["list-style-type"])}),Le.addCommand("ApplyOrderedListStyle",(Ge,yo)=>{o(Le,"OL",yo["list-style-type"])})},a=Le=>Ge=>Ge.options.get(Le),d=Le=>{const Ge=Le.options.register;Ge("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Ge("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},h=a("advlist_number_styles"),g=a("advlist_bullet_styles"),x=Le=>Le==null,k=Le=>!x(Le),Tt=class Tt{constructor(Ge,yo){vt(this,"tag");vt(this,"value");this.tag=Ge,this.value=yo}static some(Ge){return new Tt(!0,Ge)}static none(){return Tt.singletonNone}fold(Ge,yo){return this.tag?yo(this.value):Ge()}isSome(){return this.tag}isNone(){return!this.tag}map(Ge){return this.tag?Tt.some(Ge(this.value)):Tt.none()}bind(Ge){return this.tag?Ge(this.value):Tt.none()}exists(Ge){return this.tag&&Ge(this.value)}forall(Ge){return!this.tag||Ge(this.value)}filter(Ge){return!this.tag||Ge(this.value)?this:Tt.none()}getOr(Ge){return this.tag?this.value:Ge}or(Ge){return this.tag?this:Ge}getOrThunk(Ge){return this.tag?this.value:Ge()}orThunk(Ge){return this.tag?this:Ge()}getOrDie(Ge){if(this.tag)return this.value;throw new Error(Ge??"Called getOrDie on None")}static from(Ge){return k(Ge)?Tt.some(Ge):Tt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ge){this.tag&&Ge(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}};vt(Tt,"singletonNone",new Tt(!1));let z=Tt;const D=Array.prototype.indexOf,$=(Le,Ge)=>D.call(Le,Ge),K=(Le,Ge)=>$(Le,Ge)>-1,Y=(Le,Ge,yo)=>{for(let to=0,_o=Le.length;to<_o;to++){const fo=Le[to];if(Ge(fo,to))return z.some(fo);if(yo(fo,to))break}return z.none()},ie=Object.keys,ve=(Le,Ge)=>{const yo=ie(Le);for(let to=0,_o=yo.length;to<_o;to++){const fo=yo[to],G=Le[fo];Ge(G,fo)}},Ne=(Le,Ge)=>ye(Le,(yo,to)=>({k:to,v:Ge(yo,to)})),ye=(Le,Ge)=>{const yo={};return ve(Le,(to,_o)=>{const fo=Ge(to,_o);yo[fo.k]=fo.v}),yo};var Je=tinymce.util.Tools.resolve("tinymce.util.Tools");const He=Le=>/\btox\-/.test(Le.className),ge=(Le,Ge)=>Le.dom.isChildOf(Ge,Le.getBody()),Ie=Le=>Ge=>k(Ge)&&Le.test(Ge.nodeName),he=Ie(/^(OL|UL|DL)$/),Ve=Ie(/^(TH|TD)$/),bo=(Le,Ge,yo)=>Y(Ge,to=>he(to)&&!He(to),Ve).exists(to=>to.nodeName===yo&&ge(Le,to)),lo=Le=>{const Ge=Le.dom.getParent(Le.selection.getNode(),"ol,ul"),yo=Le.dom.getStyle(Ge,"listStyleType");return z.from(yo)},Kt=(Le,Ge)=>Ge!==null&&!Le.dom.isEditable(Ge),Me=(Le,Ge)=>{const yo=Le.dom.getParent(Ge,"ol,ul,dl");return Kt(Le,yo)||!Le.selection.isEditable()},yt=(Le,Ge)=>{const yo=Le.selection.getNode();return Ge({parents:Le.dom.getParents(yo),element:yo}),Le.on("NodeChange",Ge),()=>Le.off("NodeChange",Ge)},I=Le=>Le.replace(/\-/g," ").replace(/\b\w/g,Ge=>Ge.toUpperCase()),Mt=Le=>x(Le)||Le==="default"?"":Le,Ft=(Le,Ge)=>yo=>{const to=(fo,G)=>{const ir=fo.selection.getStart(!0);yo.setActive(bo(fo,G,Ge)),yo.setEnabled(!Me(fo,ir))};return yt(Le,fo=>to(Le,fo.parents))},zo=(Le,Ge,yo,to,_o,fo)=>{const G={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},ir=Ne(G,Vn=>K(fo,Vn));Le.ui.registry.addSplitButton(Ge,{tooltip:yo,chevronTooltip:`${yo} menu`,icon:_o==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:_o==="OL"?3:4,fetch:Vn=>{const Zo=Je.map(fo,yr=>{const Jr=_o==="OL"?"num":"bull",Qo=yr==="decimal"?"default":yr,Rn=Mt(yr),Do=I(yr);return{type:"choiceitem",value:Rn,icon:"list-"+Jr+"-"+Qo,text:Do}});Vn(Zo)},onAction:()=>Le.execCommand(to),onItemAction:(Vn,Zo)=>{o(Le,_o,Zo)},select:Vn=>lo(Le).exists(yr=>Vn===yr||G[yr]===Vn&&!ir[Vn]),onSetup:Ft(Le,_o)})},En=(Le,Ge,yo,to,_o,fo)=>{Le.ui.registry.addToggleButton(Ge,{active:!1,tooltip:yo,icon:_o==="OL"?"ordered-list":"unordered-list",onSetup:Ft(Le,_o),onAction:()=>Le.queryCommandState(to)||fo===""?Le.execCommand(to):o(Le,_o,fo)})},ft=(Le,Ge,yo,to,_o,fo)=>{fo.length>1?zo(Le,Ge,yo,to,_o,fo):En(Le,Ge,yo,to,_o,Mt(fo[0]))},To=Le=>{ft(Le,"numlist","Numbered list","InsertOrderedList","OL",h(Le)),ft(Le,"bullist","Bullet list","InsertUnorderedList","UL",g(Le))};var zs=()=>{c.add("advlist",Le=>{Le.hasPlugin("lists")?(d(Le),To(Le),r(Le)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};zs()}()),IX}var HX;function k_e(){return HX||(HX=1,w_e()),PX}k_e();var $X={},VX={},jX;function __e(){return jX||(jX=1,function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(x,k)=>{x.focus(),x.undoManager.transact(()=>{x.setContent(k)}),x.selection.setCursorLocation(),x.nodeChanged()},r=x=>x.getContent({source_view:!0}),a=x=>{const k=r(x);x.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:k},onSubmit:z=>{o(x,z.getData().code),z.close()}})},d=x=>{x.addCommand("mceCodeEditor",()=>{a(x)})},h=x=>{const k=()=>x.execCommand("mceCodeEditor");x.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:k}),x.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:k})};var g=()=>{c.add("code",x=>(d(x),h(x),{}))};g()}()),VX}var UX;function C_e(){return UX||(UX=1,__e()),$X}C_e();var WX={},ZX={},qX;function S_e(){return qX||(qX=1,function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=ze=>we=>ze===we,r=o(null),a=o(void 0),d=ze=>ze==null,h=ze=>!d(ze),g=()=>{},k=(ze=>()=>ze)(!1),es=class es{constructor(we,mt){vt(this,"tag");vt(this,"value");this.tag=we,this.value=mt}static some(we){return new es(!0,we)}static none(){return es.singletonNone}fold(we,mt){return this.tag?mt(this.value):we()}isSome(){return this.tag}isNone(){return!this.tag}map(we){return this.tag?es.some(we(this.value)):es.none()}bind(we){return this.tag?we(this.value):es.none()}exists(we){return this.tag&&we(this.value)}forall(we){return!this.tag||we(this.value)}filter(we){return!this.tag||we(this.value)?this:es.none()}getOr(we){return this.tag?this.value:we}or(we){return this.tag?this:we}getOrThunk(we){return this.tag?this.value:we()}orThunk(we){return this.tag?this:we()}getOrDie(we){if(this.tag)return this.value;throw new Error(we??"Called getOrDie on None")}static from(we){return h(we)?es.some(we):es.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(we){this.tag&&we(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}};vt(es,"singletonNone",new es(!1));let z=es;const D=(ze,we)=>{for(let mt=0,Yt=ze.length;mt<Yt;mt++){const Dt=ze[mt];if(we(Dt,mt))return!0}return!1},$=(ze,we)=>{const mt=ze.length,Yt=new Array(mt);for(let Dt=0;Dt<mt;Dt++){const bn=ze[Dt];Yt[Dt]=we(bn,Dt)}return Yt},K=(ze,we)=>{for(let mt=0,Yt=ze.length;mt<Yt;mt++){const Dt=ze[mt];we(Dt,mt)}},Y=Object.keys,ie=Object.hasOwnProperty,ve=(ze,we)=>{const mt=Y(ze);for(let Yt=0,Dt=mt.length;Yt<Dt;Yt++){const bn=mt[Yt],Wo=ze[bn];we(Wo,bn)}},Ne=(ze,we)=>ye(ze,(mt,Yt)=>({k:Yt,v:we(mt,Yt)})),ye=(ze,we)=>{const mt={};return ve(ze,(Yt,Dt)=>{const bn=we(Yt,Dt);mt[bn.k]=bn.v}),mt},Je=(ze,we)=>ie.call(ze,we),He=ze=>{let we=ze;return{get:()=>we,set:Dt=>{we=Dt}}},he=(ze=>(...we)=>{if(we.length===0)throw new Error("Can't merge zero objects");const mt={};for(let Yt=0;Yt<we.length;Yt++){const Dt=we[Yt];for(const bn in Dt)Je(Dt,bn)&&(mt[bn]=ze(mt[bn],Dt[bn]))}return mt})((ze,we)=>we),Ve=ze=>{const we=He(z.none()),mt=()=>we.get().each(ze);return{clear:()=>{mt(),we.set(z.none())},isSet:()=>we.get().isSome(),get:()=>we.get(),set:Xn=>{mt(),we.set(z.some(Xn))}}},bo=()=>{const ze=Ve(g);return{...ze,on:mt=>ze.get().each(mt)}},lo=(ze,we,mt)=>we===""||ze.length>=we.length&&ze.substr(mt,mt+we.length)===we,Kt=(ze,we,mt=0,Yt)=>{const Dt=ze.indexOf(we,mt);return Dt!==-1?a(Yt)?!0:Dt+we.length<=Yt:!1},Me=(ze,we)=>lo(ze,we,0),yt=(ze,we)=>{let mt=null;const Yt=()=>{r(mt)||(clearTimeout(mt),mt=null)};return{cancel:Yt,throttle:(...bn)=>{Yt(),mt=setTimeout(()=>{mt=null,ze.apply(null,bn)},we)}}},I=(ze,we)=>{ze.insertContent(we)};var Mt=tinymce.util.Tools.resolve("tinymce.Resource");const Ft="tinymce.plugins.emoticons",zo=ze=>we=>we.options.get(ze),En=(ze,we)=>{const mt=ze.options.register;mt("emoticons_database",{processor:"string",default:"emojis"}),mt("emoticons_database_url",{processor:"string",default:`${we}/js/${ft(ze)}${ze.suffix}.js`}),mt("emoticons_database_id",{processor:"string",default:Ft}),mt("emoticons_append",{processor:"object",default:{}}),mt("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},ft=zo("emoticons_database"),To=zo("emoticons_database_url"),zs=zo("emoticons_database_id"),Tt=zo("emoticons_append"),Le=zo("emoticons_images_url"),Ge="All",yo={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},to=(ze,we)=>Je(ze,we)?ze[we]:we,_o=ze=>{const we=Tt(ze);return Ne(we,mt=>({keywords:[],category:"user",...mt}))},fo=(ze,we,mt)=>{const Yt=bo(),Dt=bo(),bn=Le(ze),Wo=lr=>Me(lr.char,"<img")?lr.char.replace(/src="([^"]+)"/,(ps,so)=>`src="${bn}${so}"`):lr.char,Xn=lr=>{const ps={},so=[];ve(lr,(en,ls)=>{const Ls={title:ls,keywords:en.keywords,char:Wo(en),category:to(yo,en.category)},jt=ps[Ls.category]!==void 0?ps[Ls.category]:[];ps[Ls.category]=jt.concat([Ls]),so.push(Ls)}),Yt.set(ps),Dt.set(so)};ze.on("init",()=>{Mt.load(mt,we).then(lr=>{const ps=_o(ze);Xn(he(lr,ps))},lr=>{console.log(`Failed to load emojis: ${lr}`),Yt.set({}),Dt.set([])})});const Gi=lr=>lr===Ge?Rr():Yt.get().bind(ps=>z.from(ps[lr])).getOr([]),Rr=()=>Dt.get().getOr([]),Ds=()=>[Ge].concat(Y(Yt.get().getOr({}))),Sr=()=>ar()?Promise.resolve(!0):new Promise((lr,ps)=>{let so=15;const en=setInterval(()=>{ar()?(clearInterval(en),lr(!0)):(so--,so<0&&(console.log("Could not load emojis from url: "+we),clearInterval(en),ps(!1)))},100)}),ar=()=>Yt.isSet()&&Dt.isSet();return{listCategories:Ds,hasLoaded:ar,waitForLoad:Sr,listAll:Rr,listCategory:Gi}},G=(ze,we)=>Kt(ze.title.toLowerCase(),we)||D(ze.keywords,mt=>Kt(mt.toLowerCase(),we)),ir=(ze,we,mt)=>{const Yt=[],Dt=we.toLowerCase(),bn=mt.fold(()=>k,Wo=>Xn=>Xn>=Wo);for(let Wo=0;Wo<ze.length&&!((we.length===0||G(ze[Wo],Dt))&&(Yt.push({value:ze[Wo].char,text:ze[Wo].title,icon:ze[Wo].char}),bn(Yt.length)));Wo++);return Yt},Vn="pattern",Zo=(ze,we)=>{const mt={pattern:"",results:ir(we.listAll(),"",z.some(300))},Yt=He(Ge),Dt=Ds=>{const Sr=Ds.getData(),ar=Yt.get(),lr=we.listCategory(ar),ps=ir(lr,Sr[Vn],ar===Ge?z.some(300):z.none());Ds.setData({results:ps})},bn=yt(Ds=>{Dt(Ds)},200),Wo={label:"Search",type:"input",name:Vn},Xn={type:"collection",name:"results"},Gi=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:$(we.listCategories(),Sr=>({title:Sr,name:Sr,items:[Wo,Xn]}))},initialData:mt,onTabChange:(Sr,ar)=>{Yt.set(ar.newTabName),bn.throttle(Sr)},onChange:bn.throttle,onAction:(Sr,ar)=>{ar.name==="results"&&(I(ze,ar.value),Sr.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Rr=ze.windowManager.open(Gi());Rr.focus(Vn),we.hasLoaded()||(Rr.block("Loading emojis..."),we.waitForLoad().then(()=>{Rr.redial(Gi()),bn.throttle(Rr),Rr.focus(Vn),Rr.unblock()}).catch(Ds=>{Rr.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Rr.focus(Vn),Rr.unblock()}))},yr=(ze,we)=>{ze.addCommand("mceEmoticons",()=>Zo(ze,we))},Jr=ze=>{ze.on("PreInit",()=>{ze.parser.addAttributeFilter("data-emoticon",we=>{K(we,mt=>{mt.attr("data-mce-resize","false"),mt.attr("data-mce-placeholder","1")})})})},Qo=(ze,we)=>{ze.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(mt,Yt)=>we.waitForLoad().then(()=>{const Dt=we.listAll();return ir(Dt,mt,z.some(Yt))}),onAction:(mt,Yt,Dt)=>{ze.selection.setRng(Yt),ze.insertContent(Dt),mt.hide()}})},Rn=ze=>we=>{const mt=()=>{we.setEnabled(ze.selection.isEditable())};return ze.on("NodeChange",mt),mt(),()=>{ze.off("NodeChange",mt)}},Do=ze=>{const we=()=>ze.execCommand("mceEmoticons");ze.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:we,onSetup:Rn(ze)}),ze.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:we,onSetup:Rn(ze)})};var tt=()=>{c.add("emoticons",(ze,we)=>{En(ze,we);const mt=To(ze),Yt=zs(ze),Dt=fo(ze,mt,Yt);return yr(ze,Dt),Do(ze),Qo(ze,Dt),Jr(ze),{getAllEmojis:()=>Dt.waitForLoad().then(()=>Dt.listAll())}})};tt()}()),ZX}var KX;function E_e(){return KX||(KX=1,S_e()),WX}E_e();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["land","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["runion","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthlemy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"}});var GX={},YX={},XX;function A_e(){return XX||(XX=1,function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(re,_e,Fe)=>{var ht;return Fe(re,_e.prototype)?!0:((ht=re.constructor)==null?void 0:ht.name)===_e.name},r=re=>{const _e=typeof re;return re===null?"null":_e==="object"&&Array.isArray(re)?"array":_e==="object"&&o(re,String,(Fe,ht)=>ht.isPrototypeOf(Fe))?"string":_e},a=re=>_e=>r(_e)===re,d=re=>_e=>typeof _e===re,h=re=>_e=>re===_e,g=a("string"),x=a("object"),k=a("array"),z=h(null),D=d("boolean"),$=re=>re==null,K=re=>!$(re),Y=d("function"),ie=(re,_e)=>{if(k(re)){for(let Fe=0,ht=re.length;Fe<ht;++Fe)if(!_e(re[Fe]))return!1;return!0}return!1},ve=()=>{},Ne=re=>()=>re,ye=(re,_e)=>re===_e,Wr=class Wr{constructor(_e,Fe){vt(this,"tag");vt(this,"value");this.tag=_e,this.value=Fe}static some(_e){return new Wr(!0,_e)}static none(){return Wr.singletonNone}fold(_e,Fe){return this.tag?Fe(this.value):_e()}isSome(){return this.tag}isNone(){return!this.tag}map(_e){return this.tag?Wr.some(_e(this.value)):Wr.none()}bind(_e){return this.tag?_e(this.value):Wr.none()}exists(_e){return this.tag&&_e(this.value)}forall(_e){return!this.tag||_e(this.value)}filter(_e){return!this.tag||_e(this.value)?this:Wr.none()}getOr(_e){return this.tag?this.value:_e}or(_e){return this.tag?this:_e}getOrThunk(_e){return this.tag?this.value:_e()}orThunk(_e){return this.tag?this:_e()}getOrDie(_e){if(this.tag)return this.value;throw new Error(_e??"Called getOrDie on None")}static from(_e){return K(_e)?Wr.some(_e):Wr.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_e){this.tag&&_e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}};vt(Wr,"singletonNone",new Wr(!1));let Je=Wr;const He=Array.prototype.indexOf,ge=Array.prototype.push,Ie=(re,_e)=>He.call(re,_e),he=(re,_e)=>Ie(re,_e)>-1,Ve=(re,_e)=>{const Fe=re.length,ht=new Array(Fe);for(let Ot=0;Ot<Fe;Ot++){const Jt=re[Ot];ht[Ot]=_e(Jt,Ot)}return ht},bo=(re,_e)=>{for(let Fe=0,ht=re.length;Fe<ht;Fe++){const Ot=re[Fe];_e(Ot,Fe)}},lo=(re,_e,Fe)=>(bo(re,(ht,Ot)=>{Fe=_e(Fe,ht,Ot)}),Fe),Kt=re=>{const _e=[];for(let Fe=0,ht=re.length;Fe<ht;++Fe){if(!k(re[Fe]))throw new Error("Arr.flatten item "+Fe+" was not an array, input: "+re);ge.apply(_e,re[Fe])}return _e},Me=(re,_e)=>Kt(Ve(re,_e)),yt=(re,_e)=>{for(let Fe=0;Fe<re.length;Fe++){const ht=_e(re[Fe],Fe);if(ht.isSome())return ht}return Je.none()},I=Object.keys,Mt=Object.hasOwnProperty,Ft=(re,_e)=>{const Fe=I(re);for(let ht=0,Ot=Fe.length;ht<Ot;ht++){const Jt=Fe[ht],an=re[Jt];_e(an,Jt)}},zo=re=>(_e,Fe)=>{re[Fe]=_e},En=(re,_e,Fe,ht)=>{Ft(re,(Ot,Jt)=>{(_e(Ot,Jt)?Fe:ht)(Ot,Jt)})},ft=(re,_e)=>{const Fe={};return En(re,_e,zo(Fe),ve),Fe},To=(re,_e)=>Mt.call(re,_e),zs=(re,_e)=>To(re,_e)&&re[_e]!==void 0&&re[_e]!==null,Tt=re=>{let _e=re;return{get:()=>_e,set:Ot=>{_e=Ot}}},Le=(re,_e,Fe=ye)=>re.exists(ht=>Fe(ht,_e)),Ge=re=>{const _e=[],Fe=ht=>{_e.push(ht)};for(let ht=0;ht<re.length;ht++)re[ht].each(Fe);return _e},yo=(re,_e)=>re?Je.some(_e):Je.none(),to=re=>{const _e=Tt(Je.none()),Fe=()=>_e.get().each(re);return{clear:()=>{Fe(),_e.set(Je.none())},isSet:()=>_e.get().isSome(),get:()=>_e.get(),set:In=>{Fe(),_e.set(Je.some(In))}}},_o=()=>{const re=to(ve);return{...re,on:Fe=>re.get().each(Fe)}},fo=(re,_e)=>re.substring(_e),G=(re,_e,Fe)=>_e===""||re.length>=_e.length&&re.substr(Fe,Fe+_e.length)===_e,ir=(re,_e)=>Vn(re,_e)?fo(re,_e.length):re,Vn=(re,_e)=>G(re,_e,0),Zo=re=>_e=>_e.options.get(re),yr=re=>{const _e=re.options.register;_e("link_assume_external_targets",{processor:Fe=>{const ht=g(Fe)||D(Fe);return ht?Fe===!0?{value:1,valid:ht}:Fe==="http"||Fe==="https"?{value:Fe,valid:ht}:{value:0,valid:ht}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),_e("link_context_toolbar",{processor:"boolean",default:!1}),_e("link_list",{processor:Fe=>g(Fe)||Y(Fe)||ie(Fe,x)}),_e("link_default_target",{processor:"string"}),_e("link_default_protocol",{processor:"string",default:"https"}),_e("link_target_list",{processor:Fe=>D(Fe)||ie(Fe,x),default:!0}),_e("link_rel_list",{processor:"object[]",default:[]}),_e("link_class_list",{processor:"object[]",default:[]}),_e("link_title",{processor:"boolean",default:!0}),_e("allow_unsafe_link_target",{processor:"boolean",default:!1}),_e("link_quicklink",{processor:"boolean",default:!1}),_e("link_attributes_postprocess",{processor:"function"})},Jr=Zo("link_assume_external_targets"),Qo=Zo("link_context_toolbar"),Rn=Zo("link_list"),Do=Zo("link_default_target"),tt=Zo("link_default_protocol"),es=Zo("link_target_list"),ze=Zo("link_rel_list"),we=Zo("link_class_list"),mt=Zo("link_title"),Yt=Zo("allow_unsafe_link_target"),Dt=Zo("link_quicklink"),bn=Zo("link_attributes_postprocess");var Wo=tinymce.util.Tools.resolve("tinymce.util.URI"),Xn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Gi=tinymce.util.Tools.resolve("tinymce.util.Tools");const Rr=re=>K(re)&&re.nodeName.toLowerCase()==="a",Ds=re=>Rr(re)&&!!lr(re),Sr=(re,_e)=>{if(re.collapsed)return[];{const Fe=re.cloneContents(),ht=Fe.firstChild,Ot=new Xn(ht,Fe),Jt=[];let an=ht;do _e(an)&&Jt.push(an);while(an=Ot.next());return Jt}},ar=re=>/^\w+:/i.test(re),lr=re=>re.getAttribute("data-mce-href")??re.getAttribute("href")??"",ps=(re,_e)=>{const Fe=["noopener"],ht=re?re.split(/\s+/):[],Ot=wn=>Gi.trim(wn.sort().join(" ")),Jt=wn=>(wn=an(wn),wn.length>0?wn.concat(Fe):Fe),an=wn=>wn.filter(cr=>Gi.inArray(Fe,cr)===-1),In=_e?Jt(ht):an(ht);return In.length>0?Ot(In):""},so=re=>re.replace(/\uFEFF/g,""),en=(re,_e)=>(_e=_e||jt(re.selection.getRng())[0]||re.selection.getNode(),yn(_e)?Je.from(re.dom.select("a[href]",_e)[0]):Je.from(re.dom.getParent(_e,"a[href]"))),ls=(re,_e)=>en(re,_e).isSome(),Ls=(re,_e)=>{const Fe=_e.fold(()=>re.getContent({format:"text"}),ht=>ht.innerText||ht.textContent||"");return so(Fe)},jt=re=>Sr(re,Ds),Tl=re=>Gi.grep(re,Ds),kc=re=>Tl(re).length>0,Yi=re=>jt(re).length>0,Vr=re=>{const _e=re.schema.getTextInlineElements(),Fe=Jt=>Jt.nodeType===1&&!Rr(Jt)&&!To(_e,Jt.nodeName.toLowerCase());if(en(re).exists(Jt=>Jt.hasAttribute("data-mce-block")))return!1;const Ot=re.selection.getRng();return Ot.collapsed?!0:Sr(Ot,Fe).length===0},yn=re=>K(re)&&re.nodeName==="FIGURE"&&/\bimage\b/i.test(re.className),Ea=re=>lo(["title","rel","class","target"],(Fe,ht)=>(re[ht].each(Ot=>{Fe[ht]=Ot.length>0?Ot:null}),Fe),{href:re.href}),Zp=(re,_e)=>(_e==="http"||_e==="https")&&!ar(re)?_e+"://"+re:re,hl=(re,_e)=>{const Fe={..._e};if(ze(re).length===0&&!Yt(re)){const ht=ps(Fe.rel,Fe.target==="_blank");Fe.rel=ht||null}return Je.from(Fe.target).isNone()&&es(re)===!1&&(Fe.target=Do(re)),Fe.href=Zp(Fe.href,Jr(re)),Fe},pn=(re,_e,Fe,ht)=>{Fe.each(Jt=>{To(_e,"innerText")?_e.innerText=Jt:_e.textContent=Jt}),re.dom.setAttribs(_e,ht);const Ot=re.dom.createRng();Ot.setStartAfter(_e),Ot.setEndAfter(_e),re.selection.setRng(Ot)},An=(re,_e,Fe,ht)=>{const Ot=re.dom;yn(_e)?Yl(Ot,_e,ht):Fe.fold(()=>{re.execCommand("mceInsertLink",!1,ht);const Jt=re.selection.getEnd(),an=Ot.createRng();an.setStartAfter(Jt),an.setEndAfter(Jt),re.selection.setRng(an)},Jt=>{re.insertContent(Ot.createHTML("a",ht,Ot.encode(Jt)))})},hi=(re,_e,Fe)=>{const ht=re.selection.getNode(),Ot=en(re,ht),Jt=hl(re,Ea(Fe)),an=bn(re);K(an)&&an(Jt),re.undoManager.transact(()=>{Fe.href===_e.href&&_e.attach(),Ot.fold(()=>{An(re,ht,Fe.text,Jt)},In=>{re.focus(),pn(re,In,Fe.text,Jt)})})},Ni=re=>{const _e=re.dom,Fe=re.selection,ht=Fe.getBookmark(),Ot=Fe.getRng().cloneRange(),Jt=_e.getParent(Ot.startContainer,"a[href]",re.getBody()),an=_e.getParent(Ot.endContainer,"a[href]",re.getBody());Jt&&Ot.setStartBefore(Jt),an&&Ot.setEndAfter(an),Fe.setRng(Ot),re.execCommand("unlink"),Fe.moveToBookmark(ht)},Us=re=>{re.undoManager.transact(()=>{const _e=re.selection.getNode();yn(_e)?Js(re,_e):Ni(re),re.focus()})},Dn=re=>{const{class:_e,href:Fe,rel:ht,target:Ot,text:Jt,title:an}=re;return ft({class:_e.getOrNull(),href:Fe,rel:ht.getOrNull(),target:Ot.getOrNull(),text:Jt.getOrNull(),title:an.getOrNull()},(In,wn)=>z(In)===!1)},Io=(re,_e)=>{const Fe=re.options.get,ht={allow_html_data_urls:Fe("allow_html_data_urls"),allow_script_urls:Fe("allow_script_urls"),allow_svg_data_urls:Fe("allow_svg_data_urls")},Ot=_e.href;return{..._e,href:Wo.isDomSafe(Ot,"a",ht)?Ot:""}},je=(re,_e,Fe)=>{const ht=Io(re,Fe);re.hasPlugin("rtc",!0)?re.execCommand("createlink",!1,Dn(ht)):hi(re,_e,ht)},Iu=re=>{re.hasPlugin("rtc",!0)?re.execCommand("unlink"):Us(re)},Js=(re,_e)=>{var ht;const Fe=re.dom.select("img",_e)[0];if(Fe){const Ot=re.dom.getParents(Fe,"a[href]",_e)[0];Ot&&((ht=Ot.parentNode)==null||ht.insertBefore(Fe,Ot),re.dom.remove(Ot))}},Yl=(re,_e,Fe)=>{var Ot;const ht=re.select("img",_e)[0];if(ht){const Jt=re.create("a",Fe);(Ot=ht.parentNode)==null||Ot.insertBefore(Jt,ht),Jt.appendChild(ht)}},Mn=re=>g(re.value)?re.value:"",Xl=re=>g(re.text)?re.text:g(re.title)?re.title:"",pi=(re,_e)=>{const Fe=[];return Gi.each(re,ht=>{const Ot=Xl(ht);if(ht.menu!==void 0){const Jt=pi(ht.menu,_e);Fe.push({text:Ot,items:Jt})}else{const Jt=_e(ht);Fe.push({text:Ot,value:Jt})}}),Fe},jd=(re=Mn)=>_e=>Je.from(_e).map(Fe=>pi(Fe,re)),ei={sanitize:re=>jd(Mn)(re),sanitizeWith:jd,createUi:(re,_e)=>Fe=>({name:re,type:"listbox",label:_e,items:Fe}),getValue:Mn},ti=re=>zs(re,"items"),Qn=(re,_e)=>yt(_e,Fe=>ti(Fe)?Qn(re,Fe.items):yo(Fe.value===re,Fe)),jf=(re,_e,Fe,ht)=>{const Ot=ht[_e],Jt=re.length>0;return Ot!==void 0?Qn(Ot,Fe).map(an=>({url:{value:an.value,meta:{text:Jt?re:an.text,attach:ve}},text:Jt?re:an.text})):Je.none()},cs=(re,_e)=>_e==="link"?re.link:_e==="anchor"?re.anchor:Je.none(),ug={init:(re,_e)=>{const Fe={text:re.text,title:re.title},ht=wn=>{var cr;return yo(Fe.title.length<=0,Je.from((cr=wn.meta)==null?void 0:cr.title).getOr(""))},Ot=wn=>{var cr;return yo(Fe.text.length<=0,Je.from((cr=wn.meta)==null?void 0:cr.text).getOr(wn.value))},Jt=wn=>{const cr=Ot(wn.url),dr=ht(wn.url);return cr.isSome()||dr.isSome()?Je.some({...cr.map(ks=>({text:ks})).getOr({}),...dr.map(ks=>({title:ks})).getOr({})}):Je.none()},an=(wn,cr)=>{const dr=cs(_e,cr).getOr([]);return jf(Fe.text,cr,dr,wn)};return{onChange:(wn,cr)=>{const dr=cr.name;return dr==="url"?Jt(wn()):he(["anchor","link"],dr)?an(wn(),dr):((dr==="text"||dr==="title")&&(Fe[dr]=wn()[dr]),Je.none())}}},getDelta:jf};var rd=tinymce.util.Tools.resolve("tinymce.util.Delay");const Uf=(re,_e,Fe)=>{const ht=re.selection.getRng();rd.setEditorTimeout(re,()=>{re.windowManager.confirm(_e,Ot=>{re.selection.setRng(ht),Fe(Ot)})})},_c=re=>{const _e=re.href;return _e.indexOf("@")>0&&_e.indexOf("/")===-1&&_e.indexOf("mailto:")===-1?Je.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:ht=>({...ht,href:"mailto:"+_e})}):Je.none()},Cc=(re,_e)=>Fe=>{const ht=Fe.href;return re===1&&!ar(ht)||re===0&&/^\s*www(\.|\d\.)/i.test(ht)?Je.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${_e}:// prefix?`,preprocess:Jt=>({...Jt,href:_e+"://"+ht})}):Je.none()},Ur={preprocess:(re,_e)=>yt([_c,Cc(Jr(re),tt(re))],Fe=>Fe(_e)).fold(()=>Promise.resolve(_e),Fe=>new Promise(ht=>{Uf(re,Fe.message,Ot=>{ht(Ot?Fe.preprocess(_e):_e)})}))},Bb={getAnchors:re=>{const _e=re.dom.select("a:not([href])"),Fe=Me(_e,ht=>{const Ot=ht.name||ht.id;return Ot?[{text:Ot,value:"#"+Ot}]:[]});return Fe.length>0?Je.some([{text:"None",value:""}].concat(Fe)):Je.none()}},fg={getClasses:re=>{const _e=we(re);return _e.length>0?ei.sanitize(_e):Je.none()}},Ut=re=>{try{return Je.some(JSON.parse(re))}catch{return Je.none()}},qp={getLinks:re=>{const _e=ht=>re.convertURL(ht.value||ht.url||"","href"),Fe=Rn(re);return new Promise(ht=>{g(Fe)?fetch(Fe).then(Ot=>Ot.ok?Ot.text().then(Ut):Promise.reject()).then(ht,()=>ht(Je.none())):Y(Fe)?Fe(Ot=>ht(Je.some(Ot))):ht(Je.from(Fe))}).then(ht=>ht.bind(ei.sanitizeWith(_e)).map(Ot=>Ot.length>0?[{text:"None",value:""}].concat(Ot):Ot))}},Ol={getRels:(re,_e)=>{const Fe=ze(re);if(Fe.length>0){const ht=Le(_e,"_blank"),Ot=Yt(re)===!1,Jt=In=>ps(ei.getValue(In),ht);return(Ot?ei.sanitizeWith(Jt):ei.sanitize)(Fe)}return Je.none()}},Kp=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Ql={getTargets:re=>{const _e=es(re);return k(_e)?ei.sanitize(_e).orThunk(()=>Je.some(Kp)):_e===!1?Je.none():Je.some(Kp)}},Ec=(re,_e,Fe)=>{const ht=re.getAttrib(_e,Fe);return ht!==null&&ht.length>0?Je.some(ht):Je.none()},Gp=(re,_e)=>{const Fe=re.dom,Ot=Vr(re)?Je.some(Ls(re.selection,_e)):Je.none(),Jt=_e.bind(dr=>Je.from(Fe.getAttrib(dr,"href"))),an=_e.bind(dr=>Je.from(Fe.getAttrib(dr,"target"))),In=_e.bind(dr=>Ec(Fe,dr,"rel")),wn=_e.bind(dr=>Ec(Fe,dr,"class")),cr=_e.bind(dr=>Ec(Fe,dr,"title"));return{url:Jt,text:Ot,title:cr,target:an,rel:In,linkClass:wn}},on={collect:(re,_e)=>qp.getLinks(re).then(Fe=>{const ht=Gp(re,_e);return{anchor:ht,catalogs:{targets:Ql.getTargets(re),rels:Ol.getRels(re,ht.target),classes:fg.getClasses(re),anchor:Bb.getAnchors(re),link:Fe},optNode:_e,flags:{titleEnabled:mt(re)}}})},Ws=(re,_e)=>Fe=>{const ht=Fe.getData();if(!ht.url.value){Iu(re),Fe.close();return}const Ot=In=>Je.from(ht[In]).filter(wn=>!Le(_e.anchor[In],wn)),Jt={href:ht.url.value,text:Ot("text"),target:Ot("target"),rel:Ot("rel"),class:Ot("linkClass"),title:Ot("title")},an={href:ht.url.value,attach:ht.url.meta!==void 0&&ht.url.meta.attach?ht.url.meta.attach:ve};Ur.preprocess(re,Jt).then(In=>{je(re,an,In)}),Fe.close()},Zf=re=>{const _e=en(re);return on.collect(re,_e)},Fu=(re,_e)=>{const Fe=re.anchor,ht=Fe.url.getOr("");return{url:{value:ht,meta:{original:{value:ht}}},text:Fe.text.getOr(""),title:Fe.title.getOr(""),anchor:ht,link:ht,rel:Fe.rel.getOr(""),target:Fe.target.or(_e).getOr(""),linkClass:Fe.linkClass.getOr("")}},zl=(re,_e,Fe)=>{const ht=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],Ot=re.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Jt=re.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],an=Je.from(Do(Fe)),In=Fu(re,an),wn=re.catalogs,cr=ug.init(In,wn);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Kt([ht,Ot,Jt,Ge([wn.anchor.map(ei.createUi("anchor","Anchors")),wn.rels.map(ei.createUi("rel","Rel")),wn.targets.map(ei.createUi("target","Open link in...")),wn.link.map(ei.createUi("link","Link list")),wn.classes.map(ei.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:In,onChange:(ks,{name:mi})=>{cr.onChange(ks.getData,{name:mi}).each($h=>{ks.setData($h)})},onSubmit:_e}},gg=re=>{Zf(re).then(Fe=>{const ht=Ws(re,Fe);return zl(Fe,ht,re)}).then(Fe=>{re.windowManager.open(Fe)})},Hu=re=>{re.addCommand("mceLink",(_e,Fe)=>{(Fe==null?void 0:Fe.dialog)===!0||!Dt(re)?gg(re):re.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},oi=re=>{re.addShortcut("Meta+K","",()=>{re.execCommand("mceLink")})};var ad=tinymce.util.Tools.resolve("tinymce.util.VK");const Pb=(re,_e)=>{document.body.appendChild(re),re.dispatchEvent(_e),document.body.removeChild(re)},qf=re=>{const _e=document.createElement("a");_e.target="_blank",_e.href=re,_e.rel="noreferrer noopener";const Fe=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Fe),Pb(_e,Fe)},Zs=re=>re.altKey===!0&&re.shiftKey===!1&&re.ctrlKey===!1&&re.metaKey===!1,Ud=(re,_e)=>{if(_e){const Fe=lr(_e);if(/^#/.test(Fe)){const ht=re.dom.select(`${Fe},[name="${ir(Fe,"#")}"]`);ht.length&&re.selection.scrollIntoView(ht[0],!0)}else qf(_e.href)}},Aa=re=>{const _e=re.selection.getRng(),Fe=_e.startContainer;return Ds(Fe)&&_e.startContainer===_e.endContainer&&re.dom.select("img",Fe).length===1},pl=(re,_e)=>{const Fe=Tl(re.dom.getParents(_e));return yo(Fe.length===1,Fe[0])},xr=re=>{const _e=jt(re.selection.getRng());return yo(_e.length>0,_e[0]).or(pl(re,re.selection.getNode()))},ml=re=>re.selection.isCollapsed()||Aa(re)?pl(re,re.selection.getStart()):xr(re),fa=re=>{const _e=_o(),Fe=()=>_e.get().or(ml(re)),ht=()=>Fe().each(Ot=>Ud(re,Ot));return re.on("contextmenu",Ot=>{pl(re,Ot.target).each(_e.set)}),re.on("SelectionChange",()=>{_e.isSet()||ml(re).each(_e.set)}),re.on("click",Ot=>{_e.clear();const Jt=Tl(re.dom.getParents(Ot.target));Jt.length===1&&ad.metaKeyPressed(Ot)&&(Ot.preventDefault(),Ud(re,Jt[0]))}),re.on("keydown",Ot=>{_e.clear(),!Ot.isDefaultPrevented()&&Ot.keyCode===13&&Zs(Ot)&&Fe().each(Jt=>{Ot.preventDefault(),Ud(re,Jt)})}),{gotoSelectedLink:ht}},bg=re=>()=>{re.execCommand("mceLink",!1,{dialog:!0})},Ih=(re,_e)=>(re.on("NodeChange",_e),()=>re.off("NodeChange",_e)),Xi=re=>_e=>{const Fe=()=>{_e.setActive(!re.mode.isReadOnly()&&ls(re,re.selection.getNode())),_e.setEnabled(re.selection.isEditable())};return Fe(),Ih(re,Fe)},$u=re=>_e=>{const Fe=()=>{_e.setEnabled(re.selection.isEditable())};return Fe(),Ih(re,Fe)},Kf=re=>_e=>{const Fe=Jt=>kc(Jt)||Yi(re.selection.getRng()),ht=re.dom.getParents(re.selection.getStart()),Ot=Jt=>{_e.setEnabled(Fe(Jt)&&re.selection.isEditable())};return Ot(ht),Ih(re,Jt=>Ot(Jt.parents))},Dl=(re,_e)=>{re.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:bg(re),onSetup:Xi(re)}),re.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:_e.gotoSelectedLink,onSetup:Kf(re)}),re.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Iu(re),onSetup:Kf(re)})},Fh=(re,_e)=>{re.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:_e.gotoSelectedLink,onSetup:Kf(re)}),re.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:bg(re),onSetup:$u(re)}),re.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Iu(re),onSetup:Kf(re)})},Vu=re=>{const _e="link unlink openlink",Fe="link";re.ui.registry.addContextMenu("link",{update:ht=>re.dom.isEditable(ht)?kc(re.dom.getParents(ht,"a"))?_e:Fe:""})},Hh=(re,_e)=>{const Fe=Jt=>{Jt.selection.collapse(!1)},ht=Jt=>{const an=re.selection.getNode();return Jt.setEnabled(ls(re,an)&&re.selection.isEditable()),ve},Ot=Jt=>{const an=en(re),In=Vr(re);if(an.isNone()&&In){const wn=Ls(re.selection,an);return yo(wn.length===0,Jt)}else return Je.none()};re.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Xi(re)},label:"Link",predicate:Jt=>Qo(re)&&ls(re,Jt),initValue:()=>en(re).fold(Ne(""),lr),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Jt=>{const an=re.selection.getNode();return Jt.setActive(ls(re,an)),Xi(re)(Jt)},onAction:Jt=>{const an=Jt.getValue(),In=Ot(an);je(re,{href:an,attach:ve},{href:an,text:In,title:Je.none(),rel:Je.none(),target:Je.from(Do(re)),class:Je.none()}),Fe(re),Jt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:ht,onAction:Jt=>{Iu(re),Jt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:ht,onAction:Jt=>{_e.gotoSelectedLink(),Jt.hide()}}]})},Ac=re=>{const _e=fa(re);Dl(re,_e),Fh(re,_e),Vu(re),Hh(re,_e)};var Ta=()=>{c.add("link",re=>{yr(re),Hu(re),Ac(re),oi(re)})};Ta()}()),YX}var QX;function T_e(){return QX||(QX=1,A_e()),GX}T_e();var JX={},eQ={},tQ;function O_e(){return tQ||(tQ=1,function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=ze=>({backspaceDelete:we=>{ze.execCommand("mceListBackspaceDelete",!1,we)}}),r=ze=>ze==null,a=ze=>!r(ze),d=ze=>()=>ze,h=(ze,we)=>ze===we,g=d(!1),es=class es{constructor(we,mt){vt(this,"tag");vt(this,"value");this.tag=we,this.value=mt}static some(we){return new es(!0,we)}static none(){return es.singletonNone}fold(we,mt){return this.tag?mt(this.value):we()}isSome(){return this.tag}isNone(){return!this.tag}map(we){return this.tag?es.some(we(this.value)):es.none()}bind(we){return this.tag?we(this.value):es.none()}exists(we){return this.tag&&we(this.value)}forall(we){return!this.tag||we(this.value)}filter(we){return!this.tag||we(this.value)?this:es.none()}getOr(we){return this.tag?this.value:we}or(we){return this.tag?this:we}getOrThunk(we){return this.tag?this.value:we()}orThunk(we){return this.tag?this:we()}getOrDie(we){if(this.tag)return this.value;throw new Error(we??"Called getOrDie on None")}static from(we){return a(we)?es.some(we):es.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(we){this.tag&&we(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}};vt(es,"singletonNone",new es(!1));let x=es;const k=Array.prototype.slice,z=(ze,we)=>{for(let mt=0,Yt=ze.length;mt<Yt;mt++){const Dt=ze[mt];if(we(Dt,mt))return!0}return!1},D=(ze,we)=>{const mt=ze.length,Yt=new Array(mt);for(let Dt=0;Dt<mt;Dt++){const bn=ze[Dt];Yt[Dt]=we(bn,Dt)}return Yt},$=(ze,we)=>{for(let mt=0,Yt=ze.length;mt<Yt;mt++){const Dt=ze[mt];we(Dt,mt)}},K=(ze,we,mt)=>($(ze,(Yt,Dt)=>{mt=we(mt,Yt,Dt)}),mt),Y=(ze,we,mt)=>{for(let Yt=0,Dt=ze.length;Yt<Dt;Yt++){const bn=ze[Yt];if(we(bn,Yt))return x.some(bn);if(mt(bn,Yt))break}return x.none()},ie=(ze,we)=>Y(ze,we,g),ve=ze=>{const we=k.call(ze,0);return we.reverse(),we},Ne=(ze,we,mt=h)=>ze.exists(Yt=>mt(Yt,we)),Je=(ze=>we=>we.replace(ze,""))(/^\s+|\s+$/g),He=ze=>ze.length>0,ge=ze=>!He(ze),Ie=ze=>{const we=ve(Je(ze).split("")),mt=D(we,(Yt,Dt)=>{const bn=Yt.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Dt)*bn});return K(mt,(Yt,Dt)=>Yt+Dt,0)},he=ze=>{if(ze--,ze<0)return"";{const we=ze%26,mt=Math.floor(ze/26),Yt=he(mt),Dt=String.fromCharCode(65+we);return Yt+Dt}},Ve=ze=>/^[A-Z]+$/.test(ze),bo=ze=>/^[a-z]+$/.test(ze),lo=ze=>/^[0-9]+$/.test(ze),Kt=ze=>lo(ze)?2:Ve(ze)?0:bo(ze)?1:ge(ze)?3:4,Me=ze=>{switch(Kt(ze)){case 2:return x.some({listStyleType:x.none(),start:ze});case 0:return x.some({listStyleType:x.some("upper-alpha"),start:Ie(ze).toString()});case 1:return x.some({listStyleType:x.some("lower-alpha"),start:Ie(ze).toString()});case 3:return x.some({listStyleType:x.none(),start:""});case 4:return x.none()}},yt=ze=>{const we=parseInt(ze.start,10);return Ne(ze.listStyleType,"upper-alpha")?he(we):Ne(ze.listStyleType,"lower-alpha")?he(we).toLowerCase():ze.start},Mt=(ze=>we=>we.options.get(ze))("forced_root_block"),Ft=ze=>/\btox\-/.test(ze.className),zo=ze=>we=>a(we)&&ze.test(we.nodeName),En=ze=>we=>a(we)&&we.nodeName.toLowerCase()===ze,ft=zo(/^(OL|UL|DL)$/),To=zo(/^(TH|TD)$/),zs=zo(/^(LI|DT|DD)$/),Tt=(ze,we)=>Y(ze,ft,To).exists(mt=>mt.nodeName===we&&!Ft(mt)),Le=(ze,we)=>{const mt=ze.selection.getNode();return we({parents:ze.dom.getParents(mt),element:mt}),ze.on("NodeChange",we),()=>ze.off("NodeChange",we)},Ge=(ze,we)=>we!==null&&!ze.dom.isEditable(we),yo=(ze,we)=>{const mt=ze.dom.getParent(we,"ol,ul,dl");return Ge(ze,mt)||!ze.selection.isEditable()},to=En("ol"),_o=["OL","UL","DL"],fo=_o.join(","),G=(ze,we)=>{const mt=we||ze.selection.getStart(!0);return ze.dom.getParent(mt,fo,ir(ze,mt))},ir=(ze,we)=>{const mt=ze.dom.getParents(we,ze.dom.isBlock),Yt=bn=>bn.nodeName.toLowerCase()!==Mt(ze);return ie(mt,bn=>Yt(bn)&&Vn(ze.schema,bn)).getOr(ze.getBody())},Vn=(ze,we)=>!ft(we)&&!zs(we)&&z(_o,mt=>ze.isValidChild(we.nodeName,mt)),Zo=ze=>{const we=G(ze);!to(we)||yo(ze,we)||ze.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:yt({start:ze.dom.getAttrib(we,"start","1"),listStyleType:x.from(ze.dom.getStyle(we,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:mt=>{const Yt=mt.getData();Me(Yt.start).each(Dt=>{ze.execCommand("mceListUpdate",!1,{attrs:{start:Dt.start==="1"?"":Dt.start},styles:{"list-style-type":Dt.listStyleType.getOr("")}})}),mt.close()}})},yr=ze=>{ze.addCommand("mceListProps",()=>{Zo(ze)})},Jr=(ze,we)=>mt=>{const Yt=Dt=>{mt.setActive(Tt(Dt.parents,we)),mt.setEnabled(!yo(ze,Dt.element)&&ze.selection.isEditable())};return mt.setEnabled(ze.selection.isEditable()),Le(ze,Yt)},Qo=ze=>{const we=mt=>()=>ze.execCommand(mt);ze.hasPlugin("advlist")||(ze.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:we("InsertOrderedList"),onSetup:Jr(ze,"OL")}),ze.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:we("InsertUnorderedList"),onSetup:Jr(ze,"UL")}))},Rn=(ze,we)=>mt=>Le(ze,Dt=>mt.setEnabled(Tt(Dt.parents,we)&&!yo(ze,Dt.element))),Do=ze=>{const we={text:"List properties...",icon:"ordered-list",onAction:()=>ze.execCommand("mceListProps"),onSetup:Rn(ze,"OL")};ze.ui.registry.addMenuItem("listprops",we),ze.ui.registry.addContextMenu("lists",{update:mt=>{const Yt=G(ze,mt);return to(Yt)?["listprops"]:[]}})};var tt=()=>{c.add("lists",ze=>(yr(ze),Qo(ze),Do(ze),o(ze)))};tt()}()),eQ}var oQ;function z_e(){return oQ||(oQ=1,O_e()),JX}z_e();var nQ={},sQ={},rQ;function D_e(){return rQ||(rQ=1,function(){var c=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(R,F,J)=>{var de;return J(R,F.prototype)?!0:((de=R.constructor)==null?void 0:de.name)===F.name},r=R=>{const F=typeof R;return R===null?"null":F==="object"&&Array.isArray(R)?"array":F==="object"&&o(R,String,(J,de)=>de.isPrototypeOf(J))?"string":F},a=R=>F=>r(F)===R,d=R=>F=>typeof F===R,h=R=>F=>R===F,g=a("string"),x=a("array"),k=d("boolean"),z=h(void 0),D=R=>R==null,$=R=>!D(R),K=d("function"),Y=d("number"),ie=()=>{},ve=(R,F)=>J=>R(F(J)),Ne=R=>()=>R,ye=R=>R,Je=(R,F)=>R===F;function He(R,...F){return(...J)=>{const de=F.concat(J);return R.apply(null,de)}}const ge=R=>{R()},Ie=Ne(!1),he=Ne(!0),Hr=class Hr{constructor(F,J){vt(this,"tag");vt(this,"value");this.tag=F,this.value=J}static some(F){return new Hr(!0,F)}static none(){return Hr.singletonNone}fold(F,J){return this.tag?J(this.value):F()}isSome(){return this.tag}isNone(){return!this.tag}map(F){return this.tag?Hr.some(F(this.value)):Hr.none()}bind(F){return this.tag?F(this.value):Hr.none()}exists(F){return this.tag&&F(this.value)}forall(F){return!this.tag||F(this.value)}filter(F){return!this.tag||F(this.value)?this:Hr.none()}getOr(F){return this.tag?this.value:F}or(F){return this.tag?this:F}getOrThunk(F){return this.tag?this.value:F()}orThunk(F){return this.tag?this:F()}getOrDie(F){if(this.tag)return this.value;throw new Error(F??"Called getOrDie on None")}static from(F){return $(F)?Hr.some(F):Hr.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(F){this.tag&&F(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}};vt(Hr,"singletonNone",new Hr(!1));let Ve=Hr;const bo=Array.prototype.indexOf,lo=Array.prototype.push,Kt=(R,F)=>bo.call(R,F),Me=(R,F)=>Kt(R,F)>-1,yt=(R,F)=>{for(let J=0,de=R.length;J<de;J++){const Ae=R[J];if(F(Ae,J))return!0}return!1},I=(R,F)=>{const J=[];for(let de=0;de<R;de++)J.push(F(de));return J},Mt=(R,F)=>{const J=R.length,de=new Array(J);for(let Ae=0;Ae<J;Ae++){const ut=R[Ae];de[Ae]=F(ut,Ae)}return de},Ft=(R,F)=>{for(let J=0,de=R.length;J<de;J++){const Ae=R[J];F(Ae,J)}},zo=(R,F)=>{for(let J=R.length-1;J>=0;J--){const de=R[J];F(de,J)}},En=(R,F)=>{const J=[],de=[];for(let Ae=0,ut=R.length;Ae<ut;Ae++){const Rt=R[Ae];(F(Rt,Ae)?J:de).push(Rt)}return{pass:J,fail:de}},ft=(R,F)=>{const J=[];for(let de=0,Ae=R.length;de<Ae;de++){const ut=R[de];F(ut,de)&&J.push(ut)}return J},To=(R,F,J)=>(zo(R,(de,Ae)=>{J=F(J,de,Ae)}),J),zs=(R,F,J)=>(Ft(R,(de,Ae)=>{J=F(J,de,Ae)}),J),Tt=(R,F,J)=>{for(let de=0,Ae=R.length;de<Ae;de++){const ut=R[de];if(F(ut,de))return Ve.some(ut);if(J(ut,de))break}return Ve.none()},Le=(R,F)=>Tt(R,F,Ie),Ge=R=>{const F=[];for(let J=0,de=R.length;J<de;++J){if(!x(R[J]))throw new Error("Arr.flatten item "+J+" was not an array, input: "+R);lo.apply(F,R[J])}return F},yo=(R,F)=>Ge(Mt(R,F)),to=(R,F)=>{for(let J=0,de=R.length;J<de;++J){const Ae=R[J];if(F(Ae,J)!==!0)return!1}return!0},_o=(R,F)=>{const J={};for(let de=0,Ae=R.length;de<Ae;de++){const ut=R[de];J[String(ut)]=F(ut,de)}return J},fo=(R,F)=>F>=0&&F<R.length?Ve.some(R[F]):Ve.none(),G=R=>fo(R,0),ir=R=>fo(R,R.length-1),Vn=(R,F)=>{for(let J=0;J<R.length;J++){const de=F(R[J],J);if(de.isSome())return de}return Ve.none()},Zo=Object.keys,yr=Object.hasOwnProperty,Jr=(R,F)=>{const J=Zo(R);for(let de=0,Ae=J.length;de<Ae;de++){const ut=J[de],Rt=R[ut];F(Rt,ut)}},Qo=R=>(F,J)=>{R[J]=F},Rn=(R,F,J,de)=>{Jr(R,(Ae,ut)=>{(F(Ae,ut)?J:de)(Ae,ut)})},Do=(R,F)=>{const J={};return Rn(R,F,Qo(J),ie),J},tt=(R,F)=>{const J=[];return Jr(R,(de,Ae)=>{J.push(F(de,Ae))}),J},es=R=>tt(R,ye),ze=R=>Zo(R).length,we=(R,F)=>mt(R,F)?Ve.from(R[F]):Ve.none(),mt=(R,F)=>yr.call(R,F),Yt=(R,F)=>mt(R,F)&&R[F]!==void 0&&R[F]!==null,Dt=R=>{for(const F in R)if(yr.call(R,F))return!1;return!0},bn=R=>{let F=R;return{get:()=>F,set:Ae=>{F=Ae}}},Wo=(R,F,J=Je)=>R.exists(de=>J(de,F)),Xn=R=>{const F=[],J=de=>{F.push(de)};for(let de=0;de<R.length;de++)R[de].each(J);return F},Gi=(R,F,J)=>R.isSome()&&F.isSome()?Ve.some(J(R.getOrDie(),F.getOrDie())):Ve.none(),Rr=R=>R.bind(ye),Ds=(R,F)=>R?Ve.some(F):Ve.none(),Sr=R=>{const F=bn(Ve.none()),J=()=>F.get().each(R);return{clear:()=>{J(),F.set(Ve.none())},isSet:()=>F.get().isSome(),get:()=>F.get(),set:Wt=>{J(),F.set(Ve.some(Wt))}}},ar=()=>Sr(R=>R.unbind()),lr=(R,F)=>R.substring(F),ps=(R,F,J)=>F===""||R.length>=F.length&&R.substr(J,J+F.length)===F,so=(R,F)=>en(R,F)?lr(R,F.length):R,en=(R,F)=>ps(R,F,0),Ls=(R=>F=>F.replace(R,""))(/^\s+|\s+$/g),jt=R=>R.length>0,Tl=R=>!jt(R),kc=(R,F=10)=>{const J=parseInt(R,F);return isNaN(J)?Ve.none():Ve.some(J)},Yi=R=>{const F=parseFloat(R);return isNaN(F)?Ve.none():Ve.some(F)},Vr=R=>{let F=!1,J;return(...de)=>(F||(F=!0,J=R.apply(null,de)),J)},yn=(R,F)=>{const de=(F||document).createElement("div");if(de.innerHTML=R,!de.hasChildNodes()||de.childNodes.length>1){const Ae="HTML does not have a single root node";throw console.error(Ae,R),new Error(Ae)}return hl(de.childNodes[0])},Ea=(R,F)=>{const de=(F||document).createElement(R);return hl(de)},Zp=(R,F)=>{const de=(F||document).createTextNode(R);return hl(de)},hl=R=>{if(R==null)throw new Error("Node cannot be null or undefined");return{dom:R}},An={fromHtml:yn,fromTag:Ea,fromText:Zp,fromDom:hl,fromPoint:(R,F,J)=>Ve.from(R.dom.elementFromPoint(F,J)).map(hl)},hi=8,Ni=9,Us=11,Dn=1,Io=3,je=(R,F)=>{const J=R.dom;if(J.nodeType!==Dn)return!1;{const de=J;if(de.matches!==void 0)return de.matches(F);if(de.msMatchesSelector!==void 0)return de.msMatchesSelector(F);if(de.webkitMatchesSelector!==void 0)return de.webkitMatchesSelector(F);if(de.mozMatchesSelector!==void 0)return de.mozMatchesSelector(F);throw new Error("Browser lacks native selectors")}},Iu=R=>R.nodeType!==Dn&&R.nodeType!==Ni&&R.nodeType!==Us||R.childElementCount===0,Js=(R,F)=>{const J=F===void 0?document:F.dom;return Iu(J)?[]:Mt(J.querySelectorAll(R),An.fromDom)},Yl=(R,F)=>{const J=F===void 0?document:F.dom;return Iu(J)?Ve.none():Ve.from(J.querySelector(R)).map(An.fromDom)},Mn=(R,F)=>R.dom===F.dom,Xl=je,pi=R=>R.dom.nodeName.toLowerCase(),jd=R=>R.dom.nodeType,Ks=R=>F=>jd(F)===R,dg=R=>jd(R)===hi||pi(R)==="#comment",ei=Ks(Dn),ti=Ks(Io),Qn=Ks(Ni),jf=Ks(Us),cs=R=>F=>ei(F)&&pi(F)===R,jr=R=>An.fromDom(R.dom.ownerDocument),ug=R=>Qn(R)?R:jr(R),rd=R=>Ve.from(R.dom.parentNode).map(An.fromDom),Uf=(R,F)=>{const J=K(F)?F:Ie;let de=R.dom;const Ae=[];for(;de.parentNode!==null&&de.parentNode!==void 0;){const ut=de.parentNode,Rt=An.fromDom(ut);if(Ae.push(Rt),J(Rt)===!0)break;de=ut}return Ae},_c=R=>Ve.from(R.dom.previousSibling).map(An.fromDom),Cc=R=>Ve.from(R.dom.nextSibling).map(An.fromDom),Sc=R=>Mt(R.dom.childNodes,An.fromDom),Ur=(R,F)=>{const J=R.dom.childNodes;return Ve.from(J[F]).map(An.fromDom)},Wf=R=>Ur(R,0),Bb=R=>jf(R)&&$(R.dom.host),Gs=R=>An.fromDom(R.dom.getRootNode()),fg=R=>{const F=Gs(R);return Bb(F)?Ve.some(F):Ve.none()},Ut=R=>An.fromDom(R.dom.host),id=(R,F)=>{rd(R).each(de=>{de.dom.insertBefore(F.dom,R.dom)})},qp=(R,F)=>{Cc(R).fold(()=>{rd(R).each(Ae=>{Ol(Ae,F)})},de=>{id(de,F)})},hg=(R,F)=>{Wf(R).fold(()=>{Ol(R,F)},de=>{R.dom.insertBefore(F.dom,de.dom)})},Ol=(R,F)=>{R.dom.appendChild(F.dom)},Kp=(R,F)=>{id(R,F),Ol(F,R)},pg=(R,F)=>{Ft(F,(J,de)=>{const Ae=de===0?R:F[de-1];qp(Ae,J)})},Ql=(R,F)=>{Ft(F,J=>{Ol(R,J)})},Ec=(R,F,J)=>{if(g(J)||k(J)||Y(J))R.setAttribute(F,J+"");else throw console.error("Invalid call to Attribute.set. Key ",F,":: Value ",J,":: Element ",R),new Error("Attribute value was not simple")},Gp=(R,F,J)=>{Ec(R.dom,F,J)},mg=(R,F)=>{const J=R.dom;Jr(F,(de,Ae)=>{Ec(J,Ae,de)})},on=(R,F)=>{const J=R.dom.getAttribute(F);return J===null?void 0:J},Ws=(R,F)=>Ve.from(on(R,F)),Zf=(R,F)=>{R.dom.removeAttribute(F)},Fu=R=>zs(R.dom.attributes,(F,J)=>(F[J.name]=J.value,F),{}),zl=R=>{const F=R.dom;F.parentNode!==null&&F.parentNode.removeChild(F)},gg=R=>{const F=Sc(R);F.length>0&&pg(R,F),zl(R)},Hu=R=>Mt(R,An.fromDom),oi=R=>R.style!==void 0&&K(R.style.getPropertyValue),ad=R=>{const F=ti(R)?R.dom.parentNode:R.dom;if(F==null||F.ownerDocument===null)return!1;const J=F.ownerDocument;return fg(An.fromDom(F)).fold(()=>J.body.contains(F),ve(ad,Ut))},Pb=(R,F,J)=>{if(!g(J))throw console.error("Invalid call to CSS.set. Property ",F,":: Value ",J,":: Element ",R),new Error("CSS value must be a string: "+J);oi(R)&&R.style.setProperty(F,J)},qf=(R,F)=>{oi(R)&&R.style.removeProperty(F)},Zs=(R,F,J)=>{const de=R.dom;Pb(de,F,J)},Ud=(R,F)=>{const J=R.dom,Ae=window.getComputedStyle(J).getPropertyValue(F);return Ae===""&&!ad(R)?Aa(J,F):Ae},Aa=(R,F)=>oi(R)?R.style.getPropertyValue(F):"",pl=(R,F)=>{const J=R.dom,de=Aa(J,F);return Ve.from(de).filter(Ae=>Ae.length>0)},xr=(R,F)=>{const J=R.dom;qf(J,F),Wo(Ws(R,"style").map(Ls),"")&&Zf(R,"style")},ml=(R,F)=>Yi(R).getOr(F),fa=(R,F,J)=>ml(Ud(R,F),J),bg=(R,F,J,de)=>{const Ae=fa(R,`padding-${J}`,0),ut=fa(R,`padding-${de}`,0),Rt=fa(R,`border-${J}-width`,0),Wt=fa(R,`border-${de}-width`,0);return F-Ae-ut-Rt-Wt},Ih=(R,F)=>{const J=R.dom,de=J.getBoundingClientRect().width||J.offsetWidth;return bg(R,de,"left","right")},$u=R=>Ih(R),Dl=((R,F)=>{const J=ut=>{if(!R(ut))throw new Error("Can only get "+F+" value of a "+F+" node");return de(ut).getOr("")},de=ut=>R(ut)?Ve.from(ut.dom.nodeValue):Ve.none();return{get:J,getOption:de,set:(ut,Rt)=>{if(!R(ut))throw new Error("Can only set raw "+F+" value of a "+F+" node");ut.dom.nodeValue=Rt}}})(ti,"text"),Fh=R=>Dl.get(R),Vu=(R,F)=>Dl.set(R,F);var Hh=(R,F,J,de,Ae)=>R(J,de)?Ve.some(J):K(Ae)&&Ae(J)?Ve.none():F(J,de,Ae);const Ac=(R,F,J)=>{let de=R.dom;const Ae=K(J)?J:Ie;for(;de.parentNode;){de=de.parentNode;const ut=An.fromDom(de);if(F(ut))return Ve.some(ut);if(Ae(ut))break}return Ve.none()},Ta=(R,F,J)=>Hh((Ae,ut)=>ut(Ae),Ac,R,F,J),Wr=(R,F)=>{const J=Ae=>F(An.fromDom(Ae));return Le(R.dom.childNodes,J).map(An.fromDom)},re=(R,F,J)=>Ac(R,de=>je(de,F),J),_e=(R,F)=>Wr(R,J=>je(J,F)),Fe=(R,F)=>Yl(F,R),ht=(R,F,J)=>Hh((Ae,ut)=>je(Ae,ut),re,R,F,J),Ot=R=>ht(R,"[contenteditable]"),Jt=(R,F=!1)=>ad(R)?R.dom.isContentEditable:Ot(R).fold(Ne(F),J=>an(J)==="true"),an=R=>R.dom.contentEditable,In=(R,F)=>ft(Sc(R),F),wn=(R,F)=>{let J=[];return Ft(Sc(R),de=>{F(de)&&(J=J.concat([de])),J=J.concat(wn(de,F))}),J},cr=(R,F)=>In(R,J=>je(J,F)),dr=(R,F)=>Js(F,R),ks=(R,F)=>_e(R,F).isSome(),mi=R=>R.nodeName.toLowerCase(),$h=R=>An.fromDom(R.getBody()),Oa=R=>F=>Mn(F,$h(R)),ju=R=>R?R.replace(/px$/,""):"",Jn=R=>/^\d+(\.\d+)?$/.test(R)?R+"px":R,za=R=>An.fromDom(R.selection.getStart()),Uu=R=>An.fromDom(R.selection.getEnd()),Wd=R=>Ta(R,cs("table")).forall(Jt),Lr=["tfoot","thead","tbody","colgroup"],Jl=R=>Me(Lr,R),Zd=(R,F)=>({rows:R,columns:F}),Ri=(R,F,J)=>({element:R,rowspan:F,colspan:J}),Ib=(R,F,J,de,Ae,ut)=>({element:R,rowspan:F,colspan:J,row:de,column:Ae,isLocked:ut}),Yp=(R,F,J)=>({element:R,cells:F,section:J}),yg=(R,F,J,de)=>({startRow:R,startCol:F,finishRow:J,finishCol:de}),ni=(R,F,J)=>({element:R,colspan:F,column:J}),Gf=(R,F)=>({element:R,columns:F}),ld=(R,F,J=0)=>Ws(R,F).map(de=>parseInt(de,10)).getOr(J),ec=(R,F)=>xg(R,F,he),xg=(R,F,J)=>yo(Sc(R),de=>je(de,F)?J(de)?[de]:[]:xg(de,F,J)),Ci=(R,F,J=Ie)=>{if(J(F))return Ve.none();if(Me(R,pi(F)))return Ve.some(F);const de=Ae=>je(Ae,"table")||J(Ae);return re(F,R.join(","),de)},Xp=(R,F)=>Ci(["td","th"],R,F),qd=R=>ec(R,"th,td"),Li=R=>je(R,"colgroup")?cr(R,"col"):yo(Qp(R),F=>cr(F,"col")),Da=(R,F)=>ht(R,"table",F),tc=R=>ec(R,"tr"),Qp=R=>Da(R).fold(Ne([]),F=>cr(F,"colgroup")),Er=cs("th"),gl=(R,F)=>R&&F?"sectionCells":R?"section":"cells",cd=R=>{const F=R.section==="thead",J=Wo(Tc(R.cells),"th");return R.section==="tfoot"?{type:"footer"}:F||J?{type:"header",subType:gl(F,J)}:{type:"body"}},Tc=R=>{const F=ft(R,J=>Er(J.element));return F.length===0?Ve.some("td"):F.length===R.length?Ve.some("th"):Ve.none()},Bi=R=>{const F=Mt(R,Ae=>cd(Ae).type),J=Me(F,"header"),de=Me(F,"footer");if(!J&&!de)return Ve.some("body");{const Ae=Me(F,"body");return J&&!Ae&&!de?Ve.some("header"):!J&&!Ae&&de?Ve.some("footer"):Ve.none()}},Ml=(R,F)=>Mt(R,J=>{if(pi(J)==="colgroup"){const de=Mt(Li(J),Ae=>{const ut=ld(Ae,"span",1);return Ri(Ae,1,ut)});return Yp(J,de,"colgroup")}else{const de=Mt(qd(J),Ae=>{const ut=ld(Ae,"rowspan",1),Rt=ld(Ae,"colspan",1);return Ri(Ae,ut,Rt)});return Yp(J,de,F(J))}}),Fb=R=>rd(R).map(F=>{const J=pi(F);return Jl(J)?J:"tbody"}).getOr("tbody"),Hb=R=>{const F=tc(R),de=[...Qp(R),...F];return Ml(de,Fb)},Ma="data-snooker-locked-cols",ha=R=>Ws(R,Ma).bind(F=>Ve.from(F.match(/\d+/g))).map(F=>_o(F,he)),Na=(R,F)=>R+","+F,mo=(R,F,J)=>Ve.from(R.access[Na(F,J)]),Qy=(R,F,J)=>{const de=$o(R,Ae=>J(F,Ae.element));return de.length>0?Ve.some(de[0]):Ve.none()},$o=(R,F)=>{const J=yo(R.all,de=>de.cells);return ft(J,F)},si=R=>{const F={};let J=0;return Ft(R.cells,de=>{const Ae=de.colspan;I(Ae,ut=>{const Rt=J+ut;F[Rt]=ni(de.element,Ae,Rt)}),J+=Ae}),F},Jp=R=>{const F={},J=[],Ae=G(R).map(Si=>Si.element).bind(Da).bind(ha).getOr({});let ut=0,Rt=0,Wt=0;const{pass:Oo,fail:dn}=En(R,Si=>Si.section==="colgroup");Ft(dn,Si=>{const Ja=[];Ft(Si.cells,su=>{let ac=0;for(;F[Na(Wt,ac)]!==void 0;)ac++;const Xb=Yt(Ae,ac.toString()),Yh=Ib(su.element,su.rowspan,su.colspan,Wt,ac,Xb);for(let Ms=0;Ms<su.colspan;Ms++)for(let tf=0;tf<su.rowspan;tf++){const el=Wt+tf,lc=ac+Ms,Xh=Na(el,lc);F[Xh]=Yh,Rt=Math.max(Rt,lc+1)}Ja.push(Yh)}),ut++,J.push(Yp(Si.element,Ja,Si.section)),Wt++});const{columns:Ln,colgroups:or}=ir(Oo).map(Si=>{const Ja=si(Si);return{colgroups:[Gf(Si.element,es(Ja))],columns:Ja}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Zd(ut,Rt),access:F,all:J,columns:Ln,colgroups:or}},Ga={fromTable:R=>{const F=Hb(R);return Jp(F)},generate:Jp,getAt:mo,findItem:Qy,filterItems:$o,justCells:R=>yo(R.all,F=>F.cells),justColumns:R=>es(R.columns),hasColumns:R=>Zo(R.columns).length>0,getColumnAt:(R,F)=>Ve.from(R.columns[F])},Wu=(R,F)=>Vn(R.all,J=>Le(J.cells,de=>Mn(F,de.element))),Vh=(R,F,J)=>{const de=Mt(F.selection,ut=>Xp(ut).bind(Rt=>Wu(R,Rt)).filter(J)),Ae=Xn(de);return Ds(Ae.length>0,Ae)},bt=(R,F)=>F.mergable,vr=(R,F)=>F.unmergable,Vb=(R,F)=>Vh(R,F,he),jb=(R,F)=>Wu(R,F).exists(J=>!J.isLocked),oc=(R,F)=>to(F,J=>jb(R,J)),Vo=(R,F)=>bt(R,F).filter(J=>oc(R,J.cells)),xe=(R,F)=>vr(R,F).filter(J=>oc(R,J));var Zu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Pi=()=>{const R=dn=>An.fromDom(dn.dom.cloneNode(!1)),F=dn=>ug(dn).dom,J=dn=>ei(dn)?pi(dn)==="body"?!0:Me(Zu,pi(dn)):!1,de=dn=>ei(dn)?Me(["br","img","hr","input"],pi(dn)):!1,Ae=dn=>ei(dn)&&on(dn,"contenteditable")==="false",ut=(dn,Ln)=>dn.dom.compareDocumentPosition(Ln.dom),Rt=(dn,Ln)=>{const or=Fu(dn);mg(Ln,or)},Wt=dn=>{const Ln=pi(dn);return Me(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Ln)},Oo=dn=>ei(dn)?Ws(dn,"lang"):Ve.none();return{up:Ne({selector:re,closest:ht,predicate:Ac,all:Uf}),down:Ne({selector:dr,predicate:wn}),styles:Ne({get:Ud,getRaw:pl,set:Zs,remove:xr}),attrs:Ne({get:on,set:Gp,remove:Zf,copyTo:Rt}),insert:Ne({before:id,after:qp,afterAll:pg,append:Ol,appendAll:Ql,prepend:hg,wrap:Kp}),remove:Ne({unwrap:gg,remove:zl}),create:Ne({nu:An.fromTag,clone:R,text:An.fromText}),query:Ne({comparePosition:ut,prevSibling:_c,nextSibling:Cc}),property:Ne({children:Sc,name:pi,parent:rd,document:F,isText:ti,isComment:dg,isElement:ei,isSpecial:Wt,getLanguage:Oo,getText:Fh,setText:Vu,isBoundary:J,isEmptyTag:de,isNonEditable:Ae}),eq:Mn,is:Xl}};const vg=(R,F,J,de)=>{const Ae=J[0],ut=J.slice(1);return de(R,F,Ae,ut)},wr=(R,F,J)=>J.length>0?vg(R,F,J,Gd):Ve.none(),Gd=(R,F,J,de)=>{const Ae=F(R,J);return To(de,(ut,Rt)=>{const Wt=F(R,Rt);return Oc(R,ut,Wt)},Ae)},Oc=(R,F,J)=>F.bind(de=>J.filter(He(R.eq,de))),xn=wr,em=Pi(),Ub=(R,F)=>xn(em,(J,de)=>R(de),F),Br=(R,F)=>{const J=Ga.fromTable(R);return Vb(J,F).bind(Ae=>{const ut=Ae[Ae.length-1],Rt=Ae[0].row,Wt=ut.row+ut.rowspan,Oo=J.all.slice(Rt,Wt);return Bi(Oo)}).getOr("")},Yd=(R,F)=>F.column>=R.startCol&&F.column+F.colspan-1<=R.finishCol&&F.row>=R.startRow&&F.row+F.rowspan-1<=R.finishRow,dd=(R,F)=>{let J=!0;const de=He(Yd,F);for(let Ae=F.startRow;Ae<=F.finishRow;Ae++)for(let ut=F.startCol;ut<=F.finishCol;ut++)J=J&&Ga.getAt(R,Ae,ut).exists(de);return J?Ve.some(F):Ve.none()},Xf=(R,F)=>yg(Math.min(R.row,F.row),Math.min(R.column,F.column),Math.max(R.row+R.rowspan-1,F.row+F.rowspan-1),Math.max(R.column+R.colspan-1,F.column+F.colspan-1)),jn=(R,F,J)=>{const de=Ga.findItem(R,F,Mn),Ae=Ga.findItem(R,J,Mn);return de.bind(ut=>Ae.map(Rt=>Xf(ut,Rt)))},ud=(R,F,J)=>jn(R,F,J).bind(de=>dd(R,de)),Qf=(R,F,J)=>{const de=Bs(R);return ud(de,F,J)},Bs=Ga.fromTable;var cn=tinymce.util.Tools.resolve("tinymce.util.Tools");const pr=(R,F,J)=>{const de=R.select("td,th",F);let Ae;for(let ut=0;ut<de.length;ut++){const Rt=R.getStyle(de[ut],J);if(z(Ae)&&(Ae=Rt),Ae!==Rt)return""}return Ae},fd=(R,F,J)=>{cn.each("left center right".split(" "),de=>{de!==J&&R.formatter.remove("align"+de,{},F)}),J&&R.formatter.apply("align"+J,{},F)},Ra=(R,F,J)=>{cn.each("top middle bottom".split(" "),de=>{de!==J&&R.formatter.remove("valign"+de,{},F)}),J&&R.formatter.apply("valign"+J,{},F)},Xo=(R,F,J)=>{R.dispatch("TableModified",{...J,table:F})};var Wb=tinymce.util.Tools.resolve("tinymce.Env");const Jf="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Zb=I(5,R=>{const F=`${R+1}px`;return{title:F,value:F}}),hd=Mt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],R=>({title:R,value:R.toLowerCase()})),mr="100%",Ii=R=>{const F=R.dom,J=F.getParent(R.selection.getStart(),F.isBlock)??R.getBody();return $u(An.fromDom(J))+"px"},e1=(R,F)=>Pr(R)||!ma(R)?F:eh(R)?{...F,width:Ii(R)}:{...F,width:mr},t1=(R,F)=>Pr(R)||ma(R)?F:eh(R)?{...F,width:Ii(R)}:{...F,width:mr},ms=R=>F=>F.options.get(R),qb=R=>{const F=R.options.register;F("table_border_widths",{processor:"object[]",default:Zb}),F("table_border_styles",{processor:"object[]",default:hd}),F("table_cell_advtab",{processor:"boolean",default:!0}),F("table_row_advtab",{processor:"boolean",default:!0}),F("table_advtab",{processor:"boolean",default:!0}),F("table_appearance_options",{processor:"boolean",default:!0}),F("table_grid",{processor:"boolean",default:!Wb.deviceType.isTouch()}),F("table_cell_class_list",{processor:"object[]",default:[]}),F("table_row_class_list",{processor:"object[]",default:[]}),F("table_class_list",{processor:"object[]",default:[]}),F("table_toolbar",{processor:"string",default:Jf}),F("table_background_color_map",{processor:"object[]",default:[]}),F("table_border_color_map",{processor:"object[]",default:[]})},Nl=ms("table_sizing_mode"),rs=ms("table_border_widths"),La=ms("table_border_styles"),pa=ms("table_cell_advtab"),pd=ms("table_row_advtab"),Zr=ms("table_advtab"),Uh=ms("table_appearance_options"),Rl=ms("table_grid"),ma=ms("table_style_by_css"),_s=ms("table_cell_class_list"),wg=ms("table_row_class_list"),ln=ms("table_class_list"),kr=ms("table_toolbar"),bl=ms("table_background_color_map"),qr=ms("table_border_color_map"),eh=R=>Nl(R)==="fixed",Pr=R=>Nl(R)==="responsive",zc=R=>{const F=R.options,J=F.get("table_default_styles");return F.isSet("table_default_styles")?J:e1(R,J)},Dc=R=>{const F=R.options,J=F.get("table_default_attributes");return F.isSet("table_default_attributes")?J:t1(R,J)},ri=R=>re(R,"table"),tm=(R,F)=>{const J=dr(R,F);return J.length>0?Ve.some(J):Ve.none()},om=(R,F,J)=>Fe(R,F).bind(de=>Fe(R,J).bind(Ae=>Ub(ri,[de,Ae]).map(ut=>({first:de,last:Ae,table:ut})))),Kb=(R,F)=>tm(R,F),nm=(R,F,J)=>om(R,F,J).bind(de=>{const Ae=Oo=>Mn(R,Oo),ut="thead,tfoot,tbody,table",Rt=re(de.first,ut,Ae),Wt=re(de.last,ut,Ae);return Rt.bind(Oo=>Wt.bind(dn=>Mn(Oo,dn)?Qf(de.table,de.first,de.last):Ve.none()))}),sm=ye,kg=R=>{const F=(de,Ae)=>Ws(de,Ae).exists(ut=>parseInt(ut,10)>1),J=de=>F(de,"rowspan")||F(de,"colspan");return R.length>0&&to(R,J)?Ve.some(R):Ve.none()},_g=(R,F,J)=>F.length<=1?Ve.none():nm(R,J.firstSelectedSelector,J.lastSelectedSelector).map(de=>({bounds:de,cells:F})),Cg="data-mce-selected",rm="data-mce-first-selected",Mc="td["+rm+"],th["+rm+"]",im="data-mce-last-selected",o1="td["+im+"],th["+im+"]",th={selected:Cg,firstSelectedSelector:Mc,lastSelectedSelector:o1},Fi=R=>Da(R).bind(F=>Kb(F,th.firstSelectedSelector)).fold(Ne(R),F=>F[0]),qu=R=>(F,J)=>{const de=pi(F),Ae=de==="col"||de==="colgroup"?Fi(F):F;return ht(Ae,R,J)},Ll=qu("th,td,caption"),Nc=qu("th,td"),Wh=R=>Hu(R.model.table.getSelectedCells()),ii=(R,F)=>{const J=Nc(R),de=J.bind(Ae=>Da(Ae)).map(Ae=>tc(Ae));return Gi(J,de,(Ae,ut)=>ft(ut,Rt=>yt(Hu(Rt.dom.cells),Wt=>on(Wt,F)==="1"||Mn(Wt,Ae)))).getOr([])},Ya=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],nc=R=>({value:Zh(R)}),un=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ar=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Xd=R=>un.test(R)||Ar.test(R),Zh=R=>so(R,"#").toUpperCase(),er=R=>Xd(R)?Ve.some({value:Zh(R)}):Ve.none(),qh=R=>{const F=R.toString(16);return(F.length===1?"0"+F:F).toUpperCase()},Tr=R=>{const F=qh(R.red)+qh(R.green)+qh(R.blue);return nc(F)},Ba=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,fr=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Bl=(R,F,J,de)=>({red:R,green:F,blue:J,alpha:de}),Qd=(R,F,J,de)=>{const Ae=parseInt(R,10),ut=parseInt(F,10),Rt=parseInt(J,10),Wt=parseFloat(de);return Bl(Ae,ut,Rt,Wt)},Or=R=>{const F=Ba.exec(R);if(F!==null)return Ve.some(Qd(F[1],F[2],F[3],"1"));const J=fr.exec(R);return J!==null?Ve.some(Qd(J[1],J[2],J[3],J[4])):Ve.none()},Jd=R=>er(R).orThunk(()=>Or(R).map(Tr)).getOrThunk(()=>{const F=document.createElement("canvas");F.height=1,F.width=1;const J=F.getContext("2d");J.clearRect(0,0,F.width,F.height),J.fillStyle="#FFFFFF",J.fillStyle=R,J.fillRect(0,0,1,1);const de=J.getImageData(0,0,1,1).data,Ae=de[0],ut=de[1],Rt=de[2],Wt=de[3];return Tr(Bl(Ae,ut,Rt,Wt))}),sc=R=>Or(R).map(Tr).map(F=>"#"+F.value).getOr(R),eu=(R,F,J)=>de=>{const Ae=ar(),ut=Tl(J),Rt=()=>{const Wt=Wh(R),Oo=dn=>R.formatter.match(F,{value:J},dn.dom,ut);ut?(de.setActive(!yt(Wt,Oo)),Ae.set(R.formatter.formatChanged(F,dn=>de.setActive(!dn),!0))):(de.setActive(to(Wt,Oo)),Ae.set(R.formatter.formatChanged(F,de.setActive,!1,{value:J})))};return R.initialized?Rt():R.on("init",Rt),Ae.clear},ts=R=>Yt(R,"menu"),Qi=R=>Mt(R,F=>{const J=F.text||F.title||"";return ts(F)?{text:J,items:Qi(F.menu)}:{text:J,value:F.value}}),md=R=>R.length?Ve.some(Qi([{text:"Select...",value:"mce-no-match"},...R])):Ve.none(),ga=(R,F,J,de)=>Mt(F,Ae=>{const ut=Ae.text||Ae.title;return ts(Ae)?{type:"nestedmenuitem",text:ut,getSubmenuItems:()=>ga(R,Ae.menu,J,de)}:{text:ut,type:"togglemenuitem",onAction:()=>de(Ae.value),onSetup:eu(R,J,Ae.value)}}),gi=(R,F)=>J=>{R.execCommand("mceTableApplyCellStyle",!1,{[F]:J})},Ku=R=>yo(R,F=>ts(F)?[{...F,menu:Ku(F.menu)}]:jt(F.value)?[F]:[]),Rc=(R,F,J,de)=>Ae=>Ae(ga(R,F,J,de)),hr=(R,F,J)=>{const de=Mt(F,Ae=>({text:Ae.title,value:"#"+Jd(Ae.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:de.length>0?de:void 0,allowCustomColors:!1},onAction:Ae=>{const ut=Ae.value==="remove"?"":Ae.value;R.execCommand("mceTableApplyCellStyle",!1,{[J]:ut})}}]},Xa=R=>()=>{const J=R.queryCommandValue("mceTableRowType")==="header"?"body":"header";R.execCommand("mceTableRowType",!1,{type:J})},oh=R=>()=>{const J=R.queryCommandValue("mceTableColType")==="th"?"td":"th";R.execCommand("mceTableColType",!1,{type:J})},Gu=R=>md(_s(R)).map(F=>({name:"class",type:"listbox",label:"Class",items:F})),n1=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Ya}],tu=R=>n1.concat(Gu(R).toArray()),rc=(R,F)=>{const de=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Qi(La(R)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:F==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(de):de}},am={normal:(R,F)=>{const J=R.dom;return{setAttrib:(Rt,Wt)=>{J.setAttrib(F,Rt,Wt)},setStyle:(Rt,Wt)=>{J.setStyle(F,Rt,Wt)},setFormat:(Rt,Wt)=>{Wt===""?R.formatter.remove(Rt,{value:null},F,!0):R.formatter.apply(Rt,{value:Wt},F)}}}},gd=R=>en(R,"rgb")?sc(R):R,Yu=R=>{const F=An.fromDom(R);return{borderwidth:pl(F,"border-width").getOr(""),borderstyle:pl(F,"border-style").getOr(""),bordercolor:pl(F,"border-color").map(gd).getOr(""),backgroundcolor:pl(F,"background-color").map(gd).getOr("")}},Pa=R=>{const F=R[0],J=R.slice(1);return Ft(J,de=>{Ft(Zo(F),Ae=>{Jr(de,(ut,Rt)=>{const Wt=F[Ae];Wt!==""&&Ae===Rt&&Wt!==ut&&(F[Ae]=Ae==="class"?"mce-no-match":"")})})}),F},Yb=(R,F,J,de)=>Le(R,Ae=>!z(J.formatter.matchNode(de,F+Ae))).getOr(""),bd=He(Yb,["left","center","right"],"align"),Xu=He(Yb,["top","middle","bottom"],"valign"),ba=(R,F)=>{const J=zc(R),de=Dc(R),Ae=()=>({borderstyle:we(J,"border-style").getOr(""),bordercolor:gd(we(J,"border-color").getOr("")),backgroundcolor:gd(we(J,"background-color").getOr(""))}),ut={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},Rt=()=>{const Ln=J["border-width"];return ma(R)&&Ln?{border:Ln}:we(de,"border").fold(()=>({}),or=>({border:or}))},Wt=F?Ae():{},Oo=()=>{const Ln=we(J,"border-spacing").or(we(de,"cellspacing")).fold(()=>({}),Ts=>({cellspacing:Ts})),or=we(J,"border-padding").or(we(de,"cellpadding")).fold(()=>({}),Ts=>({cellpadding:Ts}));return{...Ln,...or}};return{...ut,...J,...de,...Wt,...Rt(),...Oo()}},ko=R=>Da(An.fromDom(R)).map(F=>{const J={selection:Hu(R.cells)};return Br(F,J)}).getOr(""),Qu=(R,F,J)=>{const de=(Wt,Oo)=>{const dn=pl(An.fromDom(Oo),"border-width");return ma(R)&&dn.isSome()?dn.getOr(""):Wt.getAttrib(Oo,"border")||pr(R.dom,Oo,"border-width")||pr(R.dom,Oo,"border")||""},Ae=R.dom,ut=ma(R)?Ae.getStyle(F,"border-spacing")||Ae.getAttrib(F,"cellspacing"):Ae.getAttrib(F,"cellspacing")||Ae.getStyle(F,"border-spacing"),Rt=ma(R)?pr(Ae,F,"padding")||Ae.getAttrib(F,"cellpadding"):Ae.getAttrib(F,"cellpadding")||pr(Ae,F,"padding");return{width:Ae.getStyle(F,"width")||Ae.getAttrib(F,"width"),height:Ae.getStyle(F,"height")||Ae.getAttrib(F,"height"),cellspacing:ut??"",cellpadding:Rt??"",border:de(Ae,F),caption:!!Ae.select("caption",F)[0],class:Ae.getAttrib(F,"class",""),align:bd(R,F),...J?Yu(F):{}}},lm=(R,F,J)=>{const de=R.dom;return{height:de.getStyle(F,"height")||de.getAttrib(F,"height"),class:de.getAttrib(F,"class",""),type:ko(F),align:bd(R,F),...J?Yu(F):{}}},s1=(R,F,J,de)=>{const Ae=R.dom,ut=de.getOr(F);return{width:((Wt,Oo)=>Ae.getStyle(Wt,Oo)||Ae.getAttrib(Wt,Oo))(ut,"width"),scope:Ae.getAttrib(F,"scope"),celltype:mi(F),class:Ae.getAttrib(F,"class",""),halign:bd(R,F),valign:Xu(R,F),...J?Yu(F):{}}},Kh=(R,F)=>{const J=Ga.fromTable(R),de=Ga.justCells(J),Ae=ft(de,ut=>yt(F,Rt=>Mn(ut.element,Rt)));return Mt(Ae,ut=>({element:ut.element.dom,column:Ga.getColumnAt(J,ut.column).map(Rt=>Rt.element.dom)}))},Lc=(R,F,J,de)=>{de("scope")&&R.setAttrib("scope",J.scope),de("class")&&J.class!=="mce-no-match"&&R.setAttrib("class",J.class),de("width")&&F.setStyle("width",Jn(J.width))},cm=(R,F,J)=>{J("backgroundcolor")&&R.setFormat("tablecellbackgroundcolor",F.backgroundcolor),J("bordercolor")&&R.setFormat("tablecellbordercolor",F.bordercolor),J("borderstyle")&&R.setFormat("tablecellborderstyle",F.borderstyle),J("borderwidth")&&R.setFormat("tablecellborderwidth",Jn(F.borderwidth))},dm=(R,F,J,de)=>{const Ae=F.length===1;Ft(F,ut=>{const Rt=ut.element,Wt=Ae?he:de,Oo=am.normal(R,Rt),dn=ut.column.map(Ln=>am.normal(R,Ln)).getOr(Oo);Lc(Oo,dn,J,Wt),pa(R)&&cm(Oo,J,Wt),de("halign")&&fd(R,Rt,J.halign),de("valign")&&Ra(R,Rt,J.valign)})},Ps=(R,F)=>{R.execCommand("mceTableCellType",!1,{type:F.celltype,no_events:!0})},Ia=(R,F,J,de)=>{const Ae=Do(de,(ut,Rt)=>J[Rt]!==ut);ze(Ae)>0&&F.length>=1&&Da(F[0]).each(ut=>{const Rt=Kh(ut,F),Wt=ze(Do(Ae,(dn,Ln)=>Ln!=="scope"&&Ln!=="celltype"))>0,Oo=mt(Ae,"celltype");(Wt||mt(Ae,"scope"))&&dm(R,Rt,de,He(mt,Ae)),Oo&&Ps(R,de),Xo(R,ut.dom,{structure:Oo,style:Wt})})},Hi=(R,F,J,de)=>{const Ae=de.getData();de.close(),R.undoManager.transact(()=>{Ia(R,F,J,Ae),R.focus()})},ou=(R,F)=>{const J=Da(F[0]).map(de=>Mt(Kh(de,F),Ae=>s1(R,Ae.element,pa(R),Ae.column)));return Pa(J.getOrDie())},Ji=R=>{const F=Wh(R);if(F.length===0)return;const J=ou(R,F),de={type:"tabpanel",tabs:[{title:"General",name:"general",items:tu(R)},rc(R,"cell")]},Ae={type:"panel",items:[{type:"grid",columns:2,items:tu(R)}]};R.windowManager.open({title:"Cell Properties",size:"normal",body:pa(R)?de:Ae,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:J,onSubmit:He(Hi,R,F,J)})},um=R=>md(wg(R)).map(F=>({name:"class",type:"listbox",label:"Class",items:F})),zr=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],bi=R=>zr.concat(um(R).toArray()),Bc=(R,F,J)=>{J("class")&&F.class!=="mce-no-match"&&R.setAttrib("class",F.class),J("height")&&R.setStyle("height",Jn(F.height))},xt=(R,F,J)=>{J("backgroundcolor")&&R.setStyle("background-color",F.backgroundcolor),J("bordercolor")&&R.setStyle("border-color",F.bordercolor),J("borderstyle")&&R.setStyle("border-style",F.borderstyle)},Fa=(R,F,J,de)=>{const ut=F.length===1?he:de;Ft(F,Rt=>{const Wt=cr(An.fromDom(Rt),"td,th"),Oo=am.normal(R,Rt);Bc(Oo,J,ut),pd(R)&&xt(Oo,J,ut),de("height")&&Ft(Wt,dn=>{R.dom.setStyle(dn.dom,"height",null)}),de("align")&&fd(R,Rt,J.align)})},Ju=(R,F)=>{R.execCommand("mceTableRowType",!1,{type:F.type,no_events:!0})},Ir=(R,F,J,de)=>{const Ae=Do(de,(ut,Rt)=>J[Rt]!==ut);if(ze(Ae)>0){const ut=mt(Ae,"type"),Rt=ut?ze(Ae)>1:!0;Rt&&Fa(R,F,de,He(mt,Ae)),ut&&Ju(R,de),Da(An.fromDom(F[0])).each(Wt=>Xo(R,Wt.dom,{structure:ut,style:Rt}))}},ic=(R,F,J,de)=>{const Ae=de.getData();de.close(),R.undoManager.transact(()=>{Ir(R,F,J,Ae),R.focus()})},yl=R=>{const F=ii(za(R),th.selected);if(F.length===0)return;const J=Mt(F,Rt=>lm(R,Rt.dom,pd(R))),de=Pa(J),Ae={type:"tabpanel",tabs:[{title:"General",name:"general",items:bi(R)},rc(R,"row")]},ut={type:"panel",items:[{type:"grid",columns:2,items:bi(R)}]};R.windowManager.open({title:"Row Properties",size:"normal",body:pd(R)?Ae:ut,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:de,onSubmit:He(ic,R,Mt(F,Rt=>Rt.dom),de)})},ea=(R,F,J)=>{const de=J?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ae=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],ut=Uh(R)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Rt=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Wt=F.length>0?[{name:"class",type:"listbox",label:"Class",items:F}]:[];return de.concat(Ae).concat(ut).concat(Rt).concat(Wt)},ya=(R,F,J,de)=>{if(F.tagName==="TD"||F.tagName==="TH")g(J)&&$(de)?R.setStyle(F,J,de):R.setStyles(F,J);else if(F.children)for(let Ae=0;Ae<F.children.length;Ae++)ya(R,F.children[Ae],J,de)},ta=(R,F,J,de)=>{const Ae=R.dom,ut={},Rt={},Wt=ma(R),Oo=Zr(R),dn=parseFloat(J.border)===0;if(!z(J.class)&&J.class!=="mce-no-match"&&(ut.class=J.class),Rt.height=Jn(J.height),Wt?Rt.width=Jn(J.width):Ae.getAttrib(F,"width")&&(ut.width=ju(J.width)),Wt?(dn?(ut.border=0,Rt["border-width"]=""):(Rt["border-width"]=Jn(J.border),ut.border=1),Rt["border-spacing"]=Jn(J.cellspacing)):(ut.border=dn?0:J.border,ut.cellpadding=J.cellpadding,ut.cellspacing=J.cellspacing),Wt&&F.children){const Ln={};if(dn?Ln["border-width"]="":de.border&&(Ln["border-width"]=Jn(J.border)),de.cellpadding&&(Ln.padding=Jn(J.cellpadding)),Oo&&de.bordercolor&&(Ln["border-color"]=J.bordercolor),!Dt(Ln))for(let or=0;or<F.children.length;or++)ya(Ae,F.children[or],Ln)}if(Oo){const Ln=J;Rt["background-color"]=Ln.backgroundcolor,Rt["border-color"]=Ln.bordercolor,Rt["border-style"]=Ln.borderstyle}Ae.setStyles(F,{...zc(R),...Rt}),Ae.setAttribs(F,{...Dc(R),...ut})},Fn=(R,F,J,de)=>{const Ae=R.dom,ut=de.getData(),Rt=Do(ut,(Wt,Oo)=>J[Oo]!==Wt);de.close(),R.undoManager.transact(()=>{if(!F){const Wt=kc(ut.cols).getOr(1),Oo=kc(ut.rows).getOr(1);R.execCommand("mceInsertTable",!1,{rows:Oo,columns:Wt}),F=Nc(za(R),Oa(R)).bind(dn=>Da(dn,Oa(R))).map(dn=>dn.dom).getOrDie()}if(ze(Rt)>0){const Wt={border:mt(Rt,"border"),bordercolor:mt(Rt,"bordercolor"),cellpadding:mt(Rt,"cellpadding")};ta(R,F,ut,Wt);const Oo=Ae.select("caption",F)[0];(Oo&&!ut.caption||!Oo&&ut.caption)&&R.execCommand("mceTableToggleCaption"),fd(R,F,ut.align)}if(R.focus(),R.addVisual(),ze(Rt)>0){const Wt=mt(Rt,"caption"),Oo=Wt?ze(Rt)>1:!0;Xo(R,F,{structure:Wt,style:Oo})}})},xa=(R,F)=>{const J=R.dom;let de,Ae=ba(R,Zr(R));F?(Ae.cols="1",Ae.rows="1",Zr(R)&&(Ae.borderstyle="",Ae.bordercolor="",Ae.backgroundcolor="")):(de=J.getParent(R.selection.getStart(),"table",R.getBody()),de?Ae=Qu(R,de,Zr(R)):Zr(R)&&(Ae.borderstyle="",Ae.bordercolor="",Ae.backgroundcolor=""));const ut=md(ln(R));ut.isSome()&&Ae.class&&(Ae.class=Ae.class.replace(/\s*mce\-item\-table\s*/g,""));const Rt={type:"grid",columns:2,items:ea(R,ut.getOr([]),F)},Wt=()=>({type:"panel",items:[Rt]}),Oo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[Rt]},rc(R,"table")]}),dn=Zr(R)?Oo():Wt();R.windowManager.open({title:"Table Properties",size:"normal",body:dn,onSubmit:He(Fn,R,de,Ae),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ae})},tr=R=>{const F=J=>{Wd(za(R))&&J()};Jr({mceTableProps:He(xa,R,!1),mceTableRowProps:He(yl,R),mceTableCellProps:He(Ji,R),mceInsertTableDialog:He(xa,R,!0)},(J,de)=>R.addCommand(de,()=>F(J)))},Ys=R=>({element:R,mergable:Ve.none(),unmergable:Ve.none(),selection:[R]}),Pc=(R,F,J)=>({element:J,mergable:_g(F,R,th),unmergable:kg(R),selection:sm(R)}),Fr=R=>{const F=bn(Ve.none()),J=bn([]);let de=Ve.none();const Ae=cs("caption"),ut=nn=>de.forall(bs=>!bs[nn]),Rt=()=>Ll(za(R),Oa(R)),Wt=()=>Ll(Uu(R),Oa(R)),Oo=()=>Rt().bind(nn=>Rr(Gi(Da(nn),Wt().bind(Da),(bs,va)=>Mn(bs,va)?Ae(nn)?Ve.some(Ys(nn)):Ve.some(Pc(Wh(R),bs,nn)):Ve.none()))),dn=nn=>Da(nn.element).map(va=>{const wa=Ga.fromTable(va),Qb=Vb(wa,nn).getOr([]),Sg=zs(Qb,(fm,hm)=>(hm.isLocked&&(fm.onAny=!0,hm.column===0?fm.onFirst=!0:hm.column+hm.colspan>=wa.grid.columns&&(fm.onLast=!0)),fm),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Vo(wa,nn).isSome(),unmergeable:xe(wa,nn).isSome(),locked:Sg}}),Ln=()=>{F.set(Vr(Oo)()),de=F.get().bind(dn),Ft(J.get(),ge)},or=nn=>(nn(),J.set(J.get().concat([nn])),()=>{J.set(ft(J.get(),bs=>bs!==nn))}),Ts=(nn,bs)=>or(()=>F.get().fold(()=>{nn.setEnabled(!1)},va=>{nn.setEnabled(!bs(va)&&R.selection.isEditable())})),Si=(nn,bs,va)=>or(()=>F.get().fold(()=>{nn.setEnabled(!1),nn.setActive(!1)},wa=>{nn.setEnabled(!bs(wa)&&R.selection.isEditable()),nn.setActive(va(wa))})),Ja=nn=>de.exists(bs=>bs.locked[nn]),su=nn=>Ts(nn,bs=>!1),ac=nn=>Ts(nn,bs=>Ae(bs.element)),Xb=nn=>bs=>Ts(bs,va=>Ae(va.element)||Ja(nn)),Yh=nn=>bs=>Ts(bs,va=>Ae(va.element)||nn().isNone()),Ms=(nn,bs)=>va=>Ts(va,wa=>Ae(wa.element)||nn().isNone()||Ja(bs)),tf=nn=>Ts(nn,bs=>ut("mergeable")),el=nn=>Ts(nn,bs=>ut("unmergeable")),lc=nn=>Si(nn,Ie,bs=>Da(bs.element,Oa(R)).exists(wa=>ks(wa,"caption"))),Xh=(nn,bs)=>va=>Si(va,wa=>Ae(wa.element),()=>R.queryCommandValue(nn)===bs),of=Xh("mceTableRowType","header"),tl=Xh("mceTableColType","th");return R.on("NodeChange ExecCommand TableSelectorChange",Ln),{onSetupTable:su,onSetupCellOrRow:ac,onSetupColumn:Xb,onSetupPasteable:Yh,onSetupPasteableColumn:Ms,onSetupMergeable:tf,onSetupUnmergeable:el,resetTargets:Ln,onSetupTableWithCaption:lc,onSetupTableRowHeaders:of,onSetupTableColumnHeaders:tl,targets:F.get}};var ef=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const oa="x-tinymce/dom-table-",Ke=oa+"rows",Pl=oa+"columns",xl=R=>{const F=ef.read()??[];return Vn(F,J=>Ve.from(J.getType(R)))},gs=()=>xl(Ke),$i=()=>xl(Pl),yi=R=>F=>{const J=()=>{F.setEnabled(R.selection.isEditable())};return R.on("NodeChange",J),J(),()=>{R.off("NodeChange",J)}},ds=(R,F)=>{R.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:yi(R),fetch:Wt=>Wt("inserttable | cell row column | advtablesort | tableprops deletetable")});const J=Wt=>()=>R.execCommand(Wt),de=(Wt,Oo)=>{R.queryCommandSupported(Oo.command)&&R.ui.registry.addButton(Wt,{...Oo,onAction:K(Oo.onAction)?Oo.onAction:J(Oo.command)})},Ae=(Wt,Oo)=>{R.queryCommandSupported(Oo.command)&&R.ui.registry.addToggleButton(Wt,{...Oo,onAction:K(Oo.onAction)?Oo.onAction:J(Oo.command)})};de("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:F.onSetupTable}),de("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:F.onSetupTable}),de("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:F.onSetupCellOrRow}),de("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:F.onSetupMergeable}),de("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:F.onSetupUnmergeable}),de("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:F.onSetupCellOrRow}),de("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:F.onSetupCellOrRow}),de("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:F.onSetupCellOrRow}),de("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:F.onSetupCellOrRow}),de("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:F.onSetupColumn("onFirst")}),de("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:F.onSetupColumn("onLast")}),de("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:F.onSetupColumn("onAny")}),de("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:F.onSetupCellOrRow}),de("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:F.onSetupCellOrRow}),de("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:F.onSetupPasteable(gs)}),de("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:F.onSetupPasteable(gs)}),de("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:F.onSetupColumn("onAny")}),de("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:F.onSetupColumn("onAny")}),de("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:F.onSetupPasteableColumn($i,"onFirst")}),de("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:F.onSetupPasteableColumn($i,"onLast")}),de("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:yi(R)});const ut=Ku(ln(R));ut.length!==0&&R.queryCommandSupported("mceTableToggleClass")&&R.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Rc(R,ut,"tableclass",Wt=>R.execCommand("mceTableToggleClass",!1,Wt)),onSetup:F.onSetupTable});const Rt=Ku(_s(R));Rt.length!==0&&R.queryCommandSupported("mceTableCellToggleClass")&&R.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Rc(R,Rt,"tablecellclass",Wt=>R.execCommand("mceTableCellToggleClass",!1,Wt)),onSetup:F.onSetupCellOrRow}),R.queryCommandSupported("mceTableApplyCellStyle")&&(R.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Rc(R,Ya,"tablecellverticalalign",gi(R,"vertical-align")),onSetup:F.onSetupCellOrRow}),R.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Rc(R,rs(R),"tablecellborderwidth",gi(R,"border-width")),onSetup:F.onSetupCellOrRow}),R.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Rc(R,La(R),"tablecellborderstyle",gi(R,"border-style")),onSetup:F.onSetupCellOrRow}),R.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Wt=>Wt(hr(R,bl(R),"background-color")),onSetup:F.onSetupCellOrRow}),R.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Wt=>Wt(hr(R,qr(R),"border-color")),onSetup:F.onSetupCellOrRow})),Ae("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:F.onSetupTableWithCaption}),Ae("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Xa(R),onSetup:F.onSetupTableRowHeaders}),Ae("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:oh(R),onSetup:F.onSetupTableColumnHeaders})},nu=R=>{const F=de=>R.dom.is(de,"table")&&R.getBody().contains(de)&&R.dom.isEditable(de.parentNode),J=kr(R);J.length>0&&R.ui.registry.addContextToolbar("table",{predicate:F,items:J,scope:"node",position:"node"})},Gh=R=>F=>{const J=()=>{F.setEnabled(R.selection.isEditable())};return R.on("NodeChange",J),J(),()=>{R.off("NodeChange",J)}},nh=(R,F)=>{const J=or=>()=>R.execCommand(or),de=(or,Ts)=>R.queryCommandSupported(Ts.command)?(R.ui.registry.addMenuItem(or,{...Ts,onAction:K(Ts.onAction)?Ts.onAction:J(Ts.command)}),!0):!1,Ae=(or,Ts)=>{R.queryCommandSupported(Ts.command)&&R.ui.registry.addToggleMenuItem(or,{...Ts,onAction:K(Ts.onAction)?Ts.onAction:J(Ts.command)})},ut=or=>{R.execCommand("mceInsertTable",!1,{rows:or.numRows,columns:or.numColumns})},Rt=[de("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:F.onSetupCellOrRow}),de("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:F.onSetupCellOrRow}),de("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:F.onSetupCellOrRow}),de("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:F.onSetupCellOrRow}),de("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:F.onSetupCellOrRow}),de("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:F.onSetupCellOrRow}),de("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:F.onSetupPasteable(gs)}),de("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:F.onSetupPasteable(gs)})],Wt=[de("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:F.onSetupColumn("onFirst")}),de("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:F.onSetupColumn("onLast")}),de("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:F.onSetupColumn("onAny")}),de("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:F.onSetupColumn("onAny")}),de("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:F.onSetupColumn("onAny")}),de("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:F.onSetupPasteableColumn($i,"onFirst")}),de("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:F.onSetupPasteableColumn($i,"onLast")})],Oo=[de("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:F.onSetupCellOrRow}),de("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:F.onSetupMergeable}),de("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:F.onSetupUnmergeable})];Rl(R)?R.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:ut}],onSetup:Gh(R)}):R.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:J("mceInsertTableDialog"),onSetup:Gh(R)}),R.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:J("mceInsertTableDialog"),onSetup:Gh(R)}),de("tableprops",{text:"Table properties",onSetup:F.onSetupTable,command:"mceTableProps"}),de("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:F.onSetupTable,command:"mceTableDelete"}),Me(Rt,!0)&&R.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Ne("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Me(Wt,!0)&&R.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Ne("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Me(Oo,!0)&&R.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Ne("tablecellprops tablemergecells tablesplitcells")}),R.ui.registry.addContextMenu("table",{update:()=>(F.resetTargets(),F.targets().fold(Ne(""),or=>pi(or.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const dn=Ku(ln(R));dn.length!==0&&R.queryCommandSupported("mceTableToggleClass")&&R.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>ga(R,dn,"tableclass",or=>R.execCommand("mceTableToggleClass",!1,or)),onSetup:F.onSetupTable});const Ln=Ku(_s(R));Ln.length!==0&&R.queryCommandSupported("mceTableCellToggleClass")&&R.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>ga(R,Ln,"tablecellclass",or=>R.execCommand("mceTableCellToggleClass",!1,or)),onSetup:F.onSetupCellOrRow}),R.queryCommandSupported("mceTableApplyCellStyle")&&(R.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>ga(R,Ya,"tablecellverticalalign",gi(R,"vertical-align")),onSetup:F.onSetupCellOrRow}),R.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>ga(R,rs(R),"tablecellborderwidth",gi(R,"border-width")),onSetup:F.onSetupCellOrRow}),R.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>ga(R,La(R),"tablecellborderstyle",gi(R,"border-style")),onSetup:F.onSetupCellOrRow}),R.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>hr(R,bl(R),"background-color"),onSetup:F.onSetupCellOrRow}),R.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>hr(R,qr(R),"border-color"),onSetup:F.onSetupCellOrRow})),Ae("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:F.onSetupTableWithCaption}),Ae("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Xa(R),onSetup:F.onSetupTableRowHeaders}),Ae("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:oh(R),onSetup:F.onSetupTableRowHeaders})},Qa=R=>{const F=Fr(R);qb(R),tr(R),nh(R,F),ds(R,F),nu(R)};var xi=()=>{c.add("table",Qa)};xi()}()),sQ}var iQ;function M_e(){return iQ||(iQ=1,D_e()),nQ}M_e();tinymce.Resource.add("ui/oxide/content.css",`@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe796}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe796;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffcf30}.tox-comments-visible span.tox-comment[data-mce-selected]{background-color:#ffcf30;border-radius:3px;box-shadow:0 0 0 2px #006ce7}.tox-comments-visible span.tox-comment[data-mce-selected]:has(img[data-mce-selected],> audio[data-mce-selected],> video[data-mce-selected],span.mce-preview-object[data-mce-selected]){box-shadow:none}.tox-comments-visible span.tox-comment[data-mce-selected] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-selected]>video:not([data-mce-selected]){box-shadow:0 0 0 5px #006ce7}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #ffcf30}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}@media print{.mce-content-body .mce-placeholder,.mce-content-body [data-mce-bogus=all],.mce-content-body [data-mce-bogus]{display:none!important}.mce-content-body .mce-visual-caret{display:none!important}.mce-content-body .mce-edit-focus,.mce-content-body :focus,.mce-content-body [data-mce-selected]{outline:0!important}}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.tox-suggestededits__annotation--added,.tox-suggestededits__annotation--modified,.tox-suggestededits__annotation--removed{-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--added__highlight{background-color:rgba(120,171,70,.2);-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--added__selected{background-color:rgba(120,171,70,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--modified__highlight{background-color:rgba(0,108,231,.2);-webkit-text-decoration:underline;text-decoration:underline}.tox-suggestededits__annotation--modified__selected{background-color:rgba(0,108,231,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:none;text-decoration:none}.tox-suggestededits__annotation--removed__highlight{background-color:rgba(204,0,0,.2);-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--removed__selected{background-color:rgba(204,0,0,.2);box-shadow:0 -2px 0 0 #006ce7 inset,0 -2px 0 0 #006ce7;-webkit-text-decoration:line-through;text-decoration:line-through}.tox-suggestededits__annotation--added.tox-suggestededits__annotation--added__hidden,.tox-suggestededits__annotation--modified.tox-suggestededits__annotation--modified__hidden,.tox-suggestededits__annotation--removed.tox-suggestededits__annotation--removed__hidden{display:none;-webkit-text-decoration:none;text-decoration:none}:has(> div > iframe).tox-suggestededits__annotation--added,:has(> div > iframe).tox-suggestededits__annotation--modified,:has(> div > iframe).tox-suggestededits__annotation--removed{padding:7px;margin:5px}iframe.tox-suggestededits__annotation--added__highlight,img.tox-suggestededits__annotation--added__highlight,video.tox-suggestededits__annotation--added__highlight{outline:.25em solid rgba(120,171,70,.2);padding:.25em}iframe.tox-suggestededits__annotation--added__selected,img.tox-suggestededits__annotation--added__selected,video.tox-suggestededits__annotation--added__selected{border:.25em solid rgba(120,171,70,.2);outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--modified__highlight,img.tox-suggestededits__annotation--modified__highlight,video.tox-suggestededits__annotation--modified__highlight{outline:.25em solid rgba(0,108,231,.2);padding:.25em}iframe.tox-suggestededits__annotation--modified__selected,img.tox-suggestededits__annotation--modified__selected,video.tox-suggestededits__annotation--modified__selected{border:.25em solid rgba(0,108,231,.2);outline:.125em solid #006ce7;padding:0}iframe.tox-suggestededits__annotation--removed__highlight,img.tox-suggestededits__annotation--removed__highlight,video.tox-suggestededits__annotation--removed__highlight{outline:.25em solid rgba(204,0,0,.2);padding:.25em}iframe.tox-suggestededits__annotation--removed__selected,img.tox-suggestededits__annotation--removed__selected,video.tox-suggestededits__annotation--removed__selected{border:.25em solid rgba(204,0,0,.2);outline:.125em solid #006ce7;padding:0}div.tox-suggestededits__annotation:has(> hr){padding:.25em}div.tox-suggestededits__annotation--removed__highlight>hr{border-color:rgba(0,0,0,.2)}div.tox-suggestededits__annotation--added__highlight>hr{border-color:rgba(0,0,0,.2)}.mce-pagebreak.tox-suggestededits__annotation--added__selected,.mce-pagebreak.tox-suggestededits__annotation--modified__selected,.mce-pagebreak.tox-suggestededits__annotation--removed__selected{border:1px dashed #aaa;box-shadow:none}.mce-pagebreak.tox-suggestededits__annotation--added__highlight,.mce-pagebreak.tox-suggestededits__annotation--modified__highlight,.mce-pagebreak.tox-suggestededits__annotation--removed__highlight{padding:0}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.tox-uc-loading-background{width:100%;height:100%;background:rgba(255,255,255,.5)}.tox-uc-loading-spinner-wrapper{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tox-uc-loading-spinner{width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox-uc-video{display:inline-block;position:relative}.tox-uc-video:not([data-mce-selected]):after{content:"";position:absolute;top:0;left:0;width:100%;height:100%}.tox-uploadcare-placeholder{all:initial;display:inline-block;position:relative;width:min(100%,600px);height:80px;--tox-uploadcare-placeholder--content-cursor:auto!important;--tox-uploadcare-placeholder--content-color:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--content-background-color:#fff;--tox-uploadcare-placeholder--content-border:2px solid #e3e3e3;--tox-uploadcare-placeholder--content-font-family:monospace,sans-serif;--tox-uploadcare-placeholder--content-height:100%;--tox-uploadcare-placeholder--content-width:100%;--tox-uploadcare-placeholder--content-display:inline-flex;--tox-uploadcare-placeholder--content-align-items:center;--tox-uploadcare-placeholder--content-justify-content:center;--tox-uploadcare-placeholder--content-gap:8px;--tox-uploadcare-placeholder--icon-fill:rgba(34, 47, 62, 0.7);--tox-uploadcare-placeholder--icon-min-width:24px;--tox-uc-loading-spinner-wrapper-display-none:none;--tox-uc-loading-spinner-wrapper-display:flex;--tox-uc-loading-spinner-wrapper-position:absolute;--tox-uc-loading-spinner-wrapper-top:0;--tox-uc-loading-spinner-wrapper-left:0;--tox-uc-loading-spinner-wrapper-width:100%;--tox-uc-loading-spinner-wrapper-height:100%;--tox-uc-loading-spinner-wrapper-justify-content:center;--tox-uc-loading-spinner-wrapper-align-items:center;--tox-uc-loading-spinner-aspect-ratio:1/1;--tox-uc-loading-spinner-width:min(24px, 30%);--tox-uc-loading-spinner-border-radius:50%;--tox-uc-loading-spinner-border:3px solid #006ce7;--tox-uc-loading-spinner-border-bottom-color:transparent;--tox-uc-loading-spinner-animation:tox-rotation 1s linear infinite}@media print{tiny-uploadcare-placeholder{display:none!important}}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}[data-ephox-foam-a11y-violation]{outline:2px solid;position:relative}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]{outline-width:4px;transition:outline-width .1s ease-in-out,background-color .1s ease-in-out;box-shadow:0 0 0 99999px #222f3e80;z-index:1}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-info]{outline-color:#006ce7}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-warn]{outline-color:#fc0}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-severity-error]{outline-color:#c00}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=info]{outline-color:#006ce7;background-color:#e6f0fd}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=warning]{outline-color:#fc0;background-color:#fffae6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation=error]{outline-color:#c00;background-color:#fae6e6}[data-ephox-foam-a11y-violation][data-ephox-foam-a11y-current-violation]:is(td,th,tr){position:static}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);document.addEventListener("DOMContentLoaded",function(){Rh.initialize(),aJ(),noe(),soe();let c=document.getElementById("newsModal");c&&new mv(c,{keyboard:!1}).show(),v_e.init({selector:"textarea.tinymce",license_key:"gpl",plugins:"advlist code emoticons link lists table",toolbar:"bold italic | bullist numlist | link emoticons",skin_url:"default",content_css:"default"})});
